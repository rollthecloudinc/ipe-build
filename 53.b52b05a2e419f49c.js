(self.webpackChunkipe=self.webpackChunkipe||[]).push([[53],{1053:(we,R,S)=>{S.r(R);var P=S(4497),a=S(2207),x=S(702),F=S(658),j=S(9906),d=S(2508),h=S(6317),g=S(3336),N=S(6646),O=S(253);function B(t){for(let n in t){let e=t[n]||"";switch(n){case"display":t.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":t["-webkit-"+n]=e;break;case"flex-direction":e=e||"row",t["-webkit-flex-direction"]=e,t["flex-direction"]=e;break;case"order":t.order=t["-webkit-"+n]=isNaN(+e)?"0":e}}return t}const H="inline",$=["row","column","row-reverse","column-reverse"];function K(t){let[n,e,r]=G(t);return function L(t,n=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":n||null}}(n,e,r)}function G(t){t=t?.toLowerCase()??"";let[n,e,r]=t.split(" ");return $.find(o=>o===n)||(n=$[0]),e===H&&(e=r!==H?r:"",r=H),[n,le(e),!!r]}function W(t){let[n]=G(t);return n.indexOf("row")>-1}function le(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}function U(t,...n){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let e of n)if(null!=e)for(let r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}var z=S(116),ee=S(9337);const be={provide:a.APP_BOOTSTRAP_LISTENER,useFactory:function ye(t,n){return()=>{if((0,x.isPlatformBrowser)(n)){const e=Array.from(t.querySelectorAll(`[class*=${pe}]`)),r=/\bflex-layout-.+?\b/g;e.forEach(o=>{o.classList.contains(`${pe}ssr`)&&o.parentNode?o.parentNode.removeChild(o):o.className.replace(r,"")})}}},deps:[x.DOCUMENT,a.PLATFORM_ID],multi:!0},pe="flex-layout-";let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({providers:[be]}),t})();class A{constructor(n=!1,e="all",r="",o="",s=0){this.matches=n,this.mediaQuery=e,this.mqAlias=r,this.suffix=o,this.priority=s,this.property=""}clone(){return new A(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let _=(()=>{class t{constructor(){this.stylesheet=new Map}addStyleToElement(e,r,o){const s=this.stylesheet.get(e);s?s.set(r,o):this.stylesheet.set(e,new Map([[r,o]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,r){const o=this.stylesheet.get(e);let s="";if(o){const l=o.get(r);("number"==typeof l||"string"==typeof l)&&(s=l+"")}return s}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const E={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},M=new a.InjectionToken("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>E}),I=new a.InjectionToken("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),ne=new a.InjectionToken("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function fe(t,n){return t=t?t.clone():new A,n&&(t.mqAlias=n.alias,t.mediaQuery=n.mediaQuery,t.suffix=n.suffix,t.priority=n.priority),t}class Ve{constructor(){this.shouldCache=!0}sideEffect(n,e,r){}}let ae=(()=>{class t{constructor(e,r,o,s){this._serverStylesheet=e,this._serverModuleLoaded=r,this._platformId=o,this.layoutConfig=s}applyStyleToElement(e,r,o=null){let s={};"string"==typeof r&&(s[r]=o,r=s),s=this.layoutConfig.disableVendorPrefixes?r:B(r),this._applyMultiValueStyleToElement(s,e)}applyStyleToElements(e,r=[]){const o=this.layoutConfig.disableVendorPrefixes?e:B(e);r.forEach(s=>{this._applyMultiValueStyleToElement(o,s)})}getFlowDirection(e){const r="flex-direction";let o=this.lookupStyle(e,r);return[o||"row",this.lookupInlineStyle(e,r)||(0,x.isPlatformServer)(this._platformId)&&this._serverModuleLoaded?o:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,r){return e.getAttribute(r)??""}lookupInlineStyle(e,r){return(0,x.isPlatformBrowser)(this._platformId)?e.style.getPropertyValue(r):function ze(t,n){return Ye(t)[n]??""}(e,r)}lookupStyle(e,r,o=!1){let s="";return e&&((s=this.lookupInlineStyle(e,r))||((0,x.isPlatformBrowser)(this._platformId)?o||(s=getComputedStyle(e).getPropertyValue(r)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(e,r)))),s?s.trim():""}_applyMultiValueStyleToElement(e,r){Object.keys(e).sort().forEach(o=>{const s=e[o],l=Array.isArray(s)?s:[s];l.sort();for(let u of l)u=u?u+"":"",(0,x.isPlatformBrowser)(this._platformId)||!this._serverModuleLoaded?(0,x.isPlatformBrowser)(this._platformId)?r.style.setProperty(o,u):ot(r,o,u):this._serverStylesheet.addStyleToElement(r,o,u)})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(_),a.\u0275\u0275inject(I),a.\u0275\u0275inject(a.PLATFORM_ID),a.\u0275\u0275inject(M))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ot(t,n,e){n=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const r=Ye(t);r[n]=e??"",function Ne(t,n){let e="";for(const r in n)n[r]&&(e+=`${r}:${n[r]};`);t.setAttribute("style",e)}(t,r)}function Ye(t){const n={},e=t.getAttribute("style");if(e){const r=e.split(/;+/g);for(let o=0;o<r.length;o++){const s=r[o].trim();if(s.length>0){const l=s.indexOf(":");if(-1===l)throw new Error(`Invalid CSS style: ${s}`);n[s.substr(0,l).trim()]=s.substr(l+1).trim()}}}return n}function Ze(t,n){return(n&&n.priority||0)-(t&&t.priority||0)}function ft(t,n){return(t.priority||0)-(n.priority||0)}let nt=(()=>{class t{constructor(e,r,o){this._zone=e,this._platformId=r,this._document=o,this.source=new h.X(new A(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((r,o)=>{r.matches&&e.push(o)}),e}isActive(e){return this.registry.get(e)?.matches??this.registerQuery(e).some(o=>o.matches)}observe(e,r=!1){if(e&&e.length){const o=this._observable$.pipe((0,z.h)(l=>!r||e.indexOf(l.mediaQuery)>-1)),s=new g.y(l=>{const u=this.registerQuery(e);if(u.length){const p=u.pop();u.forEach(f=>{l.next(f)}),this.source.next(p)}l.complete()});return(0,N.T)(s,o)}return this._observable$}registerQuery(e){const r=Array.isArray(e)?e:[e],o=[];return function it(t,n){const e=t.filter(r=>!Be[r]);if(e.length>0){const r=e.join(", ");try{const o=n.createElement("style");o.setAttribute("type","text/css"),o.styleSheet||o.appendChild(n.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${r} {.fx-query-test{ }}\n`)),n.head.appendChild(o),e.forEach(s=>Be[s]=o)}catch(o){console.error(o)}}}(r,this._document),r.forEach(s=>{const l=p=>{this._zone.run(()=>this.source.next(new A(p.matches,s)))};let u=this.registry.get(s);u||(u=this.buildMQL(s),u.addListener(l),this.pendingRemoveListenerFns.push(()=>u.removeListener(l)),this.registry.set(s,u)),u.matches&&o.push(new A(!0,s))}),o}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function de(t,n){return n&&window.matchMedia("all").addListener?window.matchMedia(t):{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(e,(0,x.isPlatformBrowser)(this._platformId))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(a.NgZone),a.\u0275\u0275inject(a.PLATFORM_ID),a.\u0275\u0275inject(x.DOCUMENT))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Be={},te=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],se="(orientation: portrait) and (max-width: 599.98px)",Pe="(orientation: landscape) and (max-width: 959.98px)",Le="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",ce="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",ge="(orientation: portrait) and (min-width: 840px)",rt="(orientation: landscape) and (min-width: 1280px)",_e={HANDSET:`${se}, ${Pe}`,TABLET:`${Le} , ${ce}`,WEB:`${ge}, ${rt} `,HANDSET_PORTRAIT:`${se}`,TABLET_PORTRAIT:`${Le} `,WEB_PORTRAIT:`${ge}`,HANDSET_LANDSCAPE:`${Pe}`,TABLET_LANDSCAPE:`${ce}`,WEB_LANDSCAPE:`${rt}`},X=[{alias:"handset",priority:2e3,mediaQuery:_e.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:_e.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:_e.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:_e.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:_e.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:_e.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:_e.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:_e.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:_e.WEB_PORTRAIT,overlapping:!0}],V=/(\.|-|_)/g;function Q(t){let n=t.length>0?t.charAt(0):"",e=t.length>1?t.slice(1):"";return n.toUpperCase()+e}const et=new a.InjectionToken("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const t=(0,a.inject)(ne),n=(0,a.inject)(M),e=[].concat.apply([],(t||[]).map(o=>Array.isArray(o)?o:[o]));return function He(t,n=[]){const e={};return t.forEach(r=>{e[r.alias]=r}),n.forEach(r=>{e[r.alias]?U(e[r.alias],r):e[r.alias]=r}),function Fe(t){return t.forEach(n=>{n.suffix||(n.suffix=function me(t){return t.replace(V,"|").split("|").map(Q).join("")}(n.alias),n.overlapping=!!n.overlapping)}),t}(Object.keys(e).map(r=>e[r]))}((n.disableDefaultBps?[]:te).concat(n.addOrientationBps?X:[]),e)}});let vt=(()=>{class t{constructor(e){this.findByMap=new Map,this.items=[...e].sort(ft)}findByAlias(e){return e?this.findWithPredicate(e,r=>r.alias===e):null}findByQuery(e){return this.findWithPredicate(e,r=>r.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e?.suffix??"")}findWithPredicate(e,r){let o=this.findByMap.get(e);return o||(o=this.items.find(r)??null,this.findByMap.set(e,o)),o??null}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(et))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const xt="print",kt={alias:xt,mediaQuery:xt,priority:1e3};let Jt=(()=>{class t{constructor(e,r,o){this.breakpoints=e,this.layoutConfig=r,this._document=o,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new xe,this.deactivations=[]}withPrintQuery(e){return[...e,xt]}isPrintEvent(e){return e.mediaQuery.startsWith(xt)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const r=this.breakpoints.findByQuery(e);return(r?[...this.printBreakPoints,r]:this.printBreakPoints).sort(Ze)}updateEvent(e){let r=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(r=this.getEventBreakpoints(e)[0],e.mediaQuery=r?.mediaQuery??""),fe(e,r)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const r=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new A(!0,xt))),e.updateStyles())},o=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",r),this._document.defaultView.addEventListener("afterprint",o),this.beforePrintEventListeners.push(r),this.afterPrintEventListeners.push(o)}interceptEvents(e){return r=>{this.isPrintEvent(r)?r.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(r)),e.updateStyles()):!r.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(e,r)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,r){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(r)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,r){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!r.matches){const o=this.breakpoints.findByQuery(r.mediaQuery);if(o){const s=this.formerActivations&&this.formerActivations.includes(o),l=!this.formerActivations&&e.activatedBreakpoints.includes(o);(s||l)&&(this.deactivations.push(o),this.deactivations.sort(Ze))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(vt),a.\u0275\u0275inject(M),a.\u0275\u0275inject(x.DOCUMENT))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class xe{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(n){return n.push(kt),n.sort(Ze),n.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(n){n&&void 0===this.printBreakpoints.find(r=>r.mediaQuery===n.mediaQuery)&&(this.printBreakpoints=function xn(t){return t?.mediaQuery.startsWith(xt)??!1}(n)?[n,...this.printBreakpoints]:[...this.printBreakpoints,n])}clear(){this.printBreakpoints=[]}}let Gt=(()=>{class t{constructor(e,r,o){this.matchMedia=e,this.breakpoints=r,this.hook=o,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new O.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){const r=this.findByQuery(e.mediaQuery);if(r){e=fe(e,r);const o=this.activatedBreakpoints.indexOf(r);e.matches&&-1===o?(this._activatedBreakpoints.push(r),this._activatedBreakpoints.sort(Ze),this.updateStyles()):!e.matches&&-1!==o&&(this._activatedBreakpoints.splice(o,1),this._activatedBreakpoints.sort(Ze),this.updateStyles())}}init(e,r,o,s,l=[]){Rt(this.updateMap,e,r,o),Rt(this.clearMap,e,r,s),this.buildElementKeyMap(e,r),this.watchExtraTriggers(e,r,l)}getValue(e,r,o){const s=this.elementMap.get(e);if(s){const l=void 0!==o?s.get(o):this.getActivatedValues(s,r);if(l)return l.get(r)}}hasValue(e,r){const o=this.elementMap.get(e);if(o){const s=this.getActivatedValues(o,r);if(s)return void 0!==s.get(r)||!1}return!1}setValue(e,r,o,s){let l=this.elementMap.get(e);if(l){const p=(l.get(s)??new Map).set(r,o);l.set(s,p),this.elementMap.set(e,l)}else l=(new Map).set(s,(new Map).set(r,o)),this.elementMap.set(e,l);const u=this.getValue(e,r);void 0!==u&&this.updateElement(e,r,u)}trackValue(e,r){return this.subject.asObservable().pipe((0,z.h)(o=>o.element===e&&o.key===r))}updateStyles(){this.elementMap.forEach((e,r)=>{const o=new Set(this.elementKeyMap.get(r));let s=this.getActivatedValues(e);s&&s.forEach((l,u)=>{this.updateElement(r,u,l),o.delete(u)}),o.forEach(l=>{if(s=this.getActivatedValues(e,l),s){const u=s.get(l);this.updateElement(r,l,u)}else this.clearElement(r,l)})})}clearElement(e,r){const o=this.clearMap.get(e);if(o){const s=o.get(r);s&&(s(),this.subject.next({element:e,key:r,value:""}))}}updateElement(e,r,o){const s=this.updateMap.get(e);if(s){const l=s.get(r);l&&(l(o),this.subject.next({element:e,key:r,value:o}))}}releaseElement(e){const r=this.watcherMap.get(e);r&&(r.forEach(s=>s.unsubscribe()),this.watcherMap.delete(e));const o=this.elementMap.get(e);o&&(o.forEach((s,l)=>o.delete(l)),this.elementMap.delete(e))}triggerUpdate(e,r){const o=this.elementMap.get(e);if(o){const s=this.getActivatedValues(o,r);s&&(r?this.updateElement(e,r,s.get(r)):s.forEach((l,u)=>this.updateElement(e,u,l)))}}buildElementKeyMap(e,r){let o=this.elementKeyMap.get(e);o||(o=new Set,this.elementKeyMap.set(e,o)),o.add(r)}watchExtraTriggers(e,r,o){if(o&&o.length){let s=this.watcherMap.get(e);if(s||(s=new Map,this.watcherMap.set(e,s)),!s.get(r)){const u=(0,N.T)(...o).subscribe(()=>{const p=this.getValue(e,r);this.updateElement(e,r,p)});s.set(r,u)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,r){for(let s=0;s<this.activatedBreakpoints.length;s++){const u=e.get(this.activatedBreakpoints[s].alias);if(u&&(void 0===r||u.has(r)&&null!=u.get(r)))return u}if(!this._useFallbacks)return;const o=e.get("");return void 0===r||o&&o.has(r)?o:void 0}observeActivations(){const e=this.breakpoints.items.map(r=>r.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe((0,ee.b)(this.hook.interceptEvents(this)),(0,z.h)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(nt),a.\u0275\u0275inject(vt),a.\u0275\u0275inject(Jt))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Rt(t,n,e,r){if(void 0!==r){const o=t.get(n)??new Map;o.set(e,r),t.set(n,o)}}let bn=(()=>{class t{constructor(e,r,o,s){this.elementRef=e,this.styleBuilder=r,this.styler=o,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new O.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(r=>{if(-1!==this.inputs.indexOf(r)){const o=r.split(".").slice(1).join(".");this.setValue(e[r].currentValue,o)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,r){const o=this.styleBuilder,s=o.shouldCache;let l=this.styleCache.get(e);(!l||!s)&&(l=o.buildStyles(e,r),s&&this.styleCache.set(e,l)),this.mru={...l},this.applyStyleToElement(l),o.sideEffect(e,l,r)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,r=!1){if(e){const[o,s]=this.styler.getFlowDirection(e);if(!s&&r){const l=K(o);this.styler.applyStyleToElements(l,[e])}return o.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,r,o=this.nativeElement){this.styler.applyStyleToElement(o,e,r)}setValue(e,r){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,r)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(Ve),a.\u0275\u0275directiveInject(ae),a.\u0275\u0275directiveInject(Gt))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,features:[a.\u0275\u0275NgOnChangesFeature]}),t})();function wn(t,n="1",e="1"){let r=[n,e,t],o=t.indexOf("calc");if(o>0){r[2]=Gn(t.substring(o).trim());let s=t.substr(0,o).trim().split(" ");2==s.length&&(r[0]=s[0],r[1]=s[1])}else if(0==o)r[2]=Gn(t.trim());else{let s=t.split(" ");r=3===s.length?s:[n,e,t]}return r}function Gn(t){return t.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}S(8971);var Rr=S(8951);let ci=(()=>{class t extends bn{constructor(e,r,o,s,l,u,p){super(e,null,r,o),this.ngClassInstance=p,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new x.NgClass(s,l,e,u)),this.init(),this.setValue("","")}set klass(e){this.ngClassInstance.klass=e,this.setValue(e,"")}updateWithValue(e){this.ngClassInstance.ngClass=e,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(ae),a.\u0275\u0275directiveInject(Gt),a.\u0275\u0275directiveInject(a.IterableDiffers),a.\u0275\u0275directiveInject(a.KeyValueDiffers),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(x.NgClass,10))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,inputs:{klass:["class","klass"]},features:[a.\u0275\u0275InheritDefinitionFeature]}),t})();const Vi=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let $r=(()=>{class t extends ci{constructor(){super(...arguments),this.inputs=Vi}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=a.\u0275\u0275getInheritedFactory(t)))(r||t)}}(),t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[a.\u0275\u0275InheritDefinitionFeature]}),t})();class di{constructor(n,e,r=!0){this.key=n,this.value=e,this.key=r?n.replace(/['"]/g,"").trim():n.trim(),this.value=r?e.replace(/['"]/g,"").trim():e.trim(),this.value=this.value.replace(/;/,"")}}function qi(t){let n=typeof t;return"object"===n?t.constructor===Array?"array":t.constructor===Set?"set":"object":n}function ca(t){const[n,...e]=t.split(":");return new di(n,e.join(":"))}function yo(t,n){return n.key&&(t[n.key]=n.value),t}let Cs=(()=>{class t extends bn{constructor(e,r,o,s,l,u,p,f,v){super(e,null,r,o),this.sanitizer=s,this.ngStyleInstance=p,this.DIRECTIVE_KEY="ngStyle",this.ngStyleInstance||(this.ngStyleInstance=new x.NgStyle(e,l,u)),this.init();const D=this.nativeElement.getAttribute("style")??"";this.fallbackStyles=this.buildStyleMap(D),this.isServer=f&&(0,x.isPlatformServer)(v)}updateWithValue(e){const r=this.buildStyleMap(e);this.ngStyleInstance.ngStyle={...this.fallbackStyles,...r},this.isServer&&this.applyStyleToElement(r),this.ngStyleInstance.ngDoCheck()}clearStyles(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}buildStyleMap(e){const r=o=>this.sanitizer.sanitize(a.SecurityContext.STYLE,o)??"";if(e)switch(qi(e)){case"string":return vo(function Pn(t,n=";"){return String(t).trim().split(n).map(e=>e.trim()).filter(e=>""!==e)}(e),r);case"array":return vo(e,r);default:return function qo(t,n){let e=[];return"set"===qi(t)?t.forEach(r=>e.push(r)):Object.keys(t).forEach(r=>{e.push(`${r}:${t[r]}`)}),function Ho(t,n){return t.map(ca).filter(r=>!!r).map(r=>(n&&(r.value=n(r.value)),r)).reduce(yo,{})}(e,n)}(e,r)}return{}}ngDoCheck(){this.ngStyleInstance.ngDoCheck()}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(ae),a.\u0275\u0275directiveInject(Gt),a.\u0275\u0275directiveInject(P.H7),a.\u0275\u0275directiveInject(a.KeyValueDiffers),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(x.NgStyle,10),a.\u0275\u0275directiveInject(I),a.\u0275\u0275directiveInject(a.PLATFORM_ID))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,features:[a.\u0275\u0275InheritDefinitionFeature]}),t})();const xs=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"];let Ta=(()=>{class t extends Cs{constructor(){super(...arguments),this.inputs=xs}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=a.\u0275\u0275getInheritedFactory(t)))(r||t)}}(),t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},features:[a.\u0275\u0275InheritDefinitionFeature]}),t})();function vo(t,n){return t.map(ca).filter(r=>!!r).map(r=>(n&&(r.value=n(r.value)),r)).reduce(yo,{})}let w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[y]]}),t})();var b=S(2867);let k=(()=>{class t extends Ve{buildStyles(e,{display:r}){const o=K(e);return{...o,display:"none"===r?r:o.display}}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=a.\u0275\u0275getInheritedFactory(t)))(r||t)}}(),t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const T=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let oe=(()=>{class t extends bn{constructor(e,r,o,s,l){super(e,o,r,s),this._config=l,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(e){const o=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=Ee.get(o)??new Map,Ee.set(o,this.styleCache),this.currentValue!==e&&(this.addStyles(e,{display:o}),this.currentValue=e)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(ae),a.\u0275\u0275directiveInject(k),a.\u0275\u0275directiveInject(Gt),a.\u0275\u0275directiveInject(M))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,features:[a.\u0275\u0275InheritDefinitionFeature]}),t})(),ue=(()=>{class t extends oe{constructor(){super(...arguments),this.inputs=T}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=a.\u0275\u0275getInheritedFactory(t)))(r||t)}}(),t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[a.\u0275\u0275InheritDefinitionFeature]}),t})();const Ee=new Map;let Bt=(()=>{class t extends Ve{constructor(e){super(),this.layoutConfig=e}buildStyles(e,r){let[o,s,...l]=e.split(" "),u=l.join(" ");const p=r.direction.indexOf("column")>-1?"column":"row",f=W(p)?"max-width":"max-height",v=W(p)?"min-width":"min-height",D=String(u).indexOf("calc")>-1,J=D||"auto"===u,Y=String(u).indexOf("%")>-1&&!D,he=String(u).indexOf("px")>-1||String(u).indexOf("rem")>-1||String(u).indexOf("em")>-1||String(u).indexOf("vw")>-1||String(u).indexOf("vh")>-1;let Ue=D||he;o="0"==o?0:o,s="0"==s?0:s;const Oe=!o&&!s;let De={};const Xe={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(u||""){case"":const tt=!1!==this.layoutConfig.useColumnBasisZero;u="row"===p?"0%":tt?"0.000000001px":"auto";break;case"initial":case"nogrow":o=0,u="auto";break;case"grow":u="100%";break;case"noshrink":s=0,u="auto";break;case"auto":break;case"none":o=0,s=0,u="auto";break;default:!Ue&&!Y&&!isNaN(u)&&(u+="%"),"0%"===u&&(Ue=!0),"0px"===u&&(u="0%"),De=U(Xe,D?{"flex-grow":o,"flex-shrink":s,"flex-basis":Ue?u:"100%"}:{flex:`${o} ${s} ${Ue?u:"100%"}`})}return De.flex||De["flex-grow"]||(De=U(Xe,D?{"flex-grow":o,"flex-shrink":s,"flex-basis":u}:{flex:`${o} ${s} ${u}`})),"0%"!==u&&"0px"!==u&&"0.000000001px"!==u&&"auto"!==u&&(De[v]=Oe||Ue&&o?u:null,De[f]=Oe||!J&&s?u:null),De[v]||De[f]?r.hasWrap&&(De[D?"flex-basis":"flex"]=De[f]?D?De[f]:`${o} ${s} ${De[f]}`:D?De[v]:`${o} ${s} ${De[v]}`):De=U(Xe,D?{"flex-grow":o,"flex-shrink":s,"flex-basis":u}:{flex:`${o} ${s} ${u}`}),U(De,{"box-sizing":"border-box"})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(M))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Pt=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let Dt=(()=>{class t extends bn{constructor(e,r,o,s,l){super(e,s,r,l),this.layoutConfig=o,this.marshal=l,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe((0,Rr.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe((0,Rr.R)(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(e){const o=e.value.split(" ");this.direction=o[0],this.wrap=void 0!==o[1]&&"wrap"===o[1],this.triggerUpdate()}updateWithValue(e){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const o=this.direction,s=o.startsWith("row"),l=this.wrap;s&&l?this.styleCache=Wn:s&&!l?this.styleCache=Ln:!s&&l?this.styleCache=jr:!s&&!l&&(this.styleCache=Yn);const p=wn(String(e).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(p.join(" "),{direction:o,hasWrap:l})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const r=wn(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,r.join(" "))}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(ae),a.\u0275\u0275directiveInject(M),a.\u0275\u0275directiveInject(Bt),a.\u0275\u0275directiveInject(Gt))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[a.\u0275\u0275InheritDefinitionFeature]}),t})(),$t=(()=>{class t extends Dt{constructor(){super(...arguments),this.inputs=Pt}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=a.\u0275\u0275getInheritedFactory(t)))(r||t)}}(),t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[a.\u0275\u0275InheritDefinitionFeature]}),t})();const Ln=new Map,Yn=new Map,Wn=new Map,jr=new Map,qa={margin:0,width:"100%",height:"100%","min-width":"100%","min-height":"100%"};let da=(()=>{class t extends Ve{buildStyles(e){return qa}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=a.\u0275\u0275getInheritedFactory(t)))(r||t)}}(),t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),An=(()=>{class t extends bn{constructor(e,r,o,s){super(e,o,r,s),this.styleCache=Ni,this.addStyles("")}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(ae),a.\u0275\u0275directiveInject(da),a.\u0275\u0275directiveInject(Gt))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["","fxFill",""],["","fxFlexFill",""]],features:[a.\u0275\u0275InheritDefinitionFeature]}),t})();const Ni=new Map;let qc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[y,b.vT]]}),t})(),Up=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[y]]}),t})(),Rs=(()=>{class t{constructor(e,r){(0,x.isPlatformServer)(r)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,r=[]){return{ngModule:t,providers:e.serverLoaded?[{provide:M,useValue:{...E,...e}},{provide:ne,useValue:r,multi:!0},{provide:I,useValue:!0}]:[{provide:M,useValue:{...E,...e}},{provide:ne,useValue:r,multi:!0}]}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(I),a.\u0275\u0275inject(a.PLATFORM_ID))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[qc,w,Up],qc,w,Up]}),t})();function Vg(t,n){1&t&&a.\u0275\u0275element(0,"div",9)}function Au(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"span",10),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e.description)}}function Rg(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"section",11),a.\u0275\u0275element(1,"ngx-json-viewer",12),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext().$implicit,r=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("json",e.value)("expanded",r.expanded)("depth",r.depth)("_currentDepth",r._currentDepth)}}const Ng=function(t){return["segment",t]},Og=function(t,n){return{"segment-main":!0,expandable:t,expanded:n}};function Fg(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"section",2),a.\u0275\u0275elementStart(1,"section",3),a.\u0275\u0275listener("click",function(){const s=a.\u0275\u0275restoreView(e).$implicit;return a.\u0275\u0275nextContext().toggle(s)}),a.\u0275\u0275template(2,Vg,1,0,"div",4),a.\u0275\u0275elementStart(3,"span",5),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"span",6),a.\u0275\u0275text(6,": "),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(7,Au,2,1,"span",7),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(8,Rg,2,4,"section",8),a.\u0275\u0275elementEnd()}if(2&t){const e=n.$implicit,r=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(6,Ng,"segment-type-"+e.type)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction2(8,Og,r.isExpandable(e),e.expanded)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.isExpandable(e)),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(e.key),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",!e.expanded||!r.isExpandable(e)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.expanded&&r.isExpandable(e))}}let Mg=(()=>{class t{constructor(){this.expanded=!0,this.depth=-1,this._currentDepth=-1,this.segments=[]}ngOnChanges(){this.segments=[],this.json=this.decycle(this.json),this._currentDepth++,"object"==typeof this.json?Object.keys(this.json).forEach(e=>{this.segments.push(this.parseKeyValue(e,this.json[e]))}):this.segments.push(this.parseKeyValue(`(${typeof this.json})`,this.json))}isExpandable(e){return"object"===e.type||"array"===e.type}toggle(e){this.isExpandable(e)&&(e.expanded=!e.expanded)}parseKeyValue(e,r){const o={key:e,value:r,type:void 0,description:""+r,expanded:this.isExpanded()};switch(typeof o.value){case"number":o.type="number";break;case"boolean":o.type="boolean";break;case"function":o.type="function";break;case"string":o.type="string",o.description='"'+o.value+'"';break;case"undefined":o.type="undefined",o.description="undefined";break;case"object":null===o.value?(o.type="null",o.description="null"):Array.isArray(o.value)?(o.type="array",o.description="Array["+o.value.length+"] "+JSON.stringify(o.value)):o.value instanceof Date?o.type="date":(o.type="object",o.description="Object "+JSON.stringify(o.value))}return o}isExpanded(){return this.expanded&&!(this.depth>-1&&this._currentDepth>=this.depth)}decycle(e){const r=new WeakMap;return function o(s,l){let u,p;return"object"!=typeof s||null===s||s instanceof Boolean||s instanceof Date||s instanceof Number||s instanceof RegExp||s instanceof String?s:(u=r.get(s),void 0!==u?{$ref:u}:(r.set(s,l),Array.isArray(s)?(p=[],s.forEach(function(f,v){p[v]=o(f,l+"["+v+"]")})):(p={},Object.keys(s).forEach(function(f){p[f]=o(s[f],l+"["+JSON.stringify(f)+"]")})),p))}(e,"$")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["ngx-json-viewer"]],inputs:{expanded:"expanded",depth:"depth",_currentDepth:"_currentDepth",json:"json"},features:[a.\u0275\u0275NgOnChangesFeature],decls:2,vars:1,consts:[[1,"ngx-json-viewer"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"ngClass","click"],["class","toggler",4,"ngIf"],[1,"segment-key"],[1,"segment-separator"],["class","segment-value",4,"ngIf"],["class","children",4,"ngIf"],[1,"toggler"],[1,"segment-value"],[1,"children"],[3,"json","expanded","depth","_currentDepth"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"section",0),a.\u0275\u0275template(1,Fg,9,11,"section",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",r.segments))},directives:[x.NgForOf,x.NgClass,x.NgIf,t],styles:['@charset "UTF-8";.ngx-json-viewer[_ngcontent-%COMP%]{font-family:monospace;font-size:1em;height:100%;overflow:hidden;position:relative;width:100%}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]{margin:1px 1px 1px 12px;padding:2px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]{word-wrap:break-word}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]{color:#787878;font-size:.8em;line-height:1.2em;margin-left:-14px;margin-top:3px;position:absolute;vertical-align:middle}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]:after{content:"\u25ba";display:inline-block;transition:transform .1s ease-in}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-key[_ngcontent-%COMP%]{color:#4e187c}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-separator[_ngcontent-%COMP%]{color:#999}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-value[_ngcontent-%COMP%]{color:#000}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]{margin-left:12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-string[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#ff6b6b}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-number[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#009688}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-boolean[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#b938a4}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-date[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#05668d}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-function[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#999}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#fff}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:red}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-key[_ngcontent-%COMP%]{color:#999}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:#999}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%]{white-space:nowrap}.ngx-json-viewer[_ngcontent-%COMP%]   .expanded[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]:after{transform:rotate(90deg)}.ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]{cursor:pointer}']}),t})(),Iu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule]]}),t})();function zp(t,n,e,r,o,s,l){try{var u=t[s](l),p=u.value}catch(f){return void e(f)}u.done?n(p):Promise.resolve(p).then(r,o)}function Pu(t){return function(){var n=this,e=arguments;return new Promise(function(r,o){var s=t.apply(n,e);function l(p){zp(s,r,o,l,u,"next",p)}function u(p){zp(s,r,o,l,u,"throw",p)}l(void 0)})}}var Qa,At=S(9263),ve=S(635),sr=new Uint8Array(16);function br(){if(!Qa&&!(Qa="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Qa(sr)}const xo=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,_i=function ni(t){return"string"==typeof t&&xo.test(t)};for(var ur=[],So=0;So<256;++So)ur.push((So+256).toString(16).substr(1));const Tn=function Gp(t,n,e){var r=(t=t||{}).random||(t.rng||br)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){e=e||0;for(var o=0;o<16;++o)n[e+o]=r[o];return n}return function bi(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(ur[t[n+0]]+ur[t[n+1]]+ur[t[n+2]]+ur[t[n+3]]+"-"+ur[t[n+4]]+ur[t[n+5]]+"-"+ur[t[n+6]]+ur[t[n+7]]+"-"+ur[t[n+8]]+ur[t[n+9]]+"-"+ur[t[n+10]]+ur[t[n+11]]+ur[t[n+12]]+ur[t[n+13]]+ur[t[n+14]]+ur[t[n+15]]).toLowerCase();if(!_i(e))throw TypeError("Stringified UUID is invalid");return e}(r)};var Nn=S(2817),Zn=S(6234),ad=S(7580),wr=S(3158),Oi=S(9196),nn=S(9295),Ya=S(9525),fa=S(538),Za=S(6362),Va=S(5474),ke=S(745),Ns=S(4987);const{isArray:$p}=Array;var Eo=S(3945);function qp(...t){return 1===(t=function Hp(t){return 1===t.length&&$p(t[0])?t[0]:t}(t)).length?(0,Ns.Xf)(t[0]):new g.y(function eo(t){return n=>{let e=[];for(let r=0;e&&!n.closed&&r<t.length;r++)e.push((0,Ns.Xf)(t[r]).subscribe((0,Eo.x)(n,o=>{if(e){for(let s=0;s<e.length;s++)s!==r&&e[s].unsubscribe();e=null}n.next(o)})))}}(t))}var Qo=S(6936),Zt=(()=>{return(t=Zt||(Zt={}))[t.EntitiesOnly=0]="EntitiesOnly",t[t.Both=1]="Both",t[t.None=2]="None",Zt;var t})();function ir(t){return function(e,r){const o={ids:[...r.ids],entities:{...r.entities}},s=t(e,o);return s===Zt.Both?Object.assign({},r,o):s===Zt.EntitiesOnly?{...r,entities:o.entities}:r}}function ri(t,n){const e=n(t);return(0,a.isDevMode)()&&void 0===e&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",t,"The `selectId` implementation:",n.toString()),e}function sd(t){function n(Oe,De){const Xe=ri(Oe,t);return Xe in De.entities?Zt.None:(De.ids.push(Xe),De.entities[Xe]=Oe,Zt.Both)}function e(Oe,De){let Xe=!1;for(const tt of Oe)Xe=n(tt,De)!==Zt.None||Xe;return Xe?Zt.Both:Zt.None}function o(Oe,De){const Xe=ri(Oe,t);return Xe in De.entities?(De.entities[Xe]=Oe,Zt.EntitiesOnly):(De.ids.push(Xe),De.entities[Xe]=Oe,Zt.Both)}function u(Oe,De){const tt=(Oe instanceof Array?Oe:De.ids.filter(ct=>Oe(De.entities[ct]))).filter(ct=>ct in De.entities).map(ct=>delete De.entities[ct]).length>0;return tt&&(De.ids=De.ids.filter(ct=>ct in De.entities)),tt?Zt.Both:Zt.None}function v(Oe,De){return D([Oe],De)}function D(Oe,De){const Xe={};return(Oe=Oe.filter(ct=>ct.id in De.entities)).length>0?Oe.filter(bt=>function f(Oe,De,Xe){const ct=Object.assign({},Xe.entities[De.id],De.changes),bt=ri(ct,t),Tt=bt!==De.id;return Tt&&(Oe[De.id]=bt,delete Xe.entities[De.id]),Xe.entities[bt]=ct,Tt}(Xe,bt,De)).length>0?(De.ids=De.ids.map(bt=>Xe[bt]||bt),Zt.Both):Zt.EntitiesOnly:Zt.None}function Ue(Oe,De){const Xe=[],tt=[];for(const Tt of Oe){const Mt=ri(Tt,t);Mt in De.entities?tt.push({id:Mt,changes:Tt}):Xe.push(Tt)}const ct=D(tt,De),bt=e(Xe,De);switch(!0){case bt===Zt.None&&ct===Zt.None:return Zt.None;case bt===Zt.Both||ct===Zt.Both:return Zt.Both;default:return Zt.EntitiesOnly}}return{removeAll:function p(Oe){return Object.assign({},Oe,{ids:[],entities:{}})},addOne:ir(n),addMany:ir(e),setAll:ir(function r(Oe,De){return De.ids=[],De.entities={},e(Oe,De),Zt.Both}),setOne:ir(o),setMany:ir(function s(Oe,De){const Xe=Oe.map(tt=>o(tt,De));switch(!0){case Xe.some(tt=>tt===Zt.Both):return Zt.Both;case Xe.some(tt=>tt===Zt.EntitiesOnly):return Zt.EntitiesOnly;default:return Zt.None}}),updateOne:ir(v),updateMany:ir(D),upsertOne:ir(function he(Oe,De){return Ue([Oe],De)}),upsertMany:ir(Ue),removeOne:ir(function l(Oe,De){return u([Oe],De)}),removeMany:ir(u),map:ir(function J(Oe,De){return D(De.ids.reduce((ct,bt)=>{const Tt=Oe(De.entities[bt]);return Tt!==De.entities[bt]&&ct.push({id:bt,changes:Tt}),ct},[]).filter(({id:ct})=>ct in De.entities),De)}),mapOne:ir(function Y({map:Oe,id:De},Xe){const tt=Xe.entities[De];return tt?v({id:De,changes:Oe(tt)},Xe):Zt.None})}}function Xp(t,n){const{removeOne:e,removeMany:r,removeAll:o}=sd(t);function s(Xe,tt){return l([Xe],tt)}function l(Xe,tt){const ct=Xe.filter(bt=>!(ri(bt,t)in tt.entities));return 0===ct.length?Zt.None:(De(ct,tt),Zt.Both)}function p(Xe,tt){const ct=ri(Xe,t);return ct in tt.entities?(tt.ids=tt.ids.filter(bt=>bt!==ct),De([Xe],tt),Zt.Both):s(Xe,tt)}function v(Xe,tt){return J([Xe],tt)}function J(Xe,tt){const ct=[],bt=Xe.filter(Tt=>function D(Xe,tt,ct){if(!(tt.id in ct.entities))return!1;const Tt=Object.assign({},ct.entities[tt.id],tt.changes),Mt=ri(Tt,t);return delete ct.entities[tt.id],Xe.push(Tt),Mt!==tt.id}(ct,Tt,tt)).length>0;if(0===ct.length)return Zt.None;{const Tt=tt.ids,Mt=[];return tt.ids=tt.ids.filter((Wt,jn)=>Wt in tt.entities||(Mt.push(jn),!1)),De(ct,tt),!bt&&Mt.every(Wt=>tt.ids[Wt]===Tt[Wt])?Zt.EntitiesOnly:Zt.Both}}function Oe(Xe,tt){const ct=[],bt=[];for(const Wt of Xe){const jn=ri(Wt,t);jn in tt.entities?bt.push({id:jn,changes:Wt}):ct.push(Wt)}const Tt=J(bt,tt),Mt=l(ct,tt);switch(!0){case Mt===Zt.None&&Tt===Zt.None:return Zt.None;case Mt===Zt.Both||Tt===Zt.Both:return Zt.Both;default:return Zt.EntitiesOnly}}function De(Xe,tt){Xe.sort(n);const ct=[];let bt=0,Tt=0;for(;bt<Xe.length&&Tt<tt.ids.length;){const Mt=Xe[bt],Wt=ri(Mt,t),jn=tt.ids[Tt];n(Mt,tt.entities[jn])<=0?(ct.push(Wt),bt++):(ct.push(jn),Tt++)}tt.ids=ct.concat(bt<Xe.length?Xe.slice(bt).map(t):tt.ids.slice(Tt)),Xe.forEach((Mt,Wt)=>{tt.entities[t(Mt)]=Mt})}return{removeOne:e,removeMany:r,removeAll:o,addOne:ir(s),updateOne:ir(v),upsertOne:ir(function Ue(Xe,tt){return Oe([Xe],tt)}),setAll:ir(function u(Xe,tt){return tt.entities={},tt.ids=[],l(Xe,tt),Zt.Both}),setOne:ir(p),setMany:ir(function f(Xe,tt){const ct=Xe.map(bt=>p(bt,tt));switch(!0){case ct.some(bt=>bt===Zt.Both):return Zt.Both;case ct.some(bt=>bt===Zt.EntitiesOnly):return Zt.EntitiesOnly;default:return Zt.None}}),addMany:ir(l),updateMany:ir(J),upsertMany:ir(Oe),map:ir(function Y(Xe,tt){return J(tt.ids.reduce((bt,Tt)=>{const Mt=Xe(tt.entities[Tt]);return Mt!==tt.entities[Tt]&&bt.push({id:Tt,changes:Mt}),bt},[]),tt)}),mapOne:ir(function he({map:Xe,id:tt},ct){const bt=ct.entities[tt];return bt?v({id:tt,changes:Xe(bt)},ct):Zt.None})}}var ku=S(23),pa=S(591),Vu=S(2971);class wi{constructor(n,e,r){this.kind=n,this.value=e,this.error=r,this.hasValue="N"===n}observe(n){return Vl(this,n)}do(n,e,r){const{kind:o,value:s,error:l}=this;return"N"===o?null==n?void 0:n(s):"E"===o?null==e?void 0:e(l):null==r?void 0:r()}accept(n,e,r){var o;return(0,Vu.m)(null===(o=n)||void 0===o?void 0:o.next)?this.observe(n):this.do(n,e,r)}toObservable(){const{kind:n,value:e,error:r}=this,o="N"===n?(0,ke.of)(e):"E"===n?(0,Va._)(()=>r):"C"===n?pa.E:0;if(!o)throw new TypeError(`Unexpected notification kind ${n}`);return o}static createNext(n){return new wi("N",n)}static createError(n){return new wi("E",void 0,n)}static createComplete(){return wi.completeNotification}}function Vl(t,n){var e,r,o;const{kind:s,value:l,error:u}=t;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(e=n.next)||void 0===e||e.call(n,l):"E"===s?null===(r=n.error)||void 0===r||r.call(n,u):null===(o=n.complete)||void 0===o||o.call(n)}wi.completeNotification=new wi("C");var Ao=S(1944);function cd(t,n,e,r){return(0,Ao.e)((o,s)=>{let l;n&&"function"!=typeof n?({duration:e,element:l,connector:r}=n):l=n;const u=new Map,p=he=>{u.forEach(he),he(s)},f=he=>p(Ue=>Ue.error(he));let v=0,D=!1;const J=new Eo.Q(s,he=>{try{const Ue=t(he);let Oe=u.get(Ue);if(!Oe){u.set(Ue,Oe=r?r():new O.x);const De=function Y(he,Ue){const Oe=new g.y(De=>{v++;const Xe=Ue.subscribe(De);return()=>{Xe.unsubscribe(),0==--v&&D&&J.unsubscribe()}});return Oe.key=he,Oe}(Ue,Oe);if(s.next(De),e){const Xe=(0,Eo.x)(Oe,()=>{Oe.complete(),null==Xe||Xe.unsubscribe()},void 0,void 0,()=>u.delete(Ue));J.add((0,Ns.Xf)(e(De)).subscribe(Xe))}}Oe.next(l?l(he):he)}catch(Ue){f(Ue)}},()=>p(he=>he.complete()),f,()=>u.clear(),()=>(D=!0,0===v));o.subscribe(J)})}function Yo(t,n){return n?e=>e.pipe(Yo((r,o)=>(0,Ns.Xf)(t(r,o)).pipe((0,ve.U)((s,l)=>n(r,s,o,l))))):(0,Ao.e)((e,r)=>{let o=0,s=null,l=!1;e.subscribe((0,Eo.x)(r,u=>{s||(s=(0,Eo.x)(r,void 0,()=>{s=null,l&&r.complete()}),(0,Ns.Xf)(t(u,o++)).subscribe(s))},()=>{l=!0,!s&&r.complete()}))})}const to={dispatch:!0,useEffectsErrorHandler:!0},Os="__@ngrx/effects_create__";function fi(t,n){const e=t(),r={...to,...n};return Object.defineProperty(e,Os,{value:r}),e}function Io(t){return Object.getOwnPropertyNames(t).filter(r=>!(!t[r]||!t[r].hasOwnProperty(Os))&&t[r][Os].hasOwnProperty("dispatch")).map(r=>({propertyName:r,...t[r][Os]}))}function Na(t){return Object.getPrototypeOf(t)}const Rl="__@ngrx/effects__";function Wp(t){return(0,At.qC)(Nu,Na)(t)}function Nu(t){return function Fs(t){return t.constructor.hasOwnProperty(Rl)}(t)?t.constructor[Rl]:[]}function Qp(t,n,e){const r=Na(t).constructor.name,o=function fd(t){return[Wp,Io].reduce((e,r)=>e.concat(r(t)),[])}(t).map(({propertyName:s,dispatch:l,useEffectsErrorHandler:u})=>{const p="function"==typeof t[s]?t[s]():t[s],f=u?e(p,n):p;return!1===l?f.pipe((0,ku.l)()):f.pipe(function ud(){return(0,Ao.e)((t,n)=>{t.subscribe((0,Eo.x)(n,e=>{n.next(wi.createNext(e))},()=>{n.next(wi.createComplete()),n.complete()},e=>{n.next(wi.createError(e)),n.complete()}))})}()).pipe((0,ve.U)(D=>({effect:t[s],notification:D,propertyName:s,sourceName:r,sourceInstance:t})))});return(0,N.T)(...o)}function Ou(t,n,e=10){return t.pipe((0,wr.K)(r=>(n&&n.handleError(r),e<=1?t:Ou(t,n,e-1))))}let ma=(()=>{class t extends g.y{constructor(e){super(),e&&(this.source=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(At.Y$))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();function Fi(...t){return(0,z.h)(n=>t.some(e=>"string"==typeof e?e===n.type:e.type===n.type))}function md(t){return Po(t,"ngrxOnInitEffects")}function Po(t,n){return t&&n in t&&"function"==typeof t[n]}const hd=new a.InjectionToken("@ngrx/effects Internal Root Guard"),Ds=new a.InjectionToken("@ngrx/effects User Provided Effects"),lr=new a.InjectionToken("@ngrx/effects Internal Root Effects"),Ml=new a.InjectionToken("@ngrx/effects Root Effects"),Mu=new a.InjectionToken("@ngrx/effects Internal Feature Effects"),Dl=new a.InjectionToken("@ngrx/effects Feature Effects"),Mi=new a.InjectionToken("@ngrx/effects Effects Error Handler");let ha=(()=>{class t extends O.x{constructor(e,r){super(),this.errorHandler=e,this.effectsErrorHandler=r}addEffects(e){this.next(e)}toActions(){return this.pipe(cd(Na),(0,Ya.z)(e=>e.pipe(cd(Fr))),(0,Ya.z)(e=>{const r=e.pipe(Yo(s=>function ii(t,n){return e=>{const r=Qp(e,t,n);return function Fl(t){return Po(t,"ngrxOnRunEffects")}(e)?e.ngrxOnRunEffects(r):r}}(this.errorHandler,this.effectsErrorHandler)(s)),(0,ve.U)(s=>(function Fu(t,n){if("N"===t.notification.kind){const e=t.notification.value;!function Zp(t){return"function"!=typeof t&&t&&t.type&&"string"==typeof t.type}(e)&&n.handleError(new Error(`Effect ${function Ms({propertyName:t,sourceInstance:n,sourceName:e}){const r="function"==typeof n[t];return`"${e}.${String(t)}${r?"()":""}"`}(t)} dispatched an invalid action: ${function pd(t){try{return JSON.stringify(t)}catch{return t}}(e)}`))}}(s,this.errorHandler),s.notification)),(0,z.h)(s=>"N"===s.kind&&null!=s.value),function Qi(){return(0,Ao.e)((t,n)=>{t.subscribe((0,Eo.x)(n,e=>Vl(e,n)))})}()),o=e.pipe((0,nn.q)(1),(0,z.h)(md),(0,ve.U)(s=>s.ngrxOnInitEffects()));return(0,N.T)(r,o)}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(a.ErrorHandler),a.\u0275\u0275inject(Mi))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();function Fr(t){return function Oa(t){return Po(t,"ngrxOnIdentifyEffects")}(t)?t.ngrxOnIdentifyEffects():""}let Lr=(()=>{class t{constructor(e,r){this.effectSources=e,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ha),a.\u0275\u0275inject(At.yh))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();const jl="@ngrx/effects/init";(0,At.PH)(jl);let Du=(()=>{class t{constructor(e,r,o,s,l,u,p){this.sources=e,r.start(),s.forEach(f=>e.addEffects(f)),o.dispatch({type:jl})}addEffects(e){this.sources.addEffects(e)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ha),a.\u0275\u0275inject(Lr),a.\u0275\u0275inject(At.yh),a.\u0275\u0275inject(Ml),a.\u0275\u0275inject(At.cr,8),a.\u0275\u0275inject(At.CK,8),a.\u0275\u0275inject(hd,8))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({}),t})(),gd=(()=>{class t{constructor(e,r,o,s){r.forEach(l=>l.forEach(u=>e.addEffects(u)))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Du),a.\u0275\u0275inject(Dl),a.\u0275\u0275inject(At.cr,8),a.\u0275\u0275inject(At.CK,8))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({}),t})(),ga=(()=>{class t{static forFeature(e=[]){return{ngModule:gd,providers:[e,{provide:Mu,multi:!0,useValue:e},{provide:Ds,multi:!0,useValue:[]},{provide:Dl,multi:!0,useFactory:es,deps:[a.Injector,Mu,Ds]}]}}static forRoot(e=[]){return{ngModule:Du,providers:[{provide:Mi,useValue:Ou},Lr,ha,ma,e,{provide:lr,useValue:[e]},{provide:hd,useFactory:ju,deps:[[Lr,new a.Optional,new a.SkipSelf],[lr,new a.Self]]},{provide:Ds,multi:!0,useValue:[]},{provide:Ml,useFactory:es,deps:[a.Injector,lr,Ds]}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({}),t})();function es(t,n,e){const r=[];for(const o of n)r.push(...o);for(const o of e)r.push(...o);return function ts(t,n){return n.map(e=>t.get(e))}(t,r)}function ju(t,n){if((1!==n.length||0!==n[0].length)&&t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}let no=(()=>{class t{create(e,r,o,s){const l="string"==typeof e?{...s||{},entityName:e,entityOp:r,data:o}:e;return this.createCore(l)}createCore(e){const{entityName:r,entityOp:o,tag:s}=e;if(!r)throw new Error("Missing entity name for new action");if(null==o)throw new Error("Missing EntityOp for new action");return{type:this.formatActionType(o,s||r),payload:e}}createFromAction(e,r){return this.create({...e.payload,...r})}formatActionType(e,r){return`[${r}] ${e}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();class vd{constructor(n,e){this.entityName=n,this.selectId=e}mustBeEntity(n){const e=this.extractData(n);if(!e)return this.throwError(n,"should have a single entity.");const r=this.selectId(e);return this.isNotKeyType(r)&&this.throwError(n,"has a missing or invalid entity key (id)"),e}mustBeEntities(n){const e=this.extractData(n);return Array.isArray(e)?(e.forEach((r,o)=>{const s=this.selectId(r);this.isNotKeyType(s)&&this.throwError(n,`, item ${o+1}, does not have a valid entity key (id)`)}),e):this.throwError(n,"should be an array of entities")}mustBeKey(n){const e=this.extractData(n);if(!e)throw new Error("should be a single entity key");if(this.isNotKeyType(e))throw new Error("is not a valid key (id)");return e}mustBeKeys(n){const e=this.extractData(n);return Array.isArray(e)?(e.forEach((r,o)=>{this.isNotKeyType(r)&&this.throwError(n,`${this.entityName} ', item ${o+1}, is not a valid entity key (id)`)}),e):this.throwError(n,"should be an array of entity keys (id)")}mustBeUpdate(n){const e=this.extractData(n);if(!e)return this.throwError(n,"should be a single entity update");const{id:r,changes:o}=e,s=this.selectId(o);return(this.isNotKeyType(r)||this.isNotKeyType(s))&&this.throwError(n,"has a missing or invalid entity key (id)"),e}mustBeUpdates(n){const e=this.extractData(n);return Array.isArray(e)?(e.forEach((r,o)=>{const{id:s,changes:l}=r,u=this.selectId(l);(this.isNotKeyType(s)||this.isNotKeyType(u))&&this.throwError(n,`, item ${o+1}, has a missing or invalid entity key (id)`)}),e):this.throwError(n,"should be an array of entity updates")}mustBeUpdateResponse(n){const e=this.extractData(n);if(!e)return this.throwError(n,"should be a single entity update");const{id:r,changes:o}=e,s=this.selectId(o);return(this.isNotKeyType(r)||this.isNotKeyType(s))&&this.throwError(n,"has a missing or invalid entity key (id)"),e}mustBeUpdateResponses(n){const e=this.extractData(n);return Array.isArray(e)?(e.forEach((r,o)=>{const{id:s,changes:l}=r,u=this.selectId(l);(this.isNotKeyType(s)||this.isNotKeyType(u))&&this.throwError(n,`, item ${o+1}, has a missing or invalid entity key (id)`)}),e):this.throwError(n,"should be an array of entity updates")}extractData(n){return n.payload&&n.payload.data}isNotKeyType(n){return"string"!=typeof n&&"number"!=typeof n}throwError(n,e){throw new Error(`${this.entityName} EntityAction guard for "${n.type}": payload ${e}`)}}function ns(t){return null==t?void 0:t.id}function Bu(t){if(null==t)return[];if(Array.isArray(t[0])){const[n,...e]=t;t=[...n,...e]}return t}function _d(t){return t=t||ns,function(e){const r=t(e);if(null==r)throw new Error("Primary key may not be null/undefined.");return e&&{id:r,changes:e}}}function rs(...t){const n=Bu(t);switch(n.length){case 0:return(0,z.h)(r=>r.payload&&null!=r.payload.entityOp);case 1:const e=n[0];return(0,z.h)(r=>r.payload&&e===r.payload.entityOp);default:return(0,z.h)(r=>{const o=r.payload&&r.payload.entityOp;return o&&n.some(s=>s===o)})}}function Bl(...t){const n=Bu(t);switch(n.length){case 0:return(0,z.h)(r=>r.payload&&null!=r.payload.entityName);case 1:const e=n[0];return(0,z.h)(r=>r.payload&&e===r.payload.entityName);default:return(0,z.h)(r=>{const o=r.payload&&r.payload.entityName;return!!o&&n.some(s=>s===o)})}}var qr=(()=>{return(t=qr||(qr={})).Add="Add",t.Delete="Delete",t.Update="Update",t.Upsert="Upsert",qr;var t})();function bd(t){const n=(t=t&&t.changes?t:{changes:[]}).changes.filter(e=>null!=e&&e.entities&&e.entities.length>0);return{...t,changes:n}}new class tm{add(n,e){return e=Array.isArray(e)?e:e?[e]:[],{entityName:n,op:qr.Add,entities:e}}delete(n,e){const r=Array.isArray(e)?e:e?[e]:[];return{entityName:n,op:qr.Delete,entities:r}}update(n,e){return e=Array.isArray(e)?e:e?[e]:[],{entityName:n,op:qr.Update,entities:e}}upsert(n,e){return e=Array.isArray(e)?e:e?[e]:[],{entityName:n,op:qr.Upsert,entities:e}}};var ar=(()=>{return(t=ar||(ar={}))[t.IgnoreChanges=0]="IgnoreChanges",t[t.PreserveChanges=1]="PreserveChanges",t[t.OverwriteChanges=2]="OverwriteChanges",ar;var t})(),Kn=(()=>{return(t=Kn||(Kn={})).CLEAR_COLLECTIONS="@ngrx/data/entity-cache/clear-collections",t.LOAD_COLLECTIONS="@ngrx/data/entity-cache/load-collections",t.MERGE_QUERY_SET="@ngrx/data/entity-cache/merge-query-set",t.SET_ENTITY_CACHE="@ngrx/data/entity-cache/set-cache",t.SAVE_ENTITIES="@ngrx/data/entity-cache/save-entities",t.SAVE_ENTITIES_CANCEL="@ngrx/data/entity-cache/save-entities-cancel",t.SAVE_ENTITIES_CANCELED="@ngrx/data/entity-cache/save-entities-canceled",t.SAVE_ENTITIES_ERROR="@ngrx/data/entity-cache/save-entities-error",t.SAVE_ENTITIES_SUCCESS="@ngrx/data/entity-cache/save-entities-success",Kn;var t})();class wd{constructor(n,e){this.type=Kn.CLEAR_COLLECTIONS,this.payload={collections:n,tag:e}}}class rm{constructor(n,e){this.type=Kn.LOAD_COLLECTIONS,this.payload={collections:n,tag:e}}}class Lu{constructor(n,e,r){this.type=Kn.MERGE_QUERY_SET,this.payload={querySet:n,mergeStrategy:null===e?ar.PreserveChanges:e,tag:r}}}class jg{constructor(n,e){this.cache=n,this.type=Kn.SET_ENTITY_CACHE,this.payload={cache:n,tag:e}}}class Bg{constructor(n,e,r){this.type=Kn.SAVE_ENTITIES,r=r||{},n&&(n.tag=n.tag||r.tag),this.payload={changeSet:n,url:e,...r,tag:n.tag}}}class Lg{constructor(n,e,r,o){this.type=Kn.SAVE_ENTITIES_CANCEL,this.payload={correlationId:n,reason:e,entityNames:r,tag:o}}}class ro{constructor(n,e,r){this.type=Kn.SAVE_ENTITIES_CANCELED,this.payload={correlationId:n,reason:e,tag:r}}}class To{constructor(n,e){this.type=Kn.SAVE_ENTITIES_ERROR,this.payload={error:n,originalAction:e,correlationId:e.payload.correlationId}}}class io{constructor(n,e,r){this.type=Kn.SAVE_ENTITIES_SUCCESS,r=r||{},n&&(n.tag=n.tag||r.tag),this.payload={changeSet:n,url:e,...r,tag:n.tag}}}var It=(()=>{return(t=It||(It={})).CANCEL_PERSIST="@ngrx/data/cancel-persist",t.CANCELED_PERSIST="@ngrx/data/canceled-persist",t.QUERY_ALL="@ngrx/data/query-all",t.QUERY_ALL_SUCCESS="@ngrx/data/query-all/success",t.QUERY_ALL_ERROR="@ngrx/data/query-all/error",t.QUERY_LOAD="@ngrx/data/query-load",t.QUERY_LOAD_SUCCESS="@ngrx/data/query-load/success",t.QUERY_LOAD_ERROR="@ngrx/data/query-load/error",t.QUERY_MANY="@ngrx/data/query-many",t.QUERY_MANY_SUCCESS="@ngrx/data/query-many/success",t.QUERY_MANY_ERROR="@ngrx/data/query-many/error",t.QUERY_BY_KEY="@ngrx/data/query-by-key",t.QUERY_BY_KEY_SUCCESS="@ngrx/data/query-by-key/success",t.QUERY_BY_KEY_ERROR="@ngrx/data/query-by-key/error",t.SAVE_ADD_MANY="@ngrx/data/save/add-many",t.SAVE_ADD_MANY_ERROR="@ngrx/data/save/add-many/error",t.SAVE_ADD_MANY_SUCCESS="@ngrx/data/save/add-many/success",t.SAVE_ADD_ONE="@ngrx/data/save/add-one",t.SAVE_ADD_ONE_ERROR="@ngrx/data/save/add-one/error",t.SAVE_ADD_ONE_SUCCESS="@ngrx/data/save/add-one/success",t.SAVE_DELETE_MANY="@ngrx/data/save/delete-many",t.SAVE_DELETE_MANY_SUCCESS="@ngrx/data/save/delete-many/success",t.SAVE_DELETE_MANY_ERROR="@ngrx/data/save/delete-many/error",t.SAVE_DELETE_ONE="@ngrx/data/save/delete-one",t.SAVE_DELETE_ONE_SUCCESS="@ngrx/data/save/delete-one/success",t.SAVE_DELETE_ONE_ERROR="@ngrx/data/save/delete-one/error",t.SAVE_UPDATE_MANY="@ngrx/data/save/update-many",t.SAVE_UPDATE_MANY_SUCCESS="@ngrx/data/save/update-many/success",t.SAVE_UPDATE_MANY_ERROR="@ngrx/data/save/update-many/error",t.SAVE_UPDATE_ONE="@ngrx/data/save/update-one",t.SAVE_UPDATE_ONE_SUCCESS="@ngrx/data/save/update-one/success",t.SAVE_UPDATE_ONE_ERROR="@ngrx/data/save/update-one/error",t.SAVE_UPSERT_MANY="@ngrx/data/save/upsert-many",t.SAVE_UPSERT_MANY_SUCCESS="@ngrx/data/save/upsert-many/success",t.SAVE_UPSERT_MANY_ERROR="@ngrx/data/save/upsert-many/error",t.SAVE_UPSERT_ONE="@ngrx/data/save/upsert-one",t.SAVE_UPSERT_ONE_SUCCESS="@ngrx/data/save/upsert-one/success",t.SAVE_UPSERT_ONE_ERROR="@ngrx/data/save/upsert-one/error",t.ADD_ALL="@ngrx/data/add-all",t.ADD_MANY="@ngrx/data/add-many",t.ADD_ONE="@ngrx/data/add-one",t.REMOVE_ALL="@ngrx/data/remove-all",t.REMOVE_MANY="@ngrx/data/remove-many",t.REMOVE_ONE="@ngrx/data/remove-one",t.UPDATE_MANY="@ngrx/data/update-many",t.UPDATE_ONE="@ngrx/data/update-one",t.UPSERT_MANY="@ngrx/data/upsert-many",t.UPSERT_ONE="@ngrx/data/upsert-one",t.COMMIT_ALL="@ngrx/data/commit-all",t.COMMIT_MANY="@ngrx/data/commit-many",t.COMMIT_ONE="@ngrx/data/commit-one",t.UNDO_ALL="@ngrx/data/undo-all",t.UNDO_MANY="@ngrx/data/undo-many",t.UNDO_ONE="@ngrx/data/undo-one",t.SET_CHANGE_STATE="@ngrx/data/set-change-state",t.SET_COLLECTION="@ngrx/data/set-collection",t.SET_FILTER="@ngrx/data/set-filter",t.SET_LOADED="@ngrx/data/set-loaded",t.SET_LOADING="@ngrx/data/set-loading",It;var t})();const Uu="/success",Ll="/error";function Ul(t){return t+Uu}class ko{constructor(n,e){this.error=n,this.requestData=e,this.message="string"==typeof n?n:function Ug(t){const{error:n,body:e,message:r}=t;let o=null;return n?o="string"==typeof n?n:n.message:r?o=r:e&&(o="string"==typeof e?e:e.error),"string"==typeof o?o:o?JSON.stringify(o):null}(n)}}class pi{}class ai{}const zu=new a.InjectionToken("@ngrx/data Plural Names");class js{}class Cd{}let Gu=(()=>{class t{constructor(e){this.pluralizer=e,this.knownHttpResourceUrls={}}getResourceUrls(e,r){let o=this.knownHttpResourceUrls[e];if(!o){const s=xd(r);o={entityResourceUrl:`${s}/${e}/`.toLowerCase(),collectionResourceUrl:`${s}/${this.pluralizer.pluralize(e)}/`.toLowerCase()},this.registerHttpResourceUrls({[e]:o})}return o}entityResource(e,r){return this.getResourceUrls(e,r).entityResourceUrl}collectionResource(e,r){return this.getResourceUrls(e,r).collectionResourceUrl}registerHttpResourceUrls(e){this.knownHttpResourceUrls={...this.knownHttpResourceUrls,...e||{}}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(js))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();function xd(t){return t.replace(/^[/\s]+|[/\s]+$/g,"")}class Sd{constructor(n,e,r,o){this.http=e,this.httpUrlGenerator=r,this.getDelay=0,this.saveDelay=0,this.timeout=0,this._name=`${n} DefaultDataService`,this.entityName=n;const{root:s="api",delete404OK:l=!0,getDelay:u=0,saveDelay:p=0,timeout:f=0}=o||{};this.delete404OK=l,this.entityUrl=r.entityResource(n,s),this.entitiesUrl=r.collectionResource(n,s),this.getDelay=u,this.saveDelay=p,this.timeout=f}get name(){return this._name}add(n){const e=n||new Error(`No "${this.entityName}" entity to add`);return this.execute("POST",this.entityUrl,e)}delete(n){let e;return null==n&&(e=new Error(`No "${this.entityName}" key to delete`)),this.execute("DELETE",this.entityUrl+n,e).pipe((0,ve.U)(r=>n))}getAll(){return this.execute("GET",this.entitiesUrl)}getById(n){let e;return null==n&&(e=new Error(`No "${this.entityName}" key to get`)),this.execute("GET",this.entityUrl+n,e)}getWithQuery(n){const r=new F.HttpParams("string"==typeof n?{fromString:n}:{fromObject:n});return this.execute("GET",this.entitiesUrl,void 0,{params:r})}update(n){const e=n&&n.id,r=null==e?new Error(`No "${this.entityName}" update data or id`):n.changes;return this.execute("PUT",this.entityUrl+e,r)}upsert(n){const e=n||new Error(`No "${this.entityName}" entity to upsert`);return this.execute("POST",this.entityUrl,e)}execute(n,e,r,o){const s={method:n,url:e,data:r,options:o};if(r instanceof Error)return this.handleError(s)(r);let l;switch(n){case"DELETE":l=this.http.delete(e,o),this.saveDelay&&(l=l.pipe((0,Zn.g)(this.saveDelay)));break;case"GET":l=this.http.get(e,o),this.getDelay&&(l=l.pipe((0,Zn.g)(this.getDelay)));break;case"POST":l=this.http.post(e,r,o),this.saveDelay&&(l=l.pipe((0,Zn.g)(this.saveDelay)));break;case"PUT":l=this.http.put(e,r,o),this.saveDelay&&(l=l.pipe((0,Zn.g)(this.saveDelay)));break;default:{const u=new Error("Unimplemented HTTP method, "+n);l=(0,Va._)(u)}}return this.timeout&&(l=l.pipe((0,ad.V)(this.timeout+this.saveDelay))),l.pipe((0,wr.K)(this.handleError(s)))}handleError(n){return e=>{const r=this.handleDelete404(e,n);if(r)return r;const o=new ko(e,n);return(0,Va._)(o)}}handleDelete404(n,e){if(404===n.status&&"DELETE"===e.method&&this.delete404OK)return(0,ke.of)({})}}let Ed=(()=>{class t{constructor(e,r,o){this.http=e,this.httpUrlGenerator=r,this.config=o,r.registerHttpResourceUrls((o=o||{}).entityHttpResourceUrls)}create(e){return new Sd(e,this.http,this.httpUrlGenerator,this.config)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(F.HttpClient),a.\u0275\u0275inject(Cd),a.\u0275\u0275inject(pi,8))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();const Id=new a.InjectionToken("@ngrx/data Entity Metadata");let mi=(()=>{class t{constructor(e){this.definitions={},e&&e.forEach(r=>this.registerMetadataMap(r))}getDefinition(e,r=!0){e=e.trim();const o=this.definitions[e];if(!o&&r)throw new Error(`No EntityDefinition for entity type "${e}".`);return o}registerMetadata(e){if(e){const r=function Ad(t){let n=t.entityName;if(!n)throw new Error("Missing required entityName");t.entityName=n=n.trim();const e=t.selectId||ns,r=t.sortComparer=t.sortComparer||!1,o=function Ra(t={}){const{selectId:n,sortComparer:e}={sortComparer:!1,selectId:l=>l.id,...t},r=function Kp(){return{getInitialState:function t(n={}){return Object.assign({ids:[],entities:{}},n)}}}(),o=function Ji(){return{getSelectors:function t(n){const e=l=>l.ids,r=l=>l.entities,o=(0,At.P1)(e,r,(l,u)=>l.map(p=>u[p])),s=(0,At.P1)(e,l=>l.length);return n?{selectIds:(0,At.P1)(n,e),selectEntities:(0,At.P1)(n,r),selectAll:(0,At.P1)(n,o),selectTotal:(0,At.P1)(n,s)}:{selectIds:e,selectEntities:r,selectAll:o,selectTotal:s}}}}();return{selectId:n,sortComparer:e,...r,...o,...e?Xp(n,e):sd(n)}}({selectId:e,sortComparer:r}),s=t.entityDispatcherOptions||{},l=o.getInitialState({entityName:n,filter:"",loaded:!1,loading:!1,changeState:{},...t.additionalCollectionState||{}});return{entityName:n,entityAdapter:o,entityDispatcherOptions:s,initialState:l,metadata:t,noChangeTracking:!0===t.noChangeTracking,selectId:e,sortComparer:r}}(e);this.registerDefinition(r)}}registerMetadataMap(e={}){Object.keys(e||{}).forEach(r=>this.registerMetadata({entityName:r,...e[r]}))}registerDefinition(e){this.definitions[e.entityName]=e}registerDefinitions(e){Object.assign(this.definitions,e)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Id,8))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();const $u=qr.Update;let Pd=(()=>{class t{constructor(e,r,o){this.entityDefinitionService=e,this.http=r,this.idSelectors={},this.saveDelay=0,this.timeout=0;const{saveDelay:s=0,timeout:l=0}=o||{};this.saveDelay=s,this.timeout=l}saveEntities(e,r){e=this.filterChangeSet(e),e=this.flattenUpdates(e);let o=this.http.post(r,e).pipe((0,ve.U)(s=>this.restoreUpdates(s)),(0,wr.K)(this.handleError({method:"POST",url:r,data:e})));return this.timeout&&(o=o.pipe((0,ad.V)(this.timeout))),this.saveDelay&&(o=o.pipe((0,Zn.g)(this.saveDelay))),o}handleError(e){return r=>{const o=new ko(r,e);return(0,Va._)(o)}}filterChangeSet(e){return bd(e)}flattenUpdates(e){let r=e.changes;if(0===r.length)return e;let o=!1;return r=r.map(s=>s.op===$u&&s.entities.length>0?(o=!0,{...s,entities:s.entities.map(l=>l.changes)}):s),o?{...e,changes:r}:e}restoreUpdates(e){if(null==e)return e;let r=e.changes;if(0===r.length)return e;let o=!1;return r=r.map(s=>{if(s.op===$u){o=!0;const l=this.getIdSelector(s.entityName);return{...s,entities:s.entities.map(u=>({id:l(u),changes:u}))}}return s}),o?{...e,changes:r}:e}getIdSelector(e){let r=this.idSelectors[e];return r||(r=this.entityDefinitionService.getDefinition(e).selectId,this.idSelectors[e]=r),r}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(mi),a.\u0275\u0275inject(F.HttpClient),a.\u0275\u0275inject(pi,8))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),Di=(()=>{class t{constructor(e){this.defaultDataServiceFactory=e,this.services={}}getService(e){e=e.trim();let r=this.services[e];return r||(r=this.defaultDataServiceFactory.create(e),this.services[e]=r),r}registerService(e,r){this.services[e.trim()]=r}registerServices(e){this.services={...this.services,...e}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Ed))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();class Td{}let kd=(()=>{class t{constructor(e,r){this.logger=e,this.entityActionFactory=r}handleSuccess(e){const r=Ul(e.payload.entityOp);return o=>this.entityActionFactory.createFromAction(e,{entityOp:r,data:o})}handleError(e){const r=function im(t){return t+Ll}(e.payload.entityOp);return o=>{const l={error:o instanceof ko?o:new ko(o,null),originalAction:e};return this.logger.error(l),this.entityActionFactory.createFromAction(e,{entityOp:r,data:l})}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ai),a.\u0275\u0275inject(no))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();class Vd{constructor(n){this.message=n,this.message=n||"Canceled by user"}}let Hu=(()=>{class t{constructor(){this.seed=0,this.prefix="CRID"}next(){return this.seed+=1,this.prefix+this.seed}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),Bs=(()=>{class t{constructor(){this.optimisticAdd=!1,this.optimisticDelete=!0,this.optimisticUpdate=!1,this.optimisticUpsert=!1,this.optimisticSaveEntities=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),Gg=(()=>{class t{constructor(e,r,o,s){this.correlationIdGenerator=e,this.defaultDispatcherOptions=r,this.store=s,this.reducedActions$=o.pipe((0,Oi.d)(1)),this.raSubscription=this.reducedActions$.subscribe()}dispatch(e){return this.store.dispatch(e),e}cancelSaveEntities(e,r,o,s){if(!e)throw new Error("Missing correlationId");const l=new Lg(e,r,o,s);this.dispatch(l)}clearCollections(e,r){this.dispatch(new wd(e,r))}loadCollections(e,r){this.dispatch(new rm(e,r))}mergeQuerySet(e,r,o){this.dispatch(new Lu(e,r,o))}setEntityCache(e,r){this.dispatch(new jg(e,r))}saveEntities(e,r,o){const s=Array.isArray(e)?{changes:e}:e,l=(o=o||{}).correlationId??this.correlationIdGenerator.next(),u=null==o.isOptimistic?this.defaultDispatcherOptions.optimisticSaveEntities||!1:!0===o.isOptimistic,p=o.tag||"Save Entities";o={...o,correlationId:l,isOptimistic:u,tag:p};const f=new Bg(s,r,o);return this.dispatch(f),this.getSaveEntitiesResponseData$(o.correlationId).pipe((0,Oi.d)(1))}getSaveEntitiesResponseData$(e){return this.reducedActions$.pipe((0,z.h)(r=>r.type===Kn.SAVE_ENTITIES_SUCCESS||r.type===Kn.SAVE_ENTITIES_ERROR||r.type===Kn.SAVE_ENTITIES_CANCEL),(0,z.h)(r=>e===r.payload.correlationId),(0,nn.q)(1),(0,Ya.z)(r=>r.type===Kn.SAVE_ENTITIES_CANCEL?(0,Va._)(new Vd(r.payload.reason)):r.type===Kn.SAVE_ENTITIES_SUCCESS?(0,ke.of)(r.payload.changeSet):(0,Va._)(r.payload)))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Hu),a.\u0275\u0275inject(Bs),a.\u0275\u0275inject(At.Y$),a.\u0275\u0275inject(At.yh))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();class $g{constructor(n,e,r,o=ns,s,l,u,p){this.entityName=n,this.entityActionFactory=e,this.store=r,this.selectId=o,this.defaultDispatcherOptions=s,this.reducedActions$=l,this.correlationIdGenerator=p,this.guard=new vd(n,o),this.toUpdate=_d(o);const f=(0,At.P1)(u,v=>v[n]);this.entityCollection$=r.select(f)}createEntityAction(n,e,r){return this.entityActionFactory.create({entityName:this.entityName,entityOp:n,data:e,...r})}createAndDispatch(n,e,r){const o=this.createEntityAction(n,e,r);return this.dispatch(o),o}dispatch(n){return this.store.dispatch(n),n}add(n,e){e=this.setSaveEntityActionOptions(e,this.defaultDispatcherOptions.optimisticAdd);const r=this.createEntityAction(It.SAVE_ADD_ONE,n,e);return e.isOptimistic&&this.guard.mustBeEntity(r),this.dispatch(r),this.getResponseData$(e.correlationId).pipe((0,fa.M)(this.entityCollection$),(0,ve.U)(([o,s])=>s.entities[this.selectId(o)]),(0,Oi.d)(1))}cancel(n,e,r){if(!n)throw new Error("Missing correlationId");this.createAndDispatch(It.CANCEL_PERSIST,e,{correlationId:n})}delete(n,e){e=this.setSaveEntityActionOptions(e,this.defaultDispatcherOptions.optimisticDelete);const r=this.getKey(n),o=this.createEntityAction(It.SAVE_DELETE_ONE,r,e);return this.guard.mustBeKey(o),this.dispatch(o),this.getResponseData$(e.correlationId).pipe((0,ve.U)(()=>r),(0,Oi.d)(1))}getAll(n){n=this.setQueryEntityActionOptions(n);const e=this.createEntityAction(It.QUERY_ALL,null,n);return this.dispatch(e),this.getResponseData$(n.correlationId).pipe((0,fa.M)(this.entityCollection$),(0,ve.U)(([r,o])=>r.reduce((s,l)=>{const u=o.entities[this.selectId(l)];return u&&s.push(u),s},[])),(0,Oi.d)(1))}getByKey(n,e){e=this.setQueryEntityActionOptions(e);const r=this.createEntityAction(It.QUERY_BY_KEY,n,e);return this.dispatch(r),this.getResponseData$(e.correlationId).pipe((0,fa.M)(this.entityCollection$),(0,ve.U)(([o,s])=>s.entities[this.selectId(o)]),(0,Oi.d)(1))}getWithQuery(n,e){e=this.setQueryEntityActionOptions(e);const r=this.createEntityAction(It.QUERY_MANY,n,e);return this.dispatch(r),this.getResponseData$(e.correlationId).pipe((0,fa.M)(this.entityCollection$),(0,ve.U)(([o,s])=>o.reduce((l,u)=>{const p=s.entities[this.selectId(u)];return p&&l.push(p),l},[])),(0,Oi.d)(1))}load(n){n=this.setQueryEntityActionOptions(n);const e=this.createEntityAction(It.QUERY_LOAD,null,n);return this.dispatch(e),this.getResponseData$(n.correlationId).pipe((0,Oi.d)(1))}update(n,e){const r=this.toUpdate(n);e=this.setSaveEntityActionOptions(e,this.defaultDispatcherOptions.optimisticUpdate);const o=this.createEntityAction(It.SAVE_UPDATE_ONE,r,e);return e.isOptimistic&&this.guard.mustBeUpdate(o),this.dispatch(o),this.getResponseData$(e.correlationId).pipe((0,ve.U)(s=>s.changes),(0,fa.M)(this.entityCollection$),(0,ve.U)(([s,l])=>l.entities[this.selectId(s)]),(0,Oi.d)(1))}upsert(n,e){e=this.setSaveEntityActionOptions(e,this.defaultDispatcherOptions.optimisticUpsert);const r=this.createEntityAction(It.SAVE_UPSERT_ONE,n,e);return e.isOptimistic&&this.guard.mustBeEntity(r),this.dispatch(r),this.getResponseData$(e.correlationId).pipe((0,fa.M)(this.entityCollection$),(0,ve.U)(([o,s])=>s.entities[this.selectId(o)]),(0,Oi.d)(1))}addAllToCache(n,e){this.createAndDispatch(It.ADD_ALL,n,e)}addOneToCache(n,e){this.createAndDispatch(It.ADD_ONE,n,e)}addManyToCache(n,e){this.createAndDispatch(It.ADD_MANY,n,e)}clearCache(n){this.createAndDispatch(It.REMOVE_ALL,void 0,n)}removeOneFromCache(n,e){this.createAndDispatch(It.REMOVE_ONE,this.getKey(n),e)}removeManyFromCache(n,e){if(!n||0===n.length)return;const r="object"==typeof n[0]?n.map(o=>this.getKey(o)):n;this.createAndDispatch(It.REMOVE_MANY,r,e)}updateOneInCache(n,e){const r=this.toUpdate(n);this.createAndDispatch(It.UPDATE_ONE,r,e)}updateManyInCache(n,e){if(!n||0===n.length)return;const r=n.map(o=>this.toUpdate(o));this.createAndDispatch(It.UPDATE_MANY,r,e)}upsertOneInCache(n,e){this.createAndDispatch(It.UPSERT_ONE,n,e)}upsertManyInCache(n,e){!n||0===n.length||this.createAndDispatch(It.UPSERT_MANY,n,e)}setFilter(n){this.createAndDispatch(It.SET_FILTER,n)}setLoaded(n){this.createAndDispatch(It.SET_LOADED,!!n)}setLoading(n){this.createAndDispatch(It.SET_LOADING,!!n)}getKey(n){return"object"==typeof n?this.selectId(n):n}getResponseData$(n){return this.reducedActions$.pipe((0,z.h)(e=>!!e.payload),(0,z.h)(e=>{const{correlationId:r,entityName:o,entityOp:s}=e.payload;return o===this.entityName&&r===n&&(s.endsWith(Uu)||s.endsWith(Ll)||s===It.CANCEL_PERSIST)}),(0,nn.q)(1),(0,Ya.z)(e=>{const{entityOp:r}=e.payload;return r===It.CANCEL_PERSIST?(0,Va._)(new Vd(e.payload.data)):r.endsWith(Uu)?(0,ke.of)(e.payload.data):(0,Va._)(e.payload.data.error)}))}setQueryEntityActionOptions(n){const e=(n=n||{}).correlationId??this.correlationIdGenerator.next();return{...n,correlationId:e}}setSaveEntityActionOptions(n,e){const r=(n=n||{}).correlationId??this.correlationIdGenerator.next(),o=null==n.isOptimistic?e||!1:!0===n.isOptimistic;return{...n,correlationId:r,isOptimistic:o}}}const Ls="entityCache",Rd=new a.InjectionToken("@ngrx/data Entity Cache Name"),zl=new a.InjectionToken("@ngrx/data Entity Cache Meta Reducers"),Nd=new a.InjectionToken("@ngrx/data Entity Collection Meta Reducers"),am=new a.InjectionToken("@ngrx/data Initial Entity Cache State"),qu=new a.InjectionToken("@ngrx/data Entity Cache Selector"),om={provide:qu,useFactory:Od,deps:[[new a.Optional,Rd]]};function Od(t){return(0,At.ZF)(t=t||Ls)}let Fd=(()=>{class t{constructor(e,r,o,s,l,u){this.entityActionFactory=e,this.store=r,this.entityDispatcherDefaultOptions=o,this.entityCacheSelector=l,this.correlationIdGenerator=u,this.reducedActions$=s.pipe((0,Oi.d)(1)),this.raSubscription=this.reducedActions$.subscribe()}create(e,r=ns,o={}){const s={...this.entityDispatcherDefaultOptions,...o};return new $g(e,this.entityActionFactory,this.store,r,s,this.reducedActions$,this.entityCacheSelector,this.correlationIdGenerator)}ngOnDestroy(){this.raSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(no),a.\u0275\u0275inject(At.yh),a.\u0275\u0275inject(Bs),a.\u0275\u0275inject(At.Y$),a.\u0275\u0275inject(qu),a.\u0275\u0275inject(Hu))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();const Md=new a.InjectionToken("@ngrx/data Entity Effects Scheduler");let Dd=(()=>{class t{constructor(e,r,o,s,l){this.actions=e,this.dataService=r,this.entityActionFactory=o,this.logger=s,this.scheduler=l,this.responseDelay=10,this.saveEntitiesCancel$=fi(()=>this.actions.pipe(Fi(Kn.SAVE_ENTITIES_CANCEL),(0,z.h)(u=>null!=u.payload.correlationId)),{dispatch:!1}),this.saveEntities$=fi(()=>this.actions.pipe(Fi(Kn.SAVE_ENTITIES),(0,Ya.z)(u=>this.saveEntities(u))))}saveEntities(e){const r=e.payload.error;if(r)return this.handleSaveEntitiesError$(e)(r);try{const o=bd(e.payload.changeSet),{correlationId:s,mergeStrategy:l,tag:u,url:p}=e.payload,f={correlationId:s,mergeStrategy:l,tag:u};if(0===o.changes.length)return(0,ke.of)(new io(o,p,f));return qp(this.saveEntitiesCancel$.pipe((0,z.h)(J=>s===J.payload.correlationId),(0,ve.U)(J=>new ro(s,J.payload.reason,J.payload.tag))),this.dataService.saveEntities(o,p).pipe((0,Za.b)(J=>this.handleSaveEntitiesSuccess$(e,this.entityActionFactory)(J)),(0,wr.K)(this.handleSaveEntitiesError$(e))))}catch(o){return this.handleSaveEntitiesError$(e)(o)}}handleSaveEntitiesError$(e){return r=>{const o=r instanceof ko?r:new ko(r,null);return(0,ke.of)(new To(o,e)).pipe((0,Zn.g)(this.responseDelay,this.scheduler||Qo.z))}}handleSaveEntitiesSuccess$(e,r){const{url:o,correlationId:s,mergeStrategy:l,tag:u}=e.payload,p={correlationId:s,mergeStrategy:l,tag:u};return f=>{if(f)return(0,ke.of)(new io(f,o,p));if(f=e.payload.changeSet,!e.payload.isOptimistic)return(0,ke.of)(new io(f,o,p));const v=f.changes.reduce((D,J)=>-1===D.indexOf(J.entityName)?D.concat(J.entityName):D,[]);return(0,N.T)(v.map(D=>r.create(D,It.SET_LOADING,!1)))}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ma),a.\u0275\u0275inject(Pd),a.\u0275\u0275inject(no),a.\u0275\u0275inject(ai),a.\u0275\u0275inject(Md,8))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();const sm=[It.QUERY_ALL,It.QUERY_LOAD,It.QUERY_BY_KEY,It.QUERY_MANY,It.SAVE_ADD_ONE,It.SAVE_DELETE_ONE,It.SAVE_UPDATE_ONE,It.SAVE_UPSERT_ONE];let jd=(()=>{class t{constructor(e,r,o,s,l){this.actions=e,this.dataService=r,this.entityActionFactory=o,this.resultHandler=s,this.scheduler=l,this.responseDelay=10,this.cancel$=fi(()=>this.actions.pipe(rs(It.CANCEL_PERSIST),(0,ve.U)(u=>u.payload.correlationId),(0,z.h)(u=>null!=u)),{dispatch:!1}),this.persist$=fi(()=>this.actions.pipe(rs(sm),(0,Ya.z)(u=>this.persist(u))))}persist(e){if(e.payload.skip)return this.handleSkipSuccess$(e);if(e.payload.error)return this.handleError$(e)(e.payload.error);try{return qp(this.cancel$.pipe((0,z.h)(s=>e.payload.correlationId===s),(0,ve.U)(s=>this.entityActionFactory.createFromAction(e,{entityOp:It.CANCELED_PERSIST}))),this.callDataService(e).pipe((0,ve.U)(this.resultHandler.handleSuccess(e)),(0,wr.K)(this.handleError$(e))))}catch(r){return this.handleError$(e)(r)}}callDataService(e){const{entityName:r,entityOp:o,data:s}=e.payload,l=this.dataService.getService(r);switch(o){case It.QUERY_ALL:case It.QUERY_LOAD:return l.getAll();case It.QUERY_BY_KEY:return l.getById(s);case It.QUERY_MANY:return l.getWithQuery(s);case It.SAVE_ADD_ONE:return l.add(s);case It.SAVE_DELETE_ONE:return l.delete(s);case It.SAVE_UPDATE_ONE:const{id:u,changes:p}=s;return l.update(s).pipe((0,ve.U)(f=>f&&Object.keys(f).length>0?{id:u,changes:{...p,...f},changed:!0}:{id:u,changes:p,changed:!1}));case It.SAVE_UPSERT_ONE:return l.upsert(s).pipe((0,ve.U)(f=>f&&Object.keys(f).length>0?f:s));default:throw new Error(`Persistence action "${o}" is not implemented.`)}}handleError$(e){return r=>(0,ke.of)(this.resultHandler.handleError(e)(r)).pipe((0,Zn.g)(this.responseDelay,this.scheduler||Qo.z))}handleSkipSuccess$(e){const r=Ul(e.payload.entityOp),o=this.entityActionFactory.createFromAction(e,{entityOp:r});return(0,ke.of)(o).pipe((0,Zn.g)(this.responseDelay,this.scheduler||Qo.z))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ma),a.\u0275\u0275inject(Di),a.\u0275\u0275inject(no),a.\u0275\u0275inject(Td),a.\u0275\u0275inject(Md,8))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();class Bd{constructor(n,e){this.entityName=n,n=n.trim();const{dispatcher:r,selectors:o,selectors$:s}=e.create(n);this.entityName=n,this.dispatcher=r,this.guard=r.guard,this.selectId=r.selectId,this.toUpdate=r.toUpdate,this.selectors=o,this.selectors$=s,this.collection$=s.collection$,this.count$=s.count$,this.entities$=s.entities$,this.entityActions$=s.entityActions$,this.entityMap$=s.entityMap$,this.errors$=s.errors$,this.filter$=s.filter$,this.filteredEntities$=s.filteredEntities$,this.keys$=s.keys$,this.loaded$=s.loaded$,this.loading$=s.loading$,this.changeState$=s.changeState$}createEntityAction(n,e,r){return this.dispatcher.createEntityAction(n,e,r)}createAndDispatch(n,e,r){return this.dispatcher.createAndDispatch(n,e,r)}dispatch(n){return this.dispatcher.dispatch(n)}get store(){return this.dispatcher.store}add(n,e){return this.dispatcher.add(n,e)}cancel(n,e,r){this.dispatcher.cancel(n,e,r)}delete(n,e){return this.dispatcher.delete(n,e)}getAll(n){return this.dispatcher.getAll(n)}getByKey(n,e){return this.dispatcher.getByKey(n,e)}getWithQuery(n,e){return this.dispatcher.getWithQuery(n,e)}load(n){return this.dispatcher.load(n)}update(n,e){return this.dispatcher.update(n,e)}upsert(n,e){return this.dispatcher.upsert(n,e)}addAllToCache(n,e){this.dispatcher.addAllToCache(n,e)}addOneToCache(n,e){this.dispatcher.addOneToCache(n,e)}addManyToCache(n,e){this.dispatcher.addManyToCache(n,e)}clearCache(){this.dispatcher.clearCache()}removeOneFromCache(n,e){this.dispatcher.removeOneFromCache(n,e)}removeManyFromCache(n,e){this.dispatcher.removeManyFromCache(n,e)}updateOneInCache(n,e){this.dispatcher.updateOneInCache(n,e)}updateManyInCache(n,e){this.dispatcher.updateManyInCache(n,e)}upsertOneInCache(n,e){this.dispatcher.upsertOneInCache(n,e)}upsertManyInCache(n,e){this.dispatcher.upsertManyInCache(n,e)}setFilter(n){this.dispatcher.setFilter(n)}setLoaded(n){this.dispatcher.setLoaded(!!n)}setLoading(n){this.dispatcher.setLoading(!!n)}}let Gl=(()=>{class t{constructor(e){this.entityDefinitionService=e}create(e){const r=this.entityDefinitionService&&this.entityDefinitionService.getDefinition(e,!1);return r&&r.initialState||function Ld(t){return{entityName:t,ids:[],entities:{},filter:void 0,loaded:!1,loading:!1,changeState:{}}}(e)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(mi,8))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),Ud=(()=>{class t{constructor(e,r){this.entityCollectionCreator=e||new Gl,this.selectEntityCache=r||Od(Ls)}createCollectionSelector(e){return(0,At.P1)(this.selectEntityCache,(o={})=>o[e]||this.entityCollectionCreator.create(e))}createCollectionSelectors(e){const r="string"==typeof e?{entityName:e}:e,o=Oe=>Oe.ids,s=Oe=>Oe.entities,l=(0,At.P1)(o,s,(Oe,De)=>Oe.map(Xe=>De[Xe])),u=(0,At.P1)(o,Oe=>Oe.length),p=Oe=>Oe.filter,f=r.filterFn,v=f?(0,At.P1)(l,p,(Oe,De)=>f(Oe,De)):l,Ue={};return Object.keys(r.additionalCollectionState||{}).forEach(Oe=>{Ue["select"+Oe[0].toUpperCase()+Oe.slice(1)]=De=>De[Oe]}),{selectCount:u,selectEntities:l,selectEntityMap:s,selectFilter:p,selectFilteredEntities:v,selectKeys:o,selectLoaded:Oe=>Oe.loaded,selectLoading:Oe=>Oe.loading,selectChangeState:Oe=>Oe.changeState,...Ue}}create(e){const r="string"==typeof e?{entityName:e}:e,o=r.entityName,s=this.createCollectionSelector(o),l=this.createCollectionSelectors(r),u={};return Object.keys(l).forEach(p=>{u[p]=(0,At.P1)(s,l[p])}),{entityName:o,selectCollection:s,selectEntityCache:this.selectEntityCache,...u}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Gl,8),a.\u0275\u0275inject(qu,8))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),zd=(()=>{class t{constructor(e,r,o){this.store=e,this.actions=r,this.selectEntityCache=o,this.entityCache$=this.store.select(this.selectEntityCache),this.entityActionErrors$=r.pipe((0,z.h)(s=>s.payload&&s.payload.entityOp&&s.payload.entityOp.endsWith(Ll)),(0,Oi.d)(1))}create(e,r){const o={entityName:e};return Object.keys(r).forEach(s=>{if(s.startsWith("select")){const l=s[6].toLowerCase()+s.substr(7)+"$";o[l]=this.store.select(r[s])}}),o.entityActions$=this.actions.pipe(Bl(e)),o.errors$=this.entityActionErrors$.pipe(Bl(e)),o}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(At.yh),a.\u0275\u0275inject(ma),a.\u0275\u0275inject(qu))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),Gd=(()=>{class t{constructor(e,r,o,s){this.entityDispatcherFactory=e,this.entityDefinitionService=r,this.entitySelectorsFactory=o,this.entitySelectors$Factory=s}create(e){e=e.trim();const r=this.entityDefinitionService.getDefinition(e),o=this.entityDispatcherFactory.create(e,r.selectId,r.entityDispatcherOptions),s=this.entitySelectorsFactory.create(r.metadata);return{dispatcher:o,entityName:e,selectors:s,selectors$:this.entitySelectors$Factory.create(e,s)}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Fd),a.\u0275\u0275inject(mi),a.\u0275\u0275inject(Ud),a.\u0275\u0275inject(zd))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),$d=(()=>{class t{constructor(e){this.entityCollectionServiceElementsFactory=e}create(e){return new Bd(e,this.entityCollectionServiceElementsFactory)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Gd))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),um=(()=>{class t{constructor(e,r,o,s){this.entityCollectionServiceFactory=e,this.store=s,this.entityActionErrors$=o.entityActionErrors$,this.entityCache$=o.entityCache$,this.reducedActions$=r.reducedActions$}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject($d),a.\u0275\u0275inject(Fd),a.\u0275\u0275inject(zd),a.\u0275\u0275inject(At.yh))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),Ku=(()=>{class t{constructor(e){this.entityServicesElements=e,this.EntityCollectionServices={}}get entityActionErrors$(){return this.entityServicesElements.entityActionErrors$}get entityCache$(){return this.entityServicesElements.entityCache$}get entityCollectionServiceFactory(){return this.entityServicesElements.entityCollectionServiceFactory}get reducedActions$(){return this.entityServicesElements.reducedActions$}get store(){return this.entityServicesElements.store}dispatch(e){this.store.dispatch(e)}createEntityCollectionService(e){return this.entityCollectionServiceFactory.create(e)}getEntityCollectionService(e){let r=this.EntityCollectionServices[e];return r||(r=this.createEntityCollectionService(e),this.EntityCollectionServices[e]=r),r}registerEntityCollectionService(e,r){this.EntityCollectionServices[r||e.entityName]=e}registerEntityCollectionServices(e){Array.isArray(e)?e.forEach(r=>this.registerEntityCollectionService(r)):Object.keys(e||{}).forEach(r=>{this.registerEntityCollectionService(e[r],r)})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(um))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();class Jn{}var Cn=(()=>{return(t=Cn||(Cn={}))[t.Unchanged=0]="Unchanged",t[t.Added=1]="Added",t[t.Deleted=2]="Deleted",t[t.Updated=3]="Updated",Cn;var t})();class Hd{constructor(n,e){this.adapter=n,this.selectId=e,this.selectId=e||ns}commitAll(n){return 0===Object.keys(n.changeState).length?n:{...n,changeState:{}}}commitMany(n,e){if(null==n||0===n.length)return e;let r=!1;const o=n.reduce((s,l)=>{const u="object"==typeof l?this.selectId(l):l;return s[u]&&(r||(s={...s},r=!0),delete s[u]),s},e.changeState);return r?{...e,changeState:o}:e}commitOne(n,e){return null==n?e:this.commitMany([n],e)}mergeQueryResults(n,e,r){return this.mergeServerUpserts(n,e,ar.PreserveChanges,r)}mergeSaveAdds(n,e,r){return this.mergeServerUpserts(n,e,ar.OverwriteChanges,r)}mergeSaveDeletes(n,e,r){const o=n;return e=(r=r??ar.OverwriteChanges)===ar.IgnoreChanges?e:this.commitMany(o,e),this.adapter.removeMany(o,e)}mergeSaveUpdates(n,e,r,o=!1){if(null==n||0===n.length)return e;let u,s=!1,l=e.changeState;switch(r=r??ar.OverwriteChanges){case ar.IgnoreChanges:return u=p(n),this.adapter.updateMany(u,e);case ar.OverwriteChanges:return l=n.reduce((f,v)=>{const D=v.id;return f[D]&&(s||(f={...f},s=!0),delete f[D]),f},e.changeState),e=s?{...e,changeState:l}:e,u=p(n),this.adapter.updateMany(u,e);case ar.PreserveChanges:{const f=[];return l=n.reduce((v,D)=>{const J=D.id,Y=v[J];if(Y){s||(v={...v},s=!0);const he=this.selectId(D.changes),Ue=Y;he!==J&&delete v[J];const Oe={...Ue.originalValue,...D.changes};v[he]={...Ue,originalValue:Oe}}else f.push(D);return v},e.changeState),e=s?{...e,changeState:l}:e,u=p(f),this.adapter.updateMany(u,e)}}function p(f){return!0===o&&(f=f.filter(v=>!0===v.changed)),f.map(v=>({id:v.id,changes:v.changes}))}}mergeSaveUpserts(n,e,r){return this.mergeServerUpserts(n,e,ar.OverwriteChanges,r)}mergeServerUpserts(n,e,r,o){if(null==n||0===n.length)return e;let s=!1,l=e.changeState;switch(o=o??r){case ar.IgnoreChanges:return this.adapter.upsertMany(n,e);case ar.OverwriteChanges:return e=this.adapter.upsertMany(n,e),l=n.reduce((u,p)=>{const f=this.selectId(p);return u[f]&&(s||(u={...u},s=!0),delete u[f]),u},e.changeState),s?{...e,changeState:l}:e;case ar.PreserveChanges:{const u=[];return l=n.reduce((p,f)=>{const v=this.selectId(f);return p[v]?s||(p={...p,[v]:{...p[v],originalValue:f}},s=!0):u.push(f),p},e.changeState),e=this.adapter.upsertMany(u,e),s?{...e,changeState:l}:e}}}trackAddMany(n,e,r){if(r===ar.IgnoreChanges||null==n||0===n.length)return e;let o=!1;const s=n.reduce((l,u)=>{const p=this.selectId(u);if(null==p||""===p)throw new Error(`${e.entityName} entity add requires a key to be tracked`);return l[p]||(o||(o=!0,l={...l}),l[p]={changeType:Cn.Added}),l},e.changeState);return o?{...e,changeState:s}:e}trackAddOne(n,e,r){return null==n?e:this.trackAddMany([n],e,r)}trackDeleteMany(n,e,r){if(r===ar.IgnoreChanges||null==n||0===n.length)return e;let o=!1;const s=e.entities,l=n.reduce((u,p)=>{const f=s[p];if(f){const D=u[p];D?D.changeType===Cn.Added?(v(),delete u[p]):D.changeType===Cn.Updated&&(v(),u[p]={...u[p],changeType:Cn.Deleted}):(v(),u[p]={changeType:Cn.Deleted,originalValue:f})}return u;function v(){o||(o=!0,u={...u})}},e.changeState);return o?{...e,changeState:l}:e}trackDeleteOne(n,e,r){return null==n?e:this.trackDeleteMany([n],e,r)}trackUpdateMany(n,e,r){if(r===ar.IgnoreChanges||null==n||0===n.length)return e;let o=!1;const s=e.entities,l=n.reduce((u,p)=>{const{id:f}=p;if(null==f||""===f)throw new Error(`${e.entityName} entity update requires a key to be tracked`);const D=s[f];return D&&(u[f]||(o||(o=!0,u={...u}),u[f]={changeType:Cn.Updated,originalValue:D})),u},e.changeState);return o?{...e,changeState:l}:e}trackUpdateOne(n,e,r){return null==n?e:this.trackUpdateMany([n],e,r)}trackUpsertMany(n,e,r){if(r===ar.IgnoreChanges||null==n||0===n.length)return e;let o=!1;const s=e.entities,l=n.reduce((u,p)=>{const f=this.selectId(p);if(null==f||""===f)throw new Error(`${e.entityName} entity upsert requires a key to be tracked`);if(!u[f]){o||(o=!0,u={...u});const D=s[f];u[f]=null==D?{changeType:Cn.Added}:{changeType:Cn.Updated,originalValue:D}}return u},e.changeState);return o?{...e,changeState:l}:e}trackUpsertOne(n,e,r){return null==n?e:this.trackUpsertMany([n],e,r)}undoAll(n){const e=Object.keys(n.changeState),{remove:r,upsert:o}=e.reduce((s,l)=>{const u=s.chgState[l];switch(u.changeType){case Cn.Added:s.remove.push(l);break;case Cn.Deleted:const p=u.originalValue;p&&s.upsert.push(p);break;case Cn.Updated:s.upsert.push(u.originalValue)}return s},{remove:[],upsert:[],chgState:n.changeState});return n=this.adapter.removeMany(r,n),n=this.adapter.upsertMany(o,n),{...n,changeState:{}}}undoMany(n,e){if(null==n||0===n.length)return e;let r=!1;const{changeState:o,remove:s,upsert:l}=n.reduce((u,p)=>{let f=u.changeState;const v="object"==typeof p?this.selectId(p):p,D=f[v];if(D)switch(r||(f={...f},r=!0),delete f[v],u.changeState=f,D.changeType){case Cn.Added:u.remove.push(v);break;case Cn.Deleted:const J=D.originalValue;J&&u.upsert.push(J);break;case Cn.Updated:u.upsert.push(D.originalValue)}return u},{remove:[],upsert:[],changeState:e.changeState});return e=this.adapter.removeMany(s,e),e=this.adapter.upsertMany(l,e),r?{...e,changeState:o}:e}undoOne(n,e){return null==n?e:this.undoMany([n],e)}}class ya{constructor(n,e,r){this.entityName=n,this.definition=e,this.methods={[It.CANCEL_PERSIST]:this.cancelPersist.bind(this),[It.QUERY_ALL]:this.queryAll.bind(this),[It.QUERY_ALL_ERROR]:this.queryAllError.bind(this),[It.QUERY_ALL_SUCCESS]:this.queryAllSuccess.bind(this),[It.QUERY_BY_KEY]:this.queryByKey.bind(this),[It.QUERY_BY_KEY_ERROR]:this.queryByKeyError.bind(this),[It.QUERY_BY_KEY_SUCCESS]:this.queryByKeySuccess.bind(this),[It.QUERY_LOAD]:this.queryLoad.bind(this),[It.QUERY_LOAD_ERROR]:this.queryLoadError.bind(this),[It.QUERY_LOAD_SUCCESS]:this.queryLoadSuccess.bind(this),[It.QUERY_MANY]:this.queryMany.bind(this),[It.QUERY_MANY_ERROR]:this.queryManyError.bind(this),[It.QUERY_MANY_SUCCESS]:this.queryManySuccess.bind(this),[It.SAVE_ADD_MANY]:this.saveAddMany.bind(this),[It.SAVE_ADD_MANY_ERROR]:this.saveAddManyError.bind(this),[It.SAVE_ADD_MANY_SUCCESS]:this.saveAddManySuccess.bind(this),[It.SAVE_ADD_ONE]:this.saveAddOne.bind(this),[It.SAVE_ADD_ONE_ERROR]:this.saveAddOneError.bind(this),[It.SAVE_ADD_ONE_SUCCESS]:this.saveAddOneSuccess.bind(this),[It.SAVE_DELETE_MANY]:this.saveDeleteMany.bind(this),[It.SAVE_DELETE_MANY_ERROR]:this.saveDeleteManyError.bind(this),[It.SAVE_DELETE_MANY_SUCCESS]:this.saveDeleteManySuccess.bind(this),[It.SAVE_DELETE_ONE]:this.saveDeleteOne.bind(this),[It.SAVE_DELETE_ONE_ERROR]:this.saveDeleteOneError.bind(this),[It.SAVE_DELETE_ONE_SUCCESS]:this.saveDeleteOneSuccess.bind(this),[It.SAVE_UPDATE_MANY]:this.saveUpdateMany.bind(this),[It.SAVE_UPDATE_MANY_ERROR]:this.saveUpdateManyError.bind(this),[It.SAVE_UPDATE_MANY_SUCCESS]:this.saveUpdateManySuccess.bind(this),[It.SAVE_UPDATE_ONE]:this.saveUpdateOne.bind(this),[It.SAVE_UPDATE_ONE_ERROR]:this.saveUpdateOneError.bind(this),[It.SAVE_UPDATE_ONE_SUCCESS]:this.saveUpdateOneSuccess.bind(this),[It.SAVE_UPSERT_MANY]:this.saveUpsertMany.bind(this),[It.SAVE_UPSERT_MANY_ERROR]:this.saveUpsertManyError.bind(this),[It.SAVE_UPSERT_MANY_SUCCESS]:this.saveUpsertManySuccess.bind(this),[It.SAVE_UPSERT_ONE]:this.saveUpsertOne.bind(this),[It.SAVE_UPSERT_ONE_ERROR]:this.saveUpsertOneError.bind(this),[It.SAVE_UPSERT_ONE_SUCCESS]:this.saveUpsertOneSuccess.bind(this),[It.ADD_ALL]:this.addAll.bind(this),[It.ADD_MANY]:this.addMany.bind(this),[It.ADD_ONE]:this.addOne.bind(this),[It.REMOVE_ALL]:this.removeAll.bind(this),[It.REMOVE_MANY]:this.removeMany.bind(this),[It.REMOVE_ONE]:this.removeOne.bind(this),[It.UPDATE_MANY]:this.updateMany.bind(this),[It.UPDATE_ONE]:this.updateOne.bind(this),[It.UPSERT_MANY]:this.upsertMany.bind(this),[It.UPSERT_ONE]:this.upsertOne.bind(this),[It.COMMIT_ALL]:this.commitAll.bind(this),[It.COMMIT_MANY]:this.commitMany.bind(this),[It.COMMIT_ONE]:this.commitOne.bind(this),[It.UNDO_ALL]:this.undoAll.bind(this),[It.UNDO_MANY]:this.undoMany.bind(this),[It.UNDO_ONE]:this.undoOne.bind(this),[It.SET_CHANGE_STATE]:this.setChangeState.bind(this),[It.SET_COLLECTION]:this.setCollection.bind(this),[It.SET_FILTER]:this.setFilter.bind(this),[It.SET_LOADED]:this.setLoaded.bind(this),[It.SET_LOADING]:this.setLoading.bind(this)},this.adapter=e.entityAdapter,this.isChangeTracking=!0!==e.noChangeTracking,this.selectId=e.selectId,this.guard=new vd(n,this.selectId),this.toUpdate=_d(this.selectId),this.entityChangeTracker=r||new Hd(this.adapter,this.selectId)}cancelPersist(n){return this.setLoadingFalse(n)}queryAll(n){return this.setLoadingTrue(n)}queryAllError(n,e){return this.setLoadingFalse(n)}queryAllSuccess(n,e){const r=this.extractData(e),o=this.extractMergeStrategy(e);return{...this.entityChangeTracker.mergeQueryResults(r,n,o),loaded:!0,loading:!1}}queryByKey(n,e){return this.setLoadingTrue(n)}queryByKeyError(n,e){return this.setLoadingFalse(n)}queryByKeySuccess(n,e){const r=this.extractData(e),o=this.extractMergeStrategy(e);return n=null==r?n:this.entityChangeTracker.mergeQueryResults([r],n,o),this.setLoadingFalse(n)}queryLoad(n){return this.setLoadingTrue(n)}queryLoadError(n,e){return this.setLoadingFalse(n)}queryLoadSuccess(n,e){const r=this.extractData(e);return{...this.adapter.setAll(r,n),loading:!1,loaded:!0,changeState:{}}}queryMany(n,e){return this.setLoadingTrue(n)}queryManyError(n,e){return this.setLoadingFalse(n)}queryManySuccess(n,e){const r=this.extractData(e),o=this.extractMergeStrategy(e);return{...this.entityChangeTracker.mergeQueryResults(r,n,o),loaded:!0,loading:!1}}saveAddMany(n,e){if(this.isOptimistic(e)){const r=this.guard.mustBeEntities(e),o=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackAddMany(r,n,o),n=this.adapter.addMany(r,n)}return this.setLoadingTrue(n)}saveAddManyError(n,e){return this.setLoadingFalse(n)}saveAddManySuccess(n,e){const r=this.guard.mustBeEntities(e),o=this.extractMergeStrategy(e);return n=this.isOptimistic(e)?this.entityChangeTracker.mergeSaveUpserts(r,n,o):this.entityChangeTracker.mergeSaveAdds(r,n,o),this.setLoadingFalse(n)}saveAddOne(n,e){if(this.isOptimistic(e)){const r=this.guard.mustBeEntity(e),o=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackAddOne(r,n,o),n=this.adapter.addOne(r,n)}return this.setLoadingTrue(n)}saveAddOneError(n,e){return this.setLoadingFalse(n)}saveAddOneSuccess(n,e){const r=this.guard.mustBeEntity(e),o=this.extractMergeStrategy(e);if(this.isOptimistic(e)){const s=this.toUpdate(r);n=this.entityChangeTracker.mergeSaveUpdates([s],n,o,!1)}else n=this.entityChangeTracker.mergeSaveAdds([r],n,o);return this.setLoadingFalse(n)}saveDeleteOne(n,e){const r=this.extractData(e),o="object"==typeof r?this.selectId(r):r,s=n.changeState[o];if(s&&(s.changeType===Cn.Added?(n=this.adapter.removeOne(o,n),n=this.entityChangeTracker.commitOne(o,n),e.payload.skip=!0):n=this.entityChangeTracker.trackDeleteOne(o,n)),this.isOptimistic(e)){const l=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackDeleteOne(o,n,l),n=this.adapter.removeOne(o,n)}return this.setLoadingTrue(n)}saveDeleteOneError(n,e){return this.setLoadingFalse(n)}saveDeleteOneSuccess(n,e){const r=this.extractData(e);if(this.isOptimistic(e)){const o=this.extractMergeStrategy(e);n=this.entityChangeTracker.mergeSaveDeletes([r],n,o)}else n=this.adapter.removeOne(r,n),n=this.entityChangeTracker.commitOne(r,n);return this.setLoadingFalse(n)}saveDeleteMany(n,e){const r=this.extractData(e).map(o=>"object"==typeof o?this.selectId(o):o);if(r.forEach(o=>{const s=n.changeState[o];s&&(s.changeType===Cn.Added?(n=this.adapter.removeOne(o,n),n=this.entityChangeTracker.commitOne(o,n),e.payload.skip=!0):n=this.entityChangeTracker.trackDeleteOne(o,n))}),this.isOptimistic(e)){const o=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackDeleteMany(r,n,o),n=this.adapter.removeMany(r,n)}return this.setLoadingTrue(n)}saveDeleteManyError(n,e){return this.setLoadingFalse(n)}saveDeleteManySuccess(n,e){const r=this.extractData(e);if(this.isOptimistic(e)){const o=this.extractMergeStrategy(e);n=this.entityChangeTracker.mergeSaveDeletes(r,n,o)}else n=this.adapter.removeMany(r,n),n=this.entityChangeTracker.commitMany(r,n);return this.setLoadingFalse(n)}saveUpdateOne(n,e){const r=this.guard.mustBeUpdate(e);if(this.isOptimistic(e)){const o=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackUpdateOne(r,n,o),n=this.adapter.updateOne(r,n)}return this.setLoadingTrue(n)}saveUpdateOneError(n,e){return this.setLoadingFalse(n)}saveUpdateOneSuccess(n,e){const r=this.guard.mustBeUpdateResponse(e),o=this.isOptimistic(e),s=this.extractMergeStrategy(e);return n=this.entityChangeTracker.mergeSaveUpdates([r],n,s,o),this.setLoadingFalse(n)}saveUpdateMany(n,e){const r=this.guard.mustBeUpdates(e);if(this.isOptimistic(e)){const o=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackUpdateMany(r,n,o),n=this.adapter.updateMany(r,n)}return this.setLoadingTrue(n)}saveUpdateManyError(n,e){return this.setLoadingFalse(n)}saveUpdateManySuccess(n,e){const r=this.guard.mustBeUpdateResponses(e),s=(this.isOptimistic(e),this.extractMergeStrategy(e));return n=this.entityChangeTracker.mergeSaveUpdates(r,n,s,!1),this.setLoadingFalse(n)}saveUpsertOne(n,e){if(this.isOptimistic(e)){const r=this.guard.mustBeEntity(e),o=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackUpsertOne(r,n,o),n=this.adapter.upsertOne(r,n)}return this.setLoadingTrue(n)}saveUpsertOneError(n,e){return this.setLoadingFalse(n)}saveUpsertOneSuccess(n,e){const r=this.guard.mustBeEntity(e),o=this.extractMergeStrategy(e);return n=this.entityChangeTracker.mergeSaveUpserts([r],n,o),this.setLoadingFalse(n)}saveUpsertMany(n,e){if(this.isOptimistic(e)){const r=this.guard.mustBeEntities(e),o=this.extractMergeStrategy(e);n=this.entityChangeTracker.trackUpsertMany(r,n,o),n=this.adapter.upsertMany(r,n)}return this.setLoadingTrue(n)}saveUpsertManyError(n,e){return this.setLoadingFalse(n)}saveUpsertManySuccess(n,e){const r=this.guard.mustBeEntities(e),o=this.extractMergeStrategy(e);return n=this.entityChangeTracker.mergeSaveUpserts(r,n,o),this.setLoadingFalse(n)}addAll(n,e){const r=this.guard.mustBeEntities(e);return{...this.adapter.setAll(r,n),loading:!1,loaded:!0,changeState:{}}}addMany(n,e){const r=this.guard.mustBeEntities(e),o=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackAddMany(r,n,o),this.adapter.addMany(r,n)}addOne(n,e){const r=this.guard.mustBeEntity(e),o=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackAddOne(r,n,o),this.adapter.addOne(r,n)}removeMany(n,e){const r=this.guard.mustBeKeys(e),o=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackDeleteMany(r,n,o),this.adapter.removeMany(r,n)}removeOne(n,e){const r=this.guard.mustBeKey(e),o=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackDeleteOne(r,n,o),this.adapter.removeOne(r,n)}removeAll(n,e){return{...this.adapter.removeAll(n),loaded:!1,loading:!1,changeState:{}}}updateMany(n,e){const r=this.guard.mustBeUpdates(e),o=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackUpdateMany(r,n,o),this.adapter.updateMany(r,n)}updateOne(n,e){const r=this.guard.mustBeUpdate(e),o=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackUpdateOne(r,n,o),this.adapter.updateOne(r,n)}upsertMany(n,e){const r=this.guard.mustBeEntities(e),o=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackUpsertMany(r,n,o),this.adapter.upsertMany(r,n)}upsertOne(n,e){const r=this.guard.mustBeEntity(e),o=this.extractMergeStrategy(e);return n=this.entityChangeTracker.trackUpsertOne(r,n,o),this.adapter.upsertOne(r,n)}commitAll(n){return this.entityChangeTracker.commitAll(n)}commitMany(n,e){return this.entityChangeTracker.commitMany(this.extractData(e),n)}commitOne(n,e){return this.entityChangeTracker.commitOne(this.extractData(e),n)}undoAll(n){return this.entityChangeTracker.undoAll(n)}undoMany(n,e){return this.entityChangeTracker.undoMany(this.extractData(e),n)}undoOne(n,e){return this.entityChangeTracker.undoOne(this.extractData(e),n)}setChangeState(n,e){const r=this.extractData(e);return n.changeState===r?n:{...n,changeState:r}}setCollection(n,e){const r=this.extractData(e);return n===r?n:r}setFilter(n,e){const r=this.extractData(e);return n.filter===r?n:{...n,filter:r}}setLoaded(n,e){const r=!0===this.extractData(e)||!1;return n.loaded===r?n:{...n,loaded:r}}setLoading(n,e){return this.setLoadingFlag(n,this.extractData(e))}setLoadingFalse(n){return this.setLoadingFlag(n,!1)}setLoadingTrue(n){return this.setLoadingFlag(n,!0)}setLoadingFlag(n,e){return n.loading===(e=!0===e)?n:{...n,loading:e}}extractData(n){return n.payload&&n.payload.data}extractMergeStrategy(n){return this.isChangeTracking?n.payload&&n.payload.mergeStrategy:ar.IgnoreChanges}isOptimistic(n){return n.payload&&!0===n.payload.isOptimistic}}let va=(()=>{class t{constructor(e){this.entityDefinitionService=e}create(e){const r=this.entityDefinitionService.getDefinition(e);return new ya(e,r).methods}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(mi))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),Vo=(()=>{class t{constructor(e){this.methodsFactory=e}create(e){const r=this.methodsFactory.create(e);return function(s,l){const u=r[l.payload.entityOp];return u?u(s,l):s}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(va))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),$l=(()=>{class t{constructor(e,r){this.entityCollectionReducerFactory=e,this.entityCollectionReducers={},this.entityCollectionMetaReducer=At.qC.apply(null,r||[])}getOrCreateReducer(e){let r=this.entityCollectionReducers[e];return r||(r=this.entityCollectionReducerFactory.create(e),r=this.registerReducer(e,r),this.entityCollectionReducers[e]=r),r}registerReducer(e,r){return r=this.entityCollectionMetaReducer(r),this.entityCollectionReducers[e.trim()]=r}registerReducers(e){(e?Object.keys(e):[]).forEach(o=>this.registerReducer(o,e[o]))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Vo),a.\u0275\u0275inject(Nd,8))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),qd=(()=>{class t{constructor(e,r,o){this.entityCollectionCreator=e,this.entityCollectionReducerRegistry=r,this.logger=o}create(){return function e(r={},o){switch(o.type){case Kn.CLEAR_COLLECTIONS:return this.clearCollectionsReducer(r,o);case Kn.LOAD_COLLECTIONS:return this.loadCollectionsReducer(r,o);case Kn.MERGE_QUERY_SET:return this.mergeQuerySetReducer(r,o);case Kn.SAVE_ENTITIES:return this.saveEntitiesReducer(r,o);case Kn.SAVE_ENTITIES_CANCEL:return this.saveEntitiesCancelReducer(r,o);case Kn.SAVE_ENTITIES_ERROR:return this.saveEntitiesErrorReducer(r,o);case Kn.SAVE_ENTITIES_SUCCESS:return this.saveEntitiesSuccessReducer(r,o);case Kn.SET_ENTITY_CACHE:return o.payload.cache}const s=o.payload;return s&&s.entityName&&s.entityOp&&!s.error?this.applyCollectionReducer(r,o):r}.bind(this)}clearCollectionsReducer(e,r){let{collections:o}=r.payload;const l=It.REMOVE_ALL;return o||(o=Object.keys(e)),o.reduce((u,p)=>this.applyCollectionReducer(u,{type:`[${p}] ${r.type}`,payload:{entityName:p,entityOp:l}}),e)}loadCollectionsReducer(e,r){const{collections:o}=r.payload,l=It.ADD_ALL;return Object.keys(o).reduce((p,f)=>this.applyCollectionReducer(p,{type:`[${f}] ${r.type}`,payload:{entityName:f,entityOp:l,data:o[f]}}),e)}mergeQuerySetReducer(e,r){let{mergeStrategy:o,querySet:s}=r.payload;o=null===o?ar.PreserveChanges:o;const u=It.QUERY_MANY_SUCCESS;return Object.keys(s).reduce((f,v)=>this.applyCollectionReducer(f,{type:`[${v}] ${r.type}`,payload:{entityName:v,entityOp:u,data:s[v],mergeStrategy:o}}),e)}saveEntitiesReducer(e,r){const{changeSet:o,correlationId:s,isOptimistic:l,mergeStrategy:u,tag:p}=r.payload;try{o.changes.forEach(v=>{const D=v.entityName,J={entityName:D,entityOp:f(v),data:v.entities,correlationId:s,isOptimistic:l,mergeStrategy:u,tag:p},Y={type:`[${D}] ${r.type}`,payload:J};if(e=this.applyCollectionReducer(e,Y),Y.payload.error)throw Y.payload.error})}catch(v){r.payload.error=v}return e;function f(v){switch(v.op){case qr.Add:return It.SAVE_ADD_MANY;case qr.Delete:return It.SAVE_DELETE_MANY;case qr.Update:return It.SAVE_UPDATE_MANY;case qr.Upsert:return It.SAVE_UPSERT_MANY}}}saveEntitiesCancelReducer(e,r){return this.clearLoadingFlags(e,r.payload.entityNames||[])}saveEntitiesErrorReducer(e,r){const l=r.payload.originalAction.payload.changeSet.changes.map(u=>u.entityName);return this.clearLoadingFlags(e,l)}saveEntitiesSuccessReducer(e,r){const{changeSet:o,correlationId:s,isOptimistic:l,mergeStrategy:u,tag:p}=r.payload;return o.changes.forEach(v=>{const D=v.entityName,J={entityName:D,entityOp:f(v),data:v.entities,correlationId:s,isOptimistic:l,mergeStrategy:u,tag:p};e=this.applyCollectionReducer(e,{type:`[${D}] ${r.type}`,payload:J})}),e;function f(v){switch(v.op){case qr.Add:return It.SAVE_ADD_MANY_SUCCESS;case qr.Delete:return It.SAVE_DELETE_MANY_SUCCESS;case qr.Update:return It.SAVE_UPDATE_MANY_SUCCESS;case qr.Upsert:return It.SAVE_UPSERT_MANY_SUCCESS}}}applyCollectionReducer(e={},r){const o=r.payload.entityName,s=e[o],l=this.entityCollectionReducerRegistry.getOrCreateReducer(o);let u;try{u=l(s||this.entityCollectionCreator.create(o),r)}catch(p){this.logger.error(p),r.payload.error=p}return r.payload.error||s===u?e:{...e,[o]:u}}clearLoadingFlags(e,r){let o=!1;return r.forEach(s=>{const l=e[s];l.loading&&(o||(e={...e},o=!0),e[s]={...l,loading:!1})}),e}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Gl),a.\u0275\u0275inject($l),a.\u0275\u0275inject(ai))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),Xu=(()=>{class t{error(e,r){e&&(r?console.error(e,r):console.error(e))}log(e,r){e&&(r?console.log(e,r):console.log(e))}warn(e,r){e&&(r?console.warn(e,r):console.warn(e))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();const Wu=["equipment","information","money","series"];let Ju=(()=>{class t{constructor(e){this.pluralNames={},e&&e.forEach(r=>this.registerPluralNames(r))}pluralize(e){return this.pluralNames[e]||(Wu.indexOf(e.toLowerCase())>=0?e:/[aeiou]y$/.test(e)?e+"s":e.endsWith("y")?e.substr(0,e.length-1)+"ies":/[s|ss|sh|ch|x|z]$/.test(e)?e+"es":e+"s")}registerPluralNames(e){this.pluralNames={...this.pluralNames,...e||{}}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(zu,8))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),Ur=(()=>{class t{constructor(e,r,o,s,l,u){this.reducerManager=e,this.injector=o,this.entityCacheName=s,this.initialState=l,this.metaReducers=u;const p=s||Ls;l="function"==typeof l?l():l;const f=(u||[]).map(v=>v instanceof a.InjectionToken?o.get(v):v);this.entityCacheFeature={key:p,reducers:r.create(),reducerFactory:At.UY,initialState:l||{},metaReducers:f},e.addFeature(this.entityCacheFeature)}static forRoot(e){return{ngModule:t,providers:[{provide:zl,useValue:e.entityCacheMetaReducers?e.entityCacheMetaReducers:[]},{provide:Nd,useValue:e.entityCollectionMetaReducers?e.entityCollectionMetaReducers:[]},{provide:zu,multi:!0,useValue:e.pluralNames?e.pluralNames:{}}]}}ngOnDestroy(){this.reducerManager.removeFeature(this.entityCacheFeature)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(At.PB),a.\u0275\u0275inject(qd),a.\u0275\u0275inject(a.Injector),a.\u0275\u0275inject(Rd,8),a.\u0275\u0275inject(am,8),a.\u0275\u0275inject(zl,8))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({providers:[Hu,Bs,no,Gg,qd,om,Gl,Vo,va,$l,Gd,$d,mi,Fd,Ud,zd,um,{provide:Rd,useValue:Ls},{provide:Jn,useClass:Ku},{provide:ai,useClass:Xu}],imports:[[At.Aw]]}),t})(),Qu=(()=>{class t{constructor(e,r,o){this.effectSources=e,this.addEffects(r),this.addEffects(o)}static forRoot(e){return{ngModule:t,providers:[{provide:Id,multi:!0,useValue:e.entityMetadata?e.entityMetadata:[]},{provide:zl,useValue:e.entityCacheMetaReducers?e.entityCacheMetaReducers:[]},{provide:Nd,useValue:e.entityCollectionMetaReducers?e.entityCollectionMetaReducers:[]},{provide:zu,multi:!0,useValue:e.pluralNames?e.pluralNames:{}}]}}addEffects(e){this.effectSources.addEffects(e)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ha),a.\u0275\u0275inject(Dd),a.\u0275\u0275inject(jd))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({providers:[Ed,Pd,Di,Dd,jd,{provide:Cd,useClass:Gu},{provide:Td,useClass:kd},{provide:js,useClass:Ju}],imports:[[Ur,ga]]}),t})();var zr=(()=>{return(t=zr||(zr={})).Login="[Auth] Login",t.Logout="[Auth] Logout",t.CompleteAuthentication="[Auth] CompleteAuthentication",t.SetUser="[Auth] SetUser",zr;var t})();class is{constructor(){this.type=zr.Login}}class Us{constructor(){this.type=zr.Logout}}class as{constructor(){this.type=zr.CompleteAuthentication}}class zs{constructor(n){this.payload=n,this.type=zr.SetUser}}var Gs=Object.freeze({__proto__:null,get AuthActionTypes(){return zr},Login:is,Logout:Us,CompleteAuthentication:as,SetUser:zs,fromAuthActions:{Login:is,Logout:Us,CompleteAuthentication:as,SetUser:zs}});const Hl={user:void 0,cookies:new Map};function Yu(t=Hl,n){switch(n.type){case zr.SetUser:t={...t,user:n.payload};break;case zr.Logout:t={...t,user:void 0}}return t}const Zu=(0,At.ZF)("auth"),ss={getUser:(0,At.P1)(Zu,t=>t.user)};let hi=(()=>{class t{constructor(e){this.store=e,this.getUser$=this.store.pipe((0,At.Ys)(ss.getUser)),this.token$=this.store.pipe((0,At.Ys)(ss.getUser),(0,ve.U)(r=>r?`${r.token_type} ${r.access_token}`:void 0))}login(){this.store.dispatch(new is)}logout(){this.store.dispatch(new Us)}setUser(e){this.store.dispatch(new zs(e))}completeAuthentication(){this.store.dispatch(new as)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(At.yh))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Kd={PublicUserProfile:{entityName:"PublicUserProfile"}};let tc=(()=>{class t{constructor(e,r,o,s){this.authFacade=e,this.router=r,this.route=o,this.platformId=s}ngOnInit(){var e=this;return Pu(function*(){e.authFacade.completeAuthentication(),e.router.navigate(["/pages/create-panel-page"],{queryParams:{cacheBuster:Tn()}})})()}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(hi),a.\u0275\u0275directiveInject(Nn.Router),a.\u0275\u0275directiveInject(Nn.ActivatedRoute),a.\u0275\u0275directiveInject(a.PLATFORM_ID))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-auth-callback"]],decls:2,vars:0,template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"p"),a.\u0275\u0275text(1,"auth-callback works!"),a.\u0275\u0275elementEnd())},styles:[""]}),t})(),Ci=(()=>{class t{constructor(e){e.registerMetadataMap(Kd)}static forRoot(){return{ngModule:t,providers:[hi]}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(mi))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,At.Aw.forFeature("auth",Yu)]]}),t})(),ls=(()=>{class t{constructor(e,r){this.authFacade=e,this.router=r}intercept(e,r){return r.handle(e).pipe((0,ee.b)({error:o=>{}}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(hi),a.\u0275\u0275inject(Nn.Router))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();var oi=S(7478),dm=S(464),Ro=S(2578);const Hg=new a.InjectionToken("REQUEST");new a.InjectionToken("RESPONSE");var Qe=S(2673);class ao{constructor(n){n&&(this.authority=n.authority,this.client_id=n.client_id,this.redirect_uri=n.redirect_uri,this.silent_redirect_uri=n.silent_redirect_uri,this.response_type=n.response_type,this.scope=n.scope,this.filterProtocolClaims=n.filterProtocolClaims,this.loadUserInfo=n.loadUserInfo,this.automaticSilentRenew=n.automaticSilentRenew,this.metadata={...n.metadata},this.userStore=n.userStore?n.userStore:void 0,this.stateStore=n.userStore?n.stateStore:void 0)}}const nc=(0,P.Cb)("auth");let rc=(()=>{class t{constructor(e,r,o){this.clientSettings=e,this.platformId=r,this.transferState=o,this.data={},this.isBrowser=(0,x.isPlatformBrowser)(this.platformId),this.cookieMap={oa:"access_token",oi:"id_token",or:"refresh_token",os:"scope",oe:"expires_at",op:"profile"},this.tokenKey=`oidc.user:${this.clientSettings.authority}:${this.clientSettings.client_id}`}set request(e){this.req=e}init(){if(this.isBrowser)if(sessionStorage.getItem(this.tokenKey))this.setItem(this.tokenKey,sessionStorage.getItem(this.tokenKey));else if(this.transferState.hasKey(nc)){const e=this.transferState.get(nc,void 0);e&&this.setItem(this.tokenKey,e)}else for(let e=0;e<sessionStorage.length;e++){const r=sessionStorage.key(e);this.setItem(r,sessionStorage.getItem(r))}else{const e={token_type:"Bearer"};let r;Object.getOwnPropertyNames(this.cookieMap).forEach(o=>{let s=this.getCookie(o);s&&""!==s&&(s=this.translateFromCookieValue(o,s),"oe"===o?r=s:e[this.cookieMap[o]]=s)}),e.access_token&&(this.data[this.tokenKey]=JSON.stringify(e),this.transferState.set(nc,JSON.stringify({...e,expires_at:r})))}}getItem(e){return this.data[e]}setItem(e,r){if(e===this.tokenKey){const o=JSON.parse(r);Object.getOwnPropertyNames(this.cookieMap).forEach(s=>{this.setCookie(s,this.translateCookieValue(s,o[this.cookieMap[s]]))})}this.isBrowser&&sessionStorage.setItem(e,r),this.data[e]=r}removeItem(e){this.removeCookie(e),this.isBrowser&&sessionStorage.removeItem(e),delete this.data[e]}get length(){return Object.getOwnPropertyNames(this.data).length}key(e){return console.log("index()"),Object.getOwnPropertyNames(this.data)[e]}getCookie(e){return this.isBrowser?oi.get(e):this.req?this.req.cookies[e]??"":void 0}setCookie(e,r){this.isBrowser&&oi.set(e,r)}removeCookie(e){this.isBrowser&&oi.remove(e)}translateCookieValue(e,r){switch(e){case"os":return r.split(" ").join("|");case"oe":return`${r}`;case"op":return JSON.stringify(r);default:return r}}translateFromCookieValue(e,r){switch(e){case"os":return r.split("|").join(" ");case"oe":return(0,dm.He)(r);case"op":return JSON.parse(r);default:return r}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ao),a.\u0275\u0275inject(Object),a.\u0275\u0275inject(P.ki))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();const fm=(t,n)=>new Ro.UserManager(new ao({...t,stateStore:new Ro.WebStorageStateStore({store:n}),userStore:new Ro.WebStorageStateStore({store:n})})),ic=(t,n,e)=>()=>new Promise(r=>{t.getUser().then(o=>{o?(n.setUser(o),setTimeout(()=>r())):r()})}),Kg=(t,n,e,r)=>{const o=new rc(t,n,r);if((0,x.isPlatformServer)(n))try{o.request=e.get(Hg)}catch{}return o.init(),o};let Xg=(()=>{class t{constructor(e,r,o){this.actions$=e,this.userManager=r,this.entityActionFactory=o,this.login$=fi(()=>this.actions$.pipe(Fi(Gs.AuthActionTypes.Login),(0,ee.b)(()=>{this.userManager.signinRedirect()})),{dispatch:!1}),this.logout$=fi(()=>this.actions$.pipe(Fi(Gs.AuthActionTypes.Logout),(0,ee.b)(()=>{this.userManager.signoutRedirect()})),{dispatch:!1}),this.completeAuthentication$=fi(()=>this.actions$.pipe(Fi(Gs.AuthActionTypes.CompleteAuthentication),(0,Qe.w)(()=>new g.y(s=>{this.userManager.signinRedirectCallback().then(l=>{s.next(new Gs.SetUser(l)),s.complete()})})))),this.loadCookies$=fi(()=>this.actions$.pipe(Bl("Cookie"),rs([It.QUERY_ALL_SUCCESS]),(0,ee.b)(s=>console.log(s.payload.data)),(0,ee.b)(s=>{})),{dispatch:!1})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ma),a.\u0275\u0275inject(Ro.UserManager),a.\u0275\u0275inject(no))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();const pm={Cookie:{entityName:"Cookie"}},ac=new a.InjectionToken("ClientSettings");let Jd=(()=>{class t{constructor(e){e.registerMetadataMap(pm)}static forRoot(){return{ngModule:t,providers:[{provide:rc,useFactory:Kg,deps:[ac,a.PLATFORM_ID,a.Injector,P.ki]},{provide:Ro.UserManager,useFactory:fm,deps:[ac,rc]},{provide:a.APP_INITIALIZER,useFactory:ic,multi:!0,deps:[Ro.UserManager,hi,a.PLATFORM_ID]}]}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(mi))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[Ci,ga.forFeature([Xg])]]}),t})(),cs=(()=>{class t{constructor(e){this.authFacade=e}intercept(e,r){return this.authFacade.token$.pipe((0,nn.q)(1),(0,Za.b)(o=>{let s=e.headers;if(e.url.indexOf("/awproxy"),o&&-1===e.url.indexOf("github")&&-1===e.url.indexOf("cloudfront")&&-1===e.url.indexOf("cloudinary")&&-1===e.url.indexOf("carquery")&&-1===e.url.indexOf("gateway.marvel.com")&&-1===e.url.indexOf("hereapi.com")&&-1===e.url.indexOf(".es.")&&-1===e.url.indexOf(".s3.")&&-1===e.url.indexOf("/awproxy")){s=s.set("Authorization",o);const l=e.clone({headers:s});return r.handle(l)}{const l=e.clone({headers:s});return r.handle(l)}}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(hi))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();var Ut=S(7399),rn=S(1640),Hs=S(4423),Wg=S(5463);function oc(t,n){const e="object"==typeof n;return new Promise((r,o)=>{const s=new Wg.Hp({next:l=>{r(l),s.unsubscribe()},error:o,complete:()=>{e?r(n.defaultValue):o(new Hs.K)}});t.subscribe(s)})}let ds=(()=>{class t{constructor(e,r){this.actions$=e,this.entityActionFactory=r,this.setUser=fi(()=>this.actions$.pipe(Fi(Gs.AuthActionTypes.SetUser),(0,ve.U)(()=>this.entityActionFactory.create("Cookie",It.QUERY_ALL)))),this.loadCookies$=fi(()=>this.actions$.pipe(Bl("Cookie"),rs([It.QUERY_ALL_SUCCESS]),(0,ee.b)(o=>console.log(o.payload.data)),(0,ee.b)(o=>{o.payload.data.forEach(s=>oi.set(s.name,s.value,{expires:new Date((new Date).getTime()+36e5)}))})),{dispatch:!1})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ma),a.\u0275\u0275inject(no))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),Jg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[ga.forFeature([ds])]]}),t})();class Qg{constructor(n){n&&(this.identityPoolId=n.identityPoolId,this.region=n.region,this.userPoolId=n.userPoolId)}}const ql=new a.InjectionToken("CognitoSettings");var re=S(4929),Qd=function(){function t(){this.onabort=null,this._aborted=!1,Object.defineProperty(this,"_aborted",{value:!1,writable:!0})}return Object.defineProperty(t.prototype,"aborted",{get:function(){return this._aborted},enumerable:!1,configurable:!0}),t.prototype.abort=function(){this._aborted=!0,this.onabort&&(this.onabort(this),this.onabort=null)},t}(),Yg=function(){function t(){this.signal=new Qd}return t.prototype.abort=function(){this.signal.abort()},t}(),er=function(){function t(n){this.method=n.method||"GET",this.hostname=n.hostname||"localhost",this.port=n.port,this.query=n.query||{},this.headers=n.headers||{},this.body=n.body,this.protocol=n.protocol?":"!==n.protocol.substr(-1)?n.protocol+":":n.protocol:"https:",this.path=n.path?"/"!==n.path.charAt(0)?"/"+n.path:n.path:"/"}return t.isInstance=function(n){return!!n&&("method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&"object"==typeof n.query&&"object"==typeof n.headers)},t.prototype.clone=function(){var n=new t((0,re.pi)((0,re.pi)({},this),{headers:(0,re.pi)({},this.headers)}));return n.query&&(n.query=function ey(t){return Object.keys(t).reduce(function(n,e){var r,o=t[e];return(0,re.pi)((0,re.pi)({},n),((r={})[e]=Array.isArray(o)?(0,re.ev)([],(0,re.CR)(o)):o,r))},{})}(n.query)),n},t}(),Oo=function(){function t(n){this.statusCode=n.statusCode,this.headers=n.headers||{},this.body=n.body}return t.isInstance=function(n){return!!n&&("number"==typeof n.statusCode&&"object"==typeof n.headers)},t}(),Fo=function(t){return"string"==typeof t&&0===t.indexOf("arn:")&&t.split(":").length>=6},lc=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Zd=/(\d+\.){3}\d+/,ym=/\.\./,uc=/\./,ef=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./,Xs=/^s3(-external-1)?\.amazonaws\.com$/,tf="amazonaws.com",nf=function(t){var n=t.match(ef);return[n[4],t.replace(new RegExp("^"+n[0]),"")]},Te=function(t,n){if(""===t)throw new Error("ARN region is empty");if(n.useFipsEndpoint){if(!n.allowFipsRegion)throw new Error("FIPS region is not supported");if(!_t(t,n.clientRegion))throw new Error("Client FIPS region "+n.clientRegion+" doesn't match region "+t+" in ARN")}if(!n.useArnRegion&&!_t(t,n.clientRegion||"")&&!_t(t,n.clientSigningRegion||""))throw new Error("Region in ARN is incompatible, got "+t+" but expected "+n.clientRegion)},Ke=function(t){if(["s3-external-1","aws-global"].includes(t))throw new Error("Client region "+t+" is not regional")},_t=function(t,n){return t===n},Lt=function(t,n){if(void 0===n&&(n={tlsCompatible:!0}),t.length>=64||!/^[a-z0-9][a-z0-9.-]*[a-z0-9]$/.test(t)||/(\d+\.){3}\d+/.test(t)||/[.-]{2}/.test(t)||(null==n?void 0:n.tlsCompatible)&&uc.test(t))throw new Error("Invalid DNS label "+t)},kn=function(t){if(t)throw new Error("Dualstack endpoint is not supported with Outpost or Multi-region Access Point ARN.")},pt=function(t){return function(t){if(t.isCustomEndpoint){if(t.dualstackEndpoint)throw new Error("Dualstack endpoint is not supported with custom endpoint");if(t.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported with custom endpoint")}}(t),function(t){return"string"==typeof t.bucketName}(t)?lt(t):Et(t)},lt=function(t){var n=t.accelerateEndpoint,e=void 0!==n&&n,o=t.baseHostname,s=t.bucketName,l=t.dualstackEndpoint,u=void 0!==l&&l,v=t.pathStyleEndpoint,D=void 0!==v&&v,J=t.tlsCompatible,Y=void 0===J||J,he=t.isCustomEndpoint,Oe=(0,re.CR)(void 0!==he&&he?[t.clientRegion,o]:function(t){return Xs.test(t)?["us-east-1",tf]:nf(t)}(o),2),De=Oe[0],Xe=Oe[1];return D||!function(t){return lc.test(t)&&!Zd.test(t)&&!ym.test(t)}(s)||Y&&uc.test(s)?{bucketEndpoint:!1,hostname:u?"s3.dualstack."+De+"."+Xe:o}:(e?o="s3-accelerate"+(u?".dualstack":"")+"."+Xe:u&&(o="s3.dualstack."+De+"."+Xe),{bucketEndpoint:!0,hostname:s+"."+o})},Et=function(t){var e=t.baseHostname,r=t.clientRegion,o=t.isCustomEndpoint?e:function(t){return Xs.test(t)?[t.replace("."+tf,""),tf]:nf(t)}(e)[1],l=t.accelerateEndpoint,v=t.tlsCompatible,D=void 0===v||v,J=t.bucketName,Y=t.clientPartition,he=void 0===Y?"aws":Y;!function(t){if(t.pathStyleEndpoint)throw new Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(t.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported when bucket is an ARN");if(!t.tlsCompatible)throw new Error("HTTPS is required when bucket is an ARN")}({pathStyleEndpoint:t.pathStyleEndpoint,accelerateEndpoint:void 0!==l&&l,tlsCompatible:D});var Ue=J.service,Oe=J.partition,De=J.accountId,Xe=J.region,tt=J.resource;(function(t){if("s3"!==t&&"s3-outposts"!==t&&"s3-object-lambda"!==t)throw new Error("Expect 's3' or 's3-outposts' or 's3-object-lambda' in ARN service component")})(Ue),function(t,n){if(t!==n.clientPartition)throw new Error('Partition in ARN is incompatible, got "'+t+'" but expected "'+n.clientPartition+'"')}(Oe,{clientPartition:he}),function(t){if(!/[0-9]{12}/.exec(t))throw new Error("Access point ARN accountID does not match regex '[0-9]{12}'")}(De);var ct=function(t){var n=t.includes(":")?":":"/",e=(0,re.CR)(t.split(n)),r=e[0],o=e.slice(1);if("accesspoint"===r){if(1!==o.length||""===o[0])throw new Error("Access Point ARN should have one resource accesspoint"+n+"{accesspointname}");return{accesspointName:o[0]}}if("outpost"===r){if(!o[0]||"accesspoint"!==o[1]||!o[2]||3!==o.length)throw new Error("Outpost ARN should have resource outpost"+n+"{outpostId}"+n+"accesspoint"+n+"{accesspointName}");var s=(0,re.CR)(o,3);return{outpostId:s[0],accesspointName:s[2]}}throw new Error("ARN resource should begin with 'accesspoint"+n+"' or 'outpost"+n+"'")}(tt),bt=ct.accesspointName,Tt=ct.outpostId;return"s3-object-lambda"===Ue?Nt((0,re.pi)((0,re.pi)({},t),{tlsCompatible:D,bucketName:J,accesspointName:bt,hostnameSuffix:o})):""===Xe?jt((0,re.pi)((0,re.pi)({},t),{clientRegion:r,mrapAlias:bt,hostnameSuffix:o})):Tt?qt((0,re.pi)((0,re.pi)({},t),{clientRegion:r,outpostId:Tt,accesspointName:bt,hostnameSuffix:o})):en((0,re.pi)((0,re.pi)({},t),{clientRegion:r,accesspointName:bt,hostnameSuffix:o}))},Nt=function(t){var n=t.dualstackEndpoint,e=void 0!==n&&n,r=t.fipsEndpoint,o=void 0!==r&&r,s=t.tlsCompatible,l=void 0===s||s,u=t.useArnRegion,p=t.clientRegion,f=t.clientSigningRegion,v=void 0===f?p:f,D=t.accesspointName,J=t.bucketName,Y=t.hostnameSuffix,he=J.accountId,Ue=J.region,Oe=J.service;Ke(p),Te(Ue,{useArnRegion:u,clientRegion:p,clientSigningRegion:v,allowFipsRegion:!0,useFipsEndpoint:o}),kn(e);var De=D+"-"+he;return Lt(De,{tlsCompatible:l}),{bucketEndpoint:!0,hostname:De+"."+Oe+(o?"-fips":"")+"."+(u?Ue:p)+"."+Y,signingRegion:u?Ue:v,signingService:Oe}},jt=function(t){var e=t.dualstackEndpoint,r=void 0!==e&&e,o=t.isCustomEndpoint,s=t.mrapAlias,l=t.hostnameSuffix;if(!0===t.disableMultiregionAccessPoints)throw new Error("SDK is attempting to use a MRAP ARN. Please enable to feature.");return function(t){try{t.split(".").forEach(function(n){Lt(n)})}catch{throw new Error('"'+t+'" is not a DNS compatible name.')}}(s),kn(r),{bucketEndpoint:!0,hostname:s+(o?"":".accesspoint.s3-global")+"."+l,signingRegion:"*"}},qt=function(t){var n=t.useArnRegion,e=t.clientRegion,r=t.clientSigningRegion,o=void 0===r?e:r,s=t.bucketName,l=t.outpostId,u=t.dualstackEndpoint,p=void 0!==u&&u,f=t.fipsEndpoint,v=void 0!==f&&f,D=t.tlsCompatible,J=void 0===D||D,Y=t.accesspointName,he=t.isCustomEndpoint,Ue=t.hostnameSuffix;Ke(e),Te(s.region,{useArnRegion:n,clientRegion:e,clientSigningRegion:o,useFipsEndpoint:v});var Oe=Y+"-"+s.accountId;Lt(Oe,{tlsCompatible:J});var De=n?s.region:e,Xe=n?s.region:o;return function(t){if("s3-outposts"!==t)throw new Error("Expect 's3-posts' in Outpost ARN service component")}(s.service),Lt(l,{tlsCompatible:J}),kn(p),function(t){if(t)throw new Error("FIPS region is not supported with Outpost.")}(v),{bucketEndpoint:!0,hostname:Oe+"."+l+(he?"":".s3-outposts."+De)+"."+Ue,signingRegion:Xe,signingService:"s3-outposts"}},en=function(t){var n=t.useArnRegion,e=t.clientRegion,r=t.clientSigningRegion,o=void 0===r?e:r,s=t.bucketName,l=t.dualstackEndpoint,u=void 0!==l&&l,p=t.fipsEndpoint,f=void 0!==p&&p,v=t.tlsCompatible,D=void 0===v||v,J=t.accesspointName,Y=t.isCustomEndpoint,he=t.hostnameSuffix;Ke(e),Te(s.region,{useArnRegion:n,clientRegion:e,clientSigningRegion:o,allowFipsRegion:!0,useFipsEndpoint:f});var Ue=J+"-"+s.accountId;Lt(Ue,{tlsCompatible:D});var Oe=n?s.region:e,De=n?s.region:o;return function(t){if("s3"!==t)throw new Error("Expect 's3' in Accesspoint ARN service component")}(s.service),{bucketEndpoint:!0,hostname:Ue+(Y?"":".s3-accesspoint"+(f?"-fips":"")+(u?".dualstack":"")+"."+Oe)+"."+he,signingRegion:De}},cr={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},dn=function(t){return{applyToStack:function(n){n.addRelativeTo(function(t){return function(n,e){return function(r){return(0,re.mG)(void 0,void 0,void 0,function(){var o,s,l,u,p,f,v,D,J,Y,he,Ue,Oe,De,Xe,tt,ct,bt,Tt,Mt,Wt,jn;return(0,re.Jh)(this,function(In){switch(In.label){case 0:return o=r.input.Bucket,s=t.bucketEndpoint,er.isInstance(l=r.request)?t.bucketEndpoint?(l.hostname=o,[3,12]):[3,1]:[3,13];case 1:return Fo(o)?(u=function(t){var n=t.split(":");if(n.length<6||"arn"!==n[0])throw new Error("Malformed ARN");var e=(0,re.CR)(n);return{partition:e[1],service:e[2],region:e[3],accountId:e[4],resource:e.slice(5).join(":")}}(o),[4,t.region()]):[3,8];case 2:return tt=In.sent(),[4,t.useDualstackEndpoint()];case 3:return p=In.sent(),[4,t.useFipsEndpoint()];case 4:return f=In.sent(),[4,t.regionInfoProvider(tt,{useDualstackEndpoint:p,useFipsEndpoint:f})];case 5:return v=In.sent()||{},D=v.partition,Y=void 0===(J=v.signingRegion)?tt:J,[4,t.useArnRegion()];case 6:return he=In.sent(),Xe=pt,jn={bucketName:u,baseHostname:l.hostname,accelerateEndpoint:t.useAccelerateEndpoint,dualstackEndpoint:p,fipsEndpoint:f,pathStyleEndpoint:t.forcePathStyle,tlsCompatible:"https:"===l.protocol,useArnRegion:he,clientPartition:D,clientSigningRegion:Y,clientRegion:tt,isCustomEndpoint:t.isCustomEndpoint},[4,t.disableMultiregionAccessPoints()];case 7:return Ue=Xe.apply(void 0,[(jn.disableMultiregionAccessPoints=In.sent(),jn)]),Mt=Ue.hostname,Wt=Ue.bucketEndpoint,De=Ue.signingService,(Oe=Ue.signingRegion)&&Oe!==Y&&(e.signing_region=Oe),De&&"s3"!==De&&(e.signing_service=De),l.hostname=Mt,s=Wt,[3,12];case 8:return[4,t.region()];case 9:return tt=In.sent(),[4,t.useDualstackEndpoint()];case 10:return ct=In.sent(),[4,t.useFipsEndpoint()];case 11:bt=In.sent(),Tt=pt({bucketName:o,clientRegion:tt,baseHostname:l.hostname,accelerateEndpoint:t.useAccelerateEndpoint,dualstackEndpoint:ct,fipsEndpoint:bt,pathStyleEndpoint:t.forcePathStyle,tlsCompatible:"https:"===l.protocol,isCustomEndpoint:t.isCustomEndpoint}),Wt=Tt.bucketEndpoint,l.hostname=Mt=Tt.hostname,s=Wt,In.label=12;case 12:s&&(l.path=l.path.replace(/^(\/)?[^\/]+/,""),""===l.path&&(l.path="/")),In.label=13;case 13:return[2,n((0,re.pi)((0,re.pi)({},r),{request:l}))]}})})}}}(t),cr)}}},vm=function(t){return"function"==typeof ArrayBuffer&&t instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(t)},h0=function(t){return void 0!==t&&"string"!=typeof t&&!ArrayBuffer.isView(t)&&!vm(t)},g0=function(t,n){var e=n.streamHasher,r=n.checksumAlgorithmFn,o=n.base64Encoder;return(0,re.mG)(void 0,void 0,void 0,function(){var s,l;return(0,re.Jh)(this,function(u){switch(u.label){case 0:return s=h0(t)?e(r,t):function(t,n){var e=new t;return e.update(n||""),e.digest()}(r,t),l=o,[4,s];case 1:return[2,l.apply(void 0,[u.sent()])]}})})},si=(()=>{return(t=si||(si={})).MD5="MD5",t.CRC32="CRC32",t.CRC32C="CRC32C",t.SHA1="SHA1",t.SHA256="SHA256",si;var t})(),ry=[si.CRC32,si.CRC32C,si.SHA1,si.SHA256],nS=[si.CRC32,si.CRC32C,si.SHA1,si.SHA256],y0=function(t){return t===si.MD5?"content-md5":"x-amz-checksum-"+t.toLowerCase()},aS=S(2562),oS=S(5423),v0=function(t,n){var e;return(e={},e[si.MD5]=n.md5,e[si.CRC32]=aS.AwsCrc32,e[si.CRC32C]=oS.AwsCrc32c,e[si.SHA1]=n.sha1,e[si.SHA256]=n.sha256,e)[t]},uS=function(t,n){return function(e){return function(r){return(0,re.mG)(void 0,void 0,void 0,function(){var o,s,l,u,p,f,J,Y,he,Ue,Oe,tt,ct,bt,Tt,Mt;return(0,re.Jh)(this,function(Wt){switch(Wt.label){case 0:return er.isInstance(r.request)?(s=(o=r.request).body,l=o.headers,u=t.base64Encoder,p=t.streamHasher,J=function(t,n){var r=n.requestAlgorithmMember;if(!r||!t[r])return n.requestChecksumRequired?si.MD5:void 0;var o=t[r];if(!ry.includes(o))throw new Error('The checksum algorithm "'+o+'" is not supported by the client. Select one of '+ry+".");return o}(f=n.input,{requestChecksumRequired:n.requestChecksumRequired,requestAlgorithmMember:n.requestAlgorithmMember}),Y=s,he=l,J?(Ue=y0(J),Oe=v0(J,t),h0(s)?(Y=(0,t.getAwsChunkedEncodingStream)(s,{base64Encoder:u,bodyLengthChecker:t.bodyLengthChecker,checksumLocationName:Ue,checksumAlgorithmFn:Oe,streamHasher:p}),delete(he=(0,re.pi)((0,re.pi)({},l),{"content-encoding":"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":l["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":Ue}))["content-length"],[3,3]):[3,1]):[3,3]):[2,e(r)];case 1:return function(t,n){var e,r,o=t.toLowerCase();try{for(var s=(0,re.XA)(Object.keys(n)),l=s.next();!l.done;l=s.next())if(o===l.value.toLowerCase())return!0}catch(p){e={error:p}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return!1}(Ue,l)?[3,3]:[4,g0(s,{streamHasher:p,checksumAlgorithmFn:Oe,base64Encoder:u})];case 2:tt=Wt.sent(),he=(0,re.pi)((0,re.pi)({},l),((Mt={})[Ue]=tt,Mt)),Wt.label=3;case 3:return[4,e((0,re.pi)((0,re.pi)({},r),{request:(0,re.pi)((0,re.pi)({},o),{headers:he,body:Y})}))];case 4:return ct=Wt.sent(),Tt=n.responseAlgorithms,(bt=n.requestValidationModeMember)&&"ENABLED"===f[bt]&&function(t,n){var e=n.config,r=n.responseAlgorithms;(0,re.mG)(void 0,void 0,void 0,function(){var o,s,l,u,p,f,v,D,J,Ue,Oe,De,Xe;return(0,re.Jh)(this,function(tt){switch(tt.label){case 0:o=function(t){var n,e;void 0===t&&(t=[]);var r=[];try{for(var o=(0,re.XA)(nS),s=o.next();!s.done;s=o.next()){var l=s.value;!t.includes(l)||!ry.includes(l)||r.push(l)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(n)throw n.error}}return r}(r),s=t.body,l=t.headers,tt.label=1;case 1:tt.trys.push([1,6,7,8]),u=(0,re.XA)(o),p=u.next(),tt.label=2;case 2:return p.done?[3,5]:(v=y0(f=p.value),(D=l[v])?(J=v0(f,e),[4,g0(s,{streamHasher:e.streamHasher,checksumAlgorithmFn:J,base64Encoder:e.base64Encoder})]):[3,4]);case 3:if((Ue=tt.sent())===D)return[3,5];throw new Error('Checksum mismatch: expected "'+Ue+'" but received "'+D+'" in response header "'+v+'".');case 4:return p=u.next(),[3,2];case 5:return[3,8];case 6:return Oe=tt.sent(),De={error:Oe},[3,8];case 7:try{p&&!p.done&&(Xe=u.return)&&Xe.call(u)}finally{if(De)throw De.error}return[7];case 8:return[2]}})})}(ct.response,{config:t,responseAlgorithms:Tt}),[2,ct]}})})}}},cS={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},iy=function(t,n){return{applyToStack:function(e){e.add(uS(t,n),cS)}}},pS={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},mS={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Kl(t,n,e){return{applyToStack:function(r){r.add(function(t,n){return function(e,r){return function(o){return(0,re.mG)(void 0,void 0,void 0,function(){var s,l,u;return(0,re.Jh)(this,function(p){switch(p.label){case 0:return[4,e(o)];case 1:s=p.sent().response,p.label=2;case 2:return p.trys.push([2,4,,5]),[4,n(s,t)];case 3:return l=p.sent(),[2,{response:s,output:l}];case 4:throw u=p.sent(),Object.assign(u,{$response:s});case 5:return[2]}})})}}}(t,e),pS),r.add(function(t,n){return function(e,r){return function(o){return(0,re.mG)(void 0,void 0,void 0,function(){var s;return(0,re.Jh)(this,function(l){switch(l.label){case 0:return[4,n(o.input,t)];case 1:return s=l.sent(),[2,e((0,re.pi)((0,re.pi)({},o),{request:s}))]}})})}}}(t,n),mS)}}}var gS={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},_m=function(t){return{applyToStack:function(n){n.add(function hS(t){var n=this;return function(e){return function(r){return(0,re.mG)(n,void 0,void 0,function(){var o,s,l,u,p,f,v,D,J,Y,he,Ue,Oe,De,Xe,tt,ct;return(0,re.Jh)(this,function(bt){switch(bt.label){case 0:o=(0,re.pi)({},r.input),s=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}],bt.label=1;case 1:bt.trys.push([1,6,7,8]),l=(0,re.XA)(s),u=l.next(),bt.label=2;case 2:return u.done?[3,5]:(f=o[(p=u.value).target])?(v=ArrayBuffer.isView(f)?new Uint8Array(f.buffer,f.byteOffset,f.byteLength):"string"==typeof f?t.utf8Decoder(f):new Uint8Array(f),D=t.base64Encoder(v),(J=new t.md5).update(v),Y=[(0,re.pi)({},o)],(ct={})[p.target]=D,he=p.hash,Oe=(Ue=t).base64Encoder,[4,J.digest()]):[3,4];case 3:o=re.pi.apply(void 0,Y.concat([(ct[he]=Oe.apply(Ue,[bt.sent()]),ct)])),bt.label=4;case 4:return u=l.next(),[3,2];case 5:return[3,8];case 6:return De=bt.sent(),Xe={error:De},[3,8];case 7:try{u&&!u.done&&(tt=l.return)&&tt.call(l)}finally{if(Xe)throw Xe.error}return[7];case 8:return[2,e((0,re.pi)((0,re.pi)({},r),{input:o}))]}})})}}}(t),gS)}}},bm=function(){var t=[],n=[],e=new Set,l=function(v){return t.forEach(function(D){v.add(D.middleware,(0,re.pi)({},D))}),n.forEach(function(D){v.addRelativeTo(D.middleware,(0,re.pi)({},D))}),v},u=function(v){var D=[];return v.before.forEach(function(J){0===J.before.length&&0===J.after.length?D.push(J):D.push.apply(D,(0,re.ev)([],(0,re.CR)(u(J))))}),D.push(v),v.after.reverse().forEach(function(J){0===J.before.length&&0===J.after.length?D.push(J):D.push.apply(D,(0,re.ev)([],(0,re.CR)(u(J))))}),D},f={add:function(v,D){void 0===D&&(D={});var J=D.name,Y=D.override,he=(0,re.pi)({step:"initialize",priority:"normal",middleware:v},D);if(J){if(e.has(J)){if(!Y)throw new Error("Duplicate middleware name '"+J+"'");var Ue=t.findIndex(function(De){return De.name===J}),Oe=t[Ue];if(Oe.step!==he.step||Oe.priority!==he.priority)throw new Error('"'+J+'" middleware with '+Oe.priority+" priority in "+Oe.step+" step cannot be overridden by same-name middleware with "+he.priority+" priority in "+he.step+" step.");t.splice(Ue,1)}e.add(J)}t.push(he)},addRelativeTo:function(v,D){var J=D.name,Y=D.override,he=(0,re.pi)({middleware:v},D);if(J){if(e.has(J)){if(!Y)throw new Error("Duplicate middleware name '"+J+"'");var Ue=n.findIndex(function(De){return De.name===J}),Oe=n[Ue];if(Oe.toMiddleware!==he.toMiddleware||Oe.relation!==he.relation)throw new Error('"'+J+'" middleware '+Oe.relation+' "'+Oe.toMiddleware+'" middleware cannot be overridden by same-name middleware '+he.relation+' "'+he.toMiddleware+'" middleware.');n.splice(Ue,1)}e.add(J)}n.push(he)},clone:function(){return l(bm())},use:function(v){v.applyToStack(f)},remove:function(v){return"string"==typeof v?function(v){var D=!1,J=function(Y){return!Y.name||Y.name!==v||(D=!0,e.delete(v),!1)};return t=t.filter(J),n=n.filter(J),D}(v):function(v){var D=!1,J=function(Y){return Y.middleware!==v||(D=!0,Y.name&&e.delete(Y.name),!1)};return t=t.filter(J),n=n.filter(J),D}(v)},removeByTag:function(v){var D=!1,J=function(Y){var he=Y.tags,Ue=Y.name;return!he||!he.includes(v)||(Ue&&e.delete(Ue),D=!0,!1)};return t=t.filter(J),n=n.filter(J),D},concat:function(v){var D=l(bm());return D.use(v),D},applyToStack:l,resolve:function(v,D){var J,Y;try{for(var he=(0,re.XA)(function(){var v=[],D=[],J={};t.forEach(function(he){var Ue=(0,re.pi)((0,re.pi)({},he),{before:[],after:[]});Ue.name&&(J[Ue.name]=Ue),v.push(Ue)}),n.forEach(function(he){var Ue=(0,re.pi)((0,re.pi)({},he),{before:[],after:[]});Ue.name&&(J[Ue.name]=Ue),D.push(Ue)}),D.forEach(function(he){if(he.toMiddleware){var Ue=J[he.toMiddleware];if(void 0===Ue)throw new Error(he.toMiddleware+" is not found when adding "+(he.name||"anonymous")+" middleware "+he.relation+" "+he.toMiddleware);"after"===he.relation&&Ue.after.push(he),"before"===he.relation&&Ue.before.push(he)}});var Y=function(v){return v.sort(function(D,J){return _0[J.step]-_0[D.step]||b0[J.priority||"normal"]-b0[D.priority||"normal"]})}(v).map(u).reduce(function(he,Ue){return he.push.apply(he,(0,re.ev)([],(0,re.CR)(Ue))),he},[]);return Y.map(function(he){return he.middleware})}().reverse()),Ue=he.next();!Ue.done;Ue=he.next())v=(0,Ue.value)(v,D)}catch(De){J={error:De}}finally{try{Ue&&!Ue.done&&(Y=he.return)&&Y.call(he)}finally{if(J)throw J.error}}return v}};return f},_0={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},b0={high:3,normal:2,low:1},w0=function(){function t(n){this.middlewareStack=bm(),this.config=n}return t.prototype.send=function(n,e,r){var s="function"==typeof e?e:r,l=n.resolveMiddleware(this.middlewareStack,this.config,"function"!=typeof e?e:void 0);if(!s)return l(n).then(function(u){return u.output});l(n).then(function(u){return s(null,u.output)},function(u){return s(u)}).catch(function(){})},t.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},t}(),Xl=function t(){this.middlewareStack=bm()},ta="***SensitiveInformation***",wm=function(t){switch(t){case"true":return!0;case"false":return!1;default:throw new Error('Unable to parse boolean value "'+t+'"')}},rf=function(t){if(null!=t){if("number"==typeof t)return t;throw new TypeError("Expected number, got "+typeof t)}},yS=Math.ceil(Math.pow(2,127)*(2-Math.pow(2,-23))),sy=function(t,n){var e=function(t){if(null!=t){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError("Expected integer, got "+typeof t)}}(t);if(void 0!==e&&vS(e,n)!==e)throw new TypeError("Expected "+n+"-bit integer, got "+t);return e},vS=function(t,n){switch(n){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},Cm=function(t,n){if(null==t)throw n?new TypeError("Expected a non-null value for "+n):new TypeError("Expected a non-null value");return t},ly=function(t){if(null!=t){if("object"==typeof t&&!Array.isArray(t))return t;throw new TypeError("Expected object, got "+typeof t)}},dr=function(t){if(null!=t){if("string"==typeof t)return t;throw new TypeError("Expected string, got "+typeof t)}},wS=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,dc=function(t){var n=t.match(wS);if(null===n||n[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)},uy=function(t){return function(t){return sy(t,16)}("string"==typeof t?dc(t):t)},xS=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],cy=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A0(t){var n=t.getUTCFullYear(),e=t.getUTCMonth(),r=t.getUTCDay(),o=t.getUTCDate(),s=t.getUTCHours(),l=t.getUTCMinutes(),u=t.getUTCSeconds();return xS[r]+", "+(o<10?"0"+o:""+o)+" "+cy[e]+" "+n+" "+(s<10?"0"+s:""+s)+":"+(l<10?"0"+l:""+l)+":"+(u<10?"0"+u:""+u)+" GMT"}var ES=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),AS=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),IS=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),TS=function(t){if(null!=t){var n;if("number"==typeof t)n=t;else{if("string"!=typeof t)throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");n=function(t){return rf("string"==typeof t?dc(t):t)}(t)}if(Number.isNaN(n)||n===1/0||n===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*n))}},xm=function(t,n,e,r){var o=n-1;return OS(t,o,e),new Date(Date.UTC(t,o,e,Ws(r.hours,"hour",0,23),Ws(r.minutes,"minute",0,59),Ws(r.seconds,"seconds",0,60),MS(r.fractionalMilliseconds)))},dy=function(t){var n=cy.indexOf(t);if(n<0)throw new TypeError("Invalid month: "+t);return n+1},NS=[31,28,31,30,31,30,31,31,30,31,30,31],OS=function(t,n,e){var r=NS[n];if(1===n&&FS(t)&&(r=29),e>r)throw new TypeError("Invalid day for "+cy[n]+" in "+t+": "+e)},FS=function(t){return t%4==0&&(t%100!=0||t%400==0)},Ws=function(t,n,e,r){var o=function(t){return function(t){return sy(t,8)}("string"==typeof t?dc(t):t)}(af(t));if(o<e||o>r)throw new TypeError(n+" must be between "+e+" and "+r+", inclusive");return o},MS=function(t){return null==t?0:1e3*function(t){return function(t){var n=rf(t);if(void 0!==n&&!Number.isNaN(n)&&n!==1/0&&n!==-1/0&&Math.abs(n)>yS)throw new TypeError("Expected 32-bit float, got "+t);return n}("string"==typeof t?dc(t):t)}("0."+t)},af=function(t){for(var n=0;n<t.length-1&&"0"===t.charAt(n);)n++;return 0===n?t:t.slice(n)},I0=function(t){switch(t){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},P0=function(t){function n(e){var r=t.call(this,e.message)||this;return Object.setPrototypeOf(r,n.prototype),r.name=e.name,r.$fault=e.$fault,r.$metadata=e.$metadata,r}return(0,re.ZT)(n,t),n}(Error),xi=function(t,n){return void 0===n&&(n={}),Object.entries(n).filter(function(r){return void 0!==(0,re.CR)(r,2)[1]}).forEach(function(r){var o=(0,re.CR)(r,2),s=o[0];(null==t[s]||""===t[s])&&(t[s]=o[1])}),t.message=t.message||t.Message||"UnknownError",delete t.Message,t};function Do(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})}var T0=function(t){var n="#text";for(var e in t)t.hasOwnProperty(e)&&void 0!==t[e][n]?t[e]=t[e][n]:"object"==typeof t[e]&&null!==t[e]&&(t[e]=T0(t[e]));return t},Sm=function(){var t=Object.getPrototypeOf(this).constructor,n=Function.bind.apply(String,(0,re.ev)([null],(0,re.CR)(arguments))),e=new n;return Object.setPrototypeOf(e,t.prototype),e};Sm.prototype=Object.create(String.prototype,{constructor:{value:Sm,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(Sm,String),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}(0,re.ZT)(n,t),n.prototype.deserializeJSON=function(){return JSON.parse(t.prototype.toString.call(this))},n.prototype.toJSON=function(){return t.prototype.toString.call(this)},n.fromObject=function(e){return e instanceof n?e:new n(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(Sm);var na=function(t){function n(e){var r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return(0,re.ZT)(n,t),n}(P0),Em=(function(t){(0,re.ZT)(function n(e){var r=t.call(this,(0,re.pi)({name:"NoSuchUpload",$fault:"client"},e))||this;return r.name="NoSuchUpload",r.$fault="client",Object.setPrototypeOf(r,n.prototype),r},t)}(na),(()=>((Em||(Em={})).filterSensitiveLog=function(n){return(0,re.pi)((0,re.pi)({},n),n.SSEKMSKeyId&&{SSEKMSKeyId:ta})},Em))()),Am=(()=>((Am||(Am={})).filterSensitiveLog=function(n){return(0,re.pi)((0,re.pi)({},n),n.SSECustomerKey&&{SSECustomerKey:ta})},Am))(),Im=(function(t){(0,re.ZT)(function n(e){var r=t.call(this,(0,re.pi)({name:"ObjectNotInActiveTierError",$fault:"client"},e))||this;return r.name="ObjectNotInActiveTierError",r.$fault="client",Object.setPrototypeOf(r,n.prototype),r},t)}(na),function(t){(0,re.ZT)(function n(e){var r=t.call(this,(0,re.pi)({name:"BucketAlreadyExists",$fault:"client"},e))||this;return r.name="BucketAlreadyExists",r.$fault="client",Object.setPrototypeOf(r,n.prototype),r},t)}(na),function(t){(0,re.ZT)(function n(e){var r=t.call(this,(0,re.pi)({name:"BucketAlreadyOwnedByYou",$fault:"client"},e))||this;return r.name="BucketAlreadyOwnedByYou",r.$fault="client",Object.setPrototypeOf(r,n.prototype),r},t)}(na),(()=>((Im||(Im={})).filterSensitiveLog=function(n){return(0,re.pi)((0,re.pi)((0,re.pi)({},n),n.SSEKMSKeyId&&{SSEKMSKeyId:ta}),n.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:ta})},Im))()),Pm=(()=>((Pm||(Pm={})).filterSensitiveLog=function(n){return(0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)({},n),n.SSECustomerKey&&{SSECustomerKey:ta}),n.SSEKMSKeyId&&{SSEKMSKeyId:ta}),n.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:ta})},Pm))(),Tm=(function(t){(0,re.ZT)(function n(e){var r=t.call(this,(0,re.pi)({name:"InvalidObjectState",$fault:"client"},e))||this;return r.name="InvalidObjectState",r.$fault="client",Object.setPrototypeOf(r,n.prototype),r.StorageClass=e.StorageClass,r.AccessTier=e.AccessTier,r},t)}(na),function(t){(0,re.ZT)(function n(e){var r=t.call(this,(0,re.pi)({name:"NoSuchKey",$fault:"client"},e))||this;return r.name="NoSuchKey",r.$fault="client",Object.setPrototypeOf(r,n.prototype),r},t)}(na),function(t){(0,re.ZT)(function n(e){var r=t.call(this,(0,re.pi)({name:"NotFound",$fault:"client"},e))||this;return r.name="NotFound",r.$fault="client",Object.setPrototypeOf(r,n.prototype),r},t)}(na),function(t){(0,re.ZT)(function n(e){var r=t.call(this,(0,re.pi)({name:"NoSuchBucket",$fault:"client"},e))||this;return r.name="NoSuchBucket",r.$fault="client",Object.setPrototypeOf(r,n.prototype),r},t)}(na),(()=>((Tm||(Tm={})).filterSensitiveLog=function(n){return(0,re.pi)((0,re.pi)((0,re.pi)({},n),n.SSEKMSKeyId&&{SSEKMSKeyId:ta}),n.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:ta})},Tm))()),km=(()=>((km||(km={})).filterSensitiveLog=function(n){return(0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)({},n),n.SSECustomerKey&&{SSECustomerKey:ta}),n.SSEKMSKeyId&&{SSEKMSKeyId:ta}),n.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:ta})},km))();function DS(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}for(var ba=function(){function t(n,e){void 0===e&&(e=[]),this.name=n,this.children=e,this.attributes={}}return t.prototype.withName=function(n){return this.name=n,this},t.prototype.addAttribute=function(n,e){return this.attributes[n]=e,this},t.prototype.addChildNode=function(n){return this.children.push(n),this},t.prototype.removeAttribute=function(n){return delete this.attributes[n],this},t.prototype.toString=function(){var n,e,r=Boolean(this.children.length),o="<"+this.name,s=this.attributes;try{for(var l=(0,re.XA)(Object.keys(s)),u=l.next();!u.done;u=l.next()){var p=u.value,f=s[p];null!=f&&(o+=" "+p+'="'+DS(""+f)+'"')}}catch(v){n={error:v}}finally{try{u&&!u.done&&(e=l.return)&&e.call(l)}finally{if(n)throw n.error}}return o+(r?">"+this.children.map(function(v){return v.toString()}).join("")+"</"+this.name+">":"/>")},t}(),Js=function(){function t(n){this.value=n}return t.prototype.toString=function(){return function jS(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}(""+this.value)},t}(),BS=S(1945),LS=S(9083),XS=function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r,o,s,l,u;return(0,re.Jh)(this,function(p){switch(p.label){case 0:return r=[(0,re.pi)({},t)],u={},[4,St(t.body,n)];case 1:throw e=re.pi.apply(void 0,r.concat([(u.body=p.sent(),u)])),s=Ot(t,e.body),o=new na({name:(l=e.body).code||l.Code||s,$fault:"client",$metadata:at(t)}),xi(o,l)}})})},QS=function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r,o,s;return(0,re.Jh)(this,function(l){switch(l.label){case 0:return 200!==t.statusCode&&t.statusCode>=300?[2,YS(t,n)]:(e={$metadata:at(t),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,BucketKeyEnabled:void 0,ChecksumAlgorithm:void 0,Key:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,UploadId:void 0},void 0!==t.headers["x-amz-abort-date"]&&(e.AbortDate=Cm(function(t){if(null!=t){if("string"!=typeof t)throw new TypeError("RFC-7231 date-times must be expressed as strings");var n=ES.exec(t);if(n){var e=(0,re.CR)(n,8),o=e[1],s=e[2],u=e[4],p=e[5],f=e[6],v=e[7];return xm(uy(af(e[3])),dy(s),Ws(o,"day",1,31),{hours:u,minutes:p,seconds:f,fractionalMilliseconds:v})}if(n=AS.exec(t)){var D=(0,re.CR)(n,8);return o=D[1],s=D[2],u=D[4],p=D[5],f=D[6],v=D[7],function(t){return t.getTime()-(new Date).getTime()>15768e8?new Date(Date.UTC(t.getUTCFullYear()-100,t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())):t}(xm(function(t){var n=(new Date).getUTCFullYear(),e=100*Math.floor(n/100)+uy(af(t));return e<n?e+100:e}(D[3]),dy(s),Ws(o,"day",1,31),{hours:u,minutes:p,seconds:f,fractionalMilliseconds:v}))}if(n=IS.exec(t)){var Y=(0,re.CR)(n,8);return s=Y[1],o=Y[2],u=Y[3],p=Y[4],f=Y[5],v=Y[6],xm(uy(af(Y[7])),dy(s),Ws(o.trimLeft(),"day",1,31),{hours:u,minutes:p,seconds:f,fractionalMilliseconds:v})}throw new TypeError("Invalid RFC-7231 date-time value")}}(t.headers["x-amz-abort-date"]))),void 0!==t.headers["x-amz-abort-rule-id"]&&(e.AbortRuleId=t.headers["x-amz-abort-rule-id"]),void 0!==t.headers["x-amz-server-side-encryption"]&&(e.ServerSideEncryption=t.headers["x-amz-server-side-encryption"]),void 0!==t.headers["x-amz-server-side-encryption-customer-algorithm"]&&(e.SSECustomerAlgorithm=t.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==t.headers["x-amz-server-side-encryption-customer-key-md5"]&&(e.SSECustomerKeyMD5=t.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==t.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(e.SSEKMSKeyId=t.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==t.headers["x-amz-server-side-encryption-context"]&&(e.SSEKMSEncryptionContext=t.headers["x-amz-server-side-encryption-context"]),void 0!==t.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(e.BucketKeyEnabled=wm(t.headers["x-amz-server-side-encryption-bucket-key-enabled"])),void 0!==t.headers["x-amz-request-charged"]&&(e.RequestCharged=t.headers["x-amz-request-charged"]),void 0!==t.headers["x-amz-checksum-algorithm"]&&(e.ChecksumAlgorithm=t.headers["x-amz-checksum-algorithm"]),o=Cm,s=ly,[4,St(t.body,n)]);case 1:return void 0!==(r=o.apply(void 0,[s.apply(void 0,[l.sent()]),"body"])).Bucket&&(e.Bucket=dr(r.Bucket)),void 0!==r.Key&&(e.Key=dr(r.Key)),void 0!==r.UploadId&&(e.UploadId=dr(r.UploadId)),[2,Promise.resolve(e)]}})})},YS=function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r,o,s,l,u;return(0,re.Jh)(this,function(p){switch(p.label){case 0:return r=[(0,re.pi)({},t)],u={},[4,St(t.body,n)];case 1:throw e=re.pi.apply(void 0,r.concat([(u.body=p.sent(),u)])),s=Ot(t,e.body),o=new na({name:(l=e.body).code||l.Code||s,$fault:"client",$metadata:at(t)}),xi(o,l)}})})},xE=function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r,o,s,l,u;return(0,re.Jh)(this,function(p){switch(p.label){case 0:return r=[(0,re.pi)({},t)],u={},[4,St(t.body,n)];case 1:throw e=re.pi.apply(void 0,r.concat([(u.body=p.sent(),u)])),s=Ot(t,e.body),o=new na({name:(l=e.body).code||l.Code||s,$fault:"client",$metadata:at(t)}),xi(o,l)}})})},TE=function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r,o,s,l,u;return(0,re.Jh)(this,function(p){switch(p.label){case 0:return r=[(0,re.pi)({},t)],u={},[4,St(t.body,n)];case 1:throw e=re.pi.apply(void 0,r.concat([(u.body=p.sent(),u)])),s=Ot(t,e.body),o=new na({name:(l=e.body).code||l.Code||s,$fault:"client",$metadata:at(t)}),xi(o,l)}})})},OE=function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r,o,s,l,u;return(0,re.Jh)(this,function(p){switch(p.label){case 0:return r=[(0,re.pi)({},t)],u={},[4,St(t.body,n)];case 1:throw e=re.pi.apply(void 0,r.concat([(u.body=p.sent(),u)])),s=Ot(t,e.body),o=new na({name:(l=e.body).code||l.Code||s,$fault:"client",$metadata:at(t)}),xi(o,l)}})})},M0=function(t,n){var e=new ba("CompletedMultipartUpload");return null!=t.Parts&&aA(t.Parts,n).map(function(o){o=o.withName("Part"),e.addChildNode(o)}),e},aA=function(t,n){return t.filter(function(e){return null!=e}).map(function(e){if(null===e)return null;var r=function(t,n){var e=new ba("CompletedPart");if(null!=t.ETag){var r=new ba("ETag").addChildNode(new Js(t.ETag)).withName("ETag");e.addChildNode(r)}return null!=t.ChecksumCRC32&&(r=new ba("ChecksumCRC32").addChildNode(new Js(t.ChecksumCRC32)).withName("ChecksumCRC32"),e.addChildNode(r)),null!=t.ChecksumCRC32C&&(r=new ba("ChecksumCRC32C").addChildNode(new Js(t.ChecksumCRC32C)).withName("ChecksumCRC32C"),e.addChildNode(r)),null!=t.ChecksumSHA1&&(r=new ba("ChecksumSHA1").addChildNode(new Js(t.ChecksumSHA1)).withName("ChecksumSHA1"),e.addChildNode(r)),null!=t.ChecksumSHA256&&(r=new ba("ChecksumSHA256").addChildNode(new Js(t.ChecksumSHA256)).withName("ChecksumSHA256"),e.addChildNode(r)),null!=t.PartNumber&&(r=new ba("PartNumber").addChildNode(new Js(String(t.PartNumber))).withName("PartNumber"),e.addChildNode(r)),e}(e);return r.withName("member")})},sf=function(t,n){var e=new ba("Tagging");if(null!=t.TagSet){var r=pc(t.TagSet,n),o=new ba("TagSet");r.map(function(s){o.addChildNode(s)}),e.addChildNode(o)}return e},pc=function(t,n){return t.filter(function(e){return null!=e}).map(function(e){return null===e?null:function(t,n){var e=new ba("Tag");if(null!=t.Key){var r=new ba("ObjectKey").addChildNode(new Js(t.Key)).withName("Key");e.addChildNode(r)}return null!=t.Value&&(r=new ba("Value").addChildNode(new Js(t.Value)).withName("Value"),e.addChildNode(r)),e}(e).withName("Tag")})},at=function(t){var n;return{httpStatusCode:t.statusCode,requestId:null!==(n=t.headers["x-amzn-requestid"])&&void 0!==n?n:t.headers["x-amzn-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}},an=function(t,n){return void 0===t&&(t=new Uint8Array),t instanceof Uint8Array?Promise.resolve(t):n.streamCollector(t)||Promise.resolve(new Uint8Array)},Ae=function(t){return!(null==t||""===t||Object.getOwnPropertyNames(t).includes("length")&&0==t.length||Object.getOwnPropertyNames(t).includes("size")&&0==t.size)},St=function(t,n){return function(t,n){return an(t,n).then(function(e){return n.utf8Encoder(e)})}(t,n).then(function(e){if(e.length){var r=(0,LS.parse)(e,{attributeNamePrefix:"",ignoreAttributes:!1,parseNodeValue:!1,trimValues:!1,tagValueProcessor:function(u){return""===u.trim()&&u.includes("\n")?"":(0,BS.p1)(u)}}),o="#text",s=Object.keys(r)[0],l=r[s];return l[o]&&(l[s]=l[o],delete l[o]),T0(l)}return{}})},Ot=function(t,n){return void 0!==n.Code?n.Code:404==t.statusCode?"NotFound":""},QT=function(t){function n(e){var r=t.call(this)||this;return r.input=e,r}return(0,re.ZT)(n,t),n.prototype.resolveMiddleware=function(e,r,o){this.middlewareStack.use(Kl(r,this.serialize,this.deserialize)),this.middlewareStack.use(_m(r)),this.middlewareStack.use(dn(r)),this.middlewareStack.use(iy(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));var s=e.concat(this.middlewareStack),v=r.requestHandler;return s.resolve(function(D){return v.handle(D.request,o||{})},{logger:r.logger,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:km.filterSensitiveLog,outputFilterSensitiveLog:Tm.filterSensitiveLog})},n.prototype.serialize=function(e,r){return function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r,o,s,l,u,p,f,v,J;return(0,re.Jh)(this,function(he){switch(he.label){case 0:return[4,n.endpoint()];case 1:if(e=he.sent(),r=e.hostname,s=void 0===(o=e.protocol)?"https":o,l=e.port,u=e.path,p=(0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)({"content-type":"application/octet-stream"},Ae(t.ACL)&&{"x-amz-acl":t.ACL}),Ae(t.CacheControl)&&{"cache-control":t.CacheControl}),Ae(t.ContentDisposition)&&{"content-disposition":t.ContentDisposition}),Ae(t.ContentEncoding)&&{"content-encoding":t.ContentEncoding}),Ae(t.ContentLanguage)&&{"content-language":t.ContentLanguage}),Ae(t.ContentLength)&&{"content-length":t.ContentLength.toString()}),Ae(t.ContentMD5)&&{"content-md5":t.ContentMD5}),Ae(t.ContentType)&&{"content-type":t.ContentType}),Ae(t.ChecksumAlgorithm)&&{"x-amz-sdk-checksum-algorithm":t.ChecksumAlgorithm}),Ae(t.ChecksumCRC32)&&{"x-amz-checksum-crc32":t.ChecksumCRC32}),Ae(t.ChecksumCRC32C)&&{"x-amz-checksum-crc32c":t.ChecksumCRC32C}),Ae(t.ChecksumSHA1)&&{"x-amz-checksum-sha1":t.ChecksumSHA1}),Ae(t.ChecksumSHA256)&&{"x-amz-checksum-sha256":t.ChecksumSHA256}),Ae(t.Expires)&&{expires:A0(t.Expires).toString()}),Ae(t.GrantFullControl)&&{"x-amz-grant-full-control":t.GrantFullControl}),Ae(t.GrantRead)&&{"x-amz-grant-read":t.GrantRead}),Ae(t.GrantReadACP)&&{"x-amz-grant-read-acp":t.GrantReadACP}),Ae(t.GrantWriteACP)&&{"x-amz-grant-write-acp":t.GrantWriteACP}),Ae(t.ServerSideEncryption)&&{"x-amz-server-side-encryption":t.ServerSideEncryption}),Ae(t.StorageClass)&&{"x-amz-storage-class":t.StorageClass}),Ae(t.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":t.WebsiteRedirectLocation}),Ae(t.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":t.SSECustomerAlgorithm}),Ae(t.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":t.SSECustomerKey}),Ae(t.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":t.SSECustomerKeyMD5}),Ae(t.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":t.SSEKMSKeyId}),Ae(t.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":t.SSEKMSEncryptionContext}),Ae(t.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":t.BucketKeyEnabled.toString()}),Ae(t.RequestPayer)&&{"x-amz-request-payer":t.RequestPayer}),Ae(t.Tagging)&&{"x-amz-tagging":t.Tagging}),Ae(t.ObjectLockMode)&&{"x-amz-object-lock-mode":t.ObjectLockMode}),Ae(t.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(t.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),Ae(t.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":t.ObjectLockLegalHoldStatus}),Ae(t.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":t.ExpectedBucketOwner}),void 0!==t.Metadata&&Object.keys(t.Metadata).reduce(function(Ue,Oe){var De;return(0,re.pi)((0,re.pi)({},Ue),((De={})["x-amz-meta-"+Oe.toLowerCase()]=t.Metadata[Oe],De))},{})),f=((null==u?void 0:u.endsWith("/"))?u.slice(0,-1):u||"")+"/{Bucket}/{Key+}",void 0===t.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((v=t.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(f=f.replace("{Bucket}",Do(v)),void 0===t.Key)throw new Error("No value provided for input HTTP label: Key.");if((v=t.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return f=f.replace("{Key+}",v.split("/").map(function(Ue){return Do(Ue)}).join("/")),void 0!==t.Body&&(J=t.Body),void 0!==t.Body&&(J=t.Body),[2,new er({protocol:s,hostname:r,port:l,method:"PUT",headers:p,path:f,query:{"x-id":"PutObject"},body:J})]}})})}(e,r)},n.prototype.deserialize=function(e,r){return function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e;return(0,re.Jh)(this,function(r){switch(r.label){case 0:return 200!==t.statusCode&&t.statusCode>=300?[2,xE(t,n)]:(e={$metadata:at(t),BucketKeyEnabled:void 0,ChecksumCRC32:void 0,ChecksumCRC32C:void 0,ChecksumSHA1:void 0,ChecksumSHA256:void 0,ETag:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==t.headers["x-amz-expiration"]&&(e.Expiration=t.headers["x-amz-expiration"]),void 0!==t.headers.etag&&(e.ETag=t.headers.etag),void 0!==t.headers["x-amz-checksum-crc32"]&&(e.ChecksumCRC32=t.headers["x-amz-checksum-crc32"]),void 0!==t.headers["x-amz-checksum-crc32c"]&&(e.ChecksumCRC32C=t.headers["x-amz-checksum-crc32c"]),void 0!==t.headers["x-amz-checksum-sha1"]&&(e.ChecksumSHA1=t.headers["x-amz-checksum-sha1"]),void 0!==t.headers["x-amz-checksum-sha256"]&&(e.ChecksumSHA256=t.headers["x-amz-checksum-sha256"]),void 0!==t.headers["x-amz-server-side-encryption"]&&(e.ServerSideEncryption=t.headers["x-amz-server-side-encryption"]),void 0!==t.headers["x-amz-version-id"]&&(e.VersionId=t.headers["x-amz-version-id"]),void 0!==t.headers["x-amz-server-side-encryption-customer-algorithm"]&&(e.SSECustomerAlgorithm=t.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==t.headers["x-amz-server-side-encryption-customer-key-md5"]&&(e.SSECustomerKeyMD5=t.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==t.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(e.SSEKMSKeyId=t.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==t.headers["x-amz-server-side-encryption-context"]&&(e.SSEKMSEncryptionContext=t.headers["x-amz-server-side-encryption-context"]),void 0!==t.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(e.BucketKeyEnabled=wm(t.headers["x-amz-server-side-encryption-bucket-key-enabled"])),void 0!==t.headers["x-amz-request-charged"]&&(e.RequestCharged=t.headers["x-amz-request-charged"]),[4,an(t.body,n)]);case 1:return r.sent(),[2,Promise.resolve(e)]}})})}(e,r)},n}(Xl),YT=function(t){function n(e){var r=t.call(this)||this;return r.input=e,r}return(0,re.ZT)(n,t),n.prototype.resolveMiddleware=function(e,r,o){this.middlewareStack.use(Kl(r,this.serialize,this.deserialize)),this.middlewareStack.use(_m(r)),this.middlewareStack.use(dn(r));var s=e.concat(this.middlewareStack),v=r.requestHandler;return s.resolve(function(D){return v.handle(D.request,o||{})},{logger:r.logger,clientName:"S3Client",commandName:"CreateMultipartUploadCommand",inputFilterSensitiveLog:Pm.filterSensitiveLog,outputFilterSensitiveLog:Im.filterSensitiveLog})},n.prototype.serialize=function(e,r){return function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r,o,s,l,u,p,f,v;return(0,re.Jh)(this,function(Y){switch(Y.label){case 0:return[4,n.endpoint()];case 1:if(e=Y.sent(),r=e.hostname,s=void 0===(o=e.protocol)?"https":o,l=e.port,u=e.path,p=(0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)({},Ae(t.ACL)&&{"x-amz-acl":t.ACL}),Ae(t.CacheControl)&&{"cache-control":t.CacheControl}),Ae(t.ContentDisposition)&&{"content-disposition":t.ContentDisposition}),Ae(t.ContentEncoding)&&{"content-encoding":t.ContentEncoding}),Ae(t.ContentLanguage)&&{"content-language":t.ContentLanguage}),Ae(t.ContentType)&&{"content-type":t.ContentType}),Ae(t.Expires)&&{expires:A0(t.Expires).toString()}),Ae(t.GrantFullControl)&&{"x-amz-grant-full-control":t.GrantFullControl}),Ae(t.GrantRead)&&{"x-amz-grant-read":t.GrantRead}),Ae(t.GrantReadACP)&&{"x-amz-grant-read-acp":t.GrantReadACP}),Ae(t.GrantWriteACP)&&{"x-amz-grant-write-acp":t.GrantWriteACP}),Ae(t.ServerSideEncryption)&&{"x-amz-server-side-encryption":t.ServerSideEncryption}),Ae(t.StorageClass)&&{"x-amz-storage-class":t.StorageClass}),Ae(t.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":t.WebsiteRedirectLocation}),Ae(t.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":t.SSECustomerAlgorithm}),Ae(t.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":t.SSECustomerKey}),Ae(t.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":t.SSECustomerKeyMD5}),Ae(t.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":t.SSEKMSKeyId}),Ae(t.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":t.SSEKMSEncryptionContext}),Ae(t.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":t.BucketKeyEnabled.toString()}),Ae(t.RequestPayer)&&{"x-amz-request-payer":t.RequestPayer}),Ae(t.Tagging)&&{"x-amz-tagging":t.Tagging}),Ae(t.ObjectLockMode)&&{"x-amz-object-lock-mode":t.ObjectLockMode}),Ae(t.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(t.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),Ae(t.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":t.ObjectLockLegalHoldStatus}),Ae(t.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":t.ExpectedBucketOwner}),Ae(t.ChecksumAlgorithm)&&{"x-amz-checksum-algorithm":t.ChecksumAlgorithm}),void 0!==t.Metadata&&Object.keys(t.Metadata).reduce(function(he,Ue){var Oe;return(0,re.pi)((0,re.pi)({},he),((Oe={})["x-amz-meta-"+Ue.toLowerCase()]=t.Metadata[Ue],Oe))},{})),f=((null==u?void 0:u.endsWith("/"))?u.slice(0,-1):u||"")+"/{Bucket}/{Key+}",void 0===t.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((v=t.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(f=f.replace("{Bucket}",Do(v)),void 0===t.Key)throw new Error("No value provided for input HTTP label: Key.");if((v=t.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return f=f.replace("{Key+}",v.split("/").map(function(he){return Do(he)}).join("/")),[2,new er({protocol:s,hostname:r,port:l,method:"POST",headers:p,path:f,query:{uploads:"","x-id":"CreateMultipartUpload"},body:void 0})]}})})}(e,r)},n.prototype.deserialize=function(e,r){return QS(e,r)},n}(Xl),Om=(()=>((Om||(Om={})).filterSensitiveLog=function(n){return(0,re.pi)({},n)},Om))(),Fm=(()=>((Fm||(Fm={})).filterSensitiveLog=function(n){return(0,re.pi)({},n)},Fm))(),Mm=(function(t){(0,re.ZT)(function n(e){var r=t.call(this,(0,re.pi)({name:"ObjectAlreadyInActiveTierError",$fault:"client"},e))||this;return r.name="ObjectAlreadyInActiveTierError",r.$fault="client",Object.setPrototypeOf(r,n.prototype),r},t)}(na),(()=>((Mm||(Mm={})).filterSensitiveLog=function(n){return(0,re.pi)((0,re.pi)({},n),n.SSEKMSKeyId&&{SSEKMSKeyId:ta})},Mm))()),Dm=(()=>((Dm||(Dm={})).filterSensitiveLog=function(n){return(0,re.pi)((0,re.pi)({},n),n.SSECustomerKey&&{SSECustomerKey:ta})},Dm))(),ZT=function(t){function n(e){var r=t.call(this)||this;return r.input=e,r}return(0,re.ZT)(n,t),n.prototype.resolveMiddleware=function(e,r,o){this.middlewareStack.use(Kl(r,this.serialize,this.deserialize)),this.middlewareStack.use(_m(r)),this.middlewareStack.use(dn(r)),this.middlewareStack.use(iy(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));var s=e.concat(this.middlewareStack),v=r.requestHandler;return s.resolve(function(D){return v.handle(D.request,o||{})},{logger:r.logger,clientName:"S3Client",commandName:"UploadPartCommand",inputFilterSensitiveLog:Dm.filterSensitiveLog,outputFilterSensitiveLog:Mm.filterSensitiveLog})},n.prototype.serialize=function(e,r){return function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r,o,s,l,u,p,f,v,D,J;return(0,re.Jh)(this,function(he){switch(he.label){case 0:return[4,n.endpoint()];case 1:if(e=he.sent(),r=e.hostname,s=void 0===(o=e.protocol)?"https":o,l=e.port,u=e.path,p=(0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)({"content-type":"application/octet-stream"},Ae(t.ContentLength)&&{"content-length":t.ContentLength.toString()}),Ae(t.ContentMD5)&&{"content-md5":t.ContentMD5}),Ae(t.ChecksumAlgorithm)&&{"x-amz-sdk-checksum-algorithm":t.ChecksumAlgorithm}),Ae(t.ChecksumCRC32)&&{"x-amz-checksum-crc32":t.ChecksumCRC32}),Ae(t.ChecksumCRC32C)&&{"x-amz-checksum-crc32c":t.ChecksumCRC32C}),Ae(t.ChecksumSHA1)&&{"x-amz-checksum-sha1":t.ChecksumSHA1}),Ae(t.ChecksumSHA256)&&{"x-amz-checksum-sha256":t.ChecksumSHA256}),Ae(t.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":t.SSECustomerAlgorithm}),Ae(t.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":t.SSECustomerKey}),Ae(t.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":t.SSECustomerKeyMD5}),Ae(t.RequestPayer)&&{"x-amz-request-payer":t.RequestPayer}),Ae(t.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":t.ExpectedBucketOwner}),f=((null==u?void 0:u.endsWith("/"))?u.slice(0,-1):u||"")+"/{Bucket}/{Key+}",void 0===t.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((v=t.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(f=f.replace("{Bucket}",Do(v)),void 0===t.Key)throw new Error("No value provided for input HTTP label: Key.");if((v=t.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return f=f.replace("{Key+}",v.split("/").map(function(Ue){return Do(Ue)}).join("/")),D=(0,re.pi)((0,re.pi)({"x-id":"UploadPart"},void 0!==t.PartNumber&&{partNumber:t.PartNumber.toString()}),void 0!==t.UploadId&&{uploadId:t.UploadId}),void 0!==t.Body&&(J=t.Body),void 0!==t.Body&&(J=t.Body),[2,new er({protocol:s,hostname:r,port:l,method:"PUT",headers:p,path:f,query:D,body:J})]}})})}(e,r)},n.prototype.deserialize=function(e,r){return function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e;return(0,re.Jh)(this,function(r){switch(r.label){case 0:return 200!==t.statusCode&&t.statusCode>=300?[2,OE(t,n)]:(e={$metadata:at(t),BucketKeyEnabled:void 0,ChecksumCRC32:void 0,ChecksumCRC32C:void 0,ChecksumSHA1:void 0,ChecksumSHA256:void 0,ETag:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0},void 0!==t.headers["x-amz-server-side-encryption"]&&(e.ServerSideEncryption=t.headers["x-amz-server-side-encryption"]),void 0!==t.headers.etag&&(e.ETag=t.headers.etag),void 0!==t.headers["x-amz-checksum-crc32"]&&(e.ChecksumCRC32=t.headers["x-amz-checksum-crc32"]),void 0!==t.headers["x-amz-checksum-crc32c"]&&(e.ChecksumCRC32C=t.headers["x-amz-checksum-crc32c"]),void 0!==t.headers["x-amz-checksum-sha1"]&&(e.ChecksumSHA1=t.headers["x-amz-checksum-sha1"]),void 0!==t.headers["x-amz-checksum-sha256"]&&(e.ChecksumSHA256=t.headers["x-amz-checksum-sha256"]),void 0!==t.headers["x-amz-server-side-encryption-customer-algorithm"]&&(e.SSECustomerAlgorithm=t.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==t.headers["x-amz-server-side-encryption-customer-key-md5"]&&(e.SSECustomerKeyMD5=t.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==t.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(e.SSEKMSKeyId=t.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==t.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(e.BucketKeyEnabled=wm(t.headers["x-amz-server-side-encryption-bucket-key-enabled"])),void 0!==t.headers["x-amz-request-charged"]&&(e.RequestCharged=t.headers["x-amz-request-charged"]),[4,an(t.body,n)]);case 1:return r.sent(),[2,Promise.resolve(e)]}})})}(e,r)},n}(Xl),y_={},gy={},lf=0;lf<256;lf++){var uf=lf.toString(16).toLowerCase();1===uf.length&&(uf="0"+uf),y_[lf]=uf,gy[uf]=lf}function wa(t){for(var n="",e=0;e<t.byteLength;e++)n+=y_[t[e]];return n}var v_="X-Amz-Date",__="X-Amz-Signature",b_="X-Amz-Security-Token",w_="authorization",C_=v_.toLowerCase(),ok=[w_,C_,"date"],sk=__.toLowerCase(),yy="x-amz-content-sha256",lk=b_.toLowerCase(),uk={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},ck=/^proxy-/,dk=/^sec-/,vy="AWS4-HMAC-SHA256",fk="AWS4-HMAC-SHA256-PAYLOAD",x_="aws4_request",hc={},jm=[],_y=function(t,n,e){return t+"/"+n+"/"+e+"/"+x_},S_=function(t,n,e){var r=new t(n);return r.update(e),r.digest()},E_=function(t,n,e){var r,o,s=t.headers,l={};try{for(var u=(0,re.XA)(Object.keys(s).sort()),p=u.next();!p.done;p=u.next()){var f=p.value,v=f.toLowerCase();(v in uk||(null==n?void 0:n.has(v))||ck.test(v)||dk.test(v))&&(!e||e&&!e.has(v))||(l[v]=s[f].trim().replace(/\s+/g," "))}}catch(D){r={error:D}}finally{try{p&&!p.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}return l},Jl=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,yk)},yk=function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()},by=function(t,n){var e=t.headers,r=t.body;return(0,re.mG)(void 0,void 0,void 0,function(){var o,s,l,u,p,f,v;return(0,re.Jh)(this,function(D){switch(D.label){case 0:try{for(o=(0,re.XA)(Object.keys(e)),s=o.next();!s.done;s=o.next())if((l=s.value).toLowerCase()===yy)return[2,e[l]]}catch(J){f={error:J}}finally{try{s&&!s.done&&(v=o.return)&&v.call(o)}finally{if(f)throw f.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||vm(r)?((u=new n).update(r),p=wa,[4,u.digest()]):[3,3];case 2:return[2,p.apply(void 0,[D.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}})})},A_=function(t){var n=t.headers,e=t.query,r=(0,re._T)(t,["headers","query"]);return(0,re.pi)((0,re.pi)({},r),{headers:(0,re.pi)({},n),query:e?bk(e):void 0})},bk=function(t){return Object.keys(t).reduce(function(n,e){var r,o=t[e];return(0,re.pi)((0,re.pi)({},n),((r={})[e]=Array.isArray(o)?(0,re.ev)([],(0,re.CR)(o)):o,r))},{})},I_=function(t){var n,e;t="function"==typeof t.clone?t.clone():A_(t);try{for(var r=(0,re.XA)(Object.keys(t.headers)),o=r.next();!o.done;o=r.next()){var s=o.value;ok.indexOf(s.toLowerCase())>-1&&delete t.headers[s]}}catch(l){n={error:l}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(n)throw n.error}}return t},cf=function(){function t(n){var e=n.applyChecksum,r=n.credentials,o=n.region,l=n.sha256,u=n.uriEscapePath,p=void 0===u||u;this.service=n.service,this.sha256=l,this.uriEscapePath=p,this.applyChecksum="boolean"!=typeof e||e,this.regionProvider=function(t){if("string"==typeof t){var n=Promise.resolve(t);return function(){return n}}return t}(o),this.credentialProvider=function(t){if("object"==typeof t){var n=Promise.resolve(t);return function(){return n}}return t}(r)}return t.prototype.presign=function(n,e){return void 0===e&&(e={}),(0,re.mG)(this,void 0,void 0,function(){var r,o,s,l,u,p,f,v,D,J,Y,he,Ue,Oe,De,Xe,tt,ct,bt,Tt,Mt,Wt,jn,In;return(0,re.Jh)(this,function(Vt){switch(Vt.label){case 0:return o=void 0===(r=e.signingDate)?new Date:r,l=void 0===(s=e.expiresIn)?3600:s,u=e.unsignableHeaders,p=e.unhoistableHeaders,f=e.signableHeaders,v=e.signingRegion,D=e.signingService,[4,this.credentialProvider()];case 1:return J=Vt.sent(),null==v?[3,2]:(he=v,[3,4]);case 2:return[4,this.regionProvider()];case 3:he=Vt.sent(),Vt.label=4;case 4:return Y=he,Ue=Bm(o),Oe=Ue.longDate,De=Ue.shortDate,l>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(Xe=_y(De,Y,D??this.service),tt=function(t,n){var e,r,o;void 0===n&&(n={});var s="function"==typeof t.clone?t.clone():A_(t),l=s.headers,u=s.query,p=void 0===u?{}:u;try{for(var f=(0,re.XA)(Object.keys(l)),v=f.next();!v.done;v=f.next()){var D=v.value,J=D.toLowerCase();"x-amz-"===J.substr(0,6)&&!(null===(o=n.unhoistableHeaders)||void 0===o?void 0:o.has(J))&&(p[D]=l[D],delete l[D])}}catch(Y){e={error:Y}}finally{try{v&&!v.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}return(0,re.pi)((0,re.pi)({},t),{headers:l,query:p})}(I_(n),{unhoistableHeaders:p}),J.sessionToken&&(tt.query[b_]=J.sessionToken),tt.query["X-Amz-Algorithm"]=vy,tt.query["X-Amz-Credential"]=J.accessKeyId+"/"+Xe,tt.query[v_]=Oe,tt.query["X-Amz-Expires"]=l.toString(10),ct=E_(tt,u,f),tt.query["X-Amz-SignedHeaders"]=P_(ct),bt=tt.query,Tt=__,Mt=this.getSignature,Wt=[Oe,Xe,this.getSigningKey(J,Y,De,D)],jn=this.createCanonicalRequest,In=[tt,ct],[4,by(n,this.sha256)]);case 5:return[4,Mt.apply(this,Wt.concat([jn.apply(this,In.concat([Vt.sent()]))]))];case 6:return bt[Tt]=Vt.sent(),[2,tt]}})})},t.prototype.sign=function(n,e){return(0,re.mG)(this,void 0,void 0,function(){return(0,re.Jh)(this,function(r){return"string"==typeof n?[2,this.signString(n,e)]:n.headers&&n.payload?[2,this.signEvent(n,e)]:[2,this.signRequest(n,e)]})})},t.prototype.signEvent=function(n,e){var r=n.headers,o=n.payload,s=e.signingDate,l=void 0===s?new Date:s,u=e.priorSignature,p=e.signingRegion,f=e.signingService;return(0,re.mG)(this,void 0,void 0,function(){var v,D,J,he,Ue,Oe,De,Xe,tt,ct;return(0,re.Jh)(this,function(bt){switch(bt.label){case 0:return null==p?[3,1]:(D=p,[3,3]);case 1:return[4,this.regionProvider()];case 2:D=bt.sent(),bt.label=3;case 3:return v=D,J=Bm(l),he=J.longDate,Ue=_y(J.shortDate,v,f??this.service),[4,by({headers:{},body:o},this.sha256)];case 4:return Oe=bt.sent(),(De=new this.sha256).update(r),tt=wa,[4,De.digest()];case 5:return Xe=tt.apply(void 0,[bt.sent()]),ct=[fk,he,Ue,u,Xe,Oe].join("\n"),[2,this.signString(ct,{signingDate:l,signingRegion:v,signingService:f})]}})})},t.prototype.signString=function(n,e){var r=void 0===e?{}:e,o=r.signingDate,s=void 0===o?new Date:o,l=r.signingRegion,u=r.signingService;return(0,re.mG)(this,void 0,void 0,function(){var p,f,v,D,J,Y,he,Ue;return(0,re.Jh)(this,function(Oe){switch(Oe.label){case 0:return[4,this.credentialProvider()];case 1:return p=Oe.sent(),null==l?[3,2]:(v=l,[3,4]);case 2:return[4,this.regionProvider()];case 3:v=Oe.sent(),Oe.label=4;case 4:return f=v,D=Bm(s).shortDate,he=(Y=this.sha256).bind,[4,this.getSigningKey(p,f,D,u)];case 5:return(J=new(he.apply(Y,[void 0,Oe.sent()]))).update(n),Ue=wa,[4,J.digest()];case 6:return[2,Ue.apply(void 0,[Oe.sent()])]}})})},t.prototype.signRequest=function(n,e){var r=void 0===e?{}:e,o=r.signingDate,s=void 0===o?new Date:o,l=r.signableHeaders,u=r.unsignableHeaders,p=r.signingRegion,f=r.signingService;return(0,re.mG)(this,void 0,void 0,function(){var v,D,J,Y,he,Ue,Oe,De,Xe,tt,ct;return(0,re.Jh)(this,function(bt){switch(bt.label){case 0:return[4,this.credentialProvider()];case 1:return v=bt.sent(),null==p?[3,2]:(J=p,[3,4]);case 2:return[4,this.regionProvider()];case 3:J=bt.sent(),bt.label=4;case 4:return D=J,Y=I_(n),he=Bm(s),Ue=he.longDate,De=_y(Oe=he.shortDate,D,f??this.service),Y.headers[C_]=Ue,v.sessionToken&&(Y.headers[lk]=v.sessionToken),[4,by(Y,this.sha256)];case 5:return Xe=bt.sent(),!function(t,n){var e,r;t=t.toLowerCase();try{for(var o=(0,re.XA)(Object.keys(n)),s=o.next();!s.done;s=o.next())if(t===s.value.toLowerCase())return!0}catch(u){e={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return!1}(yy,Y.headers)&&this.applyChecksum&&(Y.headers[yy]=Xe),tt=E_(Y,u,l),[4,this.getSignature(Ue,De,this.getSigningKey(v,D,Oe,f),this.createCanonicalRequest(Y,tt,Xe))];case 6:return ct=bt.sent(),Y.headers[w_]=vy+" Credential="+v.accessKeyId+"/"+De+", SignedHeaders="+P_(tt)+", Signature="+ct,[2,Y]}})})},t.prototype.createCanonicalRequest=function(n,e,r){var o=Object.keys(e).sort();return n.method+"\n"+this.getCanonicalPath(n)+"\n"+function(t){var n,e,r=t.query,o=void 0===r?{}:r,s=[],l={},u=function(D){if(D.toLowerCase()===sk)return"continue";s.push(D);var J=o[D];"string"==typeof J?l[D]=Jl(D)+"="+Jl(J):Array.isArray(J)&&(l[D]=J.slice(0).sort().reduce(function(Y,he){return Y.concat([Jl(D)+"="+Jl(he)])},[]).join("&"))};try{for(var p=(0,re.XA)(Object.keys(o).sort()),f=p.next();!f.done;f=p.next())u(f.value)}catch(D){n={error:D}}finally{try{f&&!f.done&&(e=p.return)&&e.call(p)}finally{if(n)throw n.error}}return s.map(function(D){return l[D]}).filter(function(D){return D}).join("&")}(n)+"\n"+o.map(function(s){return s+":"+e[s]}).join("\n")+"\n\n"+o.join(";")+"\n"+r},t.prototype.createStringToSign=function(n,e,r){return(0,re.mG)(this,void 0,void 0,function(){var o,s;return(0,re.Jh)(this,function(l){switch(l.label){case 0:return(o=new this.sha256).update(r),[4,o.digest()];case 1:return s=l.sent(),[2,vy+"\n"+n+"\n"+e+"\n"+wa(s)]}})})},t.prototype.getCanonicalPath=function(n){var e,r,o=n.path;if(this.uriEscapePath){var s=[];try{for(var l=(0,re.XA)(o.split("/")),u=l.next();!u.done;u=l.next()){var p=u.value;0!==(null==p?void 0:p.length)&&"."!==p&&(".."===p?s.pop():s.push(p))}}catch(D){e={error:D}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}var f=((null==o?void 0:o.startsWith("/"))?"/":"")+s.join("/")+(s.length>0&&(null==o?void 0:o.endsWith("/"))?"/":"");return encodeURIComponent(f).replace(/%2F/g,"/")}return o},t.prototype.getSignature=function(n,e,r,o){return(0,re.mG)(this,void 0,void 0,function(){var s,l,u,p,f;return(0,re.Jh)(this,function(v){switch(v.label){case 0:return[4,this.createStringToSign(n,e,o)];case 1:return s=v.sent(),p=(u=this.sha256).bind,[4,r];case 2:return(l=new(p.apply(u,[void 0,v.sent()]))).update(s),f=wa,[4,l.digest()];case 3:return[2,f.apply(void 0,[v.sent()])]}})})},t.prototype.getSigningKey=function(n,e,r,o){return function(t,n,e,r,o){return(0,re.mG)(void 0,void 0,void 0,function(){var s,l,u,p,f,D,J,Y;return(0,re.Jh)(this,function(he){switch(he.label){case 0:return[4,S_(t,n.secretAccessKey,n.accessKeyId)];case 1:if(s=he.sent(),(l=e+":"+r+":"+o+":"+wa(s)+":"+n.sessionToken)in hc)return[2,hc[l]];for(jm.push(l);jm.length>50;)delete hc[jm.shift()];u="AWS4"+n.secretAccessKey,he.label=2;case 2:he.trys.push([2,7,8,9]),p=(0,re.XA)([e,r,o,x_]),f=p.next(),he.label=3;case 3:return f.done?[3,6]:[4,S_(t,u,f.value)];case 4:u=he.sent(),he.label=5;case 5:return f=p.next(),[3,3];case 6:return[3,9];case 7:return D=he.sent(),J={error:D},[3,9];case 8:try{f&&!f.done&&(Y=p.return)&&Y.call(p)}finally{if(J)throw J.error}return[7];case 9:return[2,hc[l]=u]}})})}(this.sha256,n,r,e,o||this.service)},t}(),Bm=function(t){var n=function(t){return function(t){return"number"==typeof t?new Date(1e3*t):"string"==typeof t?Number(t)?new Date(1e3*Number(t)):new Date(t):t}(t).toISOString().replace(/\.\d{3}Z$/,"Z")}(t).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},P_=function(t){return Object.keys(t).sort().join(";")},Ak=function(){function t(n){this.sigv4Signer=new cf(n),this.signerOptions=n}return t.prototype.sign=function(n,e){return void 0===e&&(e={}),(0,re.mG)(this,void 0,void 0,function(){return(0,re.Jh)(this,function(r){if("*"===e.signingRegion){if("node"!==this.signerOptions.runtime)throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return[2,this.getSigv4aSigner().sign(n,e)]}return[2,this.sigv4Signer.sign(n,e)]})})},t.prototype.presign=function(n,e){return void 0===e&&(e={}),(0,re.mG)(this,void 0,void 0,function(){return(0,re.Jh)(this,function(r){if("*"===e.signingRegion){if("node"!==this.signerOptions.runtime)throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return[2,this.getSigv4aSigner().presign(n,e)]}return[2,this.sigv4Signer.presign(n,e)]})})},t.prototype.getSigv4aSigner=function(){if(!this.sigv4aSigner){var n;try{if("function"!=typeof(n=S(3743).CrtSignerV4))throw new Error}catch(e){throw e.message=e.message+'\nPlease check if you have installed "@aws-sdk/signature-v4-crt" package explicitly. \nFor more information please go to https://github.com/aws/aws-sdk-js-v3#known-issues',e}this.sigv4aSigner=new n((0,re.pi)((0,re.pi)({},this.signerOptions),{signingAlgorithm:1}))}return this.sigv4aSigner},t}(),T_=function(t,n){return void 0===t&&(t=new Uint8Array),t instanceof Uint8Array?Promise.resolve(t):n.streamCollector(t)||Promise.resolve(new Uint8Array)},Pk=function(t,n){return T_(t,n).then(function(e){return n.utf8Encoder(e)})},Tk={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},Rk={step:"build",tags:["USE_REGIONAL_ENDPOINT","S3"],name:"useRegionalEndpointMiddleware",override:!0},Fk={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},Dk=function(t){function n(e){var r=t.call(this)||this;return r.input=e,r}return(0,re.ZT)(n,t),n.prototype.resolveMiddleware=function(e,r,o){this.middlewareStack.use(Kl(r,this.serialize,this.deserialize)),this.middlewareStack.use(function(t){return{applyToStack:function(n){n.addRelativeTo(function(t){return function(n){return function(e){return(0,re.mG)(void 0,void 0,void 0,function(){var r,o,s,l,u,p,f;return(0,re.Jh)(this,function(v){switch(v.label){case 0:return[4,n(e)];case 1:return r=v.sent(),Oo.isInstance(o=r.response)?(l=o.body,(s=o.statusCode)<200&&s>=300?[2,r]:[4,T_(l,t)]):[2,r];case 2:return u=v.sent(),[4,Pk(u,t)];case 3:if(p=v.sent(),0===u.length)throw(f=new Error("S3 aborted request")).name="InternalError",f;return p&&p.match("<Error>")&&(o.statusCode=400),o.body=u,[2,r]}})})}}}(t),Tk)}}}(r)),this.middlewareStack.use(_m(r)),this.middlewareStack.use(dn(r));var s=e.concat(this.middlewareStack),v=r.requestHandler;return s.resolve(function(D){return v.handle(D.request,o||{})},{logger:r.logger,clientName:"S3Client",commandName:"CompleteMultipartUploadCommand",inputFilterSensitiveLog:Am.filterSensitiveLog,outputFilterSensitiveLog:Em.filterSensitiveLog})},n.prototype.serialize=function(e,r){return function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r,o,s,l,u,p,f,v,D,J,Y;return(0,re.Jh)(this,function(he){switch(he.label){case 0:return[4,n.endpoint()];case 1:if(e=he.sent(),r=e.hostname,s=void 0===(o=e.protocol)?"https":o,l=e.port,u=e.path,p=(0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)({"content-type":"application/xml"},Ae(t.ChecksumCRC32)&&{"x-amz-checksum-crc32":t.ChecksumCRC32}),Ae(t.ChecksumCRC32C)&&{"x-amz-checksum-crc32c":t.ChecksumCRC32C}),Ae(t.ChecksumSHA1)&&{"x-amz-checksum-sha1":t.ChecksumSHA1}),Ae(t.ChecksumSHA256)&&{"x-amz-checksum-sha256":t.ChecksumSHA256}),Ae(t.RequestPayer)&&{"x-amz-request-payer":t.RequestPayer}),Ae(t.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":t.ExpectedBucketOwner}),Ae(t.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":t.SSECustomerAlgorithm}),Ae(t.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":t.SSECustomerKey}),Ae(t.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":t.SSECustomerKeyMD5}),f=((null==u?void 0:u.endsWith("/"))?u.slice(0,-1):u||"")+"/{Bucket}/{Key+}",void 0===t.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((v=t.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(f=f.replace("{Bucket}",Do(v)),void 0===t.Key)throw new Error("No value provided for input HTTP label: Key.");if((v=t.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return f=f.replace("{Key+}",v.split("/").map(function(Ue){return Do(Ue)}).join("/")),D=(0,re.pi)({"x-id":"CompleteMultipartUpload"},void 0!==t.UploadId&&{uploadId:t.UploadId}),void 0!==t.MultipartUpload&&(J=M0(t.MultipartUpload,n)),void 0!==t.MultipartUpload&&(Y=(Y=M0(t.MultipartUpload,n)).withName("CompleteMultipartUpload"),J='<?xml version="1.0" encoding="UTF-8"?>',Y.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),J+=Y.toString()),[2,new er({protocol:s,hostname:r,port:l,method:"POST",headers:p,path:f,query:D,body:J})]}})})}(e,r)},n.prototype.deserialize=function(e,r){return function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r,o,s;return(0,re.Jh)(this,function(l){switch(l.label){case 0:return 200!==t.statusCode&&t.statusCode>=300?[2,XS(t,n)]:(e={$metadata:at(t),Bucket:void 0,BucketKeyEnabled:void 0,ChecksumCRC32:void 0,ChecksumCRC32C:void 0,ChecksumSHA1:void 0,ChecksumSHA256:void 0,ETag:void 0,Expiration:void 0,Key:void 0,Location:void 0,RequestCharged:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==t.headers["x-amz-expiration"]&&(e.Expiration=t.headers["x-amz-expiration"]),void 0!==t.headers["x-amz-server-side-encryption"]&&(e.ServerSideEncryption=t.headers["x-amz-server-side-encryption"]),void 0!==t.headers["x-amz-version-id"]&&(e.VersionId=t.headers["x-amz-version-id"]),void 0!==t.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(e.SSEKMSKeyId=t.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==t.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(e.BucketKeyEnabled=wm(t.headers["x-amz-server-side-encryption-bucket-key-enabled"])),void 0!==t.headers["x-amz-request-charged"]&&(e.RequestCharged=t.headers["x-amz-request-charged"]),o=Cm,s=ly,[4,St(t.body,n)]);case 1:return void 0!==(r=o.apply(void 0,[s.apply(void 0,[l.sent()]),"body"])).Bucket&&(e.Bucket=dr(r.Bucket)),void 0!==r.ChecksumCRC32&&(e.ChecksumCRC32=dr(r.ChecksumCRC32)),void 0!==r.ChecksumCRC32C&&(e.ChecksumCRC32C=dr(r.ChecksumCRC32C)),void 0!==r.ChecksumSHA1&&(e.ChecksumSHA1=dr(r.ChecksumSHA1)),void 0!==r.ChecksumSHA256&&(e.ChecksumSHA256=dr(r.ChecksumSHA256)),void 0!==r.ETag&&(e.ETag=dr(r.ETag)),void 0!==r.Key&&(e.Key=dr(r.Key)),void 0!==r.Location&&(e.Location=dr(r.Location)),[2,Promise.resolve(e)]}})})}(e,r)},n}(Xl),jk=function(t){function n(e){var r=t.call(this)||this;return r.input=e,r}return(0,re.ZT)(n,t),n.prototype.resolveMiddleware=function(e,r,o){this.middlewareStack.use(Kl(r,this.serialize,this.deserialize)),this.middlewareStack.use(dn(r)),this.middlewareStack.use(iy(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));var s=e.concat(this.middlewareStack),v=r.requestHandler;return s.resolve(function(D){return v.handle(D.request,o||{})},{logger:r.logger,clientName:"S3Client",commandName:"PutObjectTaggingCommand",inputFilterSensitiveLog:Fm.filterSensitiveLog,outputFilterSensitiveLog:Om.filterSensitiveLog})},n.prototype.serialize=function(e,r){return function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r,o,s,l,u,p,f,v,D,J,Y;return(0,re.Jh)(this,function(he){switch(he.label){case 0:return[4,n.endpoint()];case 1:if(e=he.sent(),r=e.hostname,s=void 0===(o=e.protocol)?"https":o,l=e.port,u=e.path,p=(0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)({"content-type":"application/xml"},Ae(t.ContentMD5)&&{"content-md5":t.ContentMD5}),Ae(t.ChecksumAlgorithm)&&{"x-amz-sdk-checksum-algorithm":t.ChecksumAlgorithm}),Ae(t.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":t.ExpectedBucketOwner}),Ae(t.RequestPayer)&&{"x-amz-request-payer":t.RequestPayer}),f=((null==u?void 0:u.endsWith("/"))?u.slice(0,-1):u||"")+"/{Bucket}/{Key+}",void 0===t.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((v=t.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(f=f.replace("{Bucket}",Do(v)),void 0===t.Key)throw new Error("No value provided for input HTTP label: Key.");if((v=t.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return f=f.replace("{Key+}",v.split("/").map(function(Ue){return Do(Ue)}).join("/")),D=(0,re.pi)({tagging:""},void 0!==t.VersionId&&{versionId:t.VersionId}),void 0!==t.Tagging&&(J=sf(t.Tagging,n)),void 0!==t.Tagging&&(Y=sf(t.Tagging,n),J='<?xml version="1.0" encoding="UTF-8"?>',Y.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),J+=Y.toString()),[2,new er({protocol:s,hostname:r,port:l,method:"PUT",headers:p,path:f,query:D,body:J})]}})})}(e,r)},n.prototype.deserialize=function(e,r){return function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e;return(0,re.Jh)(this,function(r){switch(r.label){case 0:return 200!==t.statusCode&&t.statusCode>=300?[2,TE(t,n)]:(e={$metadata:at(t),VersionId:void 0},void 0!==t.headers["x-amz-version-id"]&&(e.VersionId=t.headers["x-amz-version-id"]),[4,an(t.body,n)]);case 1:return r.sent(),[2,Promise.resolve(e)]}})})}(e,r)},n}(Xl),Bk=S(3358),Lk=S(6399),zk=(0,re.pi)((0,re.pi)({},{lstatSync:function(){}}),{runtime:"node",lstatSync:Lk.lstatSync}),wy=function(t){if(null==t)return 0;if("string"==typeof t&&(t=Buffer.from(t)),"number"==typeof t.byteLength)return t.byteLength;if("number"==typeof t.length)return t.length;if("number"==typeof t.size)return t.size;if("string"==typeof t.path)try{return zk.lstatSync(t.path).size}catch{return}},gc=S(2063),Gk=S(574);function k_(t,n){return(0,re.FC)(this,arguments,function(){var r,o,s;return(0,re.Jh)(this,function(l){switch(l.label){case 0:r=1,o=0,s=n,l.label=1;case 1:return s<t.byteLength?[4,(0,re.qq)({partNumber:r,data:t.slice(o,s)})]:[3,4];case 2:return[4,l.sent()];case 3:return l.sent(),r+=1,s=(o=s)+n,[3,1];case 4:return[4,(0,re.qq)({partNumber:r,data:t.slice(o),lastPart:!0})];case 5:return[4,l.sent()];case 6:return l.sent(),[2]}})})}function Cy(t,n,e){return(0,re.FC)(this,arguments,function(){var o,s,l,u,p,f,v,D,J;return(0,re.Jh)(this,function(Y){switch(Y.label){case 0:o=1,s={chunks:[],length:0},Y.label=1;case 1:Y.trys.push([1,9,10,15]),l=(0,re.KL)(e(t)),Y.label=2;case 2:return[4,(0,re.qq)(l.next())];case 3:if((u=Y.sent()).done)return[3,8];s.chunks.push(p=u.value),s.length+=p.length,Y.label=4;case 4:return s.length>=n?(f=s.chunks.length>1?gc.lW.concat(s.chunks):s.chunks[0],[4,(0,re.qq)({partNumber:o,data:f.slice(0,n)})]):[3,7];case 5:return[4,Y.sent()];case 6:return Y.sent(),s.chunks=[f.slice(n)],s.length=s.chunks[0].length,o+=1,[3,4];case 7:return[3,2];case 8:return[3,15];case 9:return v=Y.sent(),D={error:v},[3,15];case 10:return Y.trys.push([10,,13,14]),u&&!u.done&&(J=l.return)?[4,(0,re.qq)(J.call(l))]:[3,12];case 11:Y.sent(),Y.label=12;case 12:return[3,14];case 13:if(D)throw D.error;return[7];case 14:return[7];case 15:return[4,(0,re.qq)({partNumber:o,data:gc.lW.concat(s.chunks),lastPart:!0})];case 16:return[4,Y.sent()];case 17:return Y.sent(),[2]}})})}function $k(t){return(0,re.FC)(this,arguments,function(){var e,r,s,l,u;return(0,re.Jh)(this,function(p){switch(p.label){case 0:p.trys.push([0,7,8,13]),e=(0,re.KL)(t),p.label=1;case 1:return[4,(0,re.qq)(e.next())];case 2:return(r=p.sent()).done?[3,6]:[4,(0,re.qq)(gc.lW.from(r.value))];case 3:return[4,p.sent()];case 4:p.sent(),p.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return s=p.sent(),l={error:s},[3,13];case 8:return p.trys.push([8,,11,12]),r&&!r.done&&(u=e.return)?[4,(0,re.qq)(u.call(e))]:[3,10];case 9:p.sent(),p.label=10;case 10:return[3,12];case 11:if(l)throw l.error;return[7];case 12:return[7];case 13:return[2]}})})}function V_(t){return(0,re.FC)(this,arguments,function(){var e,r,s;return(0,re.Jh)(this,function(u){switch(u.label){case 0:e=t.getReader(),u.label=1;case 1:u.trys.push([1,9,10,11]),u.label=2;case 2:return[4,(0,re.qq)(e.read())];case 3:return r=u.sent(),s=r.value,r.done?[4,(0,re.qq)(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return[4,(0,re.qq)(gc.lW.from(s))];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,11];case 9:throw u.sent();case 10:return e.releaseLock(),[7];case 11:return[2]}})})}var xy=5242880,qk=function(t){function n(e){var r=t.call(this)||this;return r.MAX_PARTS=1e4,r.queueSize=4,r.partSize=xy,r.leavePartsOnError=!1,r.tags=[],r.concurrentUploaders=[],r.uploadedParts=[],r.isMultiPart=!0,r.queueSize=e.queueSize||r.queueSize,r.partSize=e.partSize||r.partSize,r.leavePartsOnError=e.leavePartsOnError||r.leavePartsOnError,r.tags=e.tags||r.tags,r.client=e.client,r.params=e.params,r.__validateInput(),r.totalBytes=wy(r.params.Body),r.bytesUploadedSoFar=0,r.abortController=new Yg,r}return(0,re.ZT)(n,t),n.prototype.abort=function(){return(0,re.mG)(this,void 0,void 0,function(){return(0,re.Jh)(this,function(e){return this.abortController.abort(),[2]})})},n.prototype.done=function(){return(0,re.mG)(this,void 0,void 0,function(){return(0,re.Jh)(this,function(e){switch(e.label){case 0:return[4,Promise.race([this.__doMultipartUpload(),this.__abortTimeout(this.abortController.signal)])];case 1:return[2,e.sent()]}})})},n.prototype.on=function(e,r){this.uploadEvent=e,t.prototype.on.call(this,e,r)},n.prototype.__uploadUsingPut=function(e){return(0,re.mG)(this,void 0,void 0,function(){var r,o,s;return(0,re.Jh)(this,function(l){switch(l.label){case 0:return this.isMultiPart=!1,r=(0,re.pi)((0,re.pi)({},this.params),{Body:e.data}),[4,this.client.send(new QT(r))];case 1:return o=l.sent(),this.putResponse=o,s=wy(e.data),this.__notifyProgress({loaded:s,total:s,part:1,Key:this.params.Key,Bucket:this.params.Bucket}),[2]}})})},n.prototype.__createMultipartUpload=function(){return(0,re.mG)(this,void 0,void 0,function(){var e,r;return(0,re.Jh)(this,function(o){switch(o.label){case 0:return this.createMultiPartPromise||(e=(0,re.pi)((0,re.pi)({},this.params),{Body:void 0}),this.createMultiPartPromise=this.client.send(new YT(e))),[4,this.createMultiPartPromise];case 1:return r=o.sent(),this.uploadId=r.UploadId,[2]}})})},n.prototype.__doConcurrentUpload=function(e){var r,o,s,l;return(0,re.mG)(this,void 0,void 0,function(){var u,p,f,v;return(0,re.Jh)(this,function(D){switch(D.label){case 0:D.trys.push([0,12,13,18]),r=(0,re.KL)(e),D.label=1;case 1:return[4,r.next()];case 2:if((o=D.sent()).done)return[3,11];if(u=o.value,this.uploadedParts.length>this.MAX_PARTS)throw new Error("Exceeded "+this.MAX_PARTS+" as part of the upload to "+this.params.Key+" and "+this.params.Bucket+".");D.label=3;case 3:return D.trys.push([3,9,,10]),this.abortController.signal.aborted?[2]:1===u.partNumber&&u.lastPart?[4,this.__uploadUsingPut(u)]:[3,5];case 4:return[2,D.sent()];case 5:return this.uploadId?[3,7]:[4,this.__createMultipartUpload()];case 6:if(D.sent(),this.abortController.signal.aborted)return[2];D.label=7;case 7:return[4,this.client.send(new ZT((0,re.pi)((0,re.pi)({},this.params),{UploadId:this.uploadId,Body:u.data,PartNumber:u.partNumber})))];case 8:return p=D.sent(),this.abortController.signal.aborted?[2]:(this.uploadedParts.push((0,re.pi)((0,re.pi)((0,re.pi)((0,re.pi)({PartNumber:u.partNumber,ETag:p.ETag},p.ChecksumCRC32&&{ChecksumCRC32:p.ChecksumCRC32}),p.ChecksumCRC32C&&{ChecksumCRC32C:p.ChecksumCRC32C}),p.ChecksumSHA1&&{ChecksumSHA1:p.ChecksumSHA1}),p.ChecksumSHA256&&{ChecksumSHA256:p.ChecksumSHA256})),this.bytesUploadedSoFar+=wy(u.data),this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:u.partNumber,Key:this.params.Key,Bucket:this.params.Bucket}),[3,10]);case 9:if(f=D.sent(),!this.uploadId||this.leavePartsOnError)throw f;return[3,10];case 10:return[3,1];case 11:return[3,18];case 12:return v=D.sent(),s={error:v},[3,18];case 13:return D.trys.push([13,,16,17]),o&&!o.done&&(l=r.return)?[4,l.call(r)]:[3,15];case 14:D.sent(),D.label=15;case 15:return[3,17];case 16:if(s)throw s.error;return[7];case 17:return[7];case 18:return[2]}})})},n.prototype.__doMultipartUpload=function(){return(0,re.mG)(this,void 0,void 0,function(){var e,r,o,s,l;return(0,re.Jh)(this,function(u){switch(u.label){case 0:for(e=function(t,n){if(t instanceof gc.lW)return k_(t,n);if(t instanceof Gk.Readable)return Cy(t,n,$k);if(t instanceof String||"string"==typeof t||t instanceof Uint8Array)return k_(gc.lW.from(t),n);if("function"==typeof t.stream)return Cy(t.stream(),n,V_);if(t instanceof ReadableStream)return Cy(t,n,V_);throw new Error("Body Data is unsupported format, expected data to be one of: string | Uint8Array | Buffer | Readable | ReadableStream | Blob;.")}(this.params.Body,this.partSize),r=0;r<this.queueSize;r++)o=this.__doConcurrentUpload(e),this.concurrentUploaders.push(o);return[4,Promise.all(this.concurrentUploaders)];case 1:if(u.sent(),this.abortController.signal.aborted)throw Object.assign(new Error("Upload aborted."),{name:"AbortError"});return this.isMultiPart?(this.uploadedParts.sort(function(p,f){return p.PartNumber-f.PartNumber}),l=(0,re.pi)((0,re.pi)({},this.params),{Body:void 0,UploadId:this.uploadId,MultipartUpload:{Parts:this.uploadedParts}}),[4,this.client.send(new Dk(l))]):[3,3];case 2:return s=u.sent(),[3,4];case 3:s=this.putResponse,u.label=4;case 4:return this.tags.length?[4,this.client.send(new jk((0,re.pi)((0,re.pi)({},this.params),{Tagging:{TagSet:this.tags}})))]:[3,6];case 5:u.sent(),u.label=6;case 6:return[2,s]}})})},n.prototype.__notifyProgress=function(e){this.uploadEvent&&this.emit(this.uploadEvent,e)},n.prototype.__abortTimeout=function(e){return(0,re.mG)(this,void 0,void 0,function(){return(0,re.Jh)(this,function(r){return[2,new Promise(function(o,s){e.onabort=function(){var l=new Error("Upload aborted.");l.name="AbortError",s(l)}})]})})},n.prototype.__validateInput=function(){if(!this.params)throw new Error("InputError: Upload requires params to be passed to upload.");if(!this.client)throw new Error("InputError: Upload requires a AWS client to do uploads with.");if(this.partSize<xy)throw new Error("EntityTooSmall: Your proposed upload partsize ["+this.partSize+"] is smaller than the minimum allowed size ["+xy+"] (5MB)");if(this.queueSize<1)throw new Error("Queue size: Must have at least one uploading queue.")},n}(Bk.EventEmitter),Ca=function(t){function n(e){var r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return(0,re.ZT)(n,t),n}(P0),Kk=function(t){function n(e){var r=t.call(this,(0,re.pi)({name:"InternalErrorException",$fault:"server"},e))||this;return r.name="InternalErrorException",r.$fault="server",Object.setPrototypeOf(r,n.prototype),r}return(0,re.ZT)(n,t),n}(Ca),Xk=function(t){function n(e){var r=t.call(this,(0,re.pi)({name:"InvalidParameterException",$fault:"client"},e))||this;return r.name="InvalidParameterException",r.$fault="client",Object.setPrototypeOf(r,n.prototype),r}return(0,re.ZT)(n,t),n}(Ca),Wk=function(t){function n(e){var r=t.call(this,(0,re.pi)({name:"LimitExceededException",$fault:"client"},e))||this;return r.name="LimitExceededException",r.$fault="client",Object.setPrototypeOf(r,n.prototype),r}return(0,re.ZT)(n,t),n}(Ca),Jk=function(t){function n(e){var r=t.call(this,(0,re.pi)({name:"NotAuthorizedException",$fault:"client"},e))||this;return r.name="NotAuthorizedException",r.$fault="client",Object.setPrototypeOf(r,n.prototype),r}return(0,re.ZT)(n,t),n}(Ca),Qk=function(t){function n(e){var r=t.call(this,(0,re.pi)({name:"ResourceConflictException",$fault:"client"},e))||this;return r.name="ResourceConflictException",r.$fault="client",Object.setPrototypeOf(r,n.prototype),r}return(0,re.ZT)(n,t),n}(Ca),Yk=function(t){function n(e){var r=t.call(this,(0,re.pi)({name:"TooManyRequestsException",$fault:"client"},e))||this;return r.name="TooManyRequestsException",r.$fault="client",Object.setPrototypeOf(r,n.prototype),r}return(0,re.ZT)(n,t),n}(Ca),Zk=function(t){function n(e){var r=t.call(this,(0,re.pi)({name:"ResourceNotFoundException",$fault:"client"},e))||this;return r.name="ResourceNotFoundException",r.$fault="client",Object.setPrototypeOf(r,n.prototype),r}return(0,re.ZT)(n,t),n}(Ca),e2=function(t){function n(e){var r=t.call(this,(0,re.pi)({name:"ExternalServiceException",$fault:"client"},e))||this;return r.name="ExternalServiceException",r.$fault="client",Object.setPrototypeOf(r,n.prototype),r}return(0,re.ZT)(n,t),n}(Ca),Lm=(()=>((Lm||(Lm={})).filterSensitiveLog=function(n){return(0,re.pi)({},n)},Lm))(),Um=(()=>((Um||(Um={})).filterSensitiveLog=function(n){return(0,re.pi)({},n)},Um))(),t2=function(t){function n(e){var r=t.call(this,(0,re.pi)({name:"InvalidIdentityPoolConfigurationException",$fault:"client"},e))||this;return r.name="InvalidIdentityPoolConfigurationException",r.$fault="client",Object.setPrototypeOf(r,n.prototype),r}return(0,re.ZT)(n,t),n}(Ca),zm=(()=>((zm||(zm={})).filterSensitiveLog=function(n){return(0,re.pi)({},n)},zm))(),Gm=(()=>((Gm||(Gm={})).filterSensitiveLog=function(n){return(0,re.pi)({},n)},Gm))(),d2=(function(t){(0,re.ZT)(function n(e){var r=t.call(this,(0,re.pi)({name:"DeveloperUserAlreadyRegisteredException",$fault:"client"},e))||this;return r.name="DeveloperUserAlreadyRegisteredException",r.$fault="client",Object.setPrototypeOf(r,n.prototype),r},t)}(Ca),function(t){(0,re.ZT)(function n(e){var r=t.call(this,(0,re.pi)({name:"ConcurrentModificationException",$fault:"client"},e))||this;return r.name="ConcurrentModificationException",r.$fault="client",Object.setPrototypeOf(r,n.prototype),r},t)}(Ca),function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r,o,s,u,p;return(0,re.Jh)(this,function(f){switch(f.label){case 0:return r=[(0,re.pi)({},t)],p={},[4,vn(t.body,n)];case 1:switch(e=re.pi.apply(void 0,r.concat([(p.body=f.sent(),p)])),s="UnknownError",s=Ar(t,e.body)){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return[4,$m(e,n)];case 3:case 5:case 7:case 9:case 11:case 13:case 15:case 17:throw f.sent();case 4:return[4,Cr(e,n)];case 6:return[4,V2(e,n)];case 8:return[4,xr(e,n)];case 10:return[4,Tr(e,n)];case 12:return[4,Fa(e,n)];case 14:return[4,Mr(e,n)];case 16:return[4,Sr(e,n)];case 18:throw o=new Ca({name:(u=e.body).code||u.Code||s,$fault:"client",$metadata:Yt(t)}),xi(o,u)}})})}),p2=function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r,o,s,u,p;return(0,re.Jh)(this,function(f){switch(f.label){case 0:return r=[(0,re.pi)({},t)],p={},[4,vn(t.body,n)];case 1:switch(e=re.pi.apply(void 0,r.concat([(p.body=f.sent(),p)])),s="UnknownError",s=Ar(t,e.body)){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return[4,$m(e,n)];case 3:case 5:case 7:case 9:case 11:case 13:case 15:case 17:throw f.sent();case 4:return[4,Cr(e,n)];case 6:return[4,xr(e,n)];case 8:return[4,Sy(e,n)];case 10:return[4,Tr(e,n)];case 12:return[4,Fa(e,n)];case 14:return[4,Mr(e,n)];case 16:return[4,Sr(e,n)];case 18:throw o=new Ca({name:(u=e.body).code||u.Code||s,$fault:"client",$metadata:Yt(t)}),xi(o,u)}})})},$m=function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r,o;return(0,re.Jh)(this,function(s){return r=vV(e=t.body,n),o=new e2((0,re.pi)({$metadata:Yt(t)},r)),[2,xi(o,e)]})})},Cr=function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r,o;return(0,re.Jh)(this,function(s){return r=TV(e=t.body,n),o=new Kk((0,re.pi)({$metadata:Yt(t)},r)),[2,xi(o,e)]})})},V2=function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r,o;return(0,re.Jh)(this,function(s){return r=kV(e=t.body,n),o=new t2((0,re.pi)({$metadata:Yt(t)},r)),[2,xi(o,e)]})})},xr=function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r,o;return(0,re.Jh)(this,function(s){return r=VV(e=t.body,n),o=new Xk((0,re.pi)({$metadata:Yt(t)},r)),[2,xi(o,e)]})})},Sy=function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r,o;return(0,re.Jh)(this,function(s){return r=RV(e=t.body,n),o=new Wk((0,re.pi)({$metadata:Yt(t)},r)),[2,xi(o,e)]})})},Tr=function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r,o;return(0,re.Jh)(this,function(s){return r=UV(e=t.body,n),o=new Jk((0,re.pi)({$metadata:Yt(t)},r)),[2,xi(o,e)]})})},Fa=function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r,o;return(0,re.Jh)(this,function(s){return r=GV(e=t.body,n),o=new Qk((0,re.pi)({$metadata:Yt(t)},r)),[2,xi(o,e)]})})},Mr=function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r,o;return(0,re.Jh)(this,function(s){return r=$V(e=t.body,n),o=new Zk((0,re.pi)({$metadata:Yt(t)},r)),[2,xi(o,e)]})})},Sr=function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r,o;return(0,re.Jh)(this,function(s){return r=YV(e=t.body,n),o=new Yk((0,re.pi)({$metadata:Yt(t)},r)),[2,xi(o,e)]})})},df=function(t,n){return Object.entries(t).reduce(function(e,r){var o,s=(0,re.CR)(r,2),l=s[0],u=s[1];return null===u?e:(0,re.pi)((0,re.pi)({},e),((o={})[l]=u,o))},{})},mV=function(t,n){return{AccessKeyId:dr(t.AccessKeyId),Expiration:null!=t.Expiration?Cm(TS(rf(t.Expiration))):void 0,SecretKey:dr(t.SecretKey),SessionToken:dr(t.SessionToken)}},vV=function(t,n){return{message:dr(t.message)}},TV=function(t,n){return{message:dr(t.message)}},kV=function(t,n){return{message:dr(t.message)}},VV=function(t,n){return{message:dr(t.message)}},RV=function(t,n){return{message:dr(t.message)}},UV=function(t,n){return{message:dr(t.message)}},GV=function(t,n){return{message:dr(t.message)}},$V=function(t,n){return{message:dr(t.message)}},YV=function(t,n){return{message:dr(t.message)}},Yt=function(t){var n;return{httpStatusCode:t.statusCode,requestId:null!==(n=t.headers["x-amzn-requestid"])&&void 0!==n?n:t.headers["x-amzn-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}},Er=function(t,n,e,r,o){return(0,re.mG)(void 0,void 0,void 0,function(){var s,u,v,D;return(0,re.Jh)(this,function(J){switch(J.label){case 0:return[4,t.endpoint()];case 1:return s=J.sent(),D={protocol:void 0===(u=s.protocol)?"https":u,hostname:s.hostname,port:s.port,method:"POST",path:(v=s.path).endsWith("/")?v.slice(0,-1)+e:v+e,headers:n},void 0!==r&&(D.hostname=r),void 0!==o&&(D.body=o),[2,new er(D)]}})})},vn=function(t,n){return function(t,n){return function(t,n){return void 0===t&&(t=new Uint8Array),t instanceof Uint8Array?Promise.resolve(t):n.streamCollector(t)||Promise.resolve(new Uint8Array)}(t,n).then(function(e){return n.utf8Encoder(e)})}(t,n).then(function(e){return e.length?JSON.parse(e):{}})},Ar=function(t,n){var r=function(s){var l=s;return l.indexOf(":")>=0&&(l=l.split(":")[0]),l.indexOf("#")>=0&&(l=l.split("#")[1]),l},o=("x-amzn-errortype",Object.keys(t.headers).find(function(u){return u.toLowerCase()==="x-amzn-errortype".toLowerCase()}));return void 0!==o?r(t.headers[o]):void 0!==n.code?r(n.code):void 0!==n.__type?r(n.__type):""},U_=function(t){function n(e){var r=t.call(this)||this;return r.input=e,r}return(0,re.ZT)(n,t),n.prototype.resolveMiddleware=function(e,r,o){this.middlewareStack.use(Kl(r,this.serialize,this.deserialize));var s=e.concat(this.middlewareStack),v=r.requestHandler;return s.resolve(function(D){return v.handle(D.request,o||{})},{logger:r.logger,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:zm.filterSensitiveLog,outputFilterSensitiveLog:Gm.filterSensitiveLog})},n.prototype.serialize=function(e,r){return function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r;return(0,re.Jh)(this,function(o){return e={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},r=JSON.stringify(function(t,n){return(0,re.pi)((0,re.pi)((0,re.pi)({},null!=t.AccountId&&{AccountId:t.AccountId}),null!=t.IdentityPoolId&&{IdentityPoolId:t.IdentityPoolId}),null!=t.Logins&&{Logins:df(t.Logins,n)})}(t,n)),[2,Er(n,e,"/",void 0,r)]})})}(e,r)},n.prototype.deserialize=function(e,r){return function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r,o;return(0,re.Jh)(this,function(s){switch(s.label){case 0:return t.statusCode>=300?[2,p2(t,n)]:[4,vn(t.body,n)];case 1:return e=s.sent(),r=function(t,n){return{IdentityId:dr(t.IdentityId)}}(e),o=(0,re.pi)({$metadata:Yt(t)},r),[2,Promise.resolve(o)]}})})}(e,r)},n}(Xl),Hm=(function(t){function n(e,r){void 0===r&&(r=!0);var o=t.call(this,e)||this;return o.tryNextLink=r,o}(0,re.ZT)(n,t),n.from=function(e,r){return void 0===r&&(r=!0),Object.defineProperty(e,"tryNextLink",{value:r,configurable:!1,enumerable:!1,writable:!1}),e}}(Error),function(t){function n(e,r){void 0===r&&(r=!0);var o=t.call(this,e)||this;return o.tryNextLink=r,o.name="CredentialsProviderError",o}return(0,re.ZT)(n,t),n.from=function(e,r){return void 0===r&&(r=!0),Object.defineProperty(e,"tryNextLink",{value:r,configurable:!1,enumerable:!1,writable:!1}),e},n}(Error)),z_=function(t,n,e){var r,o,s,l=function(){return(0,re.mG)(void 0,void 0,void 0,function(){return(0,re.Jh)(this,function(p){switch(p.label){case 0:o||(o=t()),p.label=1;case 1:return p.trys.push([1,,3,4]),[4,o];case 2:return r=p.sent(),s=!0,[3,4];case 3:return o=void 0,[7];case 4:return[2,r]}})})};if(void 0===n)return function(){return(0,re.mG)(void 0,void 0,void 0,function(){return(0,re.Jh)(this,function(p){switch(p.label){case 0:return s?[3,2]:[4,l()];case 1:r=p.sent(),p.label=2;case 2:return[2,r]}})})};var u=!1;return function(){return(0,re.mG)(void 0,void 0,void 0,function(){return(0,re.Jh)(this,function(p){switch(p.label){case 0:return s?[3,2]:[4,l()];case 1:r=p.sent(),p.label=2;case 2:return u?[2,r]:e&&!e(r)?(u=!0,[2,r]):n(r)?[4,l()]:[3,4];case 3:return p.sent(),[2,r];case 4:return[2,r]}})})}},G_=function(t){function n(e){var r=t.call(this)||this;return r.input=e,r}return(0,re.ZT)(n,t),n.prototype.resolveMiddleware=function(e,r,o){this.middlewareStack.use(Kl(r,this.serialize,this.deserialize));var s=e.concat(this.middlewareStack),v=r.requestHandler;return s.resolve(function(D){return v.handle(D.request,o||{})},{logger:r.logger,clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand",inputFilterSensitiveLog:Lm.filterSensitiveLog,outputFilterSensitiveLog:Um.filterSensitiveLog})},n.prototype.serialize=function(e,r){return function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r;return(0,re.Jh)(this,function(o){return e={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},r=JSON.stringify(function(t,n){return(0,re.pi)((0,re.pi)((0,re.pi)({},null!=t.CustomRoleArn&&{CustomRoleArn:t.CustomRoleArn}),null!=t.IdentityId&&{IdentityId:t.IdentityId}),null!=t.Logins&&{Logins:df(t.Logins,n)})}(t,n)),[2,Er(n,e,"/",void 0,r)]})})}(e,r)},n.prototype.deserialize=function(e,r){return function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){var e,r,o;return(0,re.Jh)(this,function(s){switch(s.label){case 0:return t.statusCode>=300?[2,d2(t,n)]:[4,vn(t.body,n)];case 1:return e=s.sent(),r=function(t,n){return{Credentials:null!=t.Credentials?mV(t.Credentials):void 0,IdentityId:dr(t.IdentityId)}}(e),o=(0,re.pi)({$metadata:Yt(t)},r),[2,Promise.resolve(o)]}})})}(e,r)},n}(Xl);function $_(t){return Promise.all(Object.keys(t).reduce(function(n,e){var r=t[e];return n.push("string"==typeof r?[e,r]:r().then(function(o){return[e,o]})),n},[])).then(function(n){return n.reduce(function(e,r){var o=(0,re.CR)(r,2);return e[o[0]]=o[1],e},{})})}function rR(t){var n=this;return function(){return(0,re.mG)(n,void 0,void 0,function(){var e,r,o,s,l,u,p,v,D,J,Y,he;return(0,re.Jh)(this,function(Ue){switch(Ue.label){case 0:return D=(v=t.client).send,J=G_.bind,he={CustomRoleArn:t.customRoleArn,IdentityId:t.identityId},t.logins?[4,$_(t.logins)]:[3,2];case 1:return Y=Ue.sent(),[3,3];case 2:Y=void 0,Ue.label=3;case 3:return[4,D.apply(v,[new(J.apply(G_,[void 0,(he.Logins=Y,he)]))])];case 4:return e=Ue.sent().Credentials,r=void 0===e?function aR(){throw new Hm("Response from Amazon Cognito contained no credentials")}():e,s=void 0===(o=r.AccessKeyId)?function iR(){throw new Hm("Response from Amazon Cognito contained no access key ID")}():o,l=r.Expiration,p=void 0===(u=r.SecretKey)?function oR(){throw new Hm("Response from Amazon Cognito contained no secret key")}():u,[2,{identityId:t.identityId,accessKeyId:s,secretAccessKey:p,sessionToken:r.SessionToken,expiration:l}]}})})}}var Iy="IdentityIds",sR=function(){function t(n){void 0===n&&(n="aws:cognito-identity-ids"),this.dbName=n}return t.prototype.getItem=function(n){return this.withObjectStore("readonly",function(e){var r=e.get(n);return new Promise(function(o){r.onerror=function(){return o(null)},r.onsuccess=function(){return o(r.result?r.result.value:null)}})}).catch(function(){return null})},t.prototype.removeItem=function(n){return this.withObjectStore("readwrite",function(e){var r=e.delete(n);return new Promise(function(o,s){r.onerror=function(){return s(r.error)},r.onsuccess=function(){return o()}})})},t.prototype.setItem=function(n,e){return this.withObjectStore("readwrite",function(r){var o=r.put({id:n,value:e});return new Promise(function(s,l){o.onerror=function(){return l(o.error)},o.onsuccess=function(){return s()}})})},t.prototype.getDb=function(){var n=self.indexedDB.open(this.dbName,1);return new Promise(function(e,r){n.onsuccess=function(){e(n.result)},n.onerror=function(){r(n.error)},n.onblocked=function(){r(new Error("Unable to access DB"))},n.onupgradeneeded=function(){var o=n.result;o.onerror=function(){r(new Error("Failed to create object store"))},o.createObjectStore(Iy,{keyPath:"id"})}})},t.prototype.withObjectStore=function(n,e){return this.getDb().then(function(r){var o=r.transaction(Iy,n);return o.oncomplete=function(){return r.close()},new Promise(function(s,l){o.onerror=function(){return l(o.error)},s(e(o.objectStore(Iy)))}).catch(function(s){throw r.close(),s})})},t}(),lR=function(){function t(n){void 0===n&&(n={}),this.store=n}return t.prototype.getItem=function(n){return n in this.store?this.store[n]:null},t.prototype.removeItem=function(n){delete this.store[n]},t.prototype.setItem=function(n,e){this.store[n]=e},t}(),uR=new lR;function Py(t){var n=this,e=t.accountId,r=t.cache,o=void 0===r?function cR(){return"object"==typeof self&&self.indexedDB?new sR:"object"==typeof window&&window.localStorage?window.localStorage:uR}():r,s=t.client,l=t.customRoleArn,u=t.identityPoolId,p=t.logins,f=t.userIdentifier,v=void 0===f?p&&0!==Object.keys(p).length?void 0:"ANONYMOUS":f,D=v?"aws:cognito-identity-credentials:"+u+":"+v:void 0,J=function(){return(0,re.mG)(n,void 0,void 0,function(){var Y,he,Ue,Oe,De,Xe,tt,ct,bt;return(0,re.Jh)(this,function(Tt){switch(Tt.label){case 0:return(he=D)?[4,o.getItem(D)]:[3,2];case 1:he=Tt.sent(),Tt.label=2;case 2:return(Y=he)?[3,7]:(Xe=(De=s).send,tt=U_.bind,bt={AccountId:e,IdentityPoolId:u},p?[4,$_(p)]:[3,4]);case 3:return ct=Tt.sent(),[3,5];case 4:ct=void 0,Tt.label=5;case 5:return[4,Xe.apply(De,[new(tt.apply(U_,[void 0,(bt.Logins=ct,bt)]))])];case 6:Ue=Tt.sent().IdentityId,Oe=void 0===Ue?function dR(){throw new Hm("Response from Amazon Cognito contained no identity ID")}():Ue,Y=Oe,D&&Promise.resolve(o.setItem(D,Y)).catch(function(){}),Tt.label=7;case 7:return[2,(J=rR({client:s,customRoleArn:l,logins:p,identityId:Y}))()]}})})};return function(){return J().catch(function(Y){return(0,re.mG)(n,void 0,void 0,function(){return(0,re.Jh)(this,function(he){throw D&&Promise.resolve(o.removeItem(D)).catch(function(){}),Y})})})}}var vR=function(t){var n=t.endpoint;if("string"==typeof n){var r=Promise.resolve((0,t.urlParser)(n));return function(){return r}}if("object"==typeof n){var o=Promise.resolve(n);return function(){return o}}return n},K_=function(t){var n,e=function(t){if("boolean"==typeof t){var n=Promise.resolve(t);return function(){return n}}return t}(t.useDualstackEndpoint),r=t.endpoint,o=t.useFipsEndpoint;return(0,re.pi)((0,re.pi)({},t),{tls:null===(n=t.tls)||void 0===n||n,endpoint:r?vR((0,re.pi)((0,re.pi)({},t),{endpoint:r})):function(){return function(t){return(0,re.mG)(void 0,void 0,void 0,function(){var n,e,r,s,l,u,p;return(0,re.Jh)(this,function(f){switch(f.label){case 0:return e=void 0===(n=t.tls)||n,[4,t.region()];case 1:if(r=f.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,t.useDualstackEndpoint()];case 2:return s=f.sent(),[4,t.useFipsEndpoint()];case 3:return l=f.sent(),[4,t.regionInfoProvider(r,{useDualstackEndpoint:s,useFipsEndpoint:l})];case 4:if(!(u=(null!==(p=f.sent())&&void 0!==p?p:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,t.urlParser((e?"https:":"http:")+"//"+u)]}})})}((0,re.pi)((0,re.pi)({},t),{useDualstackEndpoint:e,useFipsEndpoint:o}))},isCustomEndpoint:!!r,useDualstackEndpoint:e})},X_=function(t){return"string"==typeof t&&(t.startsWith("fips-")||t.endsWith("-fips"))},W_=function(t){return X_(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t},J_=function(t){var n=t.region,e=t.useFipsEndpoint;if(!n)throw new Error("Region is missing");return(0,re.pi)((0,re.pi)({},t),{region:function(){return(0,re.mG)(void 0,void 0,void 0,function(){var r;return(0,re.Jh)(this,function(o){switch(o.label){case 0:return"string"==typeof n?[2,W_(n)]:[4,n()];case 1:return r=o.sent(),[2,W_(r)]}})})},useFipsEndpoint:function(){return(0,re.mG)(void 0,void 0,void 0,function(){var o;return(0,re.Jh)(this,function(s){switch(s.label){case 0:return"string"!=typeof n?[3,1]:(o=n,[3,3]);case 1:return[4,n()];case 2:o=s.sent(),s.label=3;case 3:return X_(o)?[2,!0]:[2,"boolean"==typeof e?Promise.resolve(e):e()]}})})}})},Q_=function(t,n){var e;void 0===t&&(t=[]);var r=n.useFipsEndpoint,o=n.useDualstackEndpoint;return null===(e=t.find(function(s){var l=s.tags;return r===l.includes("fips")&&o===l.includes("dualstack")}))||void 0===e?void 0:e.hostname},Y_=function(t,n){var e,r,o,s,l,u,p=n.useFipsEndpoint,f=void 0!==p&&p,v=n.useDualstackEndpoint,D=void 0!==v&&v,J=n.signingService,Y=n.regionHash,he=n.partitionHash,Ue=function(t,n){var e,r=n.partitionHash;return null!==(e=Object.keys(r||{}).find(function(o){return r[o].regions.includes(t)}))&&void 0!==e?e:"aws"}(t,{partitionHash:he}),Oe=t in Y?t:null!==(r=null===(e=he[Ue])||void 0===e?void 0:e.endpoint)&&void 0!==r?r:t,De={useFipsEndpoint:f,useDualstackEndpoint:D},ct=function(t,n){var r=n.partitionHostname;return n.regionHostname||(r?r.replace("{region}",t):void 0)}(Oe,{regionHostname:Q_(null===(o=Y[Oe])||void 0===o?void 0:o.variants,De),partitionHostname:Q_(null===(s=he[Ue])||void 0===s?void 0:s.variants,De)});if(void 0===ct)throw new Error("Endpoint resolution failed for: "+{resolvedRegion:Oe,useFipsEndpoint:f,useDualstackEndpoint:D});var bt=function(t,n){var e=n.signingRegion;if(e)return e;if(n.useFipsEndpoint){var s=n.regionRegex.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),l=t.match(s);if(l)return l[0].slice(1,-1)}}(ct,{signingRegion:null===(l=Y[Oe])||void 0===l?void 0:l.signingRegion,regionRegex:he[Ue].regionRegex,useFipsEndpoint:f});return(0,re.pi)((0,re.pi)({partition:Ue,signingService:J,hostname:ct},bt&&{signingRegion:bt}),(null===(u=Y[Oe])||void 0===u?void 0:u.signingService)&&{signingService:Y[Oe].signingService})},Z_="content-length",AR={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},eb=function(t){return{applyToStack:function(n){n.add(function ER(t){var n=this;return function(e){return function(r){return(0,re.mG)(n,void 0,void 0,function(){var o,s,l,u,p,f;return(0,re.Jh)(this,function(v){if(er.isInstance(o=r.request)&&(l=o.headers,(s=o.body)&&-1===Object.keys(l).map(function(D){return D.toLowerCase()}).indexOf(Z_)))try{u=t(s),o.headers=(0,re.pi)((0,re.pi)({},o.headers),((p={})[Z_]=String(u),p))}catch{o.headers=(0,re.pi)((0,re.pi)({},o.headers),((f={})["transfer-encoding"]="chunked",f))}return[2,e((0,re.pi)((0,re.pi)({},r),{request:o}))]})})}}}(t.bodyLengthChecker),AR)}}},PR={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},tb=function(t){return{applyToStack:function(n){n.add(function(t){return function(n){return function(e){return(0,re.mG)(void 0,void 0,void 0,function(){var r,o;return(0,re.Jh)(this,function(l){return er.isInstance(e.request)?(r=e.request,(void 0===(o=(t.requestHandler.metadata||{}).handlerProtocol)?"":o).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,n(e)]):[2,n(e)]})})}}}(t),PR)}}},kR={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},nb=function(t){return{applyToStack:function(n){n.add(function(t,n){return function(e){return(0,re.mG)(void 0,void 0,void 0,function(){var r,o,s,l,u,p,f,v,D;return(0,re.Jh)(this,function(J){switch(J.label){case 0:return r=n.clientName,o=n.commandName,s=n.inputFilterSensitiveLog,l=n.logger,u=n.outputFilterSensitiveLog,[4,t(e)];case 1:return p=J.sent(),l?("function"==typeof l.info&&(v=(f=p.output).$metadata,D=(0,re._T)(f,["$metadata"]),l.info({clientName:r,commandName:o,input:s(e.input),output:u(D),metadata:v})),[2,p]):[2,p]}})})}},kR)}}},Ql=(()=>{return(t=Ql||(Ql={})).STANDARD="standard",t.ADAPTIVE="adaptive",Ql;var t})(),Ty=Ql.STANDARD,VR=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],RR=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],NR=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],OR=[500,502,503,504],ky=function(t){var n,e;return 429===(null===(n=t.$metadata)||void 0===n?void 0:n.httpStatusCode)||RR.includes(t.name)||1==(null===(e=t.$retryable)||void 0===e?void 0:e.throttling)},jR=function(){function t(n){var e,r,o,s,l;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=null!==(e=null==n?void 0:n.beta)&&void 0!==e?e:.7,this.minCapacity=null!==(r=null==n?void 0:n.minCapacity)&&void 0!==r?r:1,this.minFillRate=null!==(o=null==n?void 0:n.minFillRate)&&void 0!==o?o:.5,this.scaleConstant=null!==(s=null==n?void 0:n.scaleConstant)&&void 0!==s?s:.4,this.smooth=null!==(l=null==n?void 0:n.smooth)&&void 0!==l?l:.8;var u=this.getCurrentTimeInSeconds();this.lastThrottleTime=u,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}return t.prototype.getCurrentTimeInSeconds=function(){return Date.now()/1e3},t.prototype.getSendToken=function(){return(0,re.mG)(this,void 0,void 0,function(){return(0,re.Jh)(this,function(n){return[2,this.acquireTokenBucket(1)]})})},t.prototype.acquireTokenBucket=function(n){return(0,re.mG)(this,void 0,void 0,function(){var e;return(0,re.Jh)(this,function(r){switch(r.label){case 0:return this.enabled?(this.refillTokenBucket(),n>this.currentCapacity?(e=(n-this.currentCapacity)/this.fillRate*1e3,[4,new Promise(function(o){return setTimeout(o,e)})]):[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return this.currentCapacity=this.currentCapacity-n,[2]}})})},t.prototype.refillTokenBucket=function(){var n=this.getCurrentTimeInSeconds();this.lastTimestamp?(this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+(n-this.lastTimestamp)*this.fillRate),this.lastTimestamp=n):this.lastTimestamp=n},t.prototype.updateClientSendingRate=function(n){var e;if(this.updateMeasuredRate(),ky(n)){var r=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=r,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),e=this.cubicThrottle(r),this.enableTokenBucket()}else this.calculateTimeWindow(),e=this.cubicSuccess(this.getCurrentTimeInSeconds());var o=Math.min(e,2*this.measuredTxRate);this.updateTokenBucketRate(o)},t.prototype.calculateTimeWindow=function(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))},t.prototype.cubicThrottle=function(n){return this.getPrecise(n*this.beta)},t.prototype.cubicSuccess=function(n){return this.getPrecise(this.scaleConstant*Math.pow(n-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)},t.prototype.enableTokenBucket=function(){this.enabled=!0},t.prototype.updateTokenBucketRate=function(n){this.refillTokenBucket(),this.fillRate=Math.max(n,this.minFillRate),this.maxCapacity=Math.max(n,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)},t.prototype.updateMeasuredRate=function(){var n=this.getCurrentTimeInSeconds(),e=Math.floor(2*n)/2;this.requestCount++,e>this.lastTxRateBucket&&(this.measuredTxRate=this.getPrecise(this.requestCount/(e-this.lastTxRateBucket)*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=e)},t.prototype.getPrecise=function(n){return parseFloat(n.toFixed(8))},t}(),WR=function(t,n){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,n)*t))},JR=function(t){return!!t&&(function(t){return void 0!==t.$retryable}(t)||function(t){return VR.includes(t.name)}(t)||ky(t)||function(t){var n;return NR.includes(t.name)||OR.includes((null===(n=t.$metadata)||void 0===n?void 0:n.httpStatusCode)||0)}(t))},rb=function(){function t(n,e){var r,o,s,l,u,p,f,v,D;this.maxAttemptsProvider=n,this.mode=Ql.STANDARD,this.retryDecider=null!==(r=null==e?void 0:e.retryDecider)&&void 0!==r?r:JR,this.delayDecider=null!==(o=null==e?void 0:e.delayDecider)&&void 0!==o?o:WR,this.retryQuota=null!==(s=null==e?void 0:e.retryQuota)&&void 0!==s?s:(l=1,u=5,p=10,f=500,v=function(he){return"TimeoutError"===he.name?p:u},D=function(he){return v(he)<=f},Object.freeze({hasRetryTokens:D,retrieveRetryTokens:function(he){if(!D(he))throw new Error("No retry token available");var Ue=v(he);return f-=Ue,Ue},releaseRetryTokens:function(he){f+=he??l,f=Math.min(f,500)}}))}return t.prototype.shouldRetry=function(n,e,r){return e<r&&this.retryDecider(n)&&this.retryQuota.hasRetryTokens(n)},t.prototype.getMaxAttempts=function(){return(0,re.mG)(this,void 0,void 0,function(){var n;return(0,re.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return n=r.sent(),[3,3];case 2:return r.sent(),n=3,[3,3];case 3:return[2,n]}})})},t.prototype.retry=function(n,e,r){return(0,re.mG)(this,void 0,void 0,function(){var o,s,l,u,p,f,v,D;return(0,re.Jh)(this,function(J){switch(J.label){case 0:return s=0,l=0,[4,this.getMaxAttempts()];case 1:u=J.sent(),er.isInstance(p=e.request)&&(p.headers["amz-sdk-invocation-id"]=Tn()),f=function(){var Y,he,Ue,Oe,De,Xe;return(0,re.Jh)(this,function(tt){switch(tt.label){case 0:return tt.trys.push([0,4,,7]),er.isInstance(p)&&(p.headers["amz-sdk-request"]="attempt="+(s+1)+"; max="+u),(null==r?void 0:r.beforeRequest)?[4,r.beforeRequest()]:[3,2];case 1:tt.sent(),tt.label=2;case 2:return[4,n(e)];case 3:return Y=tt.sent(),he=Y.response,Ue=Y.output,(null==r?void 0:r.afterRequest)&&r.afterRequest(he),v.retryQuota.releaseRetryTokens(o),Ue.$metadata.attempts=s+1,Ue.$metadata.totalRetryDelay=l,[2,{value:{response:he,output:Ue}}];case 4:return Oe=tt.sent(),De=QR(Oe),s++,v.shouldRetry(De,s,u)?(o=v.retryQuota.retrieveRetryTokens(De),Xe=v.delayDecider(ky(De)?500:100,s),l+=Xe,[4,new Promise(function(ct){return setTimeout(ct,Xe)})]):[3,6];case 5:return tt.sent(),[2,"continue"];case 6:throw De.$metadata||(De.$metadata={}),De.$metadata.attempts=s,De.$metadata.totalRetryDelay=l,De;case 7:return[2]}})},v=this,J.label=2;case 2:return[5,f()];case 3:return"object"==typeof(D=J.sent())?[2,D.value]:[3,2];case 4:return[2]}})})},t}(),QR=function(t){return t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):"string"==typeof t?new Error(t):new Error("AWS SDK error wrapper for "+t)},YR=function(t){function n(e,r){var o=this,s=r??{},l=s.rateLimiter,u=(0,re._T)(s,["rateLimiter"]);return(o=t.call(this,e,u)||this).rateLimiter=l??new jR,o.mode=Ql.ADAPTIVE,o}return(0,re.ZT)(n,t),n.prototype.retry=function(e,r){return(0,re.mG)(this,void 0,void 0,function(){var o=this;return(0,re.Jh)(this,function(s){return[2,t.prototype.retry.call(this,e,r,{beforeRequest:function(){return(0,re.mG)(o,void 0,void 0,function(){return(0,re.Jh)(this,function(l){return[2,this.rateLimiter.getSendToken()]})})},afterRequest:function(l){o.rateLimiter.updateClientSendingRate(l)}})]})})},n}(rb),ob=function(t){var n=eN(t.maxAttempts);return(0,re.pi)((0,re.pi)({},t),{maxAttempts:n,retryStrategy:function(){return(0,re.mG)(void 0,void 0,void 0,function(){return(0,re.Jh)(this,function(r){switch(r.label){case 0:return t.retryStrategy?[2,t.retryStrategy]:[4,ZR(t.retryMode)];case 1:return r.sent()===Ql.ADAPTIVE?[2,new YR(n)]:[2,new rb(n)]}})})}})},ZR=function(t){return(0,re.mG)(void 0,void 0,void 0,function(){return(0,re.Jh)(this,function(n){switch(n.label){case 0:return"string"==typeof t?[2,t]:[4,t()];case 1:return[2,n.sent()]}})})},eN=function(t){if(void 0===t&&(t=3),"number"==typeof t){var n=Promise.resolve(t);return function(){return n}}return t},oN={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},sb=function(t){return{applyToStack:function(n){n.add(function(t){return function(n,e){return function(r){return(0,re.mG)(void 0,void 0,void 0,function(){var o;return(0,re.Jh)(this,function(s){switch(s.label){case 0:return[4,t.retryStrategy()];case 1:return(null==(o=s.sent())?void 0:o.mode)&&(e.userAgent=(0,re.ev)((0,re.ev)([],(0,re.CR)(e.userAgent||[])),[["cfg/retry-mode",o.mode]])),[2,o.retry(n,r)]}})})}}}(t),oN)}}},lb=function(t){var u,n=t.credentials?ub(t.credentials):t.credentialDefaultProvider(t),e=t.signingEscapePath,r=void 0===e||e,o=t.systemClockOffset,s=void 0===o?t.systemClockOffset||0:o,l=t.sha256;return u=t.signer?mf(t.signer):function(){return mf(t.region)().then(function(p){return(0,re.mG)(void 0,void 0,void 0,function(){var f,v,D,J;return(0,re.Jh)(this,function(Y){switch(Y.label){case 0:return v=(f=t).regionInfoProvider,D=[p],J={},[4,t.useFipsEndpoint()];case 1:return J.useFipsEndpoint=Y.sent(),[4,t.useDualstackEndpoint()];case 2:return[4,v.apply(f,D.concat([(J.useDualstackEndpoint=Y.sent(),J)]))];case 3:return[2,[Y.sent()||{},p]]}})})}).then(function(p){var f=(0,re.CR)(p,2),v=f[0],Y=v.signingService;t.signingRegion=t.signingRegion||v.signingRegion||f[1],t.signingName=t.signingName||Y||t.serviceId;var he=(0,re.pi)((0,re.pi)({},t),{credentials:n,region:t.signingRegion,service:t.signingName,sha256:l,uriEscapePath:r});return new(t.signerConstructor||cf)(he)})},(0,re.pi)((0,re.pi)({},t),{systemClockOffset:s,signingEscapePath:r,credentials:n,signer:u})},mf=function(t){if("object"==typeof t){var n=Promise.resolve(t);return function(){return n}}return t},ub=function(t){return"function"==typeof t?z_(t,function(n){return void 0!==n.expiration&&n.expiration.getTime()-Date.now()<3e5},function(n){return void 0!==n.expiration}):mf(t)},cb=function(t){return new Date(Date.now()+t)},db=function(t,n){var e=Date.parse(t);return function(t,n){return Math.abs(cb(n).getTime()-t)>=3e5}(e,n)?e-Date.now():n},fb=function(t){var n,e,r;return Oo.isInstance(t)?null!==(e=null===(n=t.headers)||void 0===n?void 0:n.date)&&void 0!==e?e:null===(r=t.headers)||void 0===r?void 0:r.Date:void 0},cN={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0};function pb(t){return(0,re.pi)((0,re.pi)({},t),{customUserAgent:"string"==typeof t.customUserAgent?[[t.customUserAgent]]:t.customUserAgent})}var mb="user-agent",Vy="x-amz-user-agent",fN=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Ry=function(t){var n=(0,re.CR)(t,2),e=n[0],r=n[1],o=e.indexOf("/"),s=e.substring(0,o),l=e.substring(o+1);return"api"===s&&(l=l.toLowerCase()),[s,l,r].filter(function(u){return u&&u.length>0}).map(function(u){return null==u?void 0:u.replace(fN,"_")}).join("/")},mN={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},gb=function(t){return{applyToStack:function(n){n.add(function(t){return function(n,e){return function(r){return(0,re.mG)(void 0,void 0,void 0,function(){var o,s,l,u,p,f,v,D,J;return(0,re.Jh)(this,function(Y){switch(Y.label){case 0:return er.isInstance(o=r.request)?(s=o.headers,l=(null===(D=null==e?void 0:e.userAgent)||void 0===D?void 0:D.map(Ry))||[],[4,t.defaultUserAgentProvider()]):[2,n(r)];case 1:return u=Y.sent().map(Ry),p=(null===(J=null==t?void 0:t.customUserAgent)||void 0===J?void 0:J.map(Ry))||[],f=(0,re.ev)((0,re.ev)((0,re.ev)([],(0,re.CR)(u)),(0,re.CR)(l)),(0,re.CR)(p)).join(" "),v=(0,re.ev)((0,re.ev)([],(0,re.CR)(u.filter(function(he){return he.startsWith("aws-sdk-")}))),(0,re.CR)(p)).join(" "),"browser"!==t.runtime?(v&&(s[Vy]=s[Vy]?s[mb]+" "+v:v),s[mb]=f):s[Vy]=f,[2,n((0,re.pi)((0,re.pi)({},r),{request:o}))]}})})}}}(t),mN)}}};var gN=S(6513);function Ny(t){var n,e,r=[];try{for(var o=(0,re.XA)(Object.keys(t).sort()),s=o.next();!s.done;s=o.next()){var l=s.value,u=t[l];if(l=Jl(l),Array.isArray(u))for(var p=0,f=u.length;p<f;p++)r.push(l+"="+Jl(u[p]));else{var v=l;(u||"string"==typeof u)&&(v+="="+Jl(u)),r.push(v)}}}catch(D){n={error:D}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(n)throw n.error}}return r.join("&")}function yN(t){return void 0===t&&(t=0),new Promise(function(n,e){t&&setTimeout(function(){var r=new Error("Request did not complete within "+t+" ms");r.name="TimeoutError",e(r)},t)})}for(var hf=function(){function t(n){var e=this;"function"==typeof n?this.configProvider=function(){return(0,re.mG)(e,void 0,void 0,function(){return(0,re.Jh)(this,function(r){switch(r.label){case 0:return[4,n()];case 1:return[2,r.sent()||{}]}})})}:this.config=n??{}}return t.prototype.destroy=function(){},t.prototype.handle=function(n,e){var o=(void 0===e?{}:e).abortSignal;return(0,re.mG)(this,void 0,void 0,function(){var s,l,u,p,f,v,D,J,he,Ue,Oe;return(0,re.Jh)(this,function(De){switch(De.label){case 0:return!this.config&&this.configProvider?(s=this,[4,this.configProvider()]):[3,2];case 1:s.config=De.sent(),De.label=2;case 2:return l=this.config.requestTimeout,(null==o?void 0:o.aborted)?((u=new Error("Request aborted")).name="AbortError",[2,Promise.reject(u)]):(p=n.path,n.query&&(f=Ny(n.query))&&(p+="?"+f),J=n.protocol+"//"+n.hostname+((v=n.port)?":"+v:"")+p,he={body:"GET"===(D=n.method)||"HEAD"===D?void 0:n.body,headers:new Headers(n.headers),method:D},"undefined"!=typeof AbortController&&(he.signal=o),Ue=new Request(J,he),Oe=[fetch(Ue).then(function(Xe){var tt,ct,bt=Xe.headers,Tt={};try{for(var Mt=(0,re.XA)(bt.entries()),Wt=Mt.next();!Wt.done;Wt=Mt.next()){var jn=Wt.value;Tt[jn[0]]=jn[1]}}catch(Vt){tt={error:Vt}}finally{try{Wt&&!Wt.done&&(ct=Mt.return)&&ct.call(Mt)}finally{if(tt)throw tt.error}}return void 0!==Xe.body?{response:new Oo({headers:Tt,statusCode:Xe.status,body:Xe.body})}:Xe.blob().then(function(Vt){return{response:new Oo({headers:Tt,statusCode:Xe.status,body:Vt})}})}),yN(l)],o&&Oe.push(new Promise(function(Xe,tt){o.onabort=function(){var ct=new Error("Request aborted");ct.name="AbortError",tt(ct)}})),[2,Promise.race(Oe)])}})})},t}(),Ys={},yc=new Array(64),gi=0,gf="A".charCodeAt(0),Oy="Z".charCodeAt(0);gi+gf<=Oy;gi++){var Zs=String.fromCharCode(gi+gf);Ys[Zs]=gi,yc[gi]=Zs}for(gi=0,gf="a".charCodeAt(0),Oy="z".charCodeAt(0);gi+gf<=Oy;gi++)Zs=String.fromCharCode(gi+gf),Ys[Zs]=yf=gi+26,yc[yf]=Zs;for(gi=0;gi<10;gi++){var yf;Ys[gi.toString(10)]=gi+52,Zs=gi.toString(10),Ys[Zs]=yf=gi+52,yc[yf]=Zs}function Fy(t){var n=t.length/4*3;"=="===t.substr(-2)?n-=2:"="===t.substr(-1)&&n--;for(var e=new ArrayBuffer(n),r=new DataView(e),o=0;o<t.length;o+=4){for(var s=0,l=0,u=o,p=o+3;u<=p;u++)if("="!==t[u]){if(!(t[u]in Ys))throw new TypeError("Invalid character "+t[u]+" in base64 string.");s|=Ys[t[u]]<<6*(p-u),l+=6}else s>>=6;var f=o/4*3;s>>=l%8;for(var v=Math.floor(l/8),D=0;D<v;D++){var J=8*(v-D-1);r.setUint8(f+D,(s&255<<J)>>J)}}return new Uint8Array(e)}function yb(t){for(var n="",e=0;e<t.length;e+=3){for(var r=0,o=0,s=e,l=Math.min(e+3,t.length);s<l;s++)r|=t[s]<<8*(l-s-1),o+=8;var u=Math.ceil(o/6);r<<=6*u-o;for(var p=1;p<=u;p++){var f=6*(u-p);n+=yc[(r&63<<f)>>f]}n+="==".slice(0,4-u)}return n}Ys["+"]=62,yc[62]="+",Ys["/"]=63,yc[63]="/";var vb=function(t){return"function"==typeof Blob&&t instanceof Blob?function _N(t){return(0,re.mG)(this,void 0,void 0,function(){var n,e;return(0,re.Jh)(this,function(r){switch(r.label){case 0:return[4,wN(t)];case 1:return n=r.sent(),e=Fy(n),[2,new Uint8Array(e)]}})})}(t):function bN(t){return(0,re.mG)(this,void 0,void 0,function(){var n,e,r,o,s,l,u;return(0,re.Jh)(this,function(p){switch(p.label){case 0:n=new Uint8Array(0),e=t.getReader(),r=!1,p.label=1;case 1:return r?[3,3]:[4,e.read()];case 2:return o=p.sent(),s=o.done,(l=o.value)&&(u=n,(n=new Uint8Array(u.length+l.length)).set(u),n.set(l,u.length)),r=s,[3,1];case 3:return[2,n]}})})}(t)};function wN(t){return new Promise(function(n,e){var r=new FileReader;r.onloadend=function(){var o;if(2!==r.readyState)return e(new Error("Reader aborted too early"));var s=null!==(o=r.result)&&void 0!==o?o:"",l=s.indexOf(",");n(s.substring(l>-1?l+1:s.length))},r.onabort=function(){return e(new Error("Read aborted"))},r.onerror=function(){return e(r.error)},r.readAsDataURL(t)})}var _b=function(t){return function(){return Promise.reject(t)}},bb=function(t){if("string"==typeof t){for(var n=t.length,e=n-1;e>=0;e--){var r=t.charCodeAt(e);r>127&&r<=2047?n++:r>2047&&r<=65535&&(n+=2)}return n}if("number"==typeof t.byteLength)return t.byteLength;if("number"==typeof t.size)return t.size;throw new Error("Body Length computation failed for "+t)},CN=S(3962),wb=S.n(CN),Cb=function(t){var n=t.serviceId,e=t.clientVersion;return function(){return(0,re.mG)(void 0,void 0,void 0,function(){var r,o,s,l,u,p,f,v,D;return(0,re.Jh)(this,function(J){return r="undefined"!=typeof window&&(null===(s=null==window?void 0:window.navigator)||void 0===s?void 0:s.userAgent)?wb().parse(window.navigator.userAgent):void 0,o=[["aws-sdk-js",e],["os/"+((null===(l=null==r?void 0:r.os)||void 0===l?void 0:l.name)||"other"),null===(u=null==r?void 0:r.os)||void 0===u?void 0:u.version],["lang/js"],["md/browser",(null!==(f=null===(p=null==r?void 0:r.browser)||void 0===p?void 0:p.name)&&void 0!==f?f:"unknown")+"_"+(null!==(D=null===(v=null==r?void 0:r.browser)||void 0===v?void 0:v.version)&&void 0!==D?D:"unknown")]],n&&o.push(["api/"+n,e]),[2,o]})})}},xb=S(6319),Sb=function(t){var u,n=new URL(t),e=n.hostname,r=n.pathname,o=n.port,s=n.protocol,l=n.search;return l&&(u=function xN(t){var n,e,r={};if(t=t.replace(/^\?/,""))try{for(var o=(0,re.XA)(t.split("&")),s=o.next();!s.done;s=o.next()){var u=(0,re.CR)(s.value.split("="),2),p=u[0],f=u[1],v=void 0===f?null:f;p=decodeURIComponent(p),v&&(v=decodeURIComponent(v)),p in r?Array.isArray(r[p])?r[p].push(v):r[p]=[r[p],v]:r[p]=v}}catch(D){n={error:D}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(n)throw n.error}}return r}(l)),{hostname:e,port:o?parseInt(o):void 0,protocol:s,path:r,query:u}},SN={"us-east-1":{variants:[{hostname:"cognito-identity-fips.us-east-1.amazonaws.com",tags:["fips"]}]},"us-east-2":{variants:[{hostname:"cognito-identity-fips.us-east-2.amazonaws.com",tags:["fips"]}]},"us-gov-west-1":{variants:[{hostname:"cognito-identity-fips.us-gov-west-1.amazonaws.com",tags:["fips"]}]},"us-west-2":{variants:[{hostname:"cognito-identity-fips.us-west-2.amazonaws.com",tags:["fips"]}]}},EN={aws:{regions:["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ap-southeast-3","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","fips-us-east-1","fips-us-east-2","fips-us-west-2","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"],regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",variants:[{hostname:"cognito-identity.{region}.amazonaws.com",tags:[]},{hostname:"cognito-identity-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"cognito-identity-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"cognito-identity.{region}.api.aws",tags:["dualstack"]}]},"aws-cn":{regions:["cn-north-1","cn-northwest-1"],regionRegex:"^cn\\-\\w+\\-\\d+$",variants:[{hostname:"cognito-identity.{region}.amazonaws.com.cn",tags:[]},{hostname:"cognito-identity-fips.{region}.amazonaws.com.cn",tags:["fips"]},{hostname:"cognito-identity-fips.{region}.api.amazonwebservices.com.cn",tags:["dualstack","fips"]},{hostname:"cognito-identity.{region}.api.amazonwebservices.com.cn",tags:["dualstack"]}]},"aws-iso":{regions:["us-iso-east-1","us-iso-west-1"],regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",variants:[{hostname:"cognito-identity.{region}.c2s.ic.gov",tags:[]},{hostname:"cognito-identity-fips.{region}.c2s.ic.gov",tags:["fips"]}]},"aws-iso-b":{regions:["us-isob-east-1"],regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",variants:[{hostname:"cognito-identity.{region}.sc2s.sgov.gov",tags:[]},{hostname:"cognito-identity-fips.{region}.sc2s.sgov.gov",tags:["fips"]}]},"aws-us-gov":{regions:["fips-us-gov-west-1","us-gov-east-1","us-gov-west-1"],regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",variants:[{hostname:"cognito-identity.{region}.amazonaws.com",tags:[]},{hostname:"cognito-identity-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"cognito-identity-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"cognito-identity.{region}.api.aws",tags:["dualstack"]}]}},AN=function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){return(0,re.Jh)(this,function(e){return[2,Y_(t,(0,re.pi)((0,re.pi)({},n),{signingService:"cognito-identity",regionHash:SN,partitionHash:EN}))]})})},PN=["in-region","cross-region","mobile","standard","legacy"],Eb=function(t){var e=(void 0===t?{}:t).defaultsMode;return z_(function(){return(0,re.mG)(void 0,void 0,void 0,function(){var r,o;return(0,re.Jh)(this,function(s){switch(s.label){case 0:return"function"!=typeof e?[3,2]:[4,e()];case 1:return o=s.sent(),[3,3];case 2:o=e,s.label=3;case 3:switch(null==(r=o)?void 0:r.toLowerCase()){case"auto":return[2,Promise.resolve(TN()?"mobile":"standard")];case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return[2,Promise.resolve(null==r?void 0:r.toLocaleLowerCase())];case void 0:return[2,Promise.resolve("legacy")];default:throw new Error('Invalid parameter for "defaultsMode", expect '+PN.join(", ")+", got "+r)}return[2]}})})})},TN=function(){var t,n,e="undefined"!=typeof window&&(null===(t=null==window?void 0:window.navigator)||void 0===t?void 0:t.userAgent)?wb().parse(window.navigator.userAgent):void 0,r=null===(n=null==e?void 0:e.platform)||void 0===n?void 0:n.type;return"tablet"===r||"mobile"===r},My=function(t){function n(e){var r=this,o=function(t){var n,e,r,o,s,l,u,p,f,v,D,J,Y,he,Ue,Oe=Eb(t),De=function(){return Oe().then(I0)},Xe=function(t){var n,e,r,o,s;return{apiVersion:"2014-06-30",disableHostPrefix:null!==(n=null==t?void 0:t.disableHostPrefix)&&void 0!==n&&n,logger:null!==(e=null==t?void 0:t.logger)&&void 0!==e?e:{},regionInfoProvider:null!==(r=null==t?void 0:t.regionInfoProvider)&&void 0!==r?r:AN,serviceId:null!==(o=null==t?void 0:t.serviceId)&&void 0!==o?o:"Cognito Identity",urlParser:null!==(s=null==t?void 0:t.urlParser)&&void 0!==s?s:Sb}}(t);return(0,re.pi)((0,re.pi)((0,re.pi)({},Xe),t),{runtime:"browser",defaultsMode:Oe,base64Decoder:null!==(n=null==t?void 0:t.base64Decoder)&&void 0!==n?n:Fy,base64Encoder:null!==(e=null==t?void 0:t.base64Encoder)&&void 0!==e?e:yb,bodyLengthChecker:null!==(r=null==t?void 0:t.bodyLengthChecker)&&void 0!==r?r:bb,credentialDefaultProvider:null!==(o=null==t?void 0:t.credentialDefaultProvider)&&void 0!==o?o:function(tt){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(s=null==t?void 0:t.defaultUserAgentProvider)&&void 0!==s?s:Cb({serviceId:Xe.serviceId,clientVersion:"3.54.0"}),maxAttempts:null!==(l=null==t?void 0:t.maxAttempts)&&void 0!==l?l:3,region:null!==(u=null==t?void 0:t.region)&&void 0!==u?u:_b("Region is missing"),requestHandler:null!==(p=null==t?void 0:t.requestHandler)&&void 0!==p?p:new hf(De),retryMode:null!==(f=null==t?void 0:t.retryMode)&&void 0!==f?f:function(){return(0,re.mG)(void 0,void 0,void 0,function(){return(0,re.Jh)(this,function(tt){switch(tt.label){case 0:return[4,De()];case 1:return[2,tt.sent().retryMode||Ty]}})})},sha256:null!==(v=null==t?void 0:t.sha256)&&void 0!==v?v:gN.Sha256,streamCollector:null!==(D=null==t?void 0:t.streamCollector)&&void 0!==D?D:vb,useDualstackEndpoint:null!==(J=null==t?void 0:t.useDualstackEndpoint)&&void 0!==J?J:function(){return Promise.resolve(!1)},useFipsEndpoint:null!==(Y=null==t?void 0:t.useFipsEndpoint)&&void 0!==Y?Y:function(){return Promise.resolve(!1)},utf8Decoder:null!==(he=null==t?void 0:t.utf8Decoder)&&void 0!==he?he:xb.fromUtf8,utf8Encoder:null!==(Ue=null==t?void 0:t.utf8Encoder)&&void 0!==Ue?Ue:xb.toUtf8})}(e),s=J_(o),l=K_(s),u=ob(l),v=pb(lb(u));return(r=t.call(this,v)||this).config=v,r.middlewareStack.use(sb(r.config)),r.middlewareStack.use(eb(r.config)),r.middlewareStack.use(tb(r.config)),r.middlewareStack.use(nb()),r.middlewareStack.use(gb(r.config)),r}return(0,re.ZT)(n,t),n.prototype.destroy=function(){t.prototype.destroy.call(this)},n}(w0),NN={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0};var MN=S(6982),DN=S(4907),Ab=S(7502),Dy=function(){function t(n){if(this.bytes=n,8!==n.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}return t.fromNumber=function(n){if(n>0x8000000000000000||n<-0x8000000000000000)throw new Error(n+" is too large (or, if negative, too small) to represent as an Int64");for(var e=new Uint8Array(8),r=7,o=Math.abs(Math.round(n));r>-1&&o>0;r--,o/=256)e[r]=o;return n<0&&Ib(e),new t(e)},t.prototype.valueOf=function(){var n=this.bytes.slice(0),e=128&n[0];return e&&Ib(n),parseInt(wa(n),16)*(e?-1:1)},t.prototype.toString=function(){return String(this.valueOf())},t}();function Ib(t){for(var n=0;n<8;n++)t[n]^=255;for(n=7;n>-1&&(t[n]++,0===t[n]);n--);}var jN=function(){function t(n,e){this.toUtf8=n,this.fromUtf8=e}return t.prototype.format=function(n){var e,r,o,s,l=[];try{for(var u=(0,re.XA)(Object.keys(n)),p=u.next();!p.done;p=u.next()){var f=p.value,v=this.fromUtf8(f);l.push(Uint8Array.from([v.byteLength]),v,this.formatHeaderValue(n[f]))}}catch(Oe){e={error:Oe}}finally{try{p&&!p.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}var D=new Uint8Array(l.reduce(function(Oe,De){return Oe+De.byteLength},0)),J=0;try{for(var Y=(0,re.XA)(l),he=Y.next();!he.done;he=Y.next()){var Ue=he.value;D.set(Ue,J),J+=Ue.byteLength}}catch(Oe){o={error:Oe}}finally{try{he&&!he.done&&(s=Y.return)&&s.call(Y)}finally{if(o)throw o.error}}return D},t.prototype.formatHeaderValue=function(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":var e=new DataView(new ArrayBuffer(3));return e.setUint8(0,3),e.setInt16(1,n.value,!1),new Uint8Array(e.buffer);case"integer":var r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,n.value,!1),new Uint8Array(r.buffer);case"long":var o=new Uint8Array(9);return o[0]=5,o.set(n.value.bytes,1),o;case"binary":var s=new DataView(new ArrayBuffer(3+n.value.byteLength));s.setUint8(0,6),s.setUint16(1,n.value.byteLength,!1);var l=new Uint8Array(s.buffer);return l.set(n.value,3),l;case"string":var u=this.fromUtf8(n.value),p=new DataView(new ArrayBuffer(3+u.byteLength));p.setUint8(0,7),p.setUint16(1,u.byteLength,!1);var f=new Uint8Array(p.buffer);return f.set(u,3),f;case"timestamp":var v=new Uint8Array(9);return v[0]=8,v.set(Dy.fromNumber(n.value.valueOf()).bytes,1),v;case"uuid":if(!KN.test(n.value))throw new Error("Invalid UUID received: "+n.value);var D=new Uint8Array(17);return D[0]=9,D.set(function ek(t){if(t.length%2!=0)throw new Error("Hex encoded strings must have an even number length");for(var n=new Uint8Array(t.length/2),e=0;e<t.length;e+=2){var r=t.substr(e,2).toLowerCase();if(!(r in gy))throw new Error("Cannot decode unrecognized sequence "+r+" as hexadecimal");n[e/2]=gy[r]}return n}(n.value.replace(/\-/g,"")),1),D}},t.prototype.parse=function(n){for(var e={},r=0;r<n.byteLength;){var o=n.getUint8(r++),s=this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+r,o));switch(r+=o,n.getUint8(r++)){case 0:e[s]={type:Pb,value:!0};break;case 1:e[s]={type:Pb,value:!1};break;case 2:e[s]={type:BN,value:n.getInt8(r++)};break;case 3:e[s]={type:LN,value:n.getInt16(r,!1)},r+=2;break;case 4:e[s]={type:UN,value:n.getInt32(r,!1)},r+=4;break;case 5:e[s]={type:zN,value:new Dy(new Uint8Array(n.buffer,n.byteOffset+r,8))},r+=8;break;case 6:var l=n.getUint16(r,!1);r+=2,e[s]={type:GN,value:new Uint8Array(n.buffer,n.byteOffset+r,l)},r+=l;break;case 7:var u=n.getUint16(r,!1);r+=2,e[s]={type:$N,value:this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+r,u))},r+=u;break;case 8:e[s]={type:HN,value:new Date(new Dy(new Uint8Array(n.buffer,n.byteOffset+r,8)).valueOf())},r+=8;break;case 9:var p=new Uint8Array(n.buffer,n.byteOffset+r,16);r+=16,e[s]={type:qN,value:wa(p.subarray(0,4))+"-"+wa(p.subarray(4,6))+"-"+wa(p.subarray(6,8))+"-"+wa(p.subarray(8,10))+"-"+wa(p.subarray(10))};break;default:throw new Error("Unrecognized header type tag")}}return e},t}(),Pb="boolean",BN="byte",LN="short",UN="integer",zN="long",GN="binary",$N="string",HN="timestamp",qN="uuid",KN=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,kb=function(){function t(n,e){this.headerMarshaller=new jN(n,e)}return t.prototype.marshall=function(n){var r=n.body,o=this.headerMarshaller.format(n.headers),s=o.byteLength+r.byteLength+16,l=new Uint8Array(s),u=new DataView(l.buffer,l.byteOffset,l.byteLength),p=new Ab.Crc32;return u.setUint32(0,s,!1),u.setUint32(4,o.byteLength,!1),u.setUint32(8,p.update(l.subarray(0,8)).digest(),!1),l.set(o,12),l.set(r,o.byteLength+12),u.setUint32(s-4,p.update(l.subarray(8,s-4)).digest(),!1),l},t.prototype.unmarshall=function(n){var e=function WN(t){var n=t.byteLength,e=t.byteOffset,r=t.buffer;if(n<16)throw new Error("Provided message too short to accommodate event stream message overhead");var o=new DataView(r,e,n),s=o.getUint32(0,!1);if(n!==s)throw new Error("Reported message length does not match received message length");var l=o.getUint32(4,!1),u=o.getUint32(8,!1),p=o.getUint32(n-4,!1),f=(new Ab.Crc32).update(new Uint8Array(r,e,8));if(u!==f.digest())throw new Error("The prelude checksum specified in the message ("+u+") does not match the calculated CRC32 checksum ("+f.digest()+")");if(f.update(new Uint8Array(r,e+8,n-12)),p!==f.digest())throw new Error("The message checksum ("+f.digest()+") did not match the expected value of "+p);return{headers:new DataView(r,e+8+4,l),body:new Uint8Array(r,e+8+4+l,s-l-16)}}(n),o=e.body;return{headers:this.headerMarshaller.parse(e.headers),body:o}},t.prototype.formatHeaders=function(n){return this.headerMarshaller.format(n)},t}(),YN=function(){function t(n){var e=n.utf8Encoder;this.eventMarshaller=new kb(e,n.utf8Decoder),this.utfEncoder=e}return t.prototype.deserialize=function(n,e){var r=function JN(t){var n,e=0,r=0,o=null,s=null,l=function(p){if("number"!=typeof p)throw new Error("Attempted to allocate an event message where size was not a number: "+p);e=p,r=4,o=new Uint8Array(p),new DataView(o.buffer).setUint32(0,p,!1)};return(n={})[Symbol.asyncIterator]=function(){return(0,re.FC)(this,arguments,function(){var p,f,v,J,Y,he,Ue,Oe;return(0,re.Jh)(this,function(De){switch(De.label){case 0:p=t[Symbol.asyncIterator](),De.label=1;case 1:return[4,(0,re.qq)(p.next())];case 2:return f=De.sent(),v=f.value,f.done?e?[3,4]:[4,(0,re.qq)(void 0)]:[3,10];case 3:return[2,De.sent()];case 4:return e!==r?[3,7]:[4,(0,re.qq)(o)];case 5:return[4,De.sent()];case 6:return De.sent(),[3,8];case 7:throw new Error("Truncated event message received.");case 8:return[4,(0,re.qq)(void 0)];case 9:return[2,De.sent()];case 10:J=v.length,Y=0,De.label=11;case 11:if(!(Y<J))return[3,15];if(!o){if(he=J-Y,s||(s=new Uint8Array(4)),Ue=Math.min(4-r,he),s.set(v.slice(Y,Y+Ue),r),Y+=Ue,(r+=Ue)<4)return[3,15];l(new DataView(s.buffer).getUint32(0,!1)),s=null}return Oe=Math.min(e-r,J-Y),o.set(v.slice(Y,Y+Oe),r),r+=Oe,Y+=Oe,e&&e===r?[4,(0,re.qq)(o)]:[3,14];case 12:return[4,De.sent()];case 13:De.sent(),o=null,e=0,r=0,De.label=14;case 14:return[3,11];case 15:return[3,1];case 16:return[2]}})})},n}(n),o=function QN(t,n){var e;return(e={})[Symbol.asyncIterator]=function(){return(0,re.FC)(this,arguments,function(){var r,o,l,u,p,f,D,J,he,Ue,Oe,De,Xe,tt;return(0,re.Jh)(this,function(ct){switch(ct.label){case 0:ct.trys.push([0,12,13,18]),r=(0,re.KL)(t),ct.label=1;case 1:return[4,(0,re.qq)(r.next())];case 2:if((o=ct.sent()).done)return[3,11];if(l=n.eventMarshaller.unmarshall(o.value),"error"!==(u=l.headers[":message-type"].value))return[3,3];throw(p=new Error(l.headers[":error-message"].value||"UnknownError")).name=l.headers[":error-code"].value,p;case 3:return"exception"!==u?[3,5]:((Oe={})[f=l.headers[":exception-type"].value]=l,[4,(0,re.qq)(n.deserializer(Oe))]);case 4:throw(D=ct.sent()).$unknown?((J=new Error(n.toUtf8(l.body))).name=f,J):D[f];case 5:return"event"!==u?[3,9]:((De={})[l.headers[":event-type"].value]=l,[4,(0,re.qq)(n.deserializer(De))]);case 6:return(he=ct.sent()).$unknown?[3,10]:[4,(0,re.qq)(he)];case 7:return[4,ct.sent()];case 8:return ct.sent(),[3,10];case 9:throw Error("Unrecognizable event type: "+l.headers[":event-type"].value);case 10:return[3,1];case 11:return[3,18];case 12:return Ue=ct.sent(),Xe={error:Ue},[3,18];case 13:return ct.trys.push([13,,16,17]),o&&!o.done&&(tt=r.return)?[4,(0,re.qq)(tt.call(r))]:[3,15];case 14:ct.sent(),ct.label=15;case 15:return[3,17];case 16:if(Xe)throw Xe.error;return[7];case 17:return[7];case 18:return[2]}})})},e}(r,{eventMarshaller:this.eventMarshaller,deserializer:e,toUtf8:this.utfEncoder});return o},t.prototype.serialize=function(n,e){var r,o=this;return(r={})[Symbol.asyncIterator]=function(){return(0,re.FC)(this,arguments,function(){var l,u,f,v,D,J;return(0,re.Jh)(this,function(Y){switch(Y.label){case 0:Y.trys.push([0,7,8,13]),l=(0,re.KL)(n),Y.label=1;case 1:return[4,(0,re.qq)(l.next())];case 2:return(u=Y.sent()).done?[3,6]:(f=o.eventMarshaller.marshall(e(u.value)),[4,(0,re.qq)(f)]);case 3:return[4,Y.sent()];case 4:Y.sent(),Y.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return v=Y.sent(),D={error:v},[3,13];case 8:return Y.trys.push([8,,11,12]),u&&!u.done&&(J=l.return)?[4,(0,re.qq)(J.call(l))]:[3,10];case 9:Y.sent(),Y.label=10;case 10:return[3,12];case 11:if(D)throw D.error;return[7];case 12:return[7];case 13:return[4,(0,re.qq)(new Uint8Array(0))];case 14:return[4,Y.sent()];case 15:return Y.sent(),[2]}})})},r},t}(),tO=function(){function t(n){var e=n.utf8Encoder,r=n.utf8Decoder;this.eventMarshaller=new kb(e,r),this.universalMarshaller=new YN({utf8Decoder:r,utf8Encoder:e})}return t.prototype.deserialize=function(n,e){var r=nO(n)?function(t){var n;return(n={})[Symbol.asyncIterator]=function(){return(0,re.FC)(this,arguments,function(){var e,r,s;return(0,re.Jh)(this,function(l){switch(l.label){case 0:e=t.getReader(),l.label=1;case 1:l.trys.push([1,,9,10]),l.label=2;case 2:return[4,(0,re.qq)(e.read())];case 3:return r=l.sent(),s=r.value,r.done?[4,(0,re.qq)(void 0)]:[3,5];case 4:return[2,l.sent()];case 5:return[4,(0,re.qq)(s)];case 6:return[4,l.sent()];case 7:return l.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})},n}(n):n;return this.universalMarshaller.deserialize(r,e)},t.prototype.serialize=function(n,e){var r=this.universalMarshaller.serialize(n,e);return"function"==typeof ReadableStream?function(t){var n=t[Symbol.asyncIterator]();return new ReadableStream({pull:function(e){return(0,re.mG)(this,void 0,void 0,function(){var r,s;return(0,re.Jh)(this,function(l){switch(l.label){case 0:return[4,n.next()];case 1:return r=l.sent(),s=r.value,r.done?[2,e.close()]:(e.enqueue(s),[2])}})})}})}(r):r},t}(),nO=function(t){return"function"==typeof ReadableStream&&t instanceof ReadableStream},rO=function(t){return new tO(t)};function iO(t,n,e){return void 0===e&&(e=1048576),new Promise(function(r,o){var s=new FileReader;s.addEventListener("error",o),s.addEventListener("abort",o);var l=t.size,u=0;function p(){u>=l?r():s.readAsArrayBuffer(t.slice(u,Math.min(l,u+e)))}s.addEventListener("load",function(f){var v=f.target.result;n(new Uint8Array(v)),u+=v.byteLength,p()}),p()})}var aO=function(n,e){return(0,re.mG)(this,void 0,void 0,function(){var r;return(0,re.Jh)(this,function(o){switch(o.label){case 0:return r=new n,[4,iO(e,function(s){r.update(s)})];case 1:return o.sent(),[2,r.digest()]}})})},cO=[1732584193,4023233417,2562383102,271733878],dO=function(){function t(){this.state=Uint32Array.from(cO),this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(n){if(!function fO(t){return"string"==typeof t?0===t.length:0===t.byteLength}(n)){if(this.finished)throw new Error("Attempted to update an already finished hash.");var e=function pO(t){return"string"==typeof t?function(t){return"function"==typeof TextEncoder?function sO(t){return(new TextEncoder).encode(t)}(t):function(t){for(var n=[],e=0,r=t.length;e<r;e++){var o=t.charCodeAt(e);if(o<128)n.push(o);else if(o<2048)n.push(o>>6|192,63&o|128);else if(e+1<t.length&&55296==(64512&o)&&56320==(64512&t.charCodeAt(e+1))){var s=65536+((1023&o)<<10)+(1023&t.charCodeAt(++e));n.push(s>>18|240,s>>12&63|128,s>>6&63|128,63&s|128)}else n.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(n)}(t)}(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}(n),r=0,o=e.byteLength;for(this.bytesHashed+=o;o>0;)this.buffer.setUint8(this.bufferLength++,e[r++]),o--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)}},t.prototype.digest=function(){return(0,re.mG)(this,void 0,void 0,function(){var n,e,r,s,l,u;return(0,re.Jh)(this,function(p){if(!this.finished){if(r=(n=this).bufferLength,s=8*n.bytesHashed,(e=n.buffer).setUint8(this.bufferLength++,128),r%64>=56){for(u=this.bufferLength;u<64;u++)e.setUint8(u,0);this.hashBuffer(),this.bufferLength=0}for(u=this.bufferLength;u<56;u++)e.setUint8(u,0);e.setUint32(56,s>>>0,!0),e.setUint32(60,Math.floor(s/4294967296),!0),this.hashBuffer(),this.finished=!0}for(l=new DataView(new ArrayBuffer(16)),u=0;u<4;u++)l.setUint32(4*u,this.state[u],!0);return[2,new Uint8Array(l.buffer,l.byteOffset,l.byteLength)]})})},t.prototype.hashBuffer=function(){var e=this.buffer,r=this.state,o=r[0],s=r[1],l=r[2],u=r[3];o=Si(o,s,l,u,e.getUint32(0,!0),7,3614090360),u=Si(u,o,s,l,e.getUint32(4,!0),12,3905402710),l=Si(l,u,o,s,e.getUint32(8,!0),17,606105819),s=Si(s,l,u,o,e.getUint32(12,!0),22,3250441966),o=Si(o,s,l,u,e.getUint32(16,!0),7,4118548399),u=Si(u,o,s,l,e.getUint32(20,!0),12,1200080426),l=Si(l,u,o,s,e.getUint32(24,!0),17,2821735955),s=Si(s,l,u,o,e.getUint32(28,!0),22,4249261313),o=Si(o,s,l,u,e.getUint32(32,!0),7,1770035416),u=Si(u,o,s,l,e.getUint32(36,!0),12,2336552879),l=Si(l,u,o,s,e.getUint32(40,!0),17,4294925233),s=Si(s,l,u,o,e.getUint32(44,!0),22,2304563134),o=Si(o,s,l,u,e.getUint32(48,!0),7,1804603682),u=Si(u,o,s,l,e.getUint32(52,!0),12,4254626195),l=Si(l,u,o,s,e.getUint32(56,!0),17,2792965006),o=Ei(o,s=Si(s,l,u,o,e.getUint32(60,!0),22,1236535329),l,u,e.getUint32(4,!0),5,4129170786),u=Ei(u,o,s,l,e.getUint32(24,!0),9,3225465664),l=Ei(l,u,o,s,e.getUint32(44,!0),14,643717713),s=Ei(s,l,u,o,e.getUint32(0,!0),20,3921069994),o=Ei(o,s,l,u,e.getUint32(20,!0),5,3593408605),u=Ei(u,o,s,l,e.getUint32(40,!0),9,38016083),l=Ei(l,u,o,s,e.getUint32(60,!0),14,3634488961),s=Ei(s,l,u,o,e.getUint32(16,!0),20,3889429448),o=Ei(o,s,l,u,e.getUint32(36,!0),5,568446438),u=Ei(u,o,s,l,e.getUint32(56,!0),9,3275163606),l=Ei(l,u,o,s,e.getUint32(12,!0),14,4107603335),s=Ei(s,l,u,o,e.getUint32(32,!0),20,1163531501),o=Ei(o,s,l,u,e.getUint32(52,!0),5,2850285829),u=Ei(u,o,s,l,e.getUint32(8,!0),9,4243563512),l=Ei(l,u,o,s,e.getUint32(28,!0),14,1735328473),o=Ai(o,s=Ei(s,l,u,o,e.getUint32(48,!0),20,2368359562),l,u,e.getUint32(20,!0),4,4294588738),u=Ai(u,o,s,l,e.getUint32(32,!0),11,2272392833),l=Ai(l,u,o,s,e.getUint32(44,!0),16,1839030562),s=Ai(s,l,u,o,e.getUint32(56,!0),23,4259657740),o=Ai(o,s,l,u,e.getUint32(4,!0),4,2763975236),u=Ai(u,o,s,l,e.getUint32(16,!0),11,1272893353),l=Ai(l,u,o,s,e.getUint32(28,!0),16,4139469664),s=Ai(s,l,u,o,e.getUint32(40,!0),23,3200236656),o=Ai(o,s,l,u,e.getUint32(52,!0),4,681279174),u=Ai(u,o,s,l,e.getUint32(0,!0),11,3936430074),l=Ai(l,u,o,s,e.getUint32(12,!0),16,3572445317),s=Ai(s,l,u,o,e.getUint32(24,!0),23,76029189),o=Ai(o,s,l,u,e.getUint32(36,!0),4,3654602809),u=Ai(u,o,s,l,e.getUint32(48,!0),11,3873151461),l=Ai(l,u,o,s,e.getUint32(60,!0),16,530742520),o=Ii(o,s=Ai(s,l,u,o,e.getUint32(8,!0),23,3299628645),l,u,e.getUint32(0,!0),6,4096336452),u=Ii(u,o,s,l,e.getUint32(28,!0),10,1126891415),l=Ii(l,u,o,s,e.getUint32(56,!0),15,2878612391),s=Ii(s,l,u,o,e.getUint32(20,!0),21,4237533241),o=Ii(o,s,l,u,e.getUint32(48,!0),6,1700485571),u=Ii(u,o,s,l,e.getUint32(12,!0),10,2399980690),l=Ii(l,u,o,s,e.getUint32(40,!0),15,4293915773),s=Ii(s,l,u,o,e.getUint32(4,!0),21,2240044497),o=Ii(o,s,l,u,e.getUint32(32,!0),6,1873313359),u=Ii(u,o,s,l,e.getUint32(60,!0),10,4264355552),l=Ii(l,u,o,s,e.getUint32(24,!0),15,2734768916),s=Ii(s,l,u,o,e.getUint32(52,!0),21,1309151649),o=Ii(o,s,l,u,e.getUint32(16,!0),6,4149444226),u=Ii(u,o,s,l,e.getUint32(44,!0),10,3174756917),l=Ii(l,u,o,s,e.getUint32(8,!0),15,718787259),s=Ii(s,l,u,o,e.getUint32(36,!0),21,3951481745),r[0]=o+r[0]&4294967295,r[1]=s+r[1]&4294967295,r[2]=l+r[2]&4294967295,r[3]=u+r[3]&4294967295},t}();function qm(t,n,e,r,o,s){return((n=(n+t&4294967295)+(r+s&4294967295)&4294967295)<<o|n>>>32-o)+e&4294967295}function Si(t,n,e,r,o,s,l){return qm(n&e|~n&r,t,n,o,s,l)}function Ei(t,n,e,r,o,s,l){return qm(n&r|e&~r,t,n,o,s,l)}function Ai(t,n,e,r,o,s,l){return qm(n^e^r,t,n,o,s,l)}function Ii(t,n,e,r,o,s,l){return qm(e^(n|~r),t,n,o,s,l)}var mO=function(t,n){var e=n.base64Encoder,r=n.bodyLengthChecker,o=n.checksumAlgorithmFn,s=n.checksumLocationName,l=n.streamHasher,u=void 0!==e&&void 0!==r&&void 0!==o&&void 0!==s&&void 0!==l,p=u?l(o,t):void 0,f=t.getReader();return new ReadableStream({pull:function(v){return(0,re.mG)(this,void 0,void 0,function(){var D,J,he,Ue;return(0,re.Jh)(this,function(Oe){switch(Oe.label){case 0:return[4,f.read()];case 1:return D=Oe.sent(),J=D.value,D.done?(v.enqueue("0\r\n"),u?(Ue=e,[4,p]):[3,3]):[3,4];case 2:he=Ue.apply(void 0,[Oe.sent()]),v.enqueue(s+":"+he+"\r\n"),v.enqueue("\r\n"),Oe.label=3;case 3:return v.close(),[3,5];case 4:v.enqueue((r(J)||0).toString(16)+"\r\n"+J+"\r\n"),Oe.label=5;case 5:return[2]}})})}})},Vb=S(1114),hO={"af-south-1":{variants:[{hostname:"s3.dualstack.af-south-1.amazonaws.com",tags:["dualstack"]}]},"ap-east-1":{variants:[{hostname:"s3.dualstack.ap-east-1.amazonaws.com",tags:["dualstack"]}]},"ap-northeast-1":{variants:[{hostname:"s3.ap-northeast-1.amazonaws.com",tags:[]},{hostname:"s3.dualstack.ap-northeast-1.amazonaws.com",tags:["dualstack"]}]},"ap-northeast-2":{variants:[{hostname:"s3.dualstack.ap-northeast-2.amazonaws.com",tags:["dualstack"]}]},"ap-northeast-3":{variants:[{hostname:"s3.dualstack.ap-northeast-3.amazonaws.com",tags:["dualstack"]}]},"ap-south-1":{variants:[{hostname:"s3.dualstack.ap-south-1.amazonaws.com",tags:["dualstack"]}]},"ap-southeast-1":{variants:[{hostname:"s3.ap-southeast-1.amazonaws.com",tags:[]},{hostname:"s3.dualstack.ap-southeast-1.amazonaws.com",tags:["dualstack"]}]},"ap-southeast-2":{variants:[{hostname:"s3.ap-southeast-2.amazonaws.com",tags:[]},{hostname:"s3.dualstack.ap-southeast-2.amazonaws.com",tags:["dualstack"]}]},"ap-southeast-3":{variants:[{hostname:"s3.dualstack.ap-southeast-3.amazonaws.com",tags:["dualstack"]}]},"aws-global":{variants:[{hostname:"s3.amazonaws.com",tags:[]}],signingRegion:"us-east-1"},"ca-central-1":{variants:[{hostname:"s3-fips.ca-central-1.amazonaws.com",tags:["fips"]},{hostname:"s3-fips.dualstack.ca-central-1.amazonaws.com",tags:["dualstack","fips"]},{hostname:"s3.dualstack.ca-central-1.amazonaws.com",tags:["dualstack"]}]},"cn-north-1":{variants:[{hostname:"s3.dualstack.cn-north-1.amazonaws.com.cn",tags:["dualstack"]}]},"cn-northwest-1":{variants:[{hostname:"s3.dualstack.cn-northwest-1.amazonaws.com.cn",tags:["dualstack"]}]},"eu-central-1":{variants:[{hostname:"s3.dualstack.eu-central-1.amazonaws.com",tags:["dualstack"]}]},"eu-north-1":{variants:[{hostname:"s3.dualstack.eu-north-1.amazonaws.com",tags:["dualstack"]}]},"eu-south-1":{variants:[{hostname:"s3.dualstack.eu-south-1.amazonaws.com",tags:["dualstack"]}]},"eu-west-1":{variants:[{hostname:"s3.eu-west-1.amazonaws.com",tags:[]},{hostname:"s3.dualstack.eu-west-1.amazonaws.com",tags:["dualstack"]}]},"eu-west-2":{variants:[{hostname:"s3.dualstack.eu-west-2.amazonaws.com",tags:["dualstack"]}]},"eu-west-3":{variants:[{hostname:"s3.dualstack.eu-west-3.amazonaws.com",tags:["dualstack"]}]},"me-south-1":{variants:[{hostname:"s3.dualstack.me-south-1.amazonaws.com",tags:["dualstack"]}]},"s3-external-1":{variants:[{hostname:"s3-external-1.amazonaws.com",tags:[]}],signingRegion:"us-east-1"},"sa-east-1":{variants:[{hostname:"s3.sa-east-1.amazonaws.com",tags:[]},{hostname:"s3.dualstack.sa-east-1.amazonaws.com",tags:["dualstack"]}]},"us-east-1":{variants:[{hostname:"s3.us-east-1.amazonaws.com",tags:[]},{hostname:"s3-fips.dualstack.us-east-1.amazonaws.com",tags:["dualstack","fips"]},{hostname:"s3-fips.us-east-1.amazonaws.com",tags:["fips"]},{hostname:"s3.dualstack.us-east-1.amazonaws.com",tags:["dualstack"]}]},"us-east-2":{variants:[{hostname:"s3-fips.dualstack.us-east-2.amazonaws.com",tags:["dualstack","fips"]},{hostname:"s3-fips.us-east-2.amazonaws.com",tags:["fips"]},{hostname:"s3.dualstack.us-east-2.amazonaws.com",tags:["dualstack"]}]},"us-gov-east-1":{variants:[{hostname:"s3.us-gov-east-1.amazonaws.com",tags:[]},{hostname:"s3-fips.us-gov-east-1.amazonaws.com",tags:["fips"]},{hostname:"s3.dualstack.us-gov-east-1.amazonaws.com",tags:["dualstack"]}]},"us-gov-west-1":{variants:[{hostname:"s3.us-gov-west-1.amazonaws.com",tags:[]},{hostname:"s3-fips.us-gov-west-1.amazonaws.com",tags:["fips"]},{hostname:"s3.dualstack.us-gov-west-1.amazonaws.com",tags:["dualstack"]}]},"us-west-1":{variants:[{hostname:"s3.us-west-1.amazonaws.com",tags:[]},{hostname:"s3-fips.dualstack.us-west-1.amazonaws.com",tags:["dualstack","fips"]},{hostname:"s3-fips.us-west-1.amazonaws.com",tags:["fips"]},{hostname:"s3.dualstack.us-west-1.amazonaws.com",tags:["dualstack"]}]},"us-west-2":{variants:[{hostname:"s3.us-west-2.amazonaws.com",tags:[]},{hostname:"s3-fips.dualstack.us-west-2.amazonaws.com",tags:["dualstack","fips"]},{hostname:"s3-fips.us-west-2.amazonaws.com",tags:["fips"]},{hostname:"s3.dualstack.us-west-2.amazonaws.com",tags:["dualstack"]}]}},gO={aws:{regions:["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ap-southeast-3","aws-global","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","fips-ca-central-1","fips-us-east-1","fips-us-east-2","fips-us-west-1","fips-us-west-2","me-south-1","s3-external-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"],regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",variants:[{hostname:"s3.{region}.amazonaws.com",tags:[]},{hostname:"s3-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"s3-fips.dualstack.{region}.amazonaws.com",tags:["dualstack","fips"]},{hostname:"s3.dualstack.{region}.amazonaws.com",tags:["dualstack"]}]},"aws-cn":{regions:["cn-north-1","cn-northwest-1"],regionRegex:"^cn\\-\\w+\\-\\d+$",variants:[{hostname:"s3.{region}.amazonaws.com.cn",tags:[]},{hostname:"s3-fips.{region}.amazonaws.com.cn",tags:["fips"]},{hostname:"s3-fips.{region}.api.amazonwebservices.com.cn",tags:["dualstack","fips"]},{hostname:"s3.dualstack.{region}.amazonaws.com.cn",tags:["dualstack"]}]},"aws-iso":{regions:["us-iso-east-1","us-iso-west-1"],regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",variants:[{hostname:"s3.{region}.c2s.ic.gov",tags:[]},{hostname:"s3-fips.{region}.c2s.ic.gov",tags:["fips"]}]},"aws-iso-b":{regions:["us-isob-east-1"],regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",variants:[{hostname:"s3.{region}.sc2s.sgov.gov",tags:[]},{hostname:"s3-fips.{region}.sc2s.sgov.gov",tags:["fips"]}]},"aws-us-gov":{regions:["fips-us-gov-east-1","fips-us-gov-west-1","us-gov-east-1","us-gov-west-1"],regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",variants:[{hostname:"s3.{region}.amazonaws.com",tags:[]},{hostname:"s3-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"s3-fips.dualstack.{region}.amazonaws.com",tags:["dualstack","fips"]},{hostname:"s3.dualstack.{region}.amazonaws.com",tags:["dualstack"]}]}},yO=function(t,n){return(0,re.mG)(void 0,void 0,void 0,function(){return(0,re.Jh)(this,function(e){return[2,Y_(t,(0,re.pi)((0,re.pi)({},n),{signingService:"s3",regionHash:hO,partitionHash:gO}))]})})},bO=function(t){function n(e){var r=this,o=function(t){var n,e,r,o,s,l,u,p,f,v,D,J,Y,he,Ue,Oe,De,Xe,tt,ct,bt=Eb(t),Tt=function(){return bt().then(I0)},Mt=function(t){var n,e,r,o,s,l,u,p;return{apiVersion:"2006-03-01",disableHostPrefix:null!==(n=null==t?void 0:t.disableHostPrefix)&&void 0!==n&&n,logger:null!==(e=null==t?void 0:t.logger)&&void 0!==e?e:{},regionInfoProvider:null!==(r=null==t?void 0:t.regionInfoProvider)&&void 0!==r?r:yO,serviceId:null!==(o=null==t?void 0:t.serviceId)&&void 0!==o?o:"S3",signerConstructor:null!==(s=null==t?void 0:t.signerConstructor)&&void 0!==s?s:Ak,signingEscapePath:null!==(l=null==t?void 0:t.signingEscapePath)&&void 0!==l&&l,urlParser:null!==(u=null==t?void 0:t.urlParser)&&void 0!==u?u:Sb,useArnRegion:null!==(p=null==t?void 0:t.useArnRegion)&&void 0!==p&&p}}(t);return(0,re.pi)((0,re.pi)((0,re.pi)({},Mt),t),{runtime:"browser",defaultsMode:bt,base64Decoder:null!==(n=null==t?void 0:t.base64Decoder)&&void 0!==n?n:Fy,base64Encoder:null!==(e=null==t?void 0:t.base64Encoder)&&void 0!==e?e:yb,bodyLengthChecker:null!==(r=null==t?void 0:t.bodyLengthChecker)&&void 0!==r?r:bb,credentialDefaultProvider:null!==(o=null==t?void 0:t.credentialDefaultProvider)&&void 0!==o?o:function(Wt){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(s=null==t?void 0:t.defaultUserAgentProvider)&&void 0!==s?s:Cb({serviceId:Mt.serviceId,clientVersion:"3.54.0"}),eventStreamSerdeProvider:null!==(l=null==t?void 0:t.eventStreamSerdeProvider)&&void 0!==l?l:rO,getAwsChunkedEncodingStream:null!==(u=null==t?void 0:t.getAwsChunkedEncodingStream)&&void 0!==u?u:mO,maxAttempts:null!==(p=null==t?void 0:t.maxAttempts)&&void 0!==p?p:3,md5:null!==(f=null==t?void 0:t.md5)&&void 0!==f?f:dO,region:null!==(v=null==t?void 0:t.region)&&void 0!==v?v:_b("Region is missing"),requestHandler:null!==(D=null==t?void 0:t.requestHandler)&&void 0!==D?D:new hf(Tt),retryMode:null!==(J=null==t?void 0:t.retryMode)&&void 0!==J?J:function(){return(0,re.mG)(void 0,void 0,void 0,function(){return(0,re.Jh)(this,function(Wt){switch(Wt.label){case 0:return[4,Tt()];case 1:return[2,Wt.sent().retryMode||Ty]}})})},sha1:null!==(Y=null==t?void 0:t.sha1)&&void 0!==Y?Y:MN.Sha1,sha256:null!==(he=null==t?void 0:t.sha256)&&void 0!==he?he:DN.Sha256,streamCollector:null!==(Ue=null==t?void 0:t.streamCollector)&&void 0!==Ue?Ue:vb,streamHasher:null!==(Oe=null==t?void 0:t.streamHasher)&&void 0!==Oe?Oe:aO,useDualstackEndpoint:null!==(De=null==t?void 0:t.useDualstackEndpoint)&&void 0!==De?De:function(){return Promise.resolve(!1)},useFipsEndpoint:null!==(Xe=null==t?void 0:t.useFipsEndpoint)&&void 0!==Xe?Xe:function(){return Promise.resolve(!1)},utf8Decoder:null!==(tt=null==t?void 0:t.utf8Decoder)&&void 0!==tt?tt:Vb.fromUtf8,utf8Encoder:null!==(ct=null==t?void 0:t.utf8Encoder)&&void 0!==ct?ct:Vb.toUtf8})}(e),s=J_(o),l=K_(s),u=ob(l),v=function Mo(t){var n=t.bucketEndpoint,e=void 0!==n&&n,r=t.forcePathStyle,o=void 0!==r&&r,s=t.useAccelerateEndpoint,l=void 0!==s&&s,u=t.useArnRegion,p=void 0!==u&&u,f=t.disableMultiregionAccessPoints,v=void 0!==f&&f;return(0,re.pi)((0,re.pi)({},t),{bucketEndpoint:e,forcePathStyle:o,useAccelerateEndpoint:l,useArnRegion:"function"==typeof p?p:function(){return Promise.resolve(p)},disableMultiregionAccessPoints:"function"==typeof v?v:function(){return Promise.resolve(v)}})}(lb(u)),J=function(t){return(0,re.pi)((0,re.pi)({},t),{eventStreamMarshaller:t.eventStreamSerdeProvider(t)})}(pb(v));return(r=t.call(this,J)||this).config=J,r.middlewareStack.use(sb(r.config)),r.middlewareStack.use(eb(r.config)),r.middlewareStack.use(tb(r.config)),r.middlewareStack.use(nb()),r.middlewareStack.use(function(t){return{applyToStack:function(n){n.addRelativeTo(function(t){return function(n,e){return function(r){return(0,re.mG)(this,void 0,void 0,function(){var o,s,l,u,p,f;return(0,re.Jh)(this,function(v){switch(v.label){case 0:return er.isInstance(r.request)?[4,t.signer()]:[2,n(r)];case 1:return o=v.sent(),l=n,u=[(0,re.pi)({},r)],f={},[4,o.sign(r.request,{signingDate:cb(t.systemClockOffset),signingRegion:e.signing_region,signingService:e.signing_service})];case 2:return[4,l.apply(void 0,[re.pi.apply(void 0,u.concat([(f.request=v.sent(),f)]))]).catch(function(D){var J,Y=null!==(J=D.ServerTime)&&void 0!==J?J:fb(D.$response);throw Y&&(t.systemClockOffset=db(Y,t.systemClockOffset)),D})];case 3:return s=v.sent(),(p=fb(s.response))&&(t.systemClockOffset=db(p,t.systemClockOffset)),[2,s]}})})}}}(t),cN)}}}(r.config)),r.middlewareStack.use({applyToStack:function(n){n.add(function Ok(){var t=this;return function(n){return function(e){return(0,re.mG)(t,void 0,void 0,function(){var r,o;return(0,re.Jh)(this,function(s){if("string"==typeof(r=e.input.Bucket)&&!Fo(r)&&r.indexOf("/")>=0)throw(o=new Error("Bucket name shouldn't contain '/', received '"+r+"'")).name="InvalidBucketName",o;return[2,n((0,re.pi)({},e))]})})}}}(),Fk)}}),r.middlewareStack.use(function(t){return{applyToStack:function(n){n.add(function(t){return function(n){return function(e){return(0,re.mG)(void 0,void 0,void 0,function(){var r,o;return(0,re.Jh)(this,function(s){switch(s.label){case 0:return!er.isInstance(r=e.request)||t.isCustomEndpoint?[2,n((0,re.pi)({},e))]:"s3.amazonaws.com"!==r.hostname?[3,1]:(r.hostname="s3.us-east-1.amazonaws.com",[3,3]);case 1:return o="aws-global",[4,t.region()];case 2:o===s.sent()&&(r.hostname="s3.amazonaws.com"),s.label=3;case 3:return[2,n((0,re.pi)({},e))]}})})}}}(t),Rk)}}}(r.config)),r.middlewareStack.use(function(t){return{applyToStack:function(n){n.add(function RN(t){var n=this;return function(e){return function(r){return(0,re.mG)(n,void 0,void 0,function(){var o;return(0,re.Jh)(this,function(s){return er.isInstance(o=r.request)&&o.body&&"node"===t.runtime&&(o.headers=(0,re.pi)((0,re.pi)({},o.headers),{Expect:"100-continue"})),[2,e((0,re.pi)((0,re.pi)({},r),{request:o}))]})})}}}(t),NN)}}}(r.config)),r.middlewareStack.use(gb(r.config)),r}return(0,re.ZT)(n,t),n.prototype.destroy=function(){t.prototype.destroy.call(this)},n}(w0);let wO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-mediafile-pane-renderer"]],decls:1,vars:0,template:function(e,r){1&e&&a.\u0275\u0275text(0,"Media File")},styles:[""]}),t})(),Rb=(()=>{class t{constructor(e){e.register(new Ut.ContentPlugin({id:"media_file",title:"Media File",selectionComponent:void 0,editorComponent:void 0,renderComponent:wO,handler:void 0}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Ut.ContentPluginManager))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule]]}),t})();const Km=new a.InjectionToken("Media Settings");class xO{constructor(n){n&&(this.endpointUrl=n.endpointUrl,this.cloudinaryUrl=n.cloudinaryUrl,this.uploadPreset=n.uploadPreset,this.imageUrl=n.imageUrl,this.bucket=n.bucket,this.prefix=n.prefix)}}class jy{constructor(n){n&&(this.id=n.id,this.contentType=n.contentType,this.contentDisposition=n.contentDisposition,this.path=n.path,this.fileName=n.fileName,this.length=n.length,this.extension=n.extension?n.extension:void 0,this.realPath=n.realPath&&""!==n.realPath?n.realPath:void 0)}}let Xm=(()=>{class t{constructor(e,r,o,s){this.settings=e,this.cognitoSettings=r,this.http=o,this.authFacade=s}bulkUpload({files:e,fileNameOverride:r,nocache:o}){const s=[];return e.forEach(l=>{l&&s.push(new g.y(u=>{const p=r||Tn(),[f,v]=l.name.split(".",2),D=p+(v?"."+v:"");new qk({client:this.buildClient(),params:{Bucket:this.settings.bucket,Key:this.settings.prefix+D,Body:l,ContentType:l.type,...o?{CacheControl:"no-cache"}:{}}}).done().then(()=>{u.next(new jy({id:p,contentType:l.type,contentDisposition:"",path:D,realPath:this.settings.prefix+D,length:l.size,fileName:l.name,extension:v&&""!==v?v:void 0})),u.complete()})}))}),s.length>0?(0,rn.D)(s):(0,ke.of)([])}convertToFiles(e){const r=e.map(o=>new g.y(s=>{fetch(`${this.settings.imageUrl}/${o.path}`).then(l=>{l.blob().then(u=>{new Promise(p=>{let f=new FileReader;f.onload=()=>p(f.result),f.readAsDataURL(u)}).then(p=>{const f=this.convertDataURIToBinary(p),v=new File([f],o.fileName,{type:o.contentType});s.next(v),s.complete()})})})}));return(0,rn.D)(r)}convertDataURIToBinary(e){for(var r=";base64,",o=e.indexOf(r)+r.length,s=e.substring(o),l=window.atob(s),u=l.length,p=new Uint8Array(new ArrayBuffer(u)),f=0;f<u;f++)p[f]=l.charCodeAt(f);return p}buildClient(){return new bO({region:this.cognitoSettings.region,credentials:Py({client:new My({region:this.cognitoSettings.region}),identityPoolId:this.cognitoSettings.identityPoolId,logins:{[`cognito-idp.${this.cognitoSettings.region}.amazonaws.com/${this.cognitoSettings.userPoolId}`]:()=>oc(this.authFacade.getUser$.pipe((0,ve.U)(e=>e?e.id_token:void 0)))}})})}isImage({file:e}){return e.type&&0===e.type.indexOf("image/")}isVideo({file:e}){return e.type&&0===e.type.indexOf("video/")}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Km),a.\u0275\u0275inject(ql),a.\u0275\u0275inject(F.HttpClient),a.\u0275\u0275inject(hi))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var ln=S(3853),Wr=S(6996),Ct=S(7604);let _f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule]]}),t})(),Dn=(()=>{class t{constructor(){}generateTokens(e){const r=new Map;return this.attributeTokens(e,r,"",0),r}generateGenericTokens(e,r=""){const o=new Map;return this.genericTokens(e,o,r,0),o}attributeTokens(e,r,o,s){e.forEach((l,u)=>{if("widget"!==l.name)for(const p in l)l.type===Ct.AttributeTypes.Complex||"attributes"===p&&l.attributes&&l.attributes.length>0?this.attributeTokens(l.attributes,r,l.type===Ct.AttributeTypes.Complex?`${o}`:`${o}.${l.name}`,s+1):"attributes"!==p&&r.set(p===l.name?`${o}.${p}`:`${o}.${l.name}.${p}`,l[p])})}genericTokens(e,r,o,s){for(const u in e)if("object"!=typeof e[u])r.set(`${o}.${u}`,e[u]);else if(Array.isArray(e[u])&&"attributes"===u)this.attributeTokens(e[u],r,`${o}.${u}`,s+1);else if(Array.isArray(e[u])){var l=e[u].length;for(let f=0;f<l;f++)this.genericTokens(e[u][f],r,`${o}.${u}.${f}`,s+1)}else this.genericTokens(e[u],r,`${o}.${u}`,s+1)}replaceTokens(e,r){return r&&r.forEach((o,s)=>{e=e.replace(`[${s}]`,`${o}`)}),e}matchTokens(e,r){const o=[],s=r.length;for(let l=0;l<s;l++)e.indexOf(`[${r[l]}]`)>-1&&o.push(r[l]);return o}discoverTokens(e,r=!1){const o=e.match(/(\[(?:\[??[^\[]*?\]))/g);return null===o?[]:o.reduce((l,u)=>{if(-1!==u.indexOf(" ")||-1===u.indexOf("."))return l;const[p]=1===u.indexOf(".")?["."]:u.substr(1,u.length-2).split(".");return-1!==l.findIndex(f=>f===p)?l:[...l,r?u.substr(1,u.length-2):p]},[])}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Un=S(1989);const SO=["gutterEls"];function EO(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",2,3),a.\u0275\u0275listener("keydown",function(o){a.\u0275\u0275restoreView(e);const s=a.\u0275\u0275nextContext().index;return a.\u0275\u0275nextContext().startKeyboardDrag(o,2*s+1,s+1)})("mousedown",function(o){a.\u0275\u0275restoreView(e);const s=a.\u0275\u0275nextContext().index;return a.\u0275\u0275nextContext().startMouseDrag(o,2*s+1,s+1)})("touchstart",function(o){a.\u0275\u0275restoreView(e);const s=a.\u0275\u0275nextContext().index;return a.\u0275\u0275nextContext().startMouseDrag(o,2*s+1,s+1)})("mouseup",function(o){a.\u0275\u0275restoreView(e);const s=a.\u0275\u0275nextContext().index;return a.\u0275\u0275nextContext().clickGutter(o,s+1)})("touchend",function(o){a.\u0275\u0275restoreView(e);const s=a.\u0275\u0275nextContext().index;return a.\u0275\u0275nextContext().clickGutter(o,s+1)}),a.\u0275\u0275element(2,"div",4),a.\u0275\u0275elementEnd()}if(2&t){const e=a.\u0275\u0275nextContext(),r=e.index,o=e.$implicit,s=a.\u0275\u0275nextContext();a.\u0275\u0275styleProp("flex-basis",s.gutterSize,"px")("order",2*r+1),a.\u0275\u0275attribute("aria-label",s.gutterAriaLabel)("aria-orientation",s.direction)("aria-valuemin",o.minSize)("aria-valuemax",o.maxSize)("aria-valuenow",o.size)("aria-valuetext",s.getAriaAreaSizeText(o.size))}}function AO(t,n){1&t&&a.\u0275\u0275template(0,EO,3,10,"div",1),2&t&&a.\u0275\u0275property("ngIf",!1===n.last)}const IO=["*"];function bf(t){if(void 0!==t.changedTouches&&t.changedTouches.length>0)return{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY};if(void 0!==t.clientX&&void 0!==t.clientY)return{x:t.clientX,y:t.clientY};if(void 0!==t.currentTarget){const n=t.currentTarget;return{x:n.offsetLeft,y:n.offsetTop}}return null}function Nb(t,n,e){return Math.abs(t.x-n.x)<=e&&Math.abs(t.y-n.y)<=e}function Ob(t,n){const e=t.nativeElement.getBoundingClientRect();return"horizontal"===n?e.width:e.height}function wf(t){return"boolean"==typeof t?t:"false"!==t}function nl(t,n){return null==t?n:(t=Number(t),!isNaN(t)&&t>=0?t:n)}function Fb(t,n){if("percent"===t){const e=n.reduce((r,o)=>null!==o?r+o:r,0);return n.every(r=>null!==r)&&e>99.9&&e<100.1}if("pixel"===t)return 1===n.filter(e=>null===e).length}function Wm(t){return null===t.size?null:!0===t.component.lockSize?t.size:null===t.component.minSize?null:t.component.minSize>t.size?t.size:t.component.minSize}function Jm(t){return null===t.size?null:!0===t.component.lockSize?t.size:null===t.component.maxSize?null:t.component.maxSize<t.size?t.size:t.component.maxSize}function _c(t,n,e,r){return n.reduce((o,s)=>{const l=function TO(t,n,e,r){return 0===e?{areaSnapshot:n,pixelAbsorb:0,percentAfterAbsorption:n.sizePercentAtStart,pixelRemain:0}:0===n.sizePixelAtStart&&e<0?{areaSnapshot:n,pixelAbsorb:0,percentAfterAbsorption:0,pixelRemain:e}:"percent"===t?function kO(t,n,e){const o=(t.sizePixelAtStart+n)/e*100;if(n>0){if(null!==t.area.maxSize&&o>t.area.maxSize){const s=t.area.maxSize/100*e;return{areaSnapshot:t,pixelAbsorb:s,percentAfterAbsorption:t.area.maxSize,pixelRemain:t.sizePixelAtStart+n-s}}return{areaSnapshot:t,pixelAbsorb:n,percentAfterAbsorption:o>100?100:o,pixelRemain:0}}if(n<0){if(null!==t.area.minSize&&o<t.area.minSize){const s=t.area.minSize/100*e;return{areaSnapshot:t,pixelAbsorb:s,percentAfterAbsorption:t.area.minSize,pixelRemain:t.sizePixelAtStart+n-s}}return o<0?{areaSnapshot:t,pixelAbsorb:-t.sizePixelAtStart,percentAfterAbsorption:0,pixelRemain:n+t.sizePixelAtStart}:{areaSnapshot:t,pixelAbsorb:n,percentAfterAbsorption:o,pixelRemain:0}}}(n,e,r):"pixel"===t?function VO(t,n,e){const r=t.sizePixelAtStart+n;return n>0?null!==t.area.maxSize&&r>t.area.maxSize?{areaSnapshot:t,pixelAbsorb:t.area.maxSize-t.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:r-t.area.maxSize}:{areaSnapshot:t,pixelAbsorb:n,percentAfterAbsorption:-1,pixelRemain:0}:n<0?null!==t.area.minSize&&r<t.area.minSize?{areaSnapshot:t,pixelAbsorb:t.area.minSize+n-r,percentAfterAbsorption:-1,pixelRemain:r-t.area.minSize}:r<0?{areaSnapshot:t,pixelAbsorb:-t.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:n+t.sizePixelAtStart}:{areaSnapshot:t,pixelAbsorb:n,percentAfterAbsorption:-1,pixelRemain:0}:void 0}(n,e):void 0}(t,s,o.remain,r);return o.list.push(l),o.remain=l.pixelRemain,o},{remain:e,list:[]})}function Mb(t,n){"percent"===t?n.areaSnapshot.area.size=n.percentAfterAbsorption:"pixel"===t&&null!==n.areaSnapshot.area.size&&(n.areaSnapshot.area.size=n.areaSnapshot.sizePixelAtStart+n.pixelAbsorb)}const RO=new a.InjectionToken("angular-split-global-config");let Cf=(()=>{class t{constructor(e,r,o,s,l){this.ngZone=e,this.elRef=r,this.cdRef=o,this.renderer=s,this.gutterClickDeltaPx=2,this._config={direction:"horizontal",unit:"percent",gutterSize:11,gutterStep:1,restrictMove:!1,useTransition:!1,disabled:!1,dir:"ltr",gutterDblClickDuration:0},this.dragStart=new a.EventEmitter(!1),this.dragEnd=new a.EventEmitter(!1),this.gutterClick=new a.EventEmitter(!1),this.gutterDblClick=new a.EventEmitter(!1),this.dragProgressSubject=new O.x,this.dragProgress$=this.dragProgressSubject.asObservable(),this.isDragging=!1,this.isWaitingClear=!1,this.isWaitingInitialMove=!1,this.dragListeners=[],this.snapshot=null,this.startPoint=null,this.endPoint=null,this.displayedAreas=[],this.hiddenAreas=[],this._clickTimeout=null,this.direction=this._direction,this._config=l?Object.assign(this._config,l):this._config,Object.keys(this._config).forEach(u=>{this[u]=this._config[u]})}set direction(e){this._direction="vertical"===e?"vertical":"horizontal",this.renderer.addClass(this.elRef.nativeElement,`as-${this._direction}`),this.renderer.removeClass(this.elRef.nativeElement,"as-"+("vertical"===this._direction?"horizontal":"vertical")),this.build(!1,!1)}get direction(){return this._direction}set unit(e){this._unit="pixel"===e?"pixel":"percent",this.renderer.addClass(this.elRef.nativeElement,`as-${this._unit}`),this.renderer.removeClass(this.elRef.nativeElement,"as-"+("pixel"===this._unit?"percent":"pixel")),this.build(!1,!0)}get unit(){return this._unit}set gutterSize(e){this._gutterSize=nl(e,11),this.build(!1,!1)}get gutterSize(){return this._gutterSize}set gutterStep(e){this._gutterStep=nl(e,1)}get gutterStep(){return this._gutterStep}set restrictMove(e){this._restrictMove=wf(e)}get restrictMove(){return this._restrictMove}set useTransition(e){this._useTransition=wf(e),this._useTransition?this.renderer.addClass(this.elRef.nativeElement,"as-transition"):this.renderer.removeClass(this.elRef.nativeElement,"as-transition")}get useTransition(){return this._useTransition}set disabled(e){this._disabled=wf(e),this._disabled?this.renderer.addClass(this.elRef.nativeElement,"as-disabled"):this.renderer.removeClass(this.elRef.nativeElement,"as-disabled")}get disabled(){return this._disabled}set dir(e){this._dir="rtl"===e?"rtl":"ltr",this.renderer.setAttribute(this.elRef.nativeElement,"dir",this._dir)}get dir(){return this._dir}set gutterDblClickDuration(e){this._gutterDblClickDuration=nl(e,0)}get gutterDblClickDuration(){return this._gutterDblClickDuration}get transitionEnd(){return new g.y(e=>this.transitionEndSubscriber=e).pipe((0,Un.b)(20))}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>this.renderer.addClass(this.elRef.nativeElement,"as-init"))})}getNbGutters(){return 0===this.displayedAreas.length?0:this.displayedAreas.length-1}addArea(e){const r={component:e,order:0,size:0,minSize:null,maxSize:null,sizeBeforeCollapse:null,gutterBeforeCollapse:0};!0===e.visible?(this.displayedAreas.push(r),this.build(!0,!0)):this.hiddenAreas.push(r)}removeArea(e){if(this.displayedAreas.some(r=>r.component===e)){const r=this.displayedAreas.find(o=>o.component===e);this.displayedAreas.splice(this.displayedAreas.indexOf(r),1),this.build(!0,!0)}else if(this.hiddenAreas.some(r=>r.component===e)){const r=this.hiddenAreas.find(o=>o.component===e);this.hiddenAreas.splice(this.hiddenAreas.indexOf(r),1)}}updateArea(e,r,o){!0===e.visible&&this.build(r,o)}showArea(e){const r=this.hiddenAreas.find(s=>s.component===e);if(void 0===r)return;const o=this.hiddenAreas.splice(this.hiddenAreas.indexOf(r),1);this.displayedAreas.push(...o),this.build(!0,!0)}hideArea(e){const r=this.displayedAreas.find(s=>s.component===e);if(void 0===r)return;const o=this.displayedAreas.splice(this.displayedAreas.indexOf(r),1);o.forEach(s=>{s.order=0,s.size=0}),this.hiddenAreas.push(...o),this.build(!0,!0)}getVisibleAreaSizes(){return this.displayedAreas.map(e=>null===e.size?"*":e.size)}setVisibleAreaSizes(e){if(e.length!==this.displayedAreas.length)return!1;const r=e.map(s=>nl(s,null));return!1!==Fb(this.unit,r)&&(this.displayedAreas.forEach((s,l)=>s.component._size=r[l]),this.build(!1,!0),!0)}build(e,r){if(this.stopDragging(),!0===e&&(this.displayedAreas.every(o=>null!==o.component.order)&&this.displayedAreas.sort((o,s)=>o.component.order-s.component.order),this.displayedAreas.forEach((o,s)=>{o.order=2*s,o.component.setStyleOrder(o.order)})),!0===r){const o=Fb(this.unit,this.displayedAreas.map(s=>s.component.size));switch(this.unit){case"percent":{const s=100/this.displayedAreas.length;this.displayedAreas.forEach(l=>{l.size=o?l.component.size:s,l.minSize=Wm(l),l.maxSize=Jm(l)});break}case"pixel":if(o)this.displayedAreas.forEach(s=>{s.size=s.component.size,s.minSize=Wm(s),s.maxSize=Jm(s)});else{const s=this.displayedAreas.filter(l=>null===l.component.size);if(0===s.length&&this.displayedAreas.length>0)this.displayedAreas.forEach((l,u)=>{l.size=0===u?null:l.component.size,l.minSize=0===u?null:Wm(l),l.maxSize=0===u?null:Jm(l)});else if(s.length>1){let l=!1;this.displayedAreas.forEach(u=>{null===u.component.size?!1===l?(u.size=null,u.minSize=null,u.maxSize=null,l=!0):(u.size=100,u.minSize=null,u.maxSize=null):(u.size=u.component.size,u.minSize=Wm(u),u.maxSize=Jm(u))})}}}}this.refreshStyleSizes(),this.cdRef.markForCheck()}refreshStyleSizes(){if("percent"===this.unit)if(1===this.displayedAreas.length)this.displayedAreas[0].component.setStyleFlex(0,0,"100%",!1,!1);else{const e=this.getNbGutters()*this.gutterSize;this.displayedAreas.forEach(r=>{r.component.setStyleFlex(0,0,`calc( ${r.size}% - ${r.size/100*e}px )`,null!==r.minSize&&r.minSize===r.size,null!==r.maxSize&&r.maxSize===r.size)})}else"pixel"===this.unit&&this.displayedAreas.forEach(e=>{null===e.size?e.component.setStyleFlex(1,1,1===this.displayedAreas.length?"100%":"auto",!1,!1):1===this.displayedAreas.length?e.component.setStyleFlex(0,0,"100%",!1,!1):e.component.setStyleFlex(0,0,`${e.size}px`,null!==e.minSize&&e.minSize===e.size,null!==e.maxSize&&e.maxSize===e.size)})}clickGutter(e,r){const o=bf(e);this.startPoint&&Nb(this.startPoint,o,this.gutterClickDeltaPx)&&(!this.isDragging||this.isWaitingInitialMove)&&(null!==this._clickTimeout?(window.clearTimeout(this._clickTimeout),this._clickTimeout=null,this.notify("dblclick",r),this.stopDragging()):this._clickTimeout=window.setTimeout(()=>{this._clickTimeout=null,this.notify("click",r),this.stopDragging()},this.gutterDblClickDuration))}startKeyboardDrag(e,r,o){if(!0===this.disabled||!0===this.isWaitingClear)return;const s=function PO(t,n){if("horizontal"===n)switch(t.key){case"ArrowLeft":case"ArrowRight":case"PageUp":case"PageDown":break;default:return null}if("vertical"===n)switch(t.key){case"ArrowUp":case"ArrowDown":case"PageUp":case"PageDown":break;default:return null}const e=t.currentTarget,r="PageUp"===t.key||"PageDown"===t.key?500:50;let o=e.offsetLeft,s=e.offsetTop;switch(t.key){case"ArrowLeft":o-=r;break;case"ArrowRight":o+=r;break;case"ArrowUp":s-=r;break;case"ArrowDown":s+=r;break;case"PageUp":"vertical"===n?s-=r:o+=r;break;case"PageDown":"vertical"===n?s+=r:o-=r;break;default:return null}return{x:o,y:s}}(e,this.direction);null!==s&&(this.endPoint=s,this.startPoint=bf(e),e.preventDefault(),e.stopPropagation(),this.setupForDragEvent(r,o),this.startDragging(),this.drag(),this.stopDragging())}startMouseDrag(e,r,o){e.preventDefault(),e.stopPropagation(),this.startPoint=bf(e),null!==this.startPoint&&!0!==this.disabled&&!0!==this.isWaitingClear&&(this.setupForDragEvent(r,o),this.dragListeners.push(this.renderer.listen("document","mouseup",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchend",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchcancel",this.stopDragging.bind(this))),this.ngZone.runOutsideAngular(()=>{this.dragListeners.push(this.renderer.listen("document","mousemove",this.mouseDragEvent.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchmove",this.mouseDragEvent.bind(this)))}),this.startDragging())}setupForDragEvent(e,r){this.snapshot={gutterNum:r,lastSteppedOffset:0,allAreasSizePixel:Ob(this.elRef,this.direction)-this.getNbGutters()*this.gutterSize,allInvolvedAreasSizePercent:100,areasBeforeGutter:[],areasAfterGutter:[]},this.displayedAreas.forEach(o=>{const s={area:o,sizePixelAtStart:Ob(o.component.elRef,this.direction),sizePercentAtStart:"percent"===this.unit?o.size:-1};o.order<e?!0===this.restrictMove?this.snapshot.areasBeforeGutter=[s]:this.snapshot.areasBeforeGutter.unshift(s):o.order>e&&(!0===this.restrictMove?0===this.snapshot.areasAfterGutter.length&&(this.snapshot.areasAfterGutter=[s]):this.snapshot.areasAfterGutter.push(s))}),this.snapshot.allInvolvedAreasSizePercent=[...this.snapshot.areasBeforeGutter,...this.snapshot.areasAfterGutter].reduce((o,s)=>o+s.sizePercentAtStart,0)}startDragging(){this.displayedAreas.forEach(e=>e.component.lockEvents()),this.isDragging=!0,this.isWaitingInitialMove=!0}mouseDragEvent(e){e.preventDefault(),e.stopPropagation();const r=bf(e);null!==this._clickTimeout&&!Nb(this.startPoint,r,this.gutterClickDeltaPx)&&(window.clearTimeout(this._clickTimeout),this._clickTimeout=null),!1!==this.isDragging&&(this.endPoint=bf(e),null!==this.endPoint&&this.drag())}drag(){if(this.isWaitingInitialMove){if(this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y)return;this.ngZone.run(()=>{this.isWaitingInitialMove=!1,this.renderer.addClass(this.elRef.nativeElement,"as-dragging"),this.renderer.addClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.notify("start",this.snapshot.gutterNum)})}let e="horizontal"===this.direction?this.startPoint.x-this.endPoint.x:this.startPoint.y-this.endPoint.y;"rtl"===this.dir&&(e=-e);const r=Math.round(e/this.gutterStep)*this.gutterStep;if(r===this.snapshot.lastSteppedOffset)return;this.snapshot.lastSteppedOffset=r;let o=_c(this.unit,this.snapshot.areasBeforeGutter,-r,this.snapshot.allAreasSizePixel),s=_c(this.unit,this.snapshot.areasAfterGutter,r,this.snapshot.allAreasSizePixel);if(0!==o.remain&&0!==s.remain?Math.abs(o.remain)===Math.abs(s.remain)||(Math.abs(o.remain)>Math.abs(s.remain)?s=_c(this.unit,this.snapshot.areasAfterGutter,r+o.remain,this.snapshot.allAreasSizePixel):o=_c(this.unit,this.snapshot.areasBeforeGutter,-(r-s.remain),this.snapshot.allAreasSizePixel)):0!==o.remain?s=_c(this.unit,this.snapshot.areasAfterGutter,r+o.remain,this.snapshot.allAreasSizePixel):0!==s.remain&&(o=_c(this.unit,this.snapshot.areasBeforeGutter,-(r-s.remain),this.snapshot.allAreasSizePixel)),"percent"===this.unit){const l=[...o.list,...s.list],u=l.find(p=>0!==p.percentAfterAbsorption&&p.percentAfterAbsorption!==p.areaSnapshot.area.minSize&&p.percentAfterAbsorption!==p.areaSnapshot.area.maxSize);u&&(u.percentAfterAbsorption=this.snapshot.allInvolvedAreasSizePercent-l.filter(p=>p!==u).reduce((p,f)=>p+f.percentAfterAbsorption,0))}o.list.forEach(l=>Mb(this.unit,l)),s.list.forEach(l=>Mb(this.unit,l)),this.refreshStyleSizes(),this.notify("progress",this.snapshot.gutterNum)}stopDragging(e){if(e&&(e.preventDefault(),e.stopPropagation()),!1!==this.isDragging){for(this.displayedAreas.forEach(r=>r.component.unlockEvents());this.dragListeners.length>0;){const r=this.dragListeners.pop();r&&r()}this.isDragging=!1,!1===this.isWaitingInitialMove&&this.notify("end",this.snapshot.gutterNum),this.renderer.removeClass(this.elRef.nativeElement,"as-dragging"),this.renderer.removeClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.snapshot=null,this.isWaitingClear=!0,this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.startPoint=null,this.endPoint=null,this.isWaitingClear=!1})})}}notify(e,r){const o=this.getVisibleAreaSizes();"start"===e?this.dragStart.emit({gutterNum:r,sizes:o}):"end"===e?this.dragEnd.emit({gutterNum:r,sizes:o}):"click"===e?this.gutterClick.emit({gutterNum:r,sizes:o}):"dblclick"===e?this.gutterDblClick.emit({gutterNum:r,sizes:o}):"transitionEnd"===e?this.transitionEndSubscriber&&this.ngZone.run(()=>this.transitionEndSubscriber.next(o)):"progress"===e&&this.dragProgressSubject.next({gutterNum:r,sizes:o})}ngOnDestroy(){this.stopDragging()}collapseArea(e,r,o){const s=this.displayedAreas.find(p=>p.component===e);if(void 0===s)return;const l="right"===o?1:-1;s.sizeBeforeCollapse||(s.sizeBeforeCollapse=s.size,s.gutterBeforeCollapse=l),s.size=r;const u=this.gutterEls.find(p=>p.nativeElement.style.order===`${s.order+l}`);u&&this.renderer.addClass(u.nativeElement,"as-split-gutter-collapsed"),this.updateArea(e,!1,!1)}expandArea(e){const r=this.displayedAreas.find(s=>s.component===e);if(void 0===r||!r.sizeBeforeCollapse)return;r.size=r.sizeBeforeCollapse,r.sizeBeforeCollapse=null;const o=this.gutterEls.find(s=>s.nativeElement.style.order===`${r.order+r.gutterBeforeCollapse}`);o&&this.renderer.removeClass(o.nativeElement,"as-split-gutter-collapsed"),this.updateArea(e,!1,!1)}getAriaAreaSizeText(e){return null===e?null:e.toFixed(0)+" "+this.unit}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.NgZone),a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(a.ChangeDetectorRef),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(RO,8))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["as-split"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(SO,5),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.gutterEls=o)}},inputs:{direction:"direction",unit:"unit",gutterSize:"gutterSize",gutterStep:"gutterStep",restrictMove:"restrictMove",useTransition:"useTransition",disabled:"disabled",dir:"dir",gutterDblClickDuration:"gutterDblClickDuration",gutterClickDeltaPx:"gutterClickDeltaPx",gutterAriaLabel:"gutterAriaLabel"},outputs:{transitionEnd:"transitionEnd",dragStart:"dragStart",dragEnd:"dragEnd",gutterClick:"gutterClick",gutterDblClick:"gutterDblClick"},exportAs:["asSplit"],ngContentSelectors:IO,decls:2,vars:1,consts:[["ngFor","",3,"ngForOf"],["role","slider","tabindex","0","class","as-split-gutter",3,"flex-basis","order","keydown","mousedown","touchstart","mouseup","touchend",4,"ngIf"],["role","slider","tabindex","0",1,"as-split-gutter",3,"keydown","mousedown","touchstart","mouseup","touchend"],["gutterEls",""],[1,"as-split-gutter-icon"]],template:function(e,r){1&e&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275projection(0),a.\u0275\u0275template(1,AO,1,1,"ng-template",0)),2&e&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",r.displayedAreas))},directives:[x.NgForOf,x.NgIf],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:flex-start;align-items:stretch;overflow:hidden;width:100%;height:100%}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{border:none;flex-grow:0;flex-shrink:0;background-color:#eee;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%] > .as-split-gutter.as-split-gutter-collapsed[_ngcontent-%COMP%]{flex-basis:1px!important;pointer-events:none}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{width:100%;height:100%;background-position:center center;background-repeat:no-repeat}[_nghost-%COMP%]    >.as-split-area{flex-grow:0;flex-shrink:0;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]    >.as-split-area.as-hidden{flex:0 1 0px!important;overflow-x:hidden;overflow-y:hidden}.as-horizontal[_nghost-%COMP%]{flex-direction:row}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:row;cursor:col-resize;height:100%}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-horizontal[_nghost-%COMP%]    >.as-split-area{height:100%}.as-vertical[_nghost-%COMP%]{flex-direction:column}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:column;cursor:row-resize;width:100%}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC)}.as-vertical[_nghost-%COMP%]    >.as-split-area{width:100%}.as-vertical[_nghost-%COMP%]    >.as-split-area.as-hidden{max-width:0}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{cursor:default}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url()}.as-transition.as-init[_nghost-%COMP%]:not(.as-dragging) > .as-split-gutter[_ngcontent-%COMP%], .as-transition.as-init[_nghost-%COMP%]:not(.as-dragging)    >.as-split-area{transition:flex-basis .3s}"],changeDetection:0}),t})(),xf=(()=>{class t{constructor(e,r,o,s){this.ngZone=e,this.elRef=r,this.renderer=o,this.split=s,this._order=null,this._size=null,this._minSize=null,this._maxSize=null,this._lockSize=!1,this._visible=!0,this.lockListeners=[],this.renderer.addClass(this.elRef.nativeElement,"as-split-area")}set order(e){this._order=nl(e,null),this.split.updateArea(this,!0,!1)}get order(){return this._order}set size(e){this._size=nl(e,null),this.split.updateArea(this,!1,!0)}get size(){return this._size}set minSize(e){this._minSize=nl(e,null),this.split.updateArea(this,!1,!0)}get minSize(){return this._minSize}set maxSize(e){this._maxSize=nl(e,null),this.split.updateArea(this,!1,!0)}get maxSize(){return this._maxSize}set lockSize(e){this._lockSize=wf(e),this.split.updateArea(this,!1,!0)}get lockSize(){return this._lockSize}set visible(e){this._visible=wf(e),this._visible?(this.split.showArea(this),this.renderer.removeClass(this.elRef.nativeElement,"as-hidden")):(this.split.hideArea(this),this.renderer.addClass(this.elRef.nativeElement,"as-hidden"))}get visible(){return this._visible}ngOnInit(){this.split.addArea(this),this.ngZone.runOutsideAngular(()=>{this.transitionListener=this.renderer.listen(this.elRef.nativeElement,"transitionend",e=>{"flex-basis"===e.propertyName&&this.split.notify("transitionEnd",-1)})})}setStyleOrder(e){this.renderer.setStyle(this.elRef.nativeElement,"order",e)}setStyleFlex(e,r,o,s,l){this.renderer.setStyle(this.elRef.nativeElement,"flex-grow",e),this.renderer.setStyle(this.elRef.nativeElement,"flex-shrink",r),this.renderer.setStyle(this.elRef.nativeElement,"flex-basis",o),!0===s?this.renderer.addClass(this.elRef.nativeElement,"as-min"):this.renderer.removeClass(this.elRef.nativeElement,"as-min"),!0===l?this.renderer.addClass(this.elRef.nativeElement,"as-max"):this.renderer.removeClass(this.elRef.nativeElement,"as-max")}lockEvents(){this.ngZone.runOutsideAngular(()=>{this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement,"selectstart",()=>!1)),this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement,"dragstart",()=>!1))})}unlockEvents(){for(;this.lockListeners.length>0;){const e=this.lockListeners.pop();e&&e()}}ngOnDestroy(){this.unlockEvents(),this.transitionListener&&this.transitionListener(),this.split.removeArea(this)}collapse(e=0,r="right"){this.split.collapseArea(this,e,r)}expand(){this.split.expandArea(this)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.NgZone),a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(Cf))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["as-split-area"],["","as-split-area",""]],inputs:{order:"order",size:"size",minSize:"minSize",maxSize:"maxSize",lockSize:"lockSize",visible:"visible"},exportAs:["asSplitArea"]}),t})(),Qm=(()=>{class t{static forRoot(){return console.warn("AngularSplitModule.forRoot() is deprecated and will be removed in v6"),{ngModule:t,providers:[]}}static forChild(){return console.warn("AngularSplitModule.forChild() is deprecated and will be removed in v6"),{ngModule:t,providers:[]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule]]}),t})();let bc={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const OO=/[&<>"']/,FO=/[&<>"']/g,MO=/[<>"']|&(?!#?\w+;)/,DO=/[<>"']|&(?!#?\w+;)/g,jO={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},jb=t=>jO[t];function li(t,n){if(n){if(OO.test(t))return t.replace(FO,jb)}else if(MO.test(t))return t.replace(DO,jb);return t}const BO=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Bb(t){return t.replace(BO,(n,e)=>"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):"")}const LO=/(^|[^\[])\^/g;function or(t,n){t="string"==typeof t?t:t.source,n=n||"";const e={replace:(r,o)=>(o=(o=o.source||o).replace(LO,"$1"),t=t.replace(r,o),e),getRegex:()=>new RegExp(t,n)};return e}const UO=/[^\w:]/g,zO=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Lb(t,n,e){if(t){let r;try{r=decodeURIComponent(Bb(e)).replace(UO,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}n&&!zO.test(e)&&(e=function qO(t,n){Ym[" "+t]||(Ym[" "+t]=GO.test(t)?t+"/":eh(t,"/",!0));const e=-1===(t=Ym[" "+t]).indexOf(":");return"//"===n.substring(0,2)?e?n:t.replace($O,"$1")+n:"/"===n.charAt(0)?e?n:t.replace(HO,"$1")+n:t+n}(n,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const Ym={},GO=/^[^:]+:\/*[^/]*$/,$O=/^([^:]+:)[\s\S]*$/,HO=/^([^:]+:\/*[^/]*)[\s\S]*$/,Zm={exec:function(){}};function oo(t){let e,r,n=1;for(;n<arguments.length;n++)for(r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function Ub(t,n){const r=t.replace(/\|/g,(s,l,u)=>{let p=!1,f=l;for(;--f>=0&&"\\"===u[f];)p=!p;return p?"|":" |"}).split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>n)r.splice(n);else for(;r.length<n;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function eh(t,n,e){const r=t.length;if(0===r)return"";let o=0;for(;o<r;){const s=t.charAt(r-o-1);if(s!==n||e){if(s===n||!e)break;o++}else o++}return t.slice(0,r-o)}function zb(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Gb(t,n){if(n<1)return"";let e="";for(;n>1;)1&n&&(e+=t),n>>=1,t+=t;return e+t}function $b(t,n,e,r){const o=n.href,s=n.title?li(n.title):null,l=t[1].replace(/\\([\[\]])/g,"$1");if("!"!==t[0].charAt(0)){r.state.inLink=!0;const u={type:"link",raw:e,href:o,title:s,text:l,tokens:r.inlineTokens(l,[])};return r.state.inLink=!1,u}return{type:"image",raw:e,href:o,title:s,text:li(l)}}class By{constructor(n){this.options=n||bc}space(n){const e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){const e=this.rules.block.code.exec(n);if(e){const r=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:eh(r,"\n")}}}fences(n){const e=this.rules.block.fences.exec(n);if(e){const r=e[0],o=function XO(t,n){const e=t.match(/^(\s+)(?:```)/);if(null===e)return n;const r=e[1];return n.split("\n").map(o=>{const s=o.match(/^\s+/);if(null===s)return o;const[l]=s;return l.length>=r.length?o.slice(r.length):o}).join("\n")}(r,e[3]||"");return{type:"code",raw:r,lang:e[2]?e[2].trim():e[2],text:o}}}heading(n){const e=this.rules.block.heading.exec(n);if(e){let r=e[2].trim();if(/#$/.test(r)){const s=eh(r,"#");(this.options.pedantic||!s||/ $/.test(s))&&(r=s.trim())}const o={type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:[]};return this.lexer.inline(o.text,o.tokens),o}}hr(n){const e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:e[0]}}blockquote(n){const e=this.rules.block.blockquote.exec(n);if(e){const r=e[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:e[0],tokens:this.lexer.blockTokens(r,[]),text:r}}}list(n){let e=this.rules.block.list.exec(n);if(e){let r,o,s,l,u,p,f,v,D,J,Y,he,Ue=e[1].trim();const Oe=Ue.length>1,De={type:"list",raw:"",ordered:Oe,start:Oe?+Ue.slice(0,-1):"",loose:!1,items:[]};Ue=Oe?`\\d{1,9}\\${Ue.slice(-1)}`:`\\${Ue}`,this.options.pedantic&&(Ue=Oe?Ue:"[*+-]");const Xe=new RegExp(`^( {0,3}${Ue})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;n&&(he=!1,(e=Xe.exec(n))&&!this.rules.block.hr.test(n));){if(r=e[0],n=n.substring(r.length),v=e[2].split("\n",1)[0],D=n.split("\n",1)[0],this.options.pedantic?(l=2,Y=v.trimLeft()):(l=e[2].search(/[^ ]/),l=l>4?1:l,Y=v.slice(l),l+=e[1].length),p=!1,!v&&/^ *$/.test(D)&&(r+=D+"\n",n=n.substring(D.length+1),he=!0),!he){const ct=new RegExp(`^ {0,${Math.min(3,l-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),bt=new RegExp(`^ {0,${Math.min(3,l-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Tt=new RegExp(`^( {0,${Math.min(3,l-1)}})(\`\`\`|~~~)`);for(;n&&(J=n.split("\n",1)[0],v=J,this.options.pedantic&&(v=v.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Tt.test(v)||this.rules.block.heading.test(v)||ct.test(v)||bt.test(n)));){if(v.search(/[^ ]/)>=l||!v.trim())Y+="\n"+v.slice(l);else{if(p)break;Y+="\n"+v}!p&&!v.trim()&&(p=!0),r+=J+"\n",n=n.substring(J.length+1)}}De.loose||(f?De.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(Y),o&&(s="[ ] "!==o[0],Y=Y.replace(/^\[[ xX]\] +/,""))),De.items.push({type:"list_item",raw:r,task:!!o,checked:s,loose:!1,text:Y}),De.raw+=r}De.items[De.items.length-1].raw=r.trimRight(),De.items[De.items.length-1].text=Y.trimRight(),De.raw=De.raw.trimRight();const tt=De.items.length;for(u=0;u<tt;u++){this.lexer.state.top=!1,De.items[u].tokens=this.lexer.blockTokens(De.items[u].text,[]);const ct=De.items[u].tokens.filter(Tt=>"space"===Tt.type),bt=ct.every(Tt=>{const Mt=Tt.raw.split("");let Wt=0;for(const jn of Mt)if("\n"===jn&&(Wt+=1),Wt>1)return!0;return!1});!De.loose&&ct.length&&bt&&(De.loose=!0,De.items[u].loose=!0)}return De}}html(n){const e=this.rules.block.html.exec(n);if(e){const r={type:"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:e[0]};return this.options.sanitize&&(r.type="paragraph",r.text=this.options.sanitizer?this.options.sanitizer(e[0]):li(e[0]),r.tokens=[],this.lexer.inline(r.text,r.tokens)),r}}def(n){const e=this.rules.block.def.exec(n);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{type:"def",tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}}table(n){const e=this.rules.block.table.exec(n);if(e){const r={type:"table",header:Ub(e[1]).map(o=>({text:o})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=e[0];let s,l,u,p,o=r.align.length;for(s=0;s<o;s++)r.align[s]=/^ *-+: *$/.test(r.align[s])?"right":/^ *:-+: *$/.test(r.align[s])?"center":/^ *:-+ *$/.test(r.align[s])?"left":null;for(o=r.rows.length,s=0;s<o;s++)r.rows[s]=Ub(r.rows[s],r.header.length).map(f=>({text:f}));for(o=r.header.length,l=0;l<o;l++)r.header[l].tokens=[],this.lexer.inline(r.header[l].text,r.header[l].tokens);for(o=r.rows.length,l=0;l<o;l++)for(p=r.rows[l],u=0;u<p.length;u++)p[u].tokens=[],this.lexer.inline(p[u].text,p[u].tokens);return r}}}lheading(n){const e=this.rules.block.lheading.exec(n);if(e){const r={type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}paragraph(n){const e=this.rules.block.paragraph.exec(n);if(e){const r={type:"paragraph",raw:e[0],text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}text(n){const e=this.rules.block.text.exec(n);if(e){const r={type:"text",raw:e[0],text:e[0],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}escape(n){const e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:li(e[1])}}tag(n){const e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):li(e[0]):e[0]}}link(n){const e=this.rules.inline.link.exec(n);if(e){const r=e[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const l=eh(r.slice(0,-1),"\\");if((r.length-l.length)%2==0)return}else{const l=function KO(t,n){if(-1===t.indexOf(n[1]))return-1;const e=t.length;let r=0,o=0;for(;o<e;o++)if("\\"===t[o])o++;else if(t[o]===n[0])r++;else if(t[o]===n[1]&&(r--,r<0))return o;return-1}(e[2],"()");if(l>-1){const p=(0===e[0].indexOf("!")?5:4)+e[1].length+l;e[2]=e[2].substring(0,l),e[0]=e[0].substring(0,p).trim(),e[3]=""}}let o=e[2],s="";if(this.options.pedantic){const l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);l&&(o=l[1],s=l[3])}else s=e[3]?e[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),$b(e,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}}reflink(n,e){let r;if((r=this.rules.inline.reflink.exec(n))||(r=this.rules.inline.nolink.exec(n))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=e[o.toLowerCase()],!o||!o.href){const s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return $b(r,o,r[0],this.lexer)}}emStrong(n,e,r=""){let o=this.rules.inline.emStrong.lDelim.exec(n);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const s=o[1]||o[2]||"";if(!s||s&&(""===r||this.rules.inline.punctuation.exec(r))){const l=o[0].length-1;let u,p,f=l,v=0;const D="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(D.lastIndex=0,e=e.slice(-1*n.length+l);null!=(o=D.exec(e));){if(u=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!u)continue;if(p=u.length,o[3]||o[4]){f+=p;continue}if((o[5]||o[6])&&l%3&&!((l+p)%3)){v+=p;continue}if(f-=p,f>0)continue;if(p=Math.min(p,p+f+v),Math.min(l,p)%2){const Y=n.slice(1,l+o.index+p);return{type:"em",raw:n.slice(0,l+o.index+p+1),text:Y,tokens:this.lexer.inlineTokens(Y,[])}}const J=n.slice(2,l+o.index+p-1);return{type:"strong",raw:n.slice(0,l+o.index+p+1),text:J,tokens:this.lexer.inlineTokens(J,[])}}}}codespan(n){const e=this.rules.inline.code.exec(n);if(e){let r=e[2].replace(/\n/g," ");const o=/[^ ]/.test(r),s=/^ /.test(r)&&/ $/.test(r);return o&&s&&(r=r.substring(1,r.length-1)),r=li(r,!0),{type:"codespan",raw:e[0],text:r}}}br(n){const e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){const e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2],[])}}autolink(n,e){const r=this.rules.inline.autolink.exec(n);if(r){let o,s;return"@"===r[2]?(o=li(this.options.mangle?e(r[1]):r[1]),s="mailto:"+o):(o=li(r[1]),s=o),{type:"link",raw:r[0],text:o,href:s,tokens:[{type:"text",raw:o,text:o}]}}}url(n,e){let r;if(r=this.rules.inline.url.exec(n)){let o,s;if("@"===r[2])o=li(this.options.mangle?e(r[0]):r[0]),s="mailto:"+o;else{let l;do{l=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(l!==r[0]);o=li(r[0]),s="www."===r[1]?"http://"+o:o}return{type:"link",raw:r[0],text:o,href:s,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(n,e){const r=this.rules.inline.text.exec(n);if(r){let o;return o=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):li(r[0]):r[0]:li(this.options.smartypants?e(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const tn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Zm,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};tn.def=or(tn.def).replace("label",tn._label).replace("title",tn._title).getRegex(),tn.bullet=/(?:[*+-]|\d{1,9}[.)])/,tn.listItemStart=or(/^( *)(bull) */).replace("bull",tn.bullet).getRegex(),tn.list=or(tn.list).replace(/bull/g,tn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+tn.def.source+")").getRegex(),tn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",tn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,tn.html=or(tn.html,"i").replace("comment",tn._comment).replace("tag",tn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),tn.paragraph=or(tn._paragraph).replace("hr",tn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",tn._tag).getRegex(),tn.blockquote=or(tn.blockquote).replace("paragraph",tn.paragraph).getRegex(),tn.normal=oo({},tn),tn.gfm=oo({},tn.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),tn.gfm.table=or(tn.gfm.table).replace("hr",tn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",tn._tag).getRegex(),tn.gfm.paragraph=or(tn._paragraph).replace("hr",tn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",tn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",tn._tag).getRegex(),tn.pedantic=oo({},tn.normal,{html:or("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",tn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Zm,paragraph:or(tn.normal._paragraph).replace("hr",tn.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",tn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Kt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Zm,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Zm,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function WO(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function Hb(t){let e,r,n="";const o=t.length;for(e=0;e<o;e++)r=t.charCodeAt(e),Math.random()>.5&&(r="x"+r.toString(16)),n+="&#"+r+";";return n}Kt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Kt.punctuation=or(Kt.punctuation).replace(/punctuation/g,Kt._punctuation).getRegex(),Kt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Kt.escapedEmSt=/\\\*|\\_/g,Kt._comment=or(tn._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Kt.emStrong.lDelim=or(Kt.emStrong.lDelim).replace(/punct/g,Kt._punctuation).getRegex(),Kt.emStrong.rDelimAst=or(Kt.emStrong.rDelimAst,"g").replace(/punct/g,Kt._punctuation).getRegex(),Kt.emStrong.rDelimUnd=or(Kt.emStrong.rDelimUnd,"g").replace(/punct/g,Kt._punctuation).getRegex(),Kt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Kt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Kt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Kt.autolink=or(Kt.autolink).replace("scheme",Kt._scheme).replace("email",Kt._email).getRegex(),Kt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Kt.tag=or(Kt.tag).replace("comment",Kt._comment).replace("attribute",Kt._attribute).getRegex(),Kt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Kt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Kt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Kt.link=or(Kt.link).replace("label",Kt._label).replace("href",Kt._href).replace("title",Kt._title).getRegex(),Kt.reflink=or(Kt.reflink).replace("label",Kt._label).replace("ref",tn._label).getRegex(),Kt.nolink=or(Kt.nolink).replace("ref",tn._label).getRegex(),Kt.reflinkSearch=or(Kt.reflinkSearch,"g").replace("reflink",Kt.reflink).replace("nolink",Kt.nolink).getRegex(),Kt.normal=oo({},Kt),Kt.pedantic=oo({},Kt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:or(/^!?\[(label)\]\((.*?)\)/).replace("label",Kt._label).getRegex(),reflink:or(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Kt._label).getRegex()}),Kt.gfm=oo({},Kt.normal,{escape:or(Kt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Kt.gfm.url=or(Kt.gfm.url,"i").replace("email",Kt.gfm._extended_email).getRegex(),Kt.breaks=oo({},Kt.gfm,{br:or(Kt.br).replace("{2,}","*").getRegex(),text:or(Kt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class fs{constructor(n){this.tokens=[],this.tokens.links=Object.create(null),this.options=n||bc,this.options.tokenizer=this.options.tokenizer||new By,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:tn.normal,inline:Kt.normal};this.options.pedantic?(e.block=tn.pedantic,e.inline=Kt.pedantic):this.options.gfm&&(e.block=tn.gfm,e.inline=this.options.breaks?Kt.breaks:Kt.gfm),this.tokenizer.rules=e}static get rules(){return{block:tn,inline:Kt}}static lex(n,e){return new fs(e).lex(n)}static lexInline(n,e){return new fs(e).inlineTokens(n)}lex(n){let e;for(n=n.replace(/\r\n|\r/g,"\n"),this.blockTokens(n,this.tokens);e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(n,e=[]){let r,o,s,l;for(n=this.options.pedantic?n.replace(/\t/g,"    ").replace(/^ +$/gm,""):n.replace(/^( *)(\t+)/gm,(u,p,f)=>p+"    ".repeat(f.length));n;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(u=>!!(r=u.call({lexer:this},n,e))&&(n=n.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.space(n)){n=n.substring(r.raw.length),1===r.raw.length&&e.length>0?e[e.length-1].raw+="\n":e.push(r);continue}if(r=this.tokenizer.code(n)){n=n.substring(r.raw.length),o=e[e.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?e.push(r):(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.fences(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.heading(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.hr(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.blockquote(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.list(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.html(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.def(n)){n=n.substring(r.raw.length),o=e[e.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+="\n"+r.raw,o.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.table(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.lheading(n)){n=n.substring(r.raw.length),e.push(r);continue}if(s=n,this.options.extensions&&this.options.extensions.startBlock){let u=1/0;const p=n.slice(1);let f;this.options.extensions.startBlock.forEach(function(v){f=v.call({lexer:this},p),"number"==typeof f&&f>=0&&(u=Math.min(u,f))}),u<1/0&&u>=0&&(s=n.substring(0,u+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){o=e[e.length-1],l&&"paragraph"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(r),l=s.length!==n.length,n=n.substring(r.raw.length);continue}if(r=this.tokenizer.text(n)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(r);continue}if(n){const u="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(u);break}throw new Error(u)}}return this.state.top=!0,e}inline(n,e){this.inlineQueue.push({src:n,tokens:e})}inlineTokens(n,e=[]){let r,o,s,u,p,f,l=n;if(this.tokens.links){const v=Object.keys(this.tokens.links);if(v.length>0)for(;null!=(u=this.tokenizer.rules.inline.reflinkSearch.exec(l));)v.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,u.index)+"["+Gb("a",u[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(u=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,u.index)+"["+Gb("a",u[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(u=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,u.index)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;n;)if(p||(f=""),p=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(v=>!!(r=v.call({lexer:this},n,e))&&(n=n.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.escape(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.tag(n)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(r=this.tokenizer.link(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(r=this.tokenizer.emStrong(n,l,f)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.codespan(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.br(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.del(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.autolink(n,Hb)){n=n.substring(r.raw.length),e.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(n,Hb))){n=n.substring(r.raw.length),e.push(r);continue}if(s=n,this.options.extensions&&this.options.extensions.startInline){let v=1/0;const D=n.slice(1);let J;this.options.extensions.startInline.forEach(function(Y){J=Y.call({lexer:this},D),"number"==typeof J&&J>=0&&(v=Math.min(v,J))}),v<1/0&&v>=0&&(s=n.substring(0,v+1))}if(r=this.tokenizer.inlineText(s,WO)){n=n.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(f=r.raw.slice(-1)),p=!0,o=e[e.length-1],o&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(n){const v="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(v);break}throw new Error(v)}}return e}}class Sf{constructor(n){this.options=n||bc}code(n,e,r){const o=(e||"").match(/\S*/)[0];if(this.options.highlight){const s=this.options.highlight(n,o);null!=s&&s!==n&&(r=!0,n=s)}return n=n.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+li(o,!0)+'">'+(r?n:li(n,!0))+"</code></pre>\n":"<pre><code>"+(r?n:li(n,!0))+"</code></pre>\n"}blockquote(n){return`<blockquote>\n${n}</blockquote>\n`}html(n){return n}heading(n,e,r,o){return this.options.headerIds?`<h${e} id="${this.options.headerPrefix+o.slug(r)}">${n}</h${e}>\n`:`<h${e}>${n}</h${e}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(n,e,r){const o=e?"ol":"ul";return"<"+o+(e&&1!==r?' start="'+r+'"':"")+">\n"+n+"</"+o+">\n"}listitem(n){return`<li>${n}</li>\n`}checkbox(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(n){return`<p>${n}</p>\n`}table(n,e){return e&&(e=`<tbody>${e}</tbody>`),"<table>\n<thead>\n"+n+"</thead>\n"+e+"</table>\n"}tablerow(n){return`<tr>\n${n}</tr>\n`}tablecell(n,e){const r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>\n`}strong(n){return`<strong>${n}</strong>`}em(n){return`<em>${n}</em>`}codespan(n){return`<code>${n}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(n){return`<del>${n}</del>`}link(n,e,r){if(null===(n=Lb(this.options.sanitize,this.options.baseUrl,n)))return r;let o='<a href="'+li(n)+'"';return e&&(o+=' title="'+e+'"'),o+=">"+r+"</a>",o}image(n,e,r){if(null===(n=Lb(this.options.sanitize,this.options.baseUrl,n)))return r;let o=`<img src="${n}" alt="${r}"`;return e&&(o+=` title="${e}"`),o+=this.options.xhtml?"/>":">",o}text(n){return n}}class qb{strong(n){return n}em(n){return n}codespan(n){return n}del(n){return n}html(n){return n}text(n){return n}link(n,e,r){return""+r}image(n,e,r){return""+r}br(){return""}}class Kb{constructor(){this.seen={}}serialize(n){return n.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(n,e){let r=n,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[n];do{o++,r=n+"-"+o}while(this.seen.hasOwnProperty(r))}return e||(this.seen[n]=o,this.seen[r]=0),r}slug(n,e={}){const r=this.serialize(n);return this.getNextSafeSlug(r,e.dryrun)}}class ps{constructor(n){this.options=n||bc,this.options.renderer=this.options.renderer||new Sf,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new qb,this.slugger=new Kb}static parse(n,e){return new ps(e).parse(n)}static parseInline(n,e){return new ps(e).parseInline(n)}parse(n,e=!0){let o,s,l,u,p,f,v,D,J,Y,he,Ue,Oe,De,Xe,tt,ct,bt,Tt,r="";const Mt=n.length;for(o=0;o<Mt;o++)if(Y=n[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Y.type]&&(Tt=this.options.extensions.renderers[Y.type].call({parser:this},Y),!1!==Tt||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Y.type)))r+=Tt||"";else switch(Y.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(Y.tokens),Y.depth,Bb(this.parseInline(Y.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(Y.text,Y.lang,Y.escaped);continue;case"table":for(D="",v="",u=Y.header.length,s=0;s<u;s++)v+=this.renderer.tablecell(this.parseInline(Y.header[s].tokens),{header:!0,align:Y.align[s]});for(D+=this.renderer.tablerow(v),J="",u=Y.rows.length,s=0;s<u;s++){for(f=Y.rows[s],v="",p=f.length,l=0;l<p;l++)v+=this.renderer.tablecell(this.parseInline(f[l].tokens),{header:!1,align:Y.align[l]});J+=this.renderer.tablerow(v)}r+=this.renderer.table(D,J);continue;case"blockquote":J=this.parse(Y.tokens),r+=this.renderer.blockquote(J);continue;case"list":for(he=Y.ordered,Ue=Y.start,Oe=Y.loose,u=Y.items.length,J="",s=0;s<u;s++)Xe=Y.items[s],tt=Xe.checked,ct=Xe.task,De="",Xe.task&&(bt=this.renderer.checkbox(tt),Oe?Xe.tokens.length>0&&"paragraph"===Xe.tokens[0].type?(Xe.tokens[0].text=bt+" "+Xe.tokens[0].text,Xe.tokens[0].tokens&&Xe.tokens[0].tokens.length>0&&"text"===Xe.tokens[0].tokens[0].type&&(Xe.tokens[0].tokens[0].text=bt+" "+Xe.tokens[0].tokens[0].text)):Xe.tokens.unshift({type:"text",text:bt}):De+=bt),De+=this.parse(Xe.tokens,Oe),J+=this.renderer.listitem(De,ct,tt);r+=this.renderer.list(J,he,Ue);continue;case"html":r+=this.renderer.html(Y.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(Y.tokens));continue;case"text":for(J=Y.tokens?this.parseInline(Y.tokens):Y.text;o+1<Mt&&"text"===n[o+1].type;)Y=n[++o],J+="\n"+(Y.tokens?this.parseInline(Y.tokens):Y.text);r+=e?this.renderer.paragraph(J):J;continue;default:{const Wt='Token with "'+Y.type+'" type was not found.';if(this.options.silent)return void console.error(Wt);throw new Error(Wt)}}return r}parseInline(n,e){e=e||this.renderer;let o,s,l,r="";const u=n.length;for(o=0;o<u;o++)if(s=n[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(l=this.options.extensions.renderers[s.type].call({parser:this},s),!1!==l||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)))r+=l||"";else switch(s.type){case"escape":case"text":r+=e.text(s.text);break;case"html":r+=e.html(s.text);break;case"link":r+=e.link(s.href,s.title,this.parseInline(s.tokens,e));break;case"image":r+=e.image(s.href,s.title,s.text);break;case"strong":r+=e.strong(this.parseInline(s.tokens,e));break;case"em":r+=e.em(this.parseInline(s.tokens,e));break;case"codespan":r+=e.codespan(s.text);break;case"br":r+=e.br();break;case"del":r+=e.del(this.parseInline(s.tokens,e));break;default:{const p='Token with "'+s.type+'" type was not found.';if(this.options.silent)return void console.error(p);throw new Error(p)}}return r}}function un(t,n,e){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if("function"==typeof n&&(e=n,n=null),zb(n=oo({},un.defaults,n||{})),e){const r=n.highlight;let o;try{o=fs.lex(t,n)}catch(u){return e(u)}const s=function(u){let p;if(!u)try{n.walkTokens&&un.walkTokens(o,n.walkTokens),p=ps.parse(o,n)}catch(f){u=f}return n.highlight=r,u?e(u):e(null,p)};if(!r||r.length<3||(delete n.highlight,!o.length))return s();let l=0;return un.walkTokens(o,function(u){"code"===u.type&&(l++,setTimeout(()=>{r(u.text,u.lang,function(p,f){if(p)return s(p);null!=f&&f!==u.text&&(u.text=f,u.escaped=!0),l--,0===l&&s()})},0))}),void(0===l&&s())}try{const r=fs.lex(t,n);return n.walkTokens&&un.walkTokens(r,n.walkTokens),ps.parse(r,n)}catch(r){if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",n.silent)return"<p>An error occurred:</p><pre>"+li(r.message+"",!0)+"</pre>";throw r}}un.options=un.setOptions=function(t){return oo(un.defaults,t),function NO(t){bc=t}(un.defaults),un},un.getDefaults=function Db(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},un.defaults=bc,un.use=function(...t){const n=oo({},...t),e=un.defaults.extensions||{renderers:{},childTokens:{}};let r;t.forEach(o=>{if(o.extensions&&(r=!0,o.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if(s.renderer){const l=e.renderers?e.renderers[s.name]:null;e.renderers[s.name]=l?function(...u){let p=s.renderer.apply(this,u);return!1===p&&(p=l.apply(this,u)),p}:s.renderer}if(s.tokenizer){if(!s.level||"block"!==s.level&&"inline"!==s.level)throw new Error("extension level must be 'block' or 'inline'");e[s.level]?e[s.level].unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&("block"===s.level?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:"inline"===s.level&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}s.childTokens&&(e.childTokens[s.name]=s.childTokens)})),o.renderer){const s=un.defaults.renderer||new Sf;for(const l in o.renderer){const u=s[l];s[l]=(...p)=>{let f=o.renderer[l].apply(s,p);return!1===f&&(f=u.apply(s,p)),f}}n.renderer=s}if(o.tokenizer){const s=un.defaults.tokenizer||new By;for(const l in o.tokenizer){const u=s[l];s[l]=(...p)=>{let f=o.tokenizer[l].apply(s,p);return!1===f&&(f=u.apply(s,p)),f}}n.tokenizer=s}if(o.walkTokens){const s=un.defaults.walkTokens;n.walkTokens=function(l){o.walkTokens.call(this,l),s&&s.call(this,l)}}r&&(n.extensions=e),un.setOptions(n)})},un.walkTokens=function(t,n){for(const e of t)switch(n.call(un,e),e.type){case"table":for(const r of e.header)un.walkTokens(r.tokens,n);for(const r of e.rows)for(const o of r)un.walkTokens(o.tokens,n);break;case"list":un.walkTokens(e.items,n);break;default:un.defaults.extensions&&un.defaults.extensions.childTokens&&un.defaults.extensions.childTokens[e.type]?un.defaults.extensions.childTokens[e.type].forEach(function(r){un.walkTokens(e[r],n)}):e.tokens&&un.walkTokens(e.tokens,n)}},un.parseInline=function(t,n){if(null==t)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");zb(n=oo({},un.defaults,n||{}));try{const e=fs.lexInline(t,n);return n.walkTokens&&un.walkTokens(e,n.walkTokens),ps.parseInline(e,n)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",n.silent)return"<p>An error occurred:</p><pre>"+li(e.message+"",!0)+"</pre>";throw e}},un.Parser=ps,un.parser=ps.parse,un.Renderer=Sf,un.TextRenderer=qb,un.Lexer=fs,un.lexer=fs.lex,un.Tokenizer=By,un.Slugger=Kb,un.parse=un;var JO=S(155);const QO=["*"];var Ef=(()=>{return(t=Ef||(Ef={})).CommandLine="command-line",t.LineHighlight="line-highlight",t.LineNumbers="line-numbers",Ef;var t})();class Xb{}const Wb=new a.InjectionToken("SECURITY_CONTEXT");let th=(()=>{class t{constructor(e,r,o,s,l){this.platform=e,this.securityContext=r,this.http=o,this.sanitizer=l,this.initialMarkedOptions={renderer:new Sf},this.options=s}get options(){return this._options}set options(e){this._options={...this.initialMarkedOptions,...e}}get renderer(){return this.options.renderer}set renderer(e){this.options.renderer=e}compile(e,r=!1,o=!1,s=this.options){const l=this.trimIndentation(e),u=r?this.decodeHtml(l):l,f=un(o?this.renderEmoji(u):u,s);return this.sanitizer.sanitize(this.securityContext,f)||""}getSource(e){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(e,{responseType:"text"}).pipe((0,ve.U)(r=>this.handleExtension(e,r)))}highlight(e){if((0,x.isPlatformBrowser)(this.platform)&&"undefined"!=typeof Prism){e||(e=document);const r=e.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,o=>o.classList.add("language-none")),Prism.highlightAllUnder(e)}}renderKatex(e,r){if(!(0,x.isPlatformBrowser)(this.platform))return e;if("undefined"==typeof katex||void 0===katex.renderToString)throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");return e.replace(/\$([^\s][^$]*?[^\s])\$/gm,(o,s)=>katex.renderToString(s,r))}decodeHtml(e){if(!(0,x.isPlatformBrowser)(this.platform))return e;const r=document.createElement("textarea");return r.innerHTML=e,r.value}handleExtension(e,r){const o=e?e.split("?")[0].split(".").splice(-1).join():"";return"md"!==o?"```"+o+"\n"+r+"\n```":r}renderEmoji(e){if(!(0,x.isPlatformBrowser)(this.platform))return e;if("undefined"==typeof joypixels||void 0===joypixels.shortnameToUnicode)throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(e)}trimIndentation(e){if(!e)return"";let r;return e.split("\n").map(o=>{let s=r;return o.length>0&&(s=isNaN(s)?o.search(/\S|$/):Math.min(o.search(/\S|$/),s)),isNaN(r)&&(r=s),s?o.substring(s):o}).join("\n")}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(a.PLATFORM_ID),a.\u0275\u0275inject(Wb),a.\u0275\u0275inject(F.HttpClient,8),a.\u0275\u0275inject(Xb,8),a.\u0275\u0275inject(P.H7))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),Jb=(()=>{class t{constructor(e,r){this.element=e,this.markdownService=r,this.error=new a.EventEmitter,this.load=new a.EventEmitter,this.ready=new a.EventEmitter,this._commandLine=!1,this._emoji=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1}get emoji(){return this._emoji}set emoji(e){this._emoji=this.coerceBooleanProperty(e)}get katex(){return this._katex}set katex(e){this._katex=this.coerceBooleanProperty(e)}get lineHighlight(){return this._lineHighlight}set lineHighlight(e){this._lineHighlight=this.coerceBooleanProperty(e)}get lineNumbers(){return this._lineNumbers}set lineNumbers(e){this._lineNumbers=this.coerceBooleanProperty(e)}get commandLine(){return this._commandLine}set commandLine(e){this._commandLine=this.coerceBooleanProperty(e)}ngOnChanges(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion()}render(e,r=!1){let o=this.markdownService.compile(e,r,this.emoji);o=this.katex?this.markdownService.renderKatex(o,this.katexOptions):o,this.element.nativeElement.innerHTML=o,this.handlePlugins(),this.markdownService.highlight(this.element.nativeElement),this.ready.emit()}coerceBooleanProperty(e){return null!=e&&"false"!=`${String(e)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe(e=>{this.render(e),this.load.emit(e)},e=>this.error.emit(e))}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Ef.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Ef.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(e,r){const o=e.querySelectorAll("pre");for(let s=0;s<o.length;s++){const l=r instanceof Array?r:[r];o.item(s).classList.add(...l)}}setPluginOptions(e,r){const o=e.querySelectorAll("pre");for(let s=0;s<o.length;s++)Object.keys(r).forEach(l=>{const u=r[l];if(u){const p=this.toLispCase(l);o.item(s).setAttribute(p,u.toString())}})}toLispCase(e){const r=e.match(/([A-Z])/g);if(!r)return e;let o=e.toString();for(let s=0,l=r.length;s<l;s++)o=o.replace(new RegExp(r[s]),"-"+r[s].toLowerCase());return"-"===o.slice(0,1)&&(o=o.slice(1)),o}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(th))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[a.\u0275\u0275NgOnChangesFeature],ngContentSelectors:QO,decls:1,vars:0,template:function(e,r){1&e&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275projection(0))},encapsulation:2}),t})(),Qb=(()=>{class t{constructor(e,r,o,s){this.domSanitizer=e,this.elementRef=r,this.markdownService=o,this.zone=s}transform(e){if(null==e)return"";if("string"!=typeof e)return console.error(`MarkdownPipe has been invoked with an invalid value type [${typeof e}]`),e;const r=this.markdownService.compile(e);return this.zone.onStable.pipe((0,JO.P)()).subscribe(()=>this.markdownService.highlight(this.elementRef.nativeElement)),this.domSanitizer.bypassSecurityTrustHtml(r)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(P.H7,16),a.\u0275\u0275directiveInject(a.ElementRef,16),a.\u0275\u0275directiveInject(th,16),a.\u0275\u0275directiveInject(a.NgZone,16))},t.\u0275pipe=a.\u0275\u0275definePipe({name:"markdown",type:t,pure:!0}),t})(),Ly=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[th,e&&e.loader||[],e&&e.markedOptions||[],{provide:Wb,useValue:e&&null!=e.sanitize?e.sanitize:a.SecurityContext.HTML}]}}static forChild(){return{ngModule:t}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({}),t})();var jo=S(8977),kr=S(4522),Xt=S(5074),Dr=S(7371),Xn=S(207),Ft=S(1484);function nF(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function rF(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"form",3),a.\u0275\u0275listener("ngSubmit",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content"),a.\u0275\u0275elementStart(2,"div",4),a.\u0275\u0275template(3,nF,1,0,"ng-container",5),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"mat-dialog-actions"),a.\u0275\u0275elementStart(5,"button",6),a.\u0275\u0275text(6,"Save"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const e=a.\u0275\u0275nextContext(),r=a.\u0275\u0275reference(3);a.\u0275\u0275property("formGroup",e.contentForm),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngTemplateOutlet",r),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",!e.contentForm.valid)}}function iF(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function aF(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"div",4),a.\u0275\u0275template(1,iF,1,0,"ng-container",5),a.\u0275\u0275elementEnd()),2&t){a.\u0275\u0275nextContext();const e=a.\u0275\u0275reference(3);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",e)}}function oF(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"li"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e.key)}}function sF(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"ul",18),a.\u0275\u0275template(1,oF,2,1,"li",19),a.\u0275\u0275pipe(2,"keyvalue"),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("hidden",!0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(2,2,e.tokens))}}function lF(t,n){if(1&t&&(a.\u0275\u0275element(0,"classifieds-ui-dynamic-content-viewer",20),a.\u0275\u0275pipe(1,"markdown")),2&t){const e=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("content",a.\u0275\u0275pipeBind1(1,1,e.preview))}}function uF(t,n){if(1&t&&a.\u0275\u0275element(0,"classifieds-ui-dynamic-content-viewer",20),2&t){const e=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("content",e.preview)}}function cF(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"as-split",7),a.\u0275\u0275elementStart(1,"as-split-area",8),a.\u0275\u0275elementStart(2,"div"),a.\u0275\u0275template(3,sF,3,4,"ul",9),a.\u0275\u0275elementStart(4,"mat-form-field"),a.\u0275\u0275elementStart(5,"mat-label"),a.\u0275\u0275text(6,"Content Type"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"mat-select",10),a.\u0275\u0275elementStart(8,"mat-option",11),a.\u0275\u0275text(9,"Markdown"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"mat-option",12),a.\u0275\u0275text(11,"HTML"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(12,"mat-option",13),a.\u0275\u0275text(13,"JSON"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(14,"as-split",14),a.\u0275\u0275elementStart(15,"as-split-area",8),a.\u0275\u0275elementStart(16,"div"),a.\u0275\u0275element(17,"textarea",15),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(18,"as-split-area",8),a.\u0275\u0275elementStart(19,"div"),a.\u0275\u0275element(20,"textarea",16),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(21,"as-split-area",8),a.\u0275\u0275template(22,lF,2,3,"classifieds-ui-dynamic-content-viewer",17),a.\u0275\u0275template(23,uF,1,1,"classifieds-ui-dynamic-content-viewer",17),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275property("direction",e.splitDirection)("formGroup",e.contentForm),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",e.tokens),a.\u0275\u0275advance(14),a.\u0275\u0275property("cols",e.cols)("rows",e.rows),a.\u0275\u0275advance(3),a.\u0275\u0275property("cols",e.cols)("rows",e.rows),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",e.isMarkdown),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!e.isMarkdown)}}class Zl{constructor(n){n&&(this.content=n.content,this.contentType=n.contentType,n.jsFile&&""!==n.jsFile&&(this.jsFile=n.jsFile),n.jsScript&&""!==n.jsScript&&(this.jsScript=n.jsScript))}}let nh=(()=>{class t{constructor(e){this.fb=e,this.submitted=new a.EventEmitter,this.splitDirection="vertical",this.rows=40,this.cols=100,this.rootForm=!0,this.onTouched=()=>{},this.contentForm=this.fb.group({content:this.fb.control("",d.kI.required),contentType:this.fb.control("",d.kI.required),jsScript:this.fb.control("")}),this.isMarkdown=!1,this.contentEditorOptions={theme:"vs-dark",language:"text/html"}}set snippet(e){void 0!==e&&this.contentForm.setValue({...e,jsScript:e.jsScript&&""!==e.jsScript?e.jsScript:""})}ngOnInit(){this.contentForm.get("content").valueChanges.pipe((0,jo.x)(),(0,Un.b)(500),(0,ve.U)(e=>void 0!==this.tokens?this.replaceTokens(e):e)).subscribe(e=>{this.preview=e}),this.contentForm.get("contentType").valueChanges.subscribe(e=>{this.isMarkdown="text/markdown"===e})}writeValue(e){e&&(console.log(`write value: ${e}`),this.contentForm.setValue(e,{emitEvent:!1}))}registerOnChange(e){this.contentForm.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.contentForm.disable():this.contentForm.enable()}validate(e){return this.contentForm.valid?null:{invalidForm:{valid:!1,message:"snippet is invalid"}}}submit(){this.submitted.emit(new Zl({content:this.contentForm.get("content").value,contentType:this.contentForm.get("contentType").value,jsScript:this.contentForm.get("jsScript").value}))}replaceTokens(e){return this.tokens&&this.tokens.forEach((r,o)=>{e=e.replace(`[${o}]`,`${r} [token = '${o}']`)}),e}addScript(){let e=document.createElement("script");e.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(e)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-snippet-form"]],inputs:{tokens:"tokens",splitDirection:"splitDirection",rows:"rows",cols:"cols",rootForm:"rootForm",snippet:"snippet"},outputs:{submitted:"submitted"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}])],decls:4,vars:2,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],["class","content-inner",4,"ngIf"],["formBodyTpl",""],[3,"formGroup","ngSubmit"],[1,"content-inner"],[4,"ngTemplateOutlet"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],[3,"direction","formGroup"],["size","50"],[3,"hidden",4,"ngIf"],["required","","formControlName","contentType"],["value","text/markdown"],["value","text/html"],["value","application/json"],["direction","horizontal"],["formControlName","content",3,"cols","rows"],["formControlName","jsScript",3,"cols","rows"],[3,"content",4,"ngIf"],[3,"hidden"],[4,"ngFor","ngForOf"],[3,"content"]],template:function(e,r){1&e&&(a.\u0275\u0275template(0,rF,7,3,"form",0),a.\u0275\u0275template(1,aF,2,1,"div",1),a.\u0275\u0275template(2,cF,24,9,"ng-template",null,2,a.\u0275\u0275templateRefExtractor)),2&e&&(a.\u0275\u0275property("ngIf",r.rootForm),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!r.rootForm))},directives:[kr.lW,Cf,Xt.KE,Dr.gD,Xn.ey,ln.DynamicContentViewer,x.NgIf,d._Y,d.JL,d.sg,Ft.xY,x.NgTemplateOutlet,Ft.H8,Ft.ZT,xf,x.NgForOf,Xt.hX,d.Q7,d.JJ,d.u,d.Fj],pipes:[x.KeyValuePipe,Qb],styles:[""]}),t})(),Uy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,d.UX,d.u5,Rs,Qm,Wr.MaterialModule,Iu,Ly,ln.UtilsModule]]}),t})(),Yb=(()=>{class t{parseSnippet({snippet:e}){return(0,ke.of)(e.content)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var fn=S(2234),dF=S(1954);function Rn(t,n,e){return(0,dF.P)(()=>t()?n:e)}var On=S(6562),tr=S(4744),so=S(4792),_n=S(8562);function fF(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-option",10),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275property("value",e.value.id),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e.value.title)}}function pF(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-option",10),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275property("value",e),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e)}}function mF(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-form-field",2),a.\u0275\u0275elementStart(1,"mat-label"),a.\u0275\u0275text(2,"Context"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-select",11),a.\u0275\u0275template(4,pF,2,2,"mat-option",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275property("ngForOf",e.contexts)}}function hF(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"div",12),a.\u0275\u0275elementStart(1,"mat-checkbox",13),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t){const e=n.index,r=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("formGroupName",e),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(r.flagsAsArray[e])}}function gF(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"div",1),a.\u0275\u0275elementStart(1,"div"),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-form-field",2),a.\u0275\u0275elementStart(4,"mat-label"),a.\u0275\u0275text(5,"Type"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"mat-select",3),a.\u0275\u0275template(7,fF,2,2,"mat-option",4),a.\u0275\u0275pipe(8,"keyvalue"),a.\u0275\u0275pipe(9,"async"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(10,mF,5,1,"mat-form-field",5),a.\u0275\u0275elementStart(11,"mat-form-field",2),a.\u0275\u0275element(12,"input",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(13,"mat-form-field",2),a.\u0275\u0275element(14,"input",7),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(15,"div",8),a.\u0275\u0275template(16,hF,3,2,"div",9),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit,r=n.index,o=a.\u0275\u0275nextContext();a.\u0275\u0275property("formGroup",e),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(o.paramName(r)),a.\u0275\u0275advance(5),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(8,5,a.\u0275\u0275pipeBind1(9,7,o.paramPlugins$))),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf","context"==e.get("mapping").get("type").value),a.\u0275\u0275advance(6),a.\u0275\u0275property("ngForOf",e.get("flags").controls)}}class ms extends fn.Plugin{constructor(n){super(n),n&&(this.evalParam=n.evalParam,n.condition&&(this.condition=n.condition),n.usedContexts&&(this.usedContexts=n.usedContexts))}}class Jr{constructor(n){n&&(this.mapping=new rh(n.mapping),void 0!==n.flags&&(this.flags=n.flags.map(e=>new _F(e))))}}class rh{constructor(n){n&&(this.type=n.type,this.value=n.value,this.testValue=n.testValue,this.context=n.context)}}class _F{constructor(n){n&&(this.name=n.name,this.enabled=n.enabled)}}let rl=(()=>{class t extends fn.BasePluginManager{constructor(e,r){super(e,r)}pluginDef(){return(0,ke.of)(new fn.PluginDef({name:"param"}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(fn.PluginConfigurationManager),a.\u0275\u0275inject(ln.ModuleLoaderService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ih=(()=>{class t{constructor(e,r){this.fb=e,this.ppm=r,this.contexts=[],this.params$=new h.X({}),this.paramValues$=new h.X([]),this.init$=new O.x,this.formArray=this.fb.array([]),this.paramPlugins$=this.ppm.getPlugins(),this.flags=new Map,this.savedParams=new Map,this.paramIndexes=new Map,this.paramsSub=this.params$.pipe((0,ee.b)(o=>{const s=new Map([...this.paramIndexes]);this.formArray.clear(),this.paramIndexes.clear();let l=0;for(const u in o)Array.isArray(o[u])?(o[u].forEach(p=>this.buildParams(p,l,s)),l++):0===o[u].indexOf(":")&&(this.buildParams(o[u],l,s),l++)})).subscribe(),this.savedParamsSub=this.formArray.valueChanges.pipe((0,Un.b)(1e3),(0,ee.b)(o=>{const s=o.length;for(let l=0;l<s;l++)this.savedParams.set(this.paramName(l),new Jr(o[l]))})).subscribe(),this.paramValuesSub=(0,On.a)([this.paramValues$,this.params$,this.init$]).pipe((0,ee.b)(([o])=>{const s=o.length;for(let l=0;l<s;l++){const u=Array.from(this.paramIndexes).find(([p,f])=>f===l);void 0!==u&&this.savedParams.set(u[0],o[l])}})).subscribe(),this.onTouched=()=>{},this.flags.set("page","Page"),this.flags.set("limit","Limit"),this.flags.set("offset","Offset"),this.flags.set("searchString","Search String")}set params(e){this.params$.next(e)}set paramValues(e){this.paramValues$.next(e)}get flagsAsArray(){const e=[];return this.flags.forEach((r,o)=>{e.push(o)}),e}ngOnInit(){this.init$.next(void 0)}writeValue(e){e&&this.formArray.setValue(e,{emitEvent:!1})}registerOnChange(e){this.formArray.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.formArray.disable():this.formArray.enable()}validate(e){return this.formArray.valid?null:this.formArray.errors}buildParams(e,r,o){console.log(`build param ${e}`),this.paramIndexes.set(e,r),this.formArray.push(this.fb.group({mapping:this.fb.group({type:this.fb.control("",d.kI.required),value:this.fb.control("",d.kI.required),testValue:this.fb.control(""),context:this.fb.control("")}),flags:this.fb.array(this.flagsAsArray.map(s=>this.fb.group({name:s,enabled:this.fb.control(!1)})))})),this.savedParams.has(e)?this.formArray.at(r).setValue(this.savedParams.get(e)):r<this.paramValues$.value.length&&-1===Array.from(o).findIndex(([s,l])=>l===r)&&this.formArray.at(r).setValue(this.paramValues$.value[r])}paramName(e){let r=0;for(const o in this.params$.value)if(Array.isArray(this.params$.value[o]))for(let s=0;s<this.params$.value[o].length;s++){if(e===r)return this.params$.value[o][s];r++}else if(0===this.params$.value[o].indexOf(":")){if(r===e)return this.params$.value[o];r++}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(rl))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-params-form"]],inputs:{contexts:"contexts",params:"params",paramValues:"paramValues"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}])],decls:1,vars:1,consts:[[3,"formGroup",4,"ngFor","ngForOf"],[3,"formGroup"],["formGroupName","mapping"],["required","","formControlName","type"],[3,"value",4,"ngFor","ngForOf"],["formGroupName","mapping",4,"ngIf"],["matInput","","formControlName","value","placeholder","value","required",""],["matInput","","formControlName","testValue","placeholder","Test Value","required",""],["formArrayName","flags"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"value"],["formControlName","context"],[3,"formGroupName"],["formControlName","enabled"]],template:function(e,r){1&e&&a.\u0275\u0275template(0,gF,17,9,"div",0),2&e&&a.\u0275\u0275property("ngForOf",r.formArray.controls)},directives:[Xt.KE,Dr.gD,Xn.ey,so.oG,x.NgForOf,d.JL,d.sg,d.x0,Xt.hX,d.Q7,d.JJ,d.u,x.NgIf,_n.Nt,d.Fj,d.CE],pipes:[x.KeyValuePipe,x.AsyncPipe],styles:[""]}),t})(),hs=(()=>{class t{constructor(e,r){this.paramPluginManager=e,this.tokenizerService=r}paramValue(e,r){return this.paramPluginManager.getPlugins().pipe((0,ve.U)(o=>Array.from(o).map(([s,l])=>l)),(0,ve.U)(o=>o.find(s=>s.condition&&s.condition({param:e,metadata:r})||!s.condition&&s.id===e.mapping.type)),(0,Qe.w)(o=>Rn(()=>!!o,o?o.evalParam({param:e,metadata:r}):(0,ke.of)(),(0,ke.of)(e.mapping.value))),(0,ve.U)(o=>e.mapping.value&&"string"==typeof o&&0===this.tokenizerService.discoverTokens(o).length?o:e.mapping.testValue))}paramValues(e){return(0,rn.D)(Array.from(e.keys()).map(r=>this.paramValue(e.get(r),new Map).pipe((0,ve.U)(o=>[r,o])))).pipe((0,ve.U)(r=>r.reduce((o,s)=>new Map([...o,s]),new Map)),(0,tr.d)(new Map))}resolveParams({params:e}){return(0,Qe.w)(()=>Rn(()=>Object.keys(e).length>1,(0,rn.D)(Object.keys(e).map(r=>this.paramValue(e[r],new Map).pipe((0,ve.U)(o=>({[r]:o}))))).pipe((0,ve.U)(r=>r.reduce((o,s)=>({...o,...s}),{})),(0,ve.U)(r=>({options:r}))),Rn(()=>0!==Object.keys(e).length,this.paramValue(0!==Object.keys(e).length?e[Object.keys(e)[0]]:new Jr,new Map).pipe((0,ve.U)(r=>({options:{[Object.keys(e)[0]]:r}}))),(0,ke.of)({options:{}}))))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(rl),a.\u0275\u0275inject(Dn))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),wc=(()=>{class t{constructor(e,r){e.register(new ms({id:"static",title:"Static",evalParam:({param:t})=>(0,ke.of)(t.mapping.value)})),e.register((t=>new ms({id:"inputparam",title:"Input Param",evalParam:({param:n,metadata:e})=>(0,ke.of)(n.mapping.value).pipe((0,ve.U)(r=>e.has("inputparams")&&e.get("inputparams").has(r)?e.get("inputparams").get(r):void 0),(0,Qe.w)(r=>Rn(()=>void 0!==r,void 0!==r?t.paramValue(r,e):(0,ke.of)(n.mapping.testValue),(0,ke.of)(n.mapping.testValue))))}))(r))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(rl),a.\u0275\u0275inject(hs))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,d.u5,d.UX,Wr.MaterialModule]]}),t})();const Zb="@ngrx/router-store/request",zy=((0,At.PH)(Zb,(0,At.Ky)()),"@ngrx/router-store/navigation"),Gy=((0,At.PH)(zy,(0,At.Ky)()),"@ngrx/router-store/cancel"),$y=((0,At.PH)(Gy,(0,At.Ky)()),"@ngrx/router-store/error"),ew=((0,At.PH)($y,(0,At.Ky)()),"@ngrx/router-store/navigated");(0,At.PH)(ew,(0,At.Ky)());class tw{}class nw{serialize(n){return{root:this.serializeRoute(n.root),url:n.url}}serializeRoute(n){const e=n.children.map(r=>this.serializeRoute(r));return{params:n.params,paramMap:n.paramMap,data:n.data,url:n.url,outlet:n.outlet,routeConfig:n.routeConfig?{component:n.routeConfig.component,path:n.routeConfig.path,pathMatch:n.routeConfig.pathMatch,redirectTo:n.routeConfig.redirectTo,outlet:n.routeConfig.outlet}:null,queryParams:n.queryParams,queryParamMap:n.queryParamMap,fragment:n.fragment,component:n.routeConfig?n.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:e[0],pathFromRoot:void 0,children:e}}}class Hy{serialize(n){return{root:this.serializeRoute(n.root),url:n.url}}serializeRoute(n){const e=n.children.map(r=>this.serializeRoute(r));return{params:n.params,data:n.data,url:n.url,outlet:n.outlet,routeConfig:n.routeConfig?{path:n.routeConfig.path,pathMatch:n.routeConfig.pathMatch,redirectTo:n.routeConfig.redirectTo,outlet:n.routeConfig.outlet}:null,queryParams:n.queryParams,fragment:n.fragment,firstChild:e[0],children:e}}}var Af=(()=>{return(t=Af||(Af={}))[t.PreActivation=1]="PreActivation",t[t.PostActivation=2]="PostActivation",Af;var t})();const rw=new a.InjectionToken("@ngrx/router-store Internal Configuration"),iw=new a.InjectionToken("@ngrx/router-store Configuration");function wF(t){return{stateKey:"router",serializer:Hy,navigationActionTiming:Af.PreActivation,...t}}var Ma=(()=>{return(t=Ma||(Ma={}))[t.NONE=1]="NONE",t[t.ROUTER=2]="ROUTER",t[t.STORE=3]="STORE",Ma;var t})();let CF=(()=>{class t{constructor(e,r,o,s,l,u){this.store=e,this.router=r,this.serializer=o,this.errorHandler=s,this.config=l,this.activeRuntimeChecks=u,this.lastEvent=null,this.routerState=null,this.trigger=Ma.NONE,this.stateKey=this.config.stateKey,!(0,At.rM)()&&(0,a.isDevMode)()&&(u?.strictActionSerializability||u?.strictStateSerializability)&&this.serializer instanceof nw&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the DefaultRouterStateSerializer. The default serializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer. This also applies to Ivy with immutability runtime checks."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}static forRoot(e={}){return{ngModule:t,providers:[{provide:rw,useValue:e},{provide:iw,useFactory:wF,deps:[rw]},{provide:tw,useClass:e.serializer?e.serializer:0===e.routerState?nw:Hy}]}}setUpStoreStateListener(){this.store.pipe((0,At.Ys)(this.stateKey),(0,fa.M)(this.store)).subscribe(([e,r])=>{this.navigateIfNeeded(e,r)})}navigateIfNeeded(e,r){if(!e||!e.state||this.trigger===Ma.ROUTER||this.lastEvent instanceof Nn.NavigationStart)return;const o=e.state.url;(function xF(t,n){return ow(t)===ow(n)})(this.router.url,o)||(this.storeState=r,this.trigger=Ma.STORE,this.router.navigateByUrl(o).catch(s=>{this.errorHandler.handleError(s)}))}setUpRouterEventsListener(){const e=this.config.navigationActionTiming===Af.PostActivation;let r;this.router.events.pipe((0,fa.M)(this.store)).subscribe(([o,s])=>{this.lastEvent=o,o instanceof Nn.NavigationStart?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==Ma.STORE&&(this.storeState=s,this.dispatchRouterRequest(o))):o instanceof Nn.RoutesRecognized?(r=o,!e&&this.trigger!==Ma.STORE&&this.dispatchRouterNavigation(o)):o instanceof Nn.NavigationCancel?(this.dispatchRouterCancel(o),this.reset()):o instanceof Nn.NavigationError?(this.dispatchRouterError(o),this.reset()):o instanceof Nn.NavigationEnd&&(this.trigger!==Ma.STORE&&(e&&this.dispatchRouterNavigation(r),this.dispatchRouterNavigated(o)),this.reset())})}dispatchRouterRequest(e){this.dispatchRouterAction(Zb,{event:e})}dispatchRouterNavigation(e){const r=this.serializer.serialize(e.state);this.dispatchRouterAction(zy,{routerState:r,event:new Nn.RoutesRecognized(e.id,e.url,e.urlAfterRedirects,r)})}dispatchRouterCancel(e){this.dispatchRouterAction(Gy,{storeState:this.storeState,event:e})}dispatchRouterError(e){this.dispatchRouterAction($y,{storeState:this.storeState,event:new Nn.NavigationError(e.id,e.url,`${e}`)})}dispatchRouterNavigated(e){const r=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(ew,{event:e,routerState:r})}dispatchRouterAction(e,r){this.trigger=Ma.ROUTER;try{this.store.dispatch({type:e,payload:{routerState:this.routerState,...r,event:0===this.config.routerState?r.event:{id:r.event.id,url:r.event.url,urlAfterRedirects:r.event.urlAfterRedirects}}})}finally{this.trigger=Ma.NONE}}reset(){this.trigger=Ma.NONE,this.storeState=null,this.routerState=null}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(At.yh),a.\u0275\u0275inject(Nn.Router),a.\u0275\u0275inject(tw),a.\u0275\u0275inject(a.ErrorHandler),a.\u0275\u0275inject(iw),a.\u0275\u0275inject(At.hg))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({}),t})();function ow(t){return t?.length>0&&"/"===t[t.length-1]?t.substring(0,t.length-1):t}function If(t=function SF(){return(0,At.ZF)("router")}()){const n=(0,At.P1)(t,D=>D&&D.state),e=(0,At.P1)(n,D=>D&&D.root),r=(0,At.P1)(e,D=>{if(!D)return;let J=D;for(;J.firstChild;)J=J.firstChild;return J}),o=(0,At.P1)(e,D=>D&&D.fragment),s=(0,At.P1)(e,D=>D&&D.queryParams),u=(0,At.P1)(r,D=>D&&D.params),f=(0,At.P1)(r,D=>D&&D.data),v=(0,At.P1)(n,D=>D&&D.url);return{selectCurrentRoute:r,selectFragment:o,selectQueryParams:s,selectQueryParam:D=>(0,At.P1)(s,J=>J&&J[D]),selectRouteParams:u,selectRouteParam:D=>(0,At.P1)(u,J=>J&&J[D]),selectRouteData:f,selectUrl:v}}var xa=S(3670);let sw=(()=>{class t{constructor(e){[new ms({id:"page",title:"Page",usedContexts:()=>(0,ke.of)(["_page"]),condition:({param:t,metadata:n})=>t.flags.findIndex(e=>e.enabled&&"page"===e.name)>-1&&n.has("page"),evalParam:({metadata:n})=>(0,ke.of)(`${n.get("page")}`)}),new ms({id:"searchstring",title:"Searchstring",condition:({param:t,metadata:n})=>t.flags.findIndex(e=>e.enabled)>-1&&n.has("searchString"),evalParam:({metadata:n})=>(0,ke.of)(`${n.get("searchString")}`)}),new ms({id:"route",title:"Route",usedContexts:()=>(0,ke.of)(["_route"]),evalParam:({param:t,metadata:n})=>{const e=n.get("_route");return(0,ke.of)(e.params[t.mapping.value])}}),new ms({id:"querystring",title:"Querystring",usedContexts:()=>(0,ke.of)(["_page"]),evalParam:({param:t,metadata:n})=>{const e=n.get("_route");return(0,ke.of)(e.queryParams[t.mapping.value])}}),new ms({id:"standardpagination",title:"Standard Pagination",usedContexts:()=>(0,ke.of)(["_page"]),condition:({param:t,metadata:n})=>t.flags.findIndex(e=>e.enabled&&"offset"===e.name)>-1&&n.has("limit")&&n.has("page"),evalParam:({metadata:n})=>(0,ke.of)(""+ +n.get("limit")*(+n.get("page")-1))})].forEach(r=>e.register(r))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(rl))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[wc]]}),t})(),il=(()=>{class t{constructor(e,r,o){this.routerStore=e,this.paramPluginManager=r,this.paramEvaluatorService=o}getUrl(e,r,o){const{selectCurrentRoute:s}=If(l=>l.router);return this.routerStore.pipe((0,At.Ys)(s),(0,ve.U)(l=>[l,e,e?e.indexOf("?"):-1]),(0,ve.U)(([l,u,p])=>[l,p>-1?u.substring(0,p):u,p>-1?u.substring(p+1):""]),(0,Qe.w)(([l,u,p])=>{const f=xa.parse(p),v=u?u.split("/"):[],D=new Map([...o,["_route",l]]),J=this.paramNames(e),Y=r.reduce((Oe,De,Xe)=>new Map([...Oe,[J[Xe],De]]),new Map),he=v.reduce((Oe,De,Xe)=>0===De.indexOf(":")?[...Oe,this.paramEvaluatorService.paramValue(Y.get(De),D)]:[...Oe,(0,ke.of)(v[Xe])],[]),Ue=[];for(const Oe in f)Array.isArray(f[Oe])?f[Oe].forEach(De=>Ue.push(this.paramEvaluatorService.paramValue(Y.get(De),D).pipe((0,ve.U)(Xe=>[Oe,Xe,!0])))):"string"==typeof f[Oe]&&f[Oe].indexOf(":")>-1?Ue.push(this.paramEvaluatorService.paramValue(Y.get(f[Oe]),D).pipe((0,ve.U)(De=>[Oe,De,!1]))):Ue.push((0,ke.of)([Oe,f[Oe],Array.isArray(f[Oe])]));return(0,rn.D)([(0,rn.D)(he).pipe((0,ve.U)(Oe=>Oe.filter(De=>null!=De&&""!==De&&"undefined"!==De).map((De,Xe)=>0===Xe&&0===De.indexOf("http")?`${De}/`:De).join("/")),(0,tr.d)(u)),(0,rn.D)(Ue).pipe((0,ee.b)(Oe=>console.log(Oe)),(0,ve.U)(Oe=>Oe.reduce((De,[Xe,tt,ct])=>{if(null==tt||""===tt||"undefined"===tt){const bt={...De};return delete bt[Xe],bt}return ct?{...De,[Xe]:[...void 0!==De[Xe]?De[Xe]:[],tt]}:{...De,[Xe]:tt}},this.rebuildQueryString(f))),(0,ee.b)(Oe=>console.log(Oe)),(0,ve.U)(Oe=>xa.stringify(Oe,{arrayFormat:"repeat",indices:!1})),(0,tr.d)(p))]).pipe((0,ve.U)(Oe=>Oe.join("?")))}))}paramNames(e){const r=e?e.indexOf("?"):-1,s={...(r>-1?e.substring(0,r):e||"").split("/").reduce((u,p,f)=>0===p.indexOf(":")?{...u,[p.substr(1)]:p}:u,{}),...xa.parse(e?e.substring(e.indexOf("?")+1):"")},l=[];for(const u in s)Array.isArray(s[u])?s[u].forEach(p=>l.push(p)):0===s[u].indexOf(":")&&l.push(s[u]);return l}rebuildQueryString(e){const r={};for(const o in e)Array.isArray(e[o])?r[o]=[]:null!=o[e]&&""!==o[e]&&"undefined"!==o[e]&&(r[o]=o[e]);return xa.parse(r)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(At.yh),a.\u0275\u0275inject(rl),a.\u0275\u0275inject(hs))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function kF(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-option",8),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275property("value",e.value.id),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e.value.title)}}function VF(t,n){}function RF(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-option",8),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275property("value",e),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e)}}function NF(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",9),a.\u0275\u0275elementStart(1,"mat-form-field"),a.\u0275\u0275elementStart(2,"mat-label"),a.\u0275\u0275text(3,"Binding"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"mat-select",10),a.\u0275\u0275template(5,RF,2,2,"mat-option",2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"button",6),a.\u0275\u0275listener("click",function(){const s=a.\u0275\u0275restoreView(e).index;return a.\u0275\u0275nextContext().removeBinding(s)}),a.\u0275\u0275text(7,"Remove"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const e=n.index,r=a.\u0275\u0275nextContext();a.\u0275\u0275property("formGroupName",e),a.\u0275\u0275advance(5),a.\u0275\u0275property("ngForOf",r.bindableOptions)}}class Bo extends fn.Plugin{constructor(n){super(n),n&&(this.editor=n.editor,this.fetch=n.fetch,this.getBindings=n.getBindings?n.getBindings:()=>(0,ke.of)([]),this.editorOptions=n.editorOptions?n.editorOptions:()=>(0,ke.of)(new ah))}}class lo{constructor(n){n&&(this.url=n.url,this.method=n.method?n.method:void 0,void 0!==n.renderer&&(this.renderer=new qy(n.renderer)),void 0!==n.params&&(this.params=n.params.map(e=>new Jr(e))),n.body&&(this.body=new Zl(n.body)))}}class qy{constructor(n){n&&(this.type=n.type,this.query=n.query,this.trackBy=n.trackBy,void 0!==n.data&&(this.data=new Zl(n.data)),void 0!==n.bindings&&(this.bindings=n.bindings.map(e=>new Ut.ContentBinding(e))))}}class Fn{constructor(n){this.results=[],n&&(this.results=n.results)}}class Ky{constructor(n){n&&(this.query=n.query,this.trackBy=n.trackBy,this.idMapping=n.idMapping,this.labelMapping=n.labelMapping,this.valueMapping=n.valueMapping,this.multiple=n.multiple,this.limit=n.limit)}}class eu{constructor(n){this.settings=[],this.params=[],n&&(this.plugin=n.plugin,n.renderer&&(this.renderer=new qy(n.renderer)),n.settings&&(this.settings=n.settings.map(e=>new Ct.AttributeValue(e))),n.params&&(this.params=n.params.map(e=>new Jr(e))))}}class ah{constructor(n){this.fullscreen=!1,n&&(this.fullscreen=n.fullscreen)}}const Pf=new Ky({query:"",trackBy:"",idMapping:"",labelMapping:"",valueMapping:"",multiple:!1,limit:0}),Xy=new lo({url:"",renderer:{type:"",data:{content:"",contentType:""},query:"",trackBy:"",bindings:[]},params:[]});let lw=(()=>{class t{constructor(e){this.fb=e,this.datasourceOptions$=new h.X(Pf),this.formGroup=this.fb.group({query:this.fb.control(""),trackBy:this.fb.control(""),valueMapping:this.fb.control(""),labelMapping:this.fb.control(""),idMapping:this.fb.control(""),multiple:this.fb.control(""),limit:this.fb.control("")}),this.datasourceOptionsSub=this.datasourceOptions$.subscribe(r=>{this.formGroup.setValue(r),this.formGroup.updateValueAndValidity()}),this.onTouched=()=>{}}set datasourceOptions(e){this.datasourceOptions$.next(e)}writeValue(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}registerOnChange(e){this.formGroup.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.formGroup.disable():this.formGroup.enable()}validate(e){return this.formGroup.valid?null:{datasourceOptions:{valid:!1}}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-datasource-options"]],inputs:{datasourceOptions:"datasourceOptions"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}])],decls:16,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","query","placeholder","Query"],["matInput","","formControlName","trackBy","placeholder","Track By"],["matInput","","formControlName","idMapping","placeholder","Id"],["matInput","","formControlName","valueMapping","placeholder","Value"],["matInput","","formControlName","labelMapping","placeholder","Label"],["formControlName","multiple"],["matInput","","formControlName","limit","placeholder","Limit"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"mat-form-field"),a.\u0275\u0275element(2,"input",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-form-field"),a.\u0275\u0275element(4,"input",2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"mat-form-field"),a.\u0275\u0275element(6,"input",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"mat-form-field"),a.\u0275\u0275element(8,"input",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"mat-form-field"),a.\u0275\u0275element(10,"input",5),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"div"),a.\u0275\u0275elementStart(12,"mat-checkbox",6),a.\u0275\u0275text(13,"Multiple"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(14,"mat-form-field"),a.\u0275\u0275element(15,"input",7),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("formGroup",r.formGroup)},directives:[Xt.KE,so.oG,d.JL,d.sg,_n.Nt,d.Fj,d.JJ,d.u],encapsulation:2}),t})(),uw=(()=>{class t{constructor(e){this.viewContainerRef=e}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["","classifiedsUiDatasourceRendererHost",""]]}),t})(),Sa=(()=>{class t extends fn.BasePluginManager{constructor(e,r){super(e,r)}pluginDef(){return(0,ke.of)(new fn.PluginDef({name:"datasource"}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(fn.PluginConfigurationManager),a.\u0275\u0275inject(ln.ModuleLoaderService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Wy=(()=>{class t{constructor(e,r,o){this.fb=e,this.componentFactoryResolver=r,this.dpm=o,this.datasources$=this.dpm.getPlugins(),this.formGroup=this.fb.group({plugin:this.fb.control("",[d.kI.required]),settings:this.fb.control(""),renderer:this.fb.group({type:this.fb.control("pane"),bindings:this.fb.array([])})}),this.bindableOptions=[],this.contexts=[],this.settings$=new h.X([]),this.componentRef$=new h.X(void 0),this.datasource$=new h.X(void 0),this.afterViewInit$=new O.x,this.contextForwardingSub=this.componentRef$.pipe((0,z.h)(s=>!!s)).subscribe(s=>{s.instance.contexts=this.contexts,s.instance.settings=this.settings$.value}),this.rendererSub=(0,On.a)([this.formGroup.get("plugin").valueChanges,this.afterViewInit$]).pipe((0,Qe.w)(([s,l])=>s&&""!==s?this.dpm.getPlugin(s):(0,ke.of)(void 0))).subscribe(s=>{s&&this.renderPlugin(s)}),this.settingsSub=(0,On.a)([this.componentRef$,this.settings$]).pipe((0,z.h)(([s,l])=>!!s)).subscribe(([s,l])=>{s.instance.settings=l}),this.datasourceSub=this.datasource$.pipe((0,ee.b)(s=>{setTimeout(()=>this.settings$.next(s?s.settings:[]))})).subscribe(s=>{this.formGroup.get("renderer").get("bindings").clear(),s?(this.formGroup.get("plugin").setValue(s.plugin),this.formGroup.get("renderer").get("type").setValue("pane"),s.renderer&&s.renderer.bindings&&s.renderer.bindings.forEach(l=>{this.addBinding(l)})):(this.formGroup.get("plugin").setValue(""),this.formGroup.get("renderer").get("type").setValue("pane"))}),this.onTouched=()=>{}}set datasource(e){this.datasource$.next(e)}get bindings(){return this.formGroup.get("renderer").get("bindings")}ngOnInit(){}ngAfterViewInit(){this.afterViewInit$.next(void 0)}renderPlugin(e){const r=this.componentFactoryResolver.resolveComponentFactory(e.editor),o=this.datasourceHost.viewContainerRef;o.clear(),this.componentRef$.next(o.createComponent(r))}writeValue(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}registerOnChange(e){this.formGroup.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.formGroup.disable():this.formGroup.enable()}validate(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}addBinding(e){this.bindings.push(this.fb.group({type:this.fb.control("pane",d.kI.required),id:this.fb.control(e?e.id:"",d.kI.required)}))}removeBinding(e){this.bindings.removeAt(e)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(Sa))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-datasource-form"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(uw,7),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.datasourceHost=o.first)}},inputs:{bindableOptions:"bindableOptions",contexts:"contexts",datasource:"datasource"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}])],decls:16,vars:7,consts:[[3,"formGroup"],["required","","formControlName","plugin"],[3,"value",4,"ngFor","ngForOf"],["classifiedsUiDatasourceRendererHost",""],["formGroupName","renderer"],["formArrayName","bindings"],["type","button",3,"click"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"value"],[3,"formGroupName"],["required","","formControlName","id"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"mat-form-field"),a.\u0275\u0275elementStart(2,"mat-label"),a.\u0275\u0275text(3,"Datasource"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"mat-select",1),a.\u0275\u0275template(5,kF,2,2,"mat-option",2),a.\u0275\u0275pipe(6,"keyvalue"),a.\u0275\u0275pipe(7,"async"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerStart(8),a.\u0275\u0275template(9,VF,0,0,"ng-template",3),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementStart(10,"div",4),a.\u0275\u0275elementStart(11,"div",5),a.\u0275\u0275elementStart(12,"button",6),a.\u0275\u0275listener("click",function(){return r.addBinding()}),a.\u0275\u0275text(13,"Add Binding"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(14,"div"),a.\u0275\u0275template(15,NF,8,2,"div",7),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.formGroup),a.\u0275\u0275advance(5),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(6,3,a.\u0275\u0275pipeBind1(7,5,r.datasources$))),a.\u0275\u0275advance(10),a.\u0275\u0275property("ngForOf",r.bindings.controls))},directives:[Xt.KE,Dr.gD,Xn.ey,d.JL,d.sg,Xt.hX,d.Q7,d.JJ,d.u,x.NgForOf,uw,d.x0,d.CE],pipes:[x.KeyValuePipe,x.AsyncPipe],styles:[""]}),t})(),OF=(()=>{class t{constructor(e,r){this.fb=e,this.attributeSerializer=r,this.settings$=new h.X(void 0),this.formGroup=this.fb.group({data:this.fb.control("")}),this.settingsSub=this.settings$.pipe((0,ve.U)(o=>o?this.attributeSerializer.deserializeAsObject(o):void 0)).subscribe(o=>{o&&o.data?this.formGroup.get("data").setValue(o.data):this.formGroup.get("data").setValue("")}),this.onTouched=()=>{}}set settings(e){this.settings$.next(e)}ngOnInit(){}writeValue(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}registerOnChange(e){this.formGroup.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.formGroup.disable():this.formGroup.enable()}validate(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Ct.AttributeSerializerService))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-data-source-form"]],inputs:{settings:"settings"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}])],decls:2,vars:1,consts:[[3,"formGroup"],["formControlName","data","cols","60","rows","20"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275element(1,"textarea",1),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("formGroup",r.formGroup)},directives:[d.JL,d.sg,d.Fj,d.JJ,d.u],styles:[""]}),t})(),FF=(()=>{class t{constructor(e){this.controlContainer=e,this.settings=[]}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-data-datasource"]],inputs:{settings:"settings"},decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","settings",3,"settings"]],template:function(e,r){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-data-source-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.controlContainer.control),a.\u0275\u0275advance(1),a.\u0275\u0275property("settings",r.settings))},directives:[OF,d.JL,d.sg,d.JJ,d.u],encapsulation:2}),t})(),MF=(()=>{class t{constructor(e,r){this.fb=e,this.attributeSerializer=r,this.settings$=new h.X(void 0),this.formGroup=this.fb.group({data:this.fb.control("")}),this.settingsSub=this.settings$.pipe((0,ve.U)(o=>o?this.attributeSerializer.deserializeAsObject(o):void 0)).subscribe(o=>{}),this.onTouched=()=>{}}set settings(e){this.settings$.next(e)}ngOnInit(){}writeValue(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}registerOnChange(e){this.formGroup.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.formGroup.disable():this.formGroup.enable()}validate(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Ct.AttributeSerializerService))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-datasource-source-form"]],inputs:{settings:"settings"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}])],decls:2,vars:0,template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"p"),a.\u0275\u0275text(1,"Datasource"),a.\u0275\u0275elementEnd())},styles:[""]}),t})(),DF=(()=>{class t{constructor(e){this.controlContainer=e,this.settings=[]}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-datasource-source"]],inputs:{settings:"settings"},decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","settings",3,"settings"]],template:function(e,r){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-datasource-source-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.controlContainer.control),a.\u0275\u0275advance(1),a.\u0275\u0275property("settings",r.settings))},directives:[MF,d.JL,d.sg,d.JJ,d.u],encapsulation:2}),t})();const jF=t=>new Bo({id:"data",title:"Data",editor:FF,fetch:({settings:n})=>(0,ke.of)(new Fn).pipe((0,ve.U)(()=>t.deserializeAsObject(n)),(0,ve.U)(e=>new Fn({results:JSON.parse(e.data)})))});let al=(()=>{class t{constructor(e,r){[jF(r),new Bo({id:"datasource_datasource",title:"Datasource",editor:DF,fetch:({})=>(0,ke.of)(new Fn)})].forEach(o=>e.register(o))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Sa),a.\u0275\u0275inject(Ct.AttributeSerializerService))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,d.UX,Wr.MaterialModule,sw]]}),t})(),Tf=(()=>{class t{constructor(e,r){this.config=e,this.http=r,this.cache=new Map}getData(e){return this.cache.has(e)?(0,ke.of)(this.cache.get(e)).pipe((0,Zn.g)(0)):this.http.get(`${e}`).pipe((0,wr.K)(()=>(0,ke.of)([])),(0,ve.U)(r=>Array.isArray(r)?r:[r]),(0,ee.b)(r=>this.cache.set(e,r)))}postData({url:e,body:r=""}){return this.http.post(`${e}`,r).pipe((0,ve.U)(o=>Array.isArray(o)?o:[o]))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(pi),a.\u0275\u0275inject(F.HttpClient))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class cw{constructor(n){n&&(this.label=n.label,this.dataItem=n.dataItem,void 0!==n.value&&(this.value=n.value))}}class dw{constructor(n){n&&(this.value=n.value,this.label=n.label,this.id=n.id,this.multiple=n.multiple,this.limit=n.limit)}}let fw=(()=>{class t{constructor(e,r){this.dpm=e,this.attributeSerializer=r}evalDatasource({datasource:e,metadata:r,datasources:o}){return(0,ke.of)(e).pipe((0,Qe.w)(s=>this.dpm.getPlugin(s.plugin).pipe((0,ve.U)(l=>[s,l]))),(0,Qe.w)(([s,l])=>l.fetch({settings:s.settings,metadata:r,datasource:s,datasources:o}).pipe((0,ve.U)(u=>[s,u]))),(0,Qe.w)(([s,l])=>(0,rn.D)(s.renderer.bindings.reduce((u,p)=>[...u,...o&&o.has(p.id)?[(0,ke.of)(o.get(p.id))]:[]],[])).pipe((0,Qe.w)(u=>u.reduce((p,f)=>p.pipe((0,Qe.w)(v=>this.dpm.getPlugin(f.plugin).pipe((0,ve.U)(D=>[D,v,f]))),(0,Qe.w)(([v,D,J])=>v.fetch({settings:f.settings,dataset:D,metadata:r,datasource:J,datasources:o}))),(0,ke.of)(l))),(0,ve.U)(u=>u),(0,tr.d)(l))))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Sa),a.\u0275\u0275inject(Ct.AttributeSerializerService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),tu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class kf extends fn.Plugin{constructor(n){super(n),n&&(this.build=n.build)}}const LF=t=>()=>new Promise(n=>{t.build(),n()});let Cc=(()=>{class t extends fn.BasePluginManager{constructor(e,r){super(e,r)}pluginDef(){return(0,ke.of)(new fn.PluginDef({name:"bridgebuilder"}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(fn.PluginConfigurationManager),a.\u0275\u0275inject(ln.ModuleLoaderService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),zF=(()=>{class t{constructor(e){this.bpm=e}build(){try{console.log("build bridge..."),this.bpm.getPlugins().subscribe(e=>{Array.from(e).forEach(([r,o])=>{o.build(),console.log("bridge build: "+r)})}),console.log("bridge built.")}catch{}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Cc))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),pw=(()=>{class t{constructor(e){console.log("bridge constructor"),e.register(new kf({id:"test",title:"Test",build:()=>{tu.prototype.sayHello2=()=>{alert("say hello 2")}}}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Cc))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({providers:[{provide:a.APP_INITIALIZER,useFactory:LF,deps:[zF],multi:!0}],imports:[[]]}),t})();var mw=S(4503),Jy=S(6067);function GF(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-option",3),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275property("value",e),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e)}}function $F(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-option",5),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275property("value",e.value.name),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e.value.title)}}function HF(t,n){}const Qy=new a.InjectionToken("ContextPlugin");class gs extends fn.Plugin{constructor(n){super(n),this.global=!1,n&&(this.name=this.id,this.title=n.title,this.baseObject=n.baseObject,this.resolver=n.resolver,this.global=void 0!==n.global&&n.global,this.internal=void 0!==n.internal&&n.internal,this.group=void 0!==n.group?n.group:void 0,n.editorComponent&&(this.editorComponent=n.editorComponent))}}class Pi{constructor(n){this.name=n.name,this.adaptor=n.adaptor,n.plugin&&(this.plugin=n.plugin),"rest"===this.adaptor?this.rest=new lo(n.rest):"snippet"===this.adaptor||"json"===this.adaptor?this.snippet=new Zl(n.snippet):"data"===this.adaptor?this.data=n.data:"token"===this.adaptor?this.tokens=new Map([...n.tokens]):"datasource"===this.adaptor&&(this.datasource=new eu(n.datasource))}}class Yy{constructor(n){n&&(this.name=n.name)}}let qF=(()=>{class t{constructor(e,r){this.fb=e,this.attributeSerializer=r,this.contexts=[],this.settings$=new h.X(void 0),this.formGroup=this.fb.group({name:this.fb.control("",[d.kI.required])}),this.settingsSub=this.settings$.pipe((0,ve.U)(o=>o?new Yy(this.attributeSerializer.deserializeAsObject(o)):void 0)).subscribe(o=>{o?this.formGroup.get("name").setValue(o.name):this.formGroup.get("name").setValue("")}),this.onTouched=()=>{}}set settings(e){this.settings$.next(e)}writeValue(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}registerOnChange(e){this.formGroup.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.formGroup.disable():this.formGroup.enable()}validate(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Ct.AttributeSerializerService))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-context-datasource-form"]],inputs:{contexts:"contexts",settings:"settings"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}])],decls:6,vars:2,consts:[[3,"formGroup"],["required","","formControlName","name"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"mat-form-field"),a.\u0275\u0275elementStart(2,"mat-label"),a.\u0275\u0275text(3,"Context"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"mat-select",1),a.\u0275\u0275template(5,GF,2,2,"mat-option",2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.formGroup),a.\u0275\u0275advance(5),a.\u0275\u0275property("ngForOf",r.contexts))},directives:[Xt.KE,Dr.gD,Xn.ey,d.JL,d.sg,Xt.hX,d.Q7,d.JJ,d.u,x.NgForOf],styles:[""]}),t})(),KF=(()=>{class t{constructor(e){this.controlContainer=e,this.contexts=[],this.settings=[]}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-context-datasource"]],inputs:{contexts:"contexts",settings:"settings"},decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"contexts","settings"]],template:function(e,r){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-context-datasource-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.controlContainer.control),a.\u0275\u0275advance(1),a.\u0275\u0275property("contexts",r.contexts)("settings",r.settings))},directives:[qF,d.JL,d.sg,d.JJ,d.u],encapsulation:2}),t})(),XF=(()=>{class t{constructor(e,r,o){this.fb=e,this.controlContainer=r,this.attributeSerializer=o}ngOnInit(){this.controlContainer.control.addControl("adaptor",this.fb.control("datasource",d.kI.required)),this.controlContainer.control.addControl("datasource",this.fb.control("")),this.controlContainer.control.addControl("_proxy",this.fb.control("")),this.proxyControlSub=this.controlContainer.control.get("_proxy").valueChanges.pipe((0,ve.U)(e=>e?new eu({...e,settings:this.attributeSerializer.serialize(e.settings,"settings").attributes}):new eu),(0,ee.b)(e=>this.controlContainer.control.get("datasource").setValue(e))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(d.gN),a.\u0275\u0275directiveInject(Ct.AttributeSerializerService))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-datasource-context-editor"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(Wy,7),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.datasourceFormComp=o.first)}},decls:2,vars:1,consts:[[3,"formGroup"],["formControlName","_proxy"]],template:function(e,r){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-datasource-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&a.\u0275\u0275property("formGroup",r.controlContainer.control)},directives:[Wy,d.JL,d.sg,d.JJ,d.u],encapsulation:2}),t})();const WF=t=>new gs({id:"route",name:"route",title:"Route",global:!0,baseObject:{path:"",arg0:"",arg2:"",arg3:"",arg4:"",arg5:""},resolver:t});let Zy=(()=>{class t{constructor(e){this.routerStore=e}resolve(e,r){const{selectCurrentRoute:o}=If(s=>s.router);return this.routerStore.pipe((0,At.Ys)(o),(0,ve.U)(s=>({path:`/pages/panelpage/${s.params.panelPageId}`})))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(At.yh))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),hw=(()=>{class t{constructor(e){this.viewContainerRef=e}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["","classifiedsUiContextEditorHost",""]]}),t})(),ol=(()=>{class t extends fn.BasePluginManager{constructor(e,r){super(e,r)}pluginDef(){return(0,ke.of)(new fn.PluginDef({name:"context"}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(fn.PluginConfigurationManager),a.\u0275\u0275inject(ln.ModuleLoaderService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),gw=(()=>{class t{constructor(e,r,o){this.fb=e,this.componentFactoryResolver=r,this.cpm=o,this.contextForm=this.fb.group({name:this.fb.control("",d.kI.required),plugin:this.fb.control("",d.kI.required)}),this.context$=new h.X(void 0),this.onTouched=()=>{}}set context(e){this.context$.next(e)}ngOnInit(){this.contextPlugins=this.cpm.getPlugins().pipe((0,ve.U)(e=>new Map(Array.from(e).filter(([r,o],s)=>!o.internal).map(([r,o],s)=>[o.name,o])))),this.contextForm.get("plugin").valueChanges.pipe((0,Qe.w)(e=>this.cpm.getPlugin(e))).subscribe(e=>{e.editorComponent?this.renderEditor(e):this.editorHost.viewContainerRef.clear()}),this.context$.pipe((0,z.h)(()=>!!this.componentRef)).subscribe(e=>{this.componentRef.instance.context=e})}writeValue(e){e&&this.contextForm.setValue(e,{emitEvent:!1})}registerOnChange(e){this.contextForm.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.contextForm.disable():this.contextForm.enable()}validate(e){return this.contextForm.valid?null:{invalidForm:{valid:!1,message:"context is invalid"}}}renderEditor(e){const r=this.componentFactoryResolver.resolveComponentFactory(e.editorComponent),o=this.editorHost.viewContainerRef;o.clear(),this.componentRef=o.createComponent(r),this.componentRef.instance.context=this.context$.value}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(ol))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-context-form"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(hw,7),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.editorHost=o.first)}},inputs:{context:"context"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}])],decls:12,vars:6,consts:[["fxLayout","column",3,"formGroup"],["matInput","","formControlName","name","placeholder","Name","required",""],["required","","formControlName","plugin"],[3,"value",4,"ngFor","ngForOf"],["classifiedsUiContextEditorHost",""],[3,"value"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"mat-form-field"),a.\u0275\u0275element(2,"input",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-form-field"),a.\u0275\u0275elementStart(4,"mat-label"),a.\u0275\u0275text(5,"Type"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"mat-select",2),a.\u0275\u0275template(7,$F,2,2,"mat-option",3),a.\u0275\u0275pipe(8,"keyvalue"),a.\u0275\u0275pipe(9,"async"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerStart(10),a.\u0275\u0275template(11,HF,0,0,"ng-template",4),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.contextForm),a.\u0275\u0275advance(7),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(8,2,a.\u0275\u0275pipeBind1(9,4,r.contextPlugins))))},directives:[Xt.KE,Dr.gD,Xn.ey,ue,d.JL,d.sg,_n.Nt,d.Fj,d.JJ,d.u,d.Q7,Xt.hX,x.NgForOf,hw],pipes:[x.KeyValuePipe,x.AsyncPipe],styles:[""]}),t})(),ev=(()=>{class t{constructor(e){this.dpm=e}resolve(e,r,o){return(0,ke.of)(new Fn).pipe((0,ve.U)(()=>new eu(r)),(0,Qe.w)(s=>this.dpm.getPlugin(s.plugin).pipe((0,ve.U)(l=>({ds:s,p:l})))),(0,Qe.w)(({ds:s,p:l})=>l.fetch({settings:s.settings,metadata:o})),(0,ve.U)(s=>s))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Sa))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),yw=(()=>{class t extends fn.BasePluginManager{constructor(e,r){super(e,r),this.add$=new Jy.t(1)}pluginDef(){return(0,ke.of)(new fn.PluginDef({name:"resolved_context"}))}register(e){const r=this.pluginInstances.has(e.id);super.register(e),r||this.add$.next(void 0)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(fn.PluginConfigurationManager),a.\u0275\u0275inject(ln.ModuleLoaderService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),xc=(()=>{class t extends class eM{constructor(n,e){this.cpm=n,this.rcm=e}resolveGlobals(n=Tn()){return this.cpm.getPlugins().pipe((0,ve.U)(e=>Array.from(e.values()).filter(r=>!0===r.global)),(0,Qe.w)(e=>(0,N.T)(...e.map(r=>r.resolver.resolve(r,{}).pipe((0,ve.U)(o=>[r.name,o,e.length])))).pipe((0,mw.R)((r,[o,s,l])=>new Map([...r,[`_${o}`,s],["__len",l]]),new Map([])),(0,z.h)(r=>r.size-1==+r.get("__len")),(0,ve.U)(r=>Object.assign({},...[...r.entries()].filter(([o,s])=>"__len"!==o).map(([o,s])=>({[o]:s})))))))}resolveGlobalsSingle(n=Tn()){return this.cpm.getPlugins().pipe((0,ve.U)(e=>Array.from(e.values()).filter(r=>!0===r.global)),(0,Qe.w)(e=>(0,N.T)(...e.map(r=>r.resolver.resolve(r,{}).pipe((0,ve.U)(o=>[r.name,o]))))))}resolveAll(n,e=Tn()){return(0,N.T)(...n.map(r=>this.resolve(r,e).pipe((0,ve.U)(o=>[r.name,Array.isArray(o)?o.length>0?o[0]:void 0:o])))).pipe((0,mw.R)((r,[o,s])=>new Map([...r,[o,s]]),new Map),(0,z.h)(r=>r.size===n.length),(0,ve.U)(r=>Object.assign({},...[...r.entries()].map(([o,s])=>({[o]:s})))))}resolveAllSingle(n,e=Tn()){return(0,N.T)(...n.map(r=>this.resolve(r,e).pipe((0,ve.U)(o=>[r.name,Array.isArray(o)?o.length>0?o[0]:void 0:o])))).pipe((0,ve.U)(([r,o])=>[r,o]))}resolveMerged(n,e=Tn()){return this.rcm.getPlugins().pipe((0,Qe.w)(()=>this.rcm.add$.pipe((0,tr.d)(void 0))),(0,Qe.w)(()=>this.rcm.getPlugins()),(0,Qe.w)(r=>(0,On.a)([...Array.from(r).map(([o,s])=>s.resolve()),this.resolveGlobals(e),0===n.length?(0,ke.of)({}):this.resolveAll(n,e)]).pipe((0,Un.b)(0),(0,ve.U)(o=>o.reduce((s,l)=>({...s,...l}),{})))))}resolveMergedSingle(n,e=Tn()){return 0!==n.length?this.rcm.getPlugins().pipe((0,Qe.w)(r=>(0,N.T)(...Array.from(r).map(([o,s])=>s.resolveSingle()),this.resolveGlobalsSingle(),this.resolveAllSingle(n)))):this.rcm.getPlugins().pipe((0,Qe.w)(r=>(0,N.T)(...Array.from(r).map(([o,s])=>s.resolveSingle()),this.resolveGlobalsSingle())))}resolve(n,e=Tn()){return n.plugin?this.cpm.getPlugin(n.plugin).pipe((0,Qe.w)(r=>r.resolver.resolve(r,this.getDataObject(n),new Map([["name",n.name]])))):(0,ke.of)(this.getDataObject(n))}getDataObject(n){switch(n.adaptor){case"rest":return n.rest;case"snippet":return n.snippet;case"json":return JSON.parse(n.snippet.content);case"data":return n.data;case"token":return n.tokens;case"datasource":return n.datasource;default:return}}}{constructor(e,r){super(e,r)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ol),a.\u0275\u0275inject(yw))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Sc=(()=>{class t{constructor(e,r,o,s,l,u,p,f,v){e.forEach(D=>s.register(D)),l.register(((t,n)=>new kf({id:"context",title:"Context",build:()=>{tu.prototype.resolveContext=(e,r)=>new Promise(o=>{t.getPlugin(e).pipe((0,Qe.w)(s=>s.resolver.resolve(s,r).pipe((0,nn.q)(1)))).subscribe(s=>{o(s)})}),tu.prototype.resolveMergedContext=e=>new Promise(r=>{n.resolveMerged(e).pipe((0,ee.b)(o=>r(o)),(0,nn.q)(1)).subscribe()})}}))(s,r)),p.register(((t,n)=>new ms({id:"context",title:"Context",evalParam:({param:e,metadata:r})=>{const o=e.mapping.context&&""!==e.mapping.context?new Pi(r.get("contexts").find(s=>s.name===e.mapping.context)):void 0;return o?t.resolve(o).pipe((0,nn.q)(1),(0,Qe.w)(s=>Rn(()=>e.mapping.value&&""!==e.mapping.value,(0,ke.of)(s).pipe((0,ve.U)(l=>n.generateGenericTokens(Array.isArray(l)?l[0]:l)),(0,ve.U)(l=>n.replaceTokens(`[${e.mapping.value}]`,l)),(0,nn.q)(1)),(0,ke.of)(Array.isArray(s)?s[0]:s)).pipe((0,nn.q)(1)))):(0,ke.of)()},usedContexts:({param:e})=>(0,ke.of)([e.mapping.context])}))(r,o)),u.register(((t,n)=>new Bo({id:"context",title:"Context",editor:KF,fetch:({settings:e,metadata:r})=>(0,ke.of)(new Fn).pipe((0,ve.U)(()=>new Yy(n.deserializeAsObject(e))),(0,ve.U)(o=>r.get("contexts").find(s=>s.name===o.name)),(0,Qe.w)(o=>t.resolve(o).pipe((0,ve.U)(s=>s instanceof Fn?s:new Fn({results:Array.isArray(s)?s:[s]})),(0,nn.q)(1)))),getBindings:({settings:e})=>(0,ke.of)([]).pipe((0,ve.U)(()=>new Yy(n.deserializeAsObject(e))),(0,ve.U)(o=>[new Ut.ContentBinding({id:o.name,type:"context"})]))}))(r,f)),s.register((t=>{const n={dataset:new Fn};return new gs({id:"datasource",name:"datasource",title:"Datasource",baseObject:n,resolver:t,editorComponent:XF})})(v))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Qy),a.\u0275\u0275inject(xc),a.\u0275\u0275inject(Dn),a.\u0275\u0275inject(ol),a.\u0275\u0275inject(Cc),a.\u0275\u0275inject(Sa),a.\u0275\u0275inject(rl),a.\u0275\u0275inject(Ct.AttributeSerializerService),a.\u0275\u0275inject(ev))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({providers:[{provide:Zy,useClass:Zy},{provide:ev,useClass:ev},{provide:Qy,useFactory:WF,multi:!0,deps:[Zy]}],imports:[[x.CommonModule,d.UX,d.u5,Wr.MaterialModule,Rs,_f,Uy,al]]}),t})(),tM=(()=>{class t{constructor(e){this.contextPlugins=e}getAll(e){return void 0===e?this.contextPlugins:this.contextPlugins.filter(e?r=>r.global:r=>!r.global)}getAllObjects(){return this.contextPlugins.map(e=>e.baseObject)}lookupContext(e){return this.contextPlugins.find(r=>r.name===e)}register(e){this.contextPlugins.push(e)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Qy))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class nM extends fn.Plugin{constructor(n){super(n),this.resolve=n.resolve,this.resolveSingle=n.resolveSingle}}let tv=(()=>{class t{constructor(e){this.ppm=e}extractContexts(e){return(0,rn.D)(e.map(r=>this.ppm.getPlugin(r.mapping.type).pipe((0,Qe.w)(o=>Rn(()=>!!o&&!!o.usedContexts,o&&o.usedContexts?o.usedContexts({param:r,metadata:new Map([])}):(0,ke.of)([]),(0,ke.of)([])))))).pipe((0,ve.U)(r=>r.reduce((o,s)=>[...o,...s.filter(l=>!o.includes(l))],[])))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(rl))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),rM=(()=>{class t{constructor(e,r,o){this.routerStore=e,this.router=r}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(At.yh),a.\u0275\u0275directiveInject(Nn.Router),a.\u0275\u0275directiveInject(Jn))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-alias-catch-all-router"]],decls:2,vars:0,template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"p"),a.\u0275\u0275text(1,"Page Not Found"),a.\u0275\u0275elementEnd())},styles:[""]}),t})();const iM=[];let aM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({providers:[],imports:[[ln.UtilsModule,Nn.RouterModule.forChild(iM)]]}),t})();class oM extends fn.Plugin{constructor(n){super(n),n&&(this.loadingStrategy=n.loadingStrategy,this.matchingStrategy=n.matchingStrategy,this.redirectHandler=n.redirectHandler)}}let vw=(()=>{class t extends fn.BasePluginManager{constructor(e,r){super(e,r)}pluginDef(){return(0,ke.of)(new fn.PluginDef({name:"alias"}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(fn.PluginConfigurationManager),a.\u0275\u0275inject(ln.ModuleLoaderService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),_w=(()=>{class t{constructor(e,r,o,s){this.siteName=e,this.router=r,this.apm=o,this.routesLoaded=!1}canActivate(e,r){return console.log("catch all alias hit"),new Promise(o=>{this.apm.getPlugins().pipe((0,Qe.w)(s=>(0,rn.D)(this.routesLoaded?[]:Array.from(s).map(([l,u])=>u.loadingStrategy.load())).pipe((0,tr.d)(void 0))),(0,ee.b)(()=>this.routesLoaded=!0),(0,Qe.w)(()=>this.apm.getPlugins()),(0,Qe.w)(s=>(0,rn.D)(Array.from(s).map(([l,u])=>u.matchingStrategy.match(r).pipe((0,ve.U)(p=>[u,p])))))).subscribe(s=>{if(console.log("routes loaded: "+(this.routesLoaded?"y":"n")),void 0!==s.map(([u,p],f)=>p?u:void 0).find(u=>void 0!==u)){console.log(`alias gaurd state: ${r.url}`);const u=this.router.parseUrl(r.url);o(u)}else o(!0)})})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ln.SITE_NAME),a.\u0275\u0275inject(Nn.Router),a.\u0275\u0275inject(vw),a.\u0275\u0275inject(Jn))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();var bw=S(7714);function sM(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-option",4),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275property("value",e.value.id),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e.value.title)}}function lM(t,n){}class ww extends fn.Plugin{constructor(n){super(n),n&&(this.editor=n.editor,this.send=n.send)}}class uM{constructor(n){this.settings=[],n&&(this.data=n.data,n.settings&&Array.isArray(n.settings)&&(this.settings=n.settings.map(e=>new Ct.AttributeValue(e))))}}class nv{constructor(n){}}class Ec{constructor(n){n&&(this.dataduct=new cM(n.dataduct))}}class cM{constructor(n){this.settings=[],n&&(this.plugin=n.plugin,n.settings&&Array.isArray(n.settings)&&(this.settings=n.settings.map(e=>new Ct.AttributeValue(e))))}}let Cw=(()=>{class t{constructor(e){this.viewContainerRef=e}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["","classifiedsUiDataductRendererHost",""]]}),t})(),oh=(()=>{class t extends fn.BasePluginManager{constructor(e,r){super(e,r)}pluginDef(){return(0,ke.of)(new fn.PluginDef({name:"dataduct"}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(fn.PluginConfigurationManager),a.\u0275\u0275inject(ln.ModuleLoaderService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),dM=(()=>{class t{constructor(e,r){this.dpm=e,this.fb=r,this.contexts=[],this.ductForm=this.fb.group({plugin:this.fb.control("",[d.kI.required]),settings:this.fb.control("")}),this.ducts$=this.dpm.getPlugins(),this.componentRef$=new h.X(void 0),this.persistence$=new h.X(void 0),this.afterViewInit$=new O.x,this.contextForwardingSub=this.componentRef$.pipe((0,z.h)(o=>!!o)).subscribe(o=>{o.instance.contexts=this.contexts,o.instance.settings=this.persistence$.value&&this.persistence$.value.dataduct?this.persistence$.value.dataduct.settings:[]}),this.persistenceSub=(0,On.a)([this.persistence$,this.afterViewInit$]).pipe((0,ve.U)(([o])=>o),(0,ee.b)(o=>{this.ductForm.get("plugin").setValue(o&&o.dataduct?o.dataduct.plugin:"")}),(0,Zn.g)(1),(0,ee.b)(o=>{this.componentRef$.value&&this.componentRef$.value.instance&&o&&(this.componentRef$.value.instance.settings=o.dataduct?o.dataduct.settings:[])})).subscribe(),this.rendererSub=(0,On.a)([this.ductForm.get("plugin").valueChanges,this.afterViewInit$]).pipe((0,Qe.w)(([o,s])=>o&&""!==o?this.dpm.getPlugin(o):(0,ke.of)(void 0))).subscribe(o=>{o&&this.renderPlugin(o)}),this.onTouched=()=>{}}set persistence(e){this.persistence$.next(e)}ngAfterViewInit(){this.afterViewInit$.next(void 0)}writeValue(e){e&&this.ductForm.setValue(e,{emitEvent:!1})}registerOnChange(e){this.ductForm.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.ductForm.disable():this.ductForm.enable()}validate(e){return this.ductForm.valid?null:this.ductForm.errors}renderPlugin(e){const r=this.datasourceHost.viewContainerRef;r.clear(),this.componentRef$.next(r.createComponent(e.editor))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(oh),a.\u0275\u0275directiveInject(d.qu))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-persistence-form"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(Cw,7),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.datasourceHost=o.first)}},inputs:{contexts:"contexts",persistence:"persistence"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}])],decls:10,vars:6,consts:[[3,"formGroup"],["required","","formControlName","plugin"],[3,"value",4,"ngFor","ngForOf"],["classifiedsUiDataductRendererHost",""],[3,"value"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"mat-form-field"),a.\u0275\u0275elementStart(2,"mat-label"),a.\u0275\u0275text(3,"Plugin"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"mat-select",1),a.\u0275\u0275template(5,sM,2,2,"mat-option",2),a.\u0275\u0275pipe(6,"keyvalue"),a.\u0275\u0275pipe(7,"async"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerStart(8),a.\u0275\u0275template(9,lM,0,0,"ng-template",3),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.ductForm),a.\u0275\u0275advance(5),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(6,2,a.\u0275\u0275pipeBind1(7,4,r.ducts$))))},directives:[Xt.KE,Dr.gD,Xn.ey,d.JL,d.sg,Xt.hX,d.Q7,d.JJ,d.u,x.NgForOf,Cw],pipes:[x.KeyValuePipe,x.AsyncPipe],styles:[""]}),t})(),fM=(()=>{class t{constructor(e,r,o,s){this.data=e,this.dialogRef=r,this.fb=o,this.attributeSerializer=s,this.persistenceForm=this.fb.group({dataduct:this.fb.control("")}),this.contexts=[],this.persistence=new Ec,this.contexts=e.contexts,this.persistence=e.persistence}submit(){const e=this.persistenceForm.value;console.log("persistence form",e);const r=this.attributeSerializer.serialize(e.dataduct.settings,"settings");console.log("persistence settings",r),this.dialogRef.close(new Ec({...this.persistenceForm.value,dataduct:{...e.dataduct,settings:r.attributes}}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ft.WI),a.\u0275\u0275directiveInject(Ft.so),a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Ct.AttributeSerializerService))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-persistence-dialog"]],decls:8,vars:4,consts:[[1,"persistence-form",3,"formGroup","ngSubmit"],[1,"content-inner"],["fxLayout","column"],["formControlName","dataduct",3,"contexts","persistence"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return r.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content"),a.\u0275\u0275elementStart(2,"div",1),a.\u0275\u0275elementStart(3,"div",2),a.\u0275\u0275element(4,"classifieds-ui-persistence-form",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"mat-dialog-actions"),a.\u0275\u0275elementStart(6,"button",4),a.\u0275\u0275text(7,"Save"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.persistenceForm),a.\u0275\u0275advance(4),a.\u0275\u0275property("contexts",r.contexts)("persistence",r.persistence),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",!r.persistenceForm.valid))},directives:[dM,kr.lW,d._Y,d.JL,d.sg,Ft.xY,d.JJ,d.u,Ft.H8,Ft.ZT],styles:[""]}),t})(),pM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,d.u5,d.UX,Wr.MaterialModule]]}),t})(),mM=(()=>{class t{constructor(e){this.dpm=e}persist({data:e,persistence:r}){return this.dpm.getPlugin(r.dataduct.plugin).pipe((0,Qe.w)(o=>o.send(new uM({data:e,settings:r.dataduct.settings}))),(0,ve.U)(()=>{}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(oh))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var sl=S(4865),Lo=S(5892),Uo=S(6517),Ac=S(78),rv=S(8055);class Ic extends fn.Plugin{constructor(n){super(n),n&&(this.create=n.create,this.read=n.read,this.update=n.update,this.delete=n.delete,n.query&&(this.query=n.query))}}class xw{constructor(n){this.options=[],this.params=[],n&&(this.adaptorName=n.adaptorName,this.optionsString=n.optionsString?n.optionsString:void 0,this.paramsString=n.paramsString?n.paramsString:void 0,n.options&&Array.isArray(n.options)&&(this.options=n.options.map(e=>new Jr(e))),n.params&&Array.isArray(n.params)&&(this.params=n.params.map(e=>new Jr(e))))}}let hM=(()=>{class t{constructor(e,r){this.fb=e,this.attributeSerializer=r,this.contexts=[],this.settings$=new h.X(void 0),this.datasource$=new h.X(void 0),this.optionValues$=new h.X([]),this.paramValues$=new h.X([]),this.formGroup=this.fb.group({adaptorName:this.fb.control(""),optionsString:this.fb.control(""),paramsString:this.fb.control(""),options:this.fb.control([]),params:this.fb.control([])}),this.settingsSub=this.settings$.pipe((0,ve.U)(o=>o?new xw(this.attributeSerializer.deserializeAsObject(o)):void 0),(0,ee.b)(o=>setTimeout(()=>this.datasource$.next(o)))).subscribe(o=>{o?(this.formGroup.get("adaptorName").setValue(o.adaptorName),this.formGroup.get("optionsString").setValue(o.optionsString?o.optionsString:""),this.formGroup.get("paramsString").setValue(o.paramsString?o.paramsString:"")):(this.formGroup.get("adaptorName").setValue(""),this.formGroup.get("optionsString").setValue(""),this.formGroup.get("paramsString").setValue(""),setTimeout(()=>this.optionValues$.next([]),2),setTimeout(()=>this.optionValues$.next([]),2))}),this.datasourceOptionsSub=(0,On.a)([this.datasource$,this.formGroup.get("optionsString").valueChanges]).pipe((0,z.h)(([o])=>void 0!==o),(0,Zn.g)(1),(0,ee.b)(([o])=>this.optionValues$.next(o.options))).subscribe(),this.datasourceParamsSub=(0,On.a)([this.datasource$,this.formGroup.get("paramsString").valueChanges]).pipe((0,z.h)(([o])=>void 0!==o),(0,Zn.g)(1),(0,ee.b)(([o])=>this.paramValues$.next(o.params))).subscribe(),this.optionsStringChangeSub=this.formGroup.get("optionsString").valueChanges.pipe((0,Un.b)(500)).subscribe(o=>{const s=xa.parse("?"+o);this.optionsParsed=s}),this.paramsStringChangeSub=this.formGroup.get("paramsString").valueChanges.pipe((0,Un.b)(500)).subscribe(o=>{const s=xa.parse("?"+o);this.paramsParsed=s}),this.onTouched=()=>{}}set settings(e){this.settings$.next(e)}ngOnInit(){}writeValue(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}registerOnChange(e){this.formGroup.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.formGroup.disable():this.formGroup.enable()}validate(e){return this.formGroup.valid?null:this.formGroup.errors}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Ct.AttributeSerializerService))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-crud-adaptor-datasource-form"]],inputs:{contexts:"contexts",settings:"settings"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}])],decls:14,vars:7,consts:[[3,"formGroup"],["matInput","","placeholder","Adaptor","formControlName","adaptorName","required",""],[1,"options-container"],["matInput","","placeholder","Options","formControlName","optionsString"],["formControlName","options",3,"params","paramValues","contexts"],[1,"params-container"],["matInput","","placeholder","Params","formControlName","paramsString"],["formControlName","params",3,"params","paramValues","contexts"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"div"),a.\u0275\u0275elementStart(2,"mat-form-field"),a.\u0275\u0275element(3,"input",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"div",2),a.\u0275\u0275elementStart(5,"div"),a.\u0275\u0275elementStart(6,"mat-form-field"),a.\u0275\u0275element(7,"input",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(8,"classifieds-ui-params-form",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"div",5),a.\u0275\u0275elementStart(10,"div"),a.\u0275\u0275elementStart(11,"mat-form-field"),a.\u0275\u0275element(12,"input",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(13,"classifieds-ui-params-form",7),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.formGroup),a.\u0275\u0275advance(8),a.\u0275\u0275property("params",r.optionsParsed)("paramValues",r.optionValues$.value)("contexts",r.contexts),a.\u0275\u0275advance(5),a.\u0275\u0275property("params",r.paramsParsed)("paramValues",r.paramValues$.value)("contexts",r.contexts))},directives:[Xt.KE,ih,d.JL,d.sg,_n.Nt,d.Fj,d.JJ,d.u,d.Q7],styles:[""]}),t})(),Sw=(()=>{class t{constructor(e){this.controlContainer=e,this.settings=[],this.contexts=[]}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-crud-adaptor-datasource"]],inputs:{settings:"settings",contexts:"contexts"},decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"settings","contexts"]],template:function(e,r){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-crud-adaptor-datasource-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.controlContainer.control),a.\u0275\u0275advance(1),a.\u0275\u0275property("settings",r.settings)("contexts",r.contexts))},directives:[hM,d.JL,d.sg,d.JJ,d.u],encapsulation:2}),t})(),ll=(()=>{class t extends fn.BasePluginManager{constructor(e,r){super(e,r)}pluginDef(){return(0,ke.of)(new fn.PluginDef({name:"crud_adaptor"}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(fn.PluginConfigurationManager),a.\u0275\u0275inject(ln.ModuleLoaderService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Vf=(()=>{class t{constructor(e){this.crud=e,this.cachedCollectionQueries=[],this.cachedCollectionIgnore={p:{create:void 0,update:void 0,delete:void 0,query:void 0,read:void 0},input:{identity:void 0}}}evaluatePlugins({object:e,plugins:r,op:o,parentObject:s}){const u=Object.keys(r).filter(p=>!r[p].ops||r[p].ops.includes(o)).map(p=>this.crud.getPlugin(r[p].plugin?r[p].plugin:p).pipe((0,ve.U)(f=>({p:f,params:r[p].params?Object.keys(r[p].params).reduce((v,D)=>({...v,[D]:r[p].params[D]instanceof Jr?r[p].params[D]:new Jr({flags:[],mapping:{type:"static",value:r[p].params[D],context:void 0,testValue:r[p].params[D]}})}),{}):{}})),(0,Qe.w)(({p:f,params:v})=>f[o]({rule:void 0,object:e,parentObject:s,params:v,identity:({object:D,parentObject:J})=>(0,ke.of)({identity:D.id?D.id:J?J.id:void 0})})),(0,Qe.w)(f=>Rn(()=>r[p].plugins&&0!==Object.keys(r[p].plugins).length,r[p].plugins&&0!==Object.keys(r[p].plugins).length?this.evaluatePlugins({plugins:r[p].plugins,object:f.entity?f.entity:e,parentObject:f.originalEntity?f.originalEntity:e,op:o}):(0,ke.of)(f),(0,ke.of)(f)))));return(0,rn.D)(u).pipe((0,ve.U)(()=>e))}evaluateCollectionPlugins({query:e,objects:r,plugins:o,op:s,parentObjects:l}){console.log("evaluate collection plugins");const u=Object.keys(o),p=u.filter(v=>!o[v].ops||o[v].ops.includes(s)).map(v=>this.crud.getPlugin(o[v].plugin?o[v].plugin:v).pipe((0,ve.U)(D=>({p:D,params:o[v].params?Object.keys(o[v].params).reduce((J,Y)=>({...J,[Y]:o[v].params[Y]instanceof Jr?o[v].params[Y]:new Jr({flags:[],mapping:{type:"static",value:o[v].params[Y],context:void 0,testValue:o[v].params[Y]}})}),{}):{}})),(0,Qe.w)(({p:D,params:J})=>this.buildQueryRule({params:e,config:o[v]}).pipe((0,ve.U)(({rule:Y})=>({p:D,params:J,rule:Y})))),(0,Qe.w)(({p:D,params:J,rule:Y})=>this.flightAndCacheAwareCollectionQuery({p:D,input:{rule:Y,objects:r,parentObjects:l,params:J,identity:({object:he,parentObject:Ue})=>(0,ke.of)({identity:he.id?he.id:Ue?Ue.id:void 0})}}).pipe((0,ee.b)(()=>console.log("end of crud query call")))),(0,Qe.w)(D=>Rn(()=>o[v].plugins&&0!==Object.keys(o[v].plugins).length,this.evaluateCollectionPlugins({query:e,plugins:o[v].plugins&&0!==Object.keys(o[v].plugins).length?o[v].plugins:{},objects:D.entities?D.entities:r,parentObjects:D.originalEntities?D.originalEntities:r,op:s}),(0,ke.of)(D))),(0,ee.b)(D=>console.log("end of op",D))));return u.filter(v=>!o[v].ops||o[v].ops.includes(s)).find(v=>o[v].fallback)&&p.length>1?p.reduce((v,D)=>v.pipe((0,Qe.w)(J=>J&&Array.isArray(J)&&J.length>0?(0,ke.of)(J):D.pipe((0,ve.U)(Y=>Y&&Y.entities&&Array.isArray(Y.entities)?Y.entities:[]))),(0,Qe.w)(J=>(0,ke.of)(J.length>0?J:[]))),(0,ke.of)([])):1===p.length?p[0].pipe((0,ve.U)(v=>[...v.entities])):(0,rn.D)(p).pipe((0,ve.U)(v=>v.reduce((D,J)=>[...D,...J.entities],[])),(0,tr.d)([]))}buildQueryRule({params:e,config:r}){return new g.y(o=>{const s=[];"string"==typeof e&&e.split("&").map(p=>p.split("=",2)).reduce((p,[f,v])=>new Map([...Array.from(p).filter(([D,J])=>D!==f),[f,[...p.has(f)?p.get(f):[],v]]]),new Map).forEach((p,f)=>s.push({any:p.map(v=>({fact:"identity"===f?"identity":"entity",operator:r.queryMappings&&r.queryMappings.has(f)&&r.queryMappings.get(f).defaultOperator?r.queryMappings.get(f).defaultOperator:"equal",value:v,..."identity"===f?{}:{path:`$.${f}`}}))}));const l=s.length>0?new Ac.Rule({conditions:{all:s},event:{type:"visible"}}):void 0;o.next({rule:l}),o.complete()})}flightAndCacheAwareCollectionQuery(e){let r=this.cachedCollectionQueries.findIndex(({p:o,input:s})=>{const l=(0,rv.getDiff)({...e.p,...this.cachedCollectionIgnore.p},{...o,...this.cachedCollectionIgnore.p}),u=(0,rv.getDiff)({...e.input,...this.cachedCollectionIgnore.input},{...s,...this.cachedCollectionIgnore.input});return 0===l.length&&0===u.length});return-1===r&&(this.cachedCollectionQueries.push({p:e.p,input:e.input,query$:new Jy.t}),r=this.cachedCollectionQueries.length-1,e.p.query(e.input).pipe((0,ee.b)(o=>this.cachedCollectionQueries[r].query$.next(o)),(0,nn.q)(1)).subscribe()),this.cachedCollectionQueries[r].query$.pipe((0,nn.q)(1))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ll))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Rf=(()=>{class t{constructor(e,r,o,s,l,u,p,f){e.register(((t,n,e,r,o,s)=>new Bo({id:"crud_adaptor",title:"Crud Adaptor",editor:Sw,fetch:({settings:l,metadata:u})=>(0,ke.of)(new Fn).pipe((0,ve.U)(()=>n.deserializeAsObject(l)),(0,ve.U)(p=>new xw(p)),(0,Qe.w)(p=>e.getPlugin(p.adaptorName).pipe((0,ve.U)(f=>({plugin:f,ds:p})))),(0,ve.U)(({plugin:p,ds:f})=>({plugin:p,ds:f,optionNames:f.optionsString?f.optionsString.split("&").filter(v=>-1!==v.indexOf("=:")).map(v=>v.split("=",2)[1].substr(1)):[]})),(0,Qe.w)(({plugin:p,ds:f,optionNames:v})=>(0,rn.D)([r.paramValues(f.options.reduce((D,J,Y)=>new Map([...D,[v[Y],J]]),new Map)).pipe((0,ve.U)(D=>Array.from(D).reduce((J,[Y,he])=>({...J,[Y]:he}),{}))),f.paramsString&&""!==f.paramsString?s.getUrl("?"+f.paramsString,f.params,u).pipe((0,nn.q)(1)):(0,ke.of)(void 0)]).pipe((0,ve.U)(([D,J])=>({plugin:p,options:D,query:J})))),(0,Qe.w)(({plugin:p,options:f,query:v})=>o.evaluateCollectionPlugins({plugins:{[p.id]:{params:f}},op:"query",query:v&&v.substr(1)})),(0,ve.U)(p=>new Fn({results:p}))),editorOptions:()=>(0,ke.of)(new ah({fullscreen:!0})),getBindings:({})=>(0,ke.of)([])}))(0,l,r,u,p,f)),o.register((({crudDataHelper:t,attributeSerializer:n})=>new ww({id:"crud",title:"Crud",editor:Sw,send:e=>(0,ke.of)(new nv({})).pipe((0,ve.U)(()=>({settings:n.deserializeAsObject(e.settings)})),(0,ee.b)(({settings:r})=>console.log("crud data duct",r)),(0,ve.U)(({settings:r})=>({plugins:{[`${r.adaptorName}`]:{plugin:`${r.adaptorName}`,ops:["create"],params:`${r.optionsString}`.split("&").reduce((o,s,l)=>({...o,[s.split("=",1)[0]]:new Jr(r.options[l])}),{})}}})),(0,Qe.w)(({plugins:r})=>t.evaluatePlugins({object:e.data,plugins:r,op:"create",parentObject:{id:Tn()}})),(0,ve.U)(()=>new nv({})))}))({crudDataHelper:p,attributeSerializer:l}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Sa),a.\u0275\u0275inject(ll),a.\u0275\u0275inject(oh),a.\u0275\u0275inject(tv),a.\u0275\u0275inject(Ct.AttributeSerializerService),a.\u0275\u0275inject(hs),a.\u0275\u0275inject(Vf),a.\u0275\u0275inject(il))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,d.UX,d.u5,Wr.MaterialModule,Sc,wc]]}),t})();class iv{constructor(n,e,r,o){this.crud=e,this.entityDefinitionService=r,this.crudDataHelperService=o,this._name=`${n} CrudDataService`,this.entityName=n}get name(){return this._name}add(n){const e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluatePlugins({object:n,plugins:e.crud,op:"create"})}update(n){const e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluatePlugins({object:n.changes,plugins:e.crud,op:"update"})}upsert(n){const e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluatePlugins({object:n,plugins:e.crud,op:"update"})}delete(n){const e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.getById(n).pipe((0,Qe.w)(r=>this.crudDataHelperService.evaluatePlugins({object:r,plugins:e.crud,op:"delete"})),(0,ve.U)(()=>n))}getAll(){const n=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluateCollectionPlugins({plugins:n.crud,op:"query"})}getById(n){const e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluateCollectionPlugins({query:`identity=${n}`,plugins:e.crud,op:"query"}).pipe((0,ve.U)(r=>r&&0!==r.length?r[0]:void 0))}getWithQuery(n){const e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluateCollectionPlugins({query:n,plugins:e.crud,op:"query"})}}let Ew=(()=>{class t{constructor(){this.operatorsMap=new Map([["=","equal"],["!=","notEqual"]])}buildFields(e,r=""){const o=new Map;return this.genericFields(e,o,r,0),o}attributeFields(e,r,o,s){e.forEach((l,u)=>{if("widget"!==l.name)for(const p in l)l.type===Ct.AttributeTypes.Complex||"attributes"===p&&l.attributes&&l.attributes.length>0?this.attributeFields(l.attributes,r,l.type===Ct.AttributeTypes.Complex?`${o}`:`${o}.${l.name}`,s+1):"attributes"!==p&&(p===l.name?r.set(`${o}.${p}`,{name:`${o}.${p}`,type:this.resolveAttributeType(l.type),defaultValue:l[p]}):r.set(`${o}.${l.name}.${p}`,{name:`${o}.${l.name}.${p}`,type:this.resolveAttributeType(l.type),defaultValue:l[p]}))})}genericFields(e,r,o,s){for(const u in e){const p=typeof e[u];if("object"!==p)r.set(`${o}.${u}`,{name:`${o}.${u}`,type:this.resolveNativeType(p),defaultValue:e[u]});else if(Array.isArray(e[u])&&"attributes"===u)this.attributeFields(e[u],r,`${o}.${u}`,s+1);else if(Array.isArray(e[u])){var l=e[u].length;for(let f=0;f<l;f++)this.genericFields(e[u][f],r,`${o}.${u}.${f}`,s+1)}else this.genericFields(e[u],r,`${o}.${u}`,s+1)}}toEngineRule(e,r=0){const o=[];if(void 0!==e.rules&&Array.isArray(e.rules)){const s=e.rules.length;for(let l=0;l<s;l++)if(!("field"in e.rules[l])||null!=e.condition&&""!==e.condition){const u=this.toEngineRule(e.rules[l],r+1);o.push(u.conditions)}else{const u=e.rules[l].field.indexOf("."),p=e.rules[l].field.substr(0,u),f=e.rules[l].field.substr(u+1);o.push({fact:p,path:`$.${f}`,operator:this.operatorsMap.get(e.rules[l].operator),value:e.rules[l].value})}return new Ac.Rule("and"===e.condition?{conditions:{all:o},event:0===r?{type:"visible"}:void 0}:{conditions:{any:o},event:0===r?{type:"visible"}:void 0})}{const s=e.field.indexOf("."),l=e.field.substr(0,s),u=e.field.substr(s+1);return o.push({fact:l,path:`$.${u}`,operator:this.operatorsMap.get(e.operator),value:e.value}),new Ac.Rule({conditions:{all:o},event:0===r?{type:"visible"}:void 0})}}extractConditions(e,r=0){const o=this.toEngineRule(e);return[...void 0!==o.conditions.any?o.conditions.any:[],...void 0!==o.conditions.all?o.conditions.all:[]]}resolveNativeType(e){switch(e){case"number":return"number";case"boolean":return"boolean";default:return"string"}}resolveAttributeType(e){switch(e){case Ct.AttributeTypes.Float:case Ct.AttributeTypes.Number:return"number";case Ct.AttributeTypes.Bool:return"boolean";default:return"string"}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),av=(()=>{class t{constructor(e,r){this.rulesParser=e,this.inlineContextResolver=r}evaluate(e,r=[]){return this.inlineContextResolver.resolveMerged(r,`rules:${Tn()}`).pipe((0,nn.q)(1),(0,ve.U)(o=>[{...o},new Ac.Engine]),(0,ee.b)(([o,s])=>{const l=this.rulesParser.toEngineRule(e);s.addRule(l)}),(0,Qe.w)(([o,s])=>new g.y(l=>{s.run(o).then(u=>{l.next(u.events.findIndex(p=>"visible"===p.type)>-1),l.complete()})})))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Ew),a.\u0275\u0275inject(xc))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();S(1562);var ov=S(7400),sh=S(9984);const sv=({body:t,headers:n,hostname:e,method:r="GET",path:o="/",port:s=443,protocol:l="https:",query:u,service:p,cognitoSettings:f,authFacade:v})=>(0,ke.of)(new er({body:t,headers:n,hostname:e,method:r,path:o,port:s,protocol:l,query:u})).pipe((0,ee.b)(()=>console.log(".marker({ event: BEGIN , context: s3, entity: sig , op: signv4 , meta: {  } })")),(0,Qe.w)(D=>(0,ov.D)(new cf({credentials:Py({client:new My({region:f.region}),identityPoolId:f.identityPoolId,logins:{[`cognito-idp.${f.region}.amazonaws.com/${f.userPoolId}`]:()=>oc(v.getUser$.pipe((0,ve.U)(J=>J?J.id_token:void 0)))}}),region:f.region,service:p,sha256:sh.Sha256}).sign(D).then(J=>(console.log(".marker({ event: RESOLVED, entity: s3 , op: signv4 , meta: {  } })"),J))).pipe((0,ee.b)(()=>console.log(".marker({ /s3/sign/after/sig })")),(0,nn.q)(1))),(0,ve.U)(D=>D),(0,ee.b)(()=>console.log(".marker({ event: END , context: s3, entity: sig , op: signv4 , meta: {  } })")));let _M=(()=>{class t{constructor(e,r,o,s,l,u,p){o.register(((t,n,e,r,o,s)=>new Ic({id:"aws_s3_entity",title:"AWS S3 Entity",create:({object:l,identity:u,params:p,parentObject:f})=>(0,ke.of)({success:!1}).pipe(r.resolveParams({params:p}),(0,Qe.w)(({options:v})=>u({object:l,parentObject:f}).pipe((0,ve.U)(({identity:D})=>({identity:D,options:v})))),(0,Qe.w)(({options:v,identity:D})=>sv({method:"PUT",body:JSON.stringify(l),headers:{"Content-Type":"application/json",host:`${v.bucket}.s3.amazonaws.com`},hostname:`${v.bucket}.s3.amazonaws.com`,path:`${v.prefix}${D}.json`,protocol:"https:",service:"s3",cognitoSettings:e,authFacade:n}).pipe((0,ve.U)(J=>({signedHttpRequest:J,options:v})))),(0,ee.b)(({signedHttpRequest:v})=>delete v.headers.host),(0,ve.U)(({signedHttpRequest:v,options:D})=>({signedHttpRequest:v,options:D,url:`https://${D.bucket}.s3.amazonaws.com${v.path}`})),(0,Qe.w)(({signedHttpRequest:v,url:D})=>o.put(D,JSON.stringify(l),{headers:v.headers,withCredentials:!1})),(0,ve.U)(()=>({success:!0}))),read:({})=>(0,ke.of)({success:!1}),update:({object:l,identity:u,params:p})=>(0,ke.of)({success:!1}).pipe(r.resolveParams({params:p}),(0,Qe.w)(({options:f})=>u({object:l}).pipe((0,ve.U)(({identity:v})=>({identity:v,options:f})))),(0,Qe.w)(({options:f,identity:v})=>sv({method:"PUT",body:JSON.stringify(l),headers:{"Content-Type":"application/json",host:`${f.bucket}.s3.amazonaws.com`},hostname:`${f.bucket}.s3.amazonaws.com`,path:`${f.prefix}${v}.json`,protocol:"https:",service:"s3",cognitoSettings:e,authFacade:n}).pipe((0,ve.U)(D=>({signedHttpRequest:D,options:f})))),(0,ee.b)(({signedHttpRequest:f})=>delete f.headers.host),(0,ve.U)(({signedHttpRequest:f,options:v})=>({signedHttpRequest:f,options:v,url:`https://${v.bucket}.s3.amazonaws.com${f.path}`})),(0,Qe.w)(({signedHttpRequest:f,url:v})=>o.put(v,JSON.stringify(l),{headers:f.headers,withCredentials:!1})),(0,ve.U)(()=>({success:!0}))),delete:({})=>(0,ke.of)({success:!1}),query:({rule:l,params:u})=>(0,ke.of)({entities:[],success:!1}).pipe(r.resolveParams({params:u}),(0,ve.U)(({options:p})=>({options:p,identityCondition:l.conditions.all.map(f=>f.any.find(v=>"identity"===v.fact)).find(f=>!!f)})),(0,Qe.w)(({identityCondition:p,options:f})=>Rn(()=>void 0!==p&&p&&"identity"===p.fact&&f&&f.bucket,sv({method:"GET",body:void 0,headers:{"Content-Type":"application/json",host:`${f?f.bucket:""}.s3.amazonaws.com`},hostname:`${f?f.bucket:""}.s3.amazonaws.com`,path:`${f&&f.prefix?f.prefix:""}${p?p.value:""}.json`,protocol:"https:",service:"s3",cognitoSettings:e,authFacade:n}).pipe((0,ee.b)(()=>console.log(".marker({ event: AFTER , entity: s3 , op: query , meta: { action: createSignedRequest } })")),(0,ee.b)(v=>delete v.headers.host),(0,ve.U)(v=>({signedHttpRequest:v,options:f,url:`https://${f.bucket}.s3.amazonaws.com${v.path}`})),(0,ee.b)(()=>console.log(".marker({ event: BEFORE , entity: crud , op: query , meta: { http: get } })")),(0,Qe.w)(({signedHttpRequest:v,url:D})=>o.get(D,{headers:v.headers,withCredentials:!1})),(0,ee.b)(()=>console.log(".marker({ event: AFTER , entity: s3 , op: query , meta: { http: get } })")),(0,ve.U)(v=>({entities:v?[v]:[],success:!!v}))),(0,ke.of)({entities:[],success:!1}))))}))(0,s,e,l,u))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ql),a.\u0275\u0275inject(a.PLATFORM_ID),a.\u0275\u0275inject(ll),a.\u0275\u0275inject(hi),a.\u0275\u0275inject(hs),a.\u0275\u0275inject(F.HttpClient),a.\u0275\u0275inject(ln.AsyncApiCallHelperService))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[ln.UtilsModule,Ci,Rf]]}),t})();const lh=({body:t,headers:n,hostname:e,method:r="GET",path:o="/",port:s=443,protocol:l="https:",query:u,service:p,cognitoSettings:f,authFacade:v})=>(0,ke.of)(new er({body:t,headers:n,hostname:e,method:r,path:o,port:s,protocol:l,query:u})).pipe((0,ee.b)(()=>console.log(".marker({ event: BEGIN , context: os, entity: sig , op: signv4 , meta: {  } })")),(0,Qe.w)(D=>(0,ov.D)(new cf({credentials:Py({client:new My({region:f.region}),identityPoolId:f.identityPoolId,logins:{[`cognito-idp.${f.region}.amazonaws.com/${f.userPoolId}`]:()=>oc(v.getUser$.pipe((0,ve.U)(J=>J?J.id_token:void 0)))}}),region:f.region,service:p,sha256:sh.Sha256,applyChecksum:!1}).sign(D).then(J=>(console.log(".marker({ event: RESOLVED, entity: os , op: signv4 , meta: {  } })"),J))).pipe((0,ee.b)(()=>console.log(".marker({ /os/sign/after/sig })")),(0,nn.q)(1))),(0,ve.U)(D=>D),(0,ee.b)(()=>console.log(".marker({ event: END , context: os, entity: sig , op: signv4 , meta: {  } })")));let CM=(()=>{class t{constructor(e,r,o,s,l,u){o.register(((t,n,e,r,o)=>new Ic({id:"aws_opensearch_template",title:"AWS Opensearch Template",create:({})=>(0,ke.of)({success:!1}),read:({})=>(0,ke.of)({success:!1}),update:({})=>(0,ke.of)({success:!1}),delete:({})=>(0,ke.of)({success:!1}),query:({rule:s,params:l})=>(0,ke.of)({entities:[],success:!1}).pipe((0,Qe.w)(()=>l&&0!==Object.keys(l).length?(0,rn.D)(Object.keys(l).map(u=>r.paramValue(l[u],new Map).pipe((0,ve.U)(p=>({[u]:p}))))).pipe((0,ve.U)(u=>u.reduce((p,f)=>({...p,...f}),{})),(0,ve.U)(u=>({options:u}))):(0,ke.of)({options:{}})),(0,ve.U)(({options:u})=>({options:u,body:JSON.stringify({id:u.id,params:s?s.conditions.all.reduce((p,f)=>({...p,...f.any.reduce((v,D)=>({...v,[D.path.substr(2)]:[...v[D.path.substr(2)]?v[D.path.substr(2)]:[],JSON.parse(decodeURIComponent(D.value))]}),{})}),{}):{}})})),(0,ee.b)(({body:u})=>console.log("open search template query body",u)),(0,Qe.w)(({options:u,body:p})=>lh({method:"POST",body:p,headers:{"Content-Type":"application/json",host:`${u.domain}.${u.region}.es.amazonaws.com`},hostname:`${u.domain}.${u.region}.es.amazonaws.com`,path:`/${u.index}/_search/template`,protocol:"https:",service:"es",cognitoSettings:e,authFacade:n}).pipe((0,ve.U)(f=>({signedHttpRequest:f,options:u})))),(0,Qe.w)(({signedHttpRequest:u,options:p})=>(delete u.headers.host,o.post(`https://${p.domain}.${p.region}.es.amazonaws.com/${p.index}/_search/template`,u.body,{headers:u.headers,withCredentials:!1}).pipe((0,ve.U)(v=>({res:v,options:p}))))),(0,ve.U)(({res:u,options:p})=>({entities:p.hits&&u&&u.hits&&u.hits.hits?u.hits.hits.map(f=>p.source?f._source:f):[u],success:!0})))}))(0,s,e,l,u)),o.register(((t,n,e,r)=>new Ic({id:"aws_opensearch_entity",title:"AWS Opensearch Entity",create:({object:o,identity:s,params:l,parentObject:u})=>(0,ke.of)({success:!1}).pipe(e.resolveParams({params:l}),(0,Qe.w)(({options:p})=>s({object:o,parentObject:u}).pipe((0,ve.U)(({identity:f})=>({identity:f,options:p})))),(0,Qe.w)(({options:p,identity:f})=>lh({method:"PUT",body:JSON.stringify(o),headers:{"Content-Type":"application/json",host:`${p.domain}.${p.region}.es.amazonaws.com`},hostname:`${p.domain}.${p.region}.es.amazonaws.com`,path:`/${p.index}/_doc/${f}`,protocol:"https:",service:"es",...p.pipeline?{query:{pipeline:p.pipeline}}:{},cognitoSettings:n,authFacade:t}).pipe((0,ve.U)(v=>({signedHttpRequest:v,options:p,identity:f})))),(0,Qe.w)(({signedHttpRequest:p,options:f,identity:v})=>(delete p.headers.host,r.put(`https://${f.domain}.${f.region}.es.amazonaws.com/${f.index}/_doc/${v}`,JSON.stringify(o),{headers:p.headers,withCredentials:!1,params:{...f.pipeline?{pipeline:f.pipeline}:{}}}).pipe((0,ve.U)(J=>({res:J,options:f}))))),(0,ve.U)(()=>({success:!0}))),read:({})=>(0,ke.of)({success:!1}),update:({object:o,identity:s,params:l,parentObject:u})=>(0,ke.of)({success:!1}).pipe(e.resolveParams({params:l}),(0,Qe.w)(({options:p})=>s({object:o,parentObject:u}).pipe((0,ve.U)(({identity:f})=>({identity:f,options:p})))),(0,Qe.w)(({options:p,identity:f})=>lh({method:"PUT",body:JSON.stringify(o),headers:{"Content-Type":"application/json",host:`${p.domain}.${p.region}.es.amazonaws.com`},hostname:`${p.domain}.${p.region}.es.amazonaws.com`,path:`/${p.index}/_doc/${f}`,protocol:"https:",service:"es",...p.pipeline?{query:{pipeline:p.pipeline}}:{},cognitoSettings:n,authFacade:t}).pipe((0,ve.U)(v=>({signedHttpRequest:v,options:p,identity:f})))),(0,Qe.w)(({signedHttpRequest:p,options:f,identity:v})=>(delete p.headers.host,r.put(`https://${f.domain}.${f.region}.es.amazonaws.com/${f.index}/_doc/${v}`,JSON.stringify(o),{headers:p.headers,withCredentials:!1,params:{...f.pipeline?{pipeline:f.pipeline}:{}}}).pipe((0,ve.U)(J=>({res:J,options:f}))))),(0,ve.U)(()=>({success:!0}))),delete:({})=>(0,ke.of)({success:!1}),query:({rule:o,params:s})=>(0,ke.of)({entities:[],success:!1}).pipe((0,ee.b)(()=>{console.log("crud open search query",o,s)}),e.resolveParams({params:s}),(0,ve.U)(({options:l})=>({options:l,identityCondition:o.conditions.all.map(u=>u.any.find(p=>"identity"===p.fact)).find(u=>!!u)})),(0,Qe.w)(({options:l,identityCondition:u})=>lh({method:"GET",headers:{"Content-Type":"application/json",host:`${l.domain}.${l.region}.es.amazonaws.com`},hostname:`${l.domain}.${l.region}.es.amazonaws.com`,path:`/${l.index}/_doc/${u?u.value:""}`,protocol:"https:",service:"es",cognitoSettings:n,authFacade:t}).pipe((0,ee.b)(()=>console.log(".marker({ event: AFTER , entity: opensearch , op: query , meta: { action: createSignedRequest } })")),(0,ee.b)(p=>delete p.headers.host),(0,ve.U)(p=>({signedHttpRequest:p,options:l,url:`https://${l.domain}.${l.region}.es.amazonaws.com${p.path}`})),(0,ee.b)(()=>console.log(".marker({ event: BEFORE , entity: crud , op: query , meta: { http: get } })")),(0,Qe.w)(({signedHttpRequest:p,url:f})=>r.get(f,{headers:p.headers,withCredentials:!1}).pipe((0,wr.K)(()=>(0,ke.of)(void 0)))),(0,ee.b)(()=>console.log(".marker({ event: AFTER , entity: opensearch , op: query , meta: { http: get } })")),(0,ve.U)(p=>({entities:p?[p._source]:[],success:!!p})))))}))(s,e,l,u))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ql),a.\u0275\u0275inject(a.PLATFORM_ID),a.\u0275\u0275inject(ll),a.\u0275\u0275inject(hi),a.\u0275\u0275inject(hs),a.\u0275\u0275inject(F.HttpClient))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[Ci,Rf]]}),t})();var ra=S(4567),xM=S(1755),Nf=S(2375),SM=Object.prototype.toString;var Iw=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},uh=function(){function t(n,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}();function Pw(t){return t.split("").map(function(n){return"(?:"+n.toUpperCase()+"|"+n.toLowerCase()+")"}).join("")}function Pc(t,n){for(var e=t.length-1;e>=0;e--)t[e]===n&&Array.prototype.splice.call(t,e,1)}function EM(t,n){return Object.prototype.hasOwnProperty.call(t,n)}var lv={},Tw=function(){function t(){Iw(this,t),this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[],this.acronyms={},this.acronymRegex=/(?=a)b/}return uh(t,null,[{key:"getInstance",value:function(e){return lv[e]=lv[e]||new t,lv[e]}}]),uh(t,[{key:"acronym",value:function(e){this.acronyms[e.toLowerCase()]=e;var r=[];for(var o in this.acronyms)EM(this.acronyms,o)&&r.push(this.acronyms[o]);this.acronymRegex=new RegExp(r.join("|"))}},{key:"plural",value:function(e,r){"string"==typeof e&&Pc(this.uncountables,e),Pc(this.uncountables,r),this.plurals.unshift([e,r])}},{key:"singular",value:function(e,r){"string"==typeof e&&Pc(this.uncountables,e),Pc(this.uncountables,r),this.singulars.unshift([e,r])}},{key:"irregular",value:function(e,r){Pc(this.uncountables,e),Pc(this.uncountables,r);var o=e[0],s=e.substr(1),l=r[0],u=r.substr(1);if(o.toUpperCase()===l.toUpperCase())this.plural(new RegExp("("+o+")"+s+"$","i"),"$1"+u),this.plural(new RegExp("("+l+")"+u+"$","i"),"$1"+u),this.singular(new RegExp("("+o+")"+s+"$","i"),"$1"+s),this.singular(new RegExp("("+l+")"+u+"$","i"),"$1"+s);else{var p=Pw(s),f=Pw(u);this.plural(new RegExp(o.toUpperCase()+p+"$"),l.toUpperCase()+u),this.plural(new RegExp(o.toLowerCase()+p+"$"),l.toLowerCase()+u),this.plural(new RegExp(l.toUpperCase()+f+"$"),l.toUpperCase()+u),this.plural(new RegExp(l.toLowerCase()+f+"$"),l.toLowerCase()+u),this.singular(new RegExp(o.toUpperCase()+p+"$"),o.toUpperCase()+s),this.singular(new RegExp(o.toLowerCase()+p+"$"),o.toLowerCase()+s),this.singular(new RegExp(l.toUpperCase()+f+"$"),o.toUpperCase()+s),this.singular(new RegExp(l.toLowerCase()+f+"$"),o.toLowerCase()+s)}}},{key:"uncountable",value:function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];this.uncountables=this.uncountables.concat(r)}},{key:"human",value:function(e,r){this.humans.unshift([e,r])}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";"all"===e?(this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[]):this[e]=[]}}]),t}(),kw={en:function AM(t){t.plural(/$/,"s"),t.plural(/s$/i,"s"),t.plural(/^(ax|test)is$/i,"$1es"),t.plural(/(octop|vir)us$/i,"$1i"),t.plural(/(octop|vir)i$/i,"$1i"),t.plural(/(alias|status)$/i,"$1es"),t.plural(/(bu)s$/i,"$1ses"),t.plural(/(buffal|tomat)o$/i,"$1oes"),t.plural(/([ti])um$/i,"$1a"),t.plural(/([ti])a$/i,"$1a"),t.plural(/sis$/i,"ses"),t.plural(/(?:([^f])fe|([lr])f)$/i,"$1$2ves"),t.plural(/(hive)$/i,"$1s"),t.plural(/([^aeiouy]|qu)y$/i,"$1ies"),t.plural(/(x|ch|ss|sh)$/i,"$1es"),t.plural(/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"),t.plural(/^(m|l)ouse$/i,"$1ice"),t.plural(/^(m|l)ice$/i,"$1ice"),t.plural(/^(ox)$/i,"$1en"),t.plural(/^(oxen)$/i,"$1"),t.plural(/(quiz)$/i,"$1zes"),t.singular(/s$/i,""),t.singular(/(ss)$/i,"$1"),t.singular(/(n)ews$/i,"$1ews"),t.singular(/([ti])a$/i,"$1um"),t.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,"$1sis"),t.singular(/(^analy)(sis|ses)$/i,"$1sis"),t.singular(/([^f])ves$/i,"$1fe"),t.singular(/(hive)s$/i,"$1"),t.singular(/(tive)s$/i,"$1"),t.singular(/([lr])ves$/i,"$1f"),t.singular(/([^aeiouy]|qu)ies$/i,"$1y"),t.singular(/(s)eries$/i,"$1eries"),t.singular(/(m)ovies$/i,"$1ovie"),t.singular(/(x|ch|ss|sh)es$/i,"$1"),t.singular(/^(m|l)ice$/i,"$1ouse"),t.singular(/(bus)(es)?$/i,"$1"),t.singular(/(o)es$/i,"$1"),t.singular(/(shoe)s$/i,"$1"),t.singular(/(cris|test)(is|es)$/i,"$1is"),t.singular(/^(a)x[ie]s$/i,"$1xis"),t.singular(/(octop|vir)(us|i)$/i,"$1us"),t.singular(/(alias|status)(es)?$/i,"$1"),t.singular(/^(ox)en/i,"$1"),t.singular(/(vert|ind)ices$/i,"$1ex"),t.singular(/(matr)ices$/i,"$1ix"),t.singular(/(quiz)zes$/i,"$1"),t.singular(/(database)s$/i,"$1"),t.irregular("person","people"),t.irregular("man","men"),t.irregular("child","children"),t.irregular("sex","sexes"),t.irregular("move","moves"),t.irregular("zombie","zombies"),t.uncountable("equipment","information","rice","money","species","series","fish","sheep","jeans","police")}};function zo(t,n){if(function Aw(t){return"[object Function]"===SM.call(t)}(t)&&(n=t,t=null),t=t||"en",!n)return Tw.getInstance(t);n(Tw.getInstance(t))}for(var Vw in kw)zo(Vw,kw[Vw]);function Rw(t,n){var r,o,s,e=""+t;if(0===e.length)return e;var l=e.toLowerCase().match(/\b\w+$/);if(l&&zo().uncountables.indexOf(l[0])>-1)return e;for(var u=0,p=n.length;u<p;u++)if(s=(r=n[u])[1],e.match(o=r[0])){e=e.replace(o,s);break}return e}function Nw(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return Rw(t,zo(n).plurals)}function Ow(t){var n=null==t?"":String(t);return n.charAt(0).toUpperCase()+n.slice(1)}function nu(t,n){null==n&&(n=!0);var e=""+t;return(e=n?e.replace(/^[a-z\d]*/,function(r){return zo().acronyms[r]||Ow(r)}):e.replace(new RegExp("^(?:"+zo().acronymRegex.source+"(?=\\b|[A-Z_])|\\w)"),function(r){return r.toLowerCase()})).replace(/(?:_|(\/))([a-z\d]*)/gi,function(r,o,s,l,u){return o||(o=""),""+o+(zo().acronyms[s]||Ow(s))})}var Fw={\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00c6:"AE",\u00c7:"C",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00d0:"D",\u00d1:"N",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O","\xd7":"x",\u00d8:"O",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00dd:"Y",\u00de:"Th",\u00df:"ss",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00e6:"ae",\u00e7:"c",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00f0:"d",\u00f1:"n",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00fd:"y",\u00fe:"th",\u00ff:"y",\u0100:"A",\u0101:"a",\u0102:"A",\u0103:"a",\u0104:"A",\u0105:"a",\u0106:"C",\u0107:"c",\u0108:"C",\u0109:"c",\u010a:"C",\u010b:"c",\u010c:"C",\u010d:"c",\u010e:"D",\u010f:"d",\u0110:"D",\u0111:"d",\u0112:"E",\u0113:"e",\u0114:"E",\u0115:"e",\u0116:"E",\u0117:"e",\u0118:"E",\u0119:"e",\u011a:"E",\u011b:"e",\u011c:"G",\u011d:"g",\u011e:"G",\u011f:"g",\u0120:"G",\u0121:"g",\u0122:"G",\u0123:"g",\u0124:"H",\u0125:"h",\u0126:"H",\u0127:"h",\u0128:"I",\u0129:"i",\u012a:"I",\u012b:"i",\u012c:"I",\u012d:"i",\u012e:"I",\u012f:"i",\u0130:"I",\u0131:"i",\u0132:"IJ",\u0133:"ij",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013a:"l",\u013b:"L",\u013c:"l",\u013d:"L",\u013e:"l",\u013f:"L",\u0140:"l",\u0141:"L",\u0142:"l",\u0143:"N",\u0144:"n",\u0145:"N",\u0146:"n",\u0147:"N",\u0148:"n",\u0149:"'n",\u014a:"NG",\u014b:"ng",\u014c:"O",\u014d:"o",\u014e:"O",\u014f:"o",\u0150:"O",\u0151:"o",\u0152:"OE",\u0153:"oe",\u0154:"R",\u0155:"r",\u0156:"R",\u0157:"r",\u0158:"R",\u0159:"r",\u015a:"S",\u015b:"s",\u015c:"S",\u015d:"s",\u015e:"S",\u015f:"s",\u0160:"S",\u0161:"s",\u0162:"T",\u0163:"t",\u0164:"T",\u0165:"t",\u0166:"T",\u0167:"t",\u0168:"U",\u0169:"u",\u016a:"U",\u016b:"u",\u016c:"U",\u016d:"u",\u016e:"U",\u016f:"u",\u0170:"U",\u0171:"u",\u0172:"U",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017a:"z",\u017b:"Z",\u017c:"z",\u017d:"Z",\u017e:"z",\u0410:"A",\u0411:"B",\u0412:"V",\u0413:"G",\u0414:"D",\u0415:"E",\u0401:"E",\u0416:"ZH",\u0417:"Z",\u0418:"I",\u0419:"J",\u041a:"K",\u041b:"L",\u041c:"M",\u041d:"N",\u041e:"O",\u041f:"P",\u0420:"R",\u0421:"S",\u0422:"T",\u0423:"U",\u0424:"F",\u0425:"KH",\u0426:"C",\u0427:"CH",\u0428:"SH",\u0429:"SHCH",\u042a:"",\u042b:"Y",\u042c:"",\u042d:"E",\u042e:"YU",\u042f:"YA",\u0430:"a",\u0431:"b",\u0432:"v",\u0433:"g",\u0434:"d",\u0435:"e",\u0451:"e",\u0436:"zh",\u0437:"z",\u0438:"i",\u0439:"j",\u043a:"k",\u043b:"l",\u043c:"m",\u043d:"n",\u043e:"o",\u043f:"p",\u0440:"r",\u0441:"s",\u0442:"t",\u0443:"u",\u0444:"f",\u0445:"kh",\u0446:"c",\u0447:"ch",\u0448:"sh",\u0449:"shch",\u044a:"",\u044b:"y",\u044c:"",\u044d:"e",\u044e:"yu",\u044f:"ya"},uv={};function OM(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-option",5),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.index;a.\u0275\u0275property("value",e),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1("panel page | level: ",e,"")}}function FM(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-form-field"),a.\u0275\u0275elementStart(1,"mat-select",3),a.\u0275\u0275template(2,OM,2,2,"mat-option",4),a.\u0275\u0275pipe(3,"async"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(3,1,e.panelPages$))}}function MM(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-option",5),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.index;a.\u0275\u0275property("value",e),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1("panel | ",e,"")}}function DM(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-form-field"),a.\u0275\u0275elementStart(1,"mat-select",6),a.\u0275\u0275template(2,MM,2,2,"mat-option",4),a.\u0275\u0275pipe(3,"async"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(3,1,e.panels$))}}function jM(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-option",5),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.index;a.\u0275\u0275property("value",e),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1("pane | ",e,"")}}function BM(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-form-field"),a.\u0275\u0275elementStart(1,"mat-select",7),a.\u0275\u0275template(2,jM,2,2,"mat-option",4),a.\u0275\u0275pipe(3,"async"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(3,1,e.panes$))}}function LM(t,n){if(1&t&&a.\u0275\u0275element(0,"druid-panels-panelpage-linkedlist",8),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275property("panelPages",e.nested)}}function UM(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"a",2),a.\u0275\u0275listener("click",function(){const s=a.\u0275\u0275restoreView(e).$implicit;return a.\u0275\u0275nextContext(2).onItemSelect(s.id)}),a.\u0275\u0275elementStart(1,"span",6),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const e=n.$implicit;a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate2("",e.title," [",e.id,"]")}}function zM(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-nav-list"),a.\u0275\u0275template(1,UM,3,2,"a",5),a.\u0275\u0275pipe(2,"async"),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(2,1,e.panels$))}}!function(){function t(){for(var n in Iw(this,t),this.approximations={},Fw)this.approximate(n,Fw[n])}uh(t,null,[{key:"getInstance",value:function(e){return uv[e]=uv[e]||new t,uv[e]}}]),uh(t,[{key:"approximate",value:function(e,r){this.approximations[e]=r}},{key:"transliterate",value:function(e,r){var o=this;return e.replace(/[^\u0000-\u007f]/g,function(s){return o.approximations[s]||r||"?"})}}])}();class $M{constructor(n){n&&(this.openSearchDomain=n.openSearchDomain,this.s3Bucket=n.s3Bucket,this.objectsRootUrl=n.objectsRootUrl)}}class Qn{constructor(n){this.gridItems=[],this.panels=[],this.contexts=[],this.rowSettings=[],this.entityPermissions=new jw,n&&(this.id=n.id,this.layoutType=n.layoutType,this.displayType=n.displayType,this.name=n.name?n.name:void 0,this.title=n.title?n.title:void 0,this.site=n.site?n.site:void 0,this.userId=n.userId?n.userId:void 0,this.path=n.path?n.path:void 0,this.persistence=n.persistence?new Ec(n.persistence):void 0,n.panels&&(this.panels=n.panels.map(e=>new Bi(e))),n.gridItems&&(this.gridItems=n.gridItems.map(e=>new Dw(e))),n.contexts&&(this.contexts=n.contexts.map(e=>new Pi(e))),n.layoutSetting&&(this.layoutSetting=new zn(n.layoutSetting)),n.rowSettings&&Array.isArray(n.rowSettings)&&(this.rowSettings=n.rowSettings.map(e=>new zn(e))),n.entityPermissions&&(this.entityPermissions=new jw(n.entityPermissions)),n.cssFile&&(this.cssFile=n.cssFile))}}class Bi{constructor(n){this.settings=[],this.panes=[],n&&(this.name=n.name?n.name:void 0,this.label=n.label?n.label:void 0,this.stylePlugin=n.stylePlugin,n.settings&&(this.settings=n.settings.map(e=>new Ct.AttributeValue(e))),n.panes&&(this.panes=n.panes.map(e=>new nr(e))),n.columnSetting&&(this.columnSetting=new zn(n.columnSetting)))}}class nr{constructor(n){this.settings=[],this.locked=!1,this.contexts=[],n&&(this.name=n.name,this.label=n.label,this.contentPlugin=n.contentPlugin,this.locked=void 0!==n.locked&&n.locked,n.linkedPageId&&(this.linkedPageId=n.linkedPageId),void 0!==n.metadata&&(this.metadata=new Map([...n.metadata])),void 0!==n.settings&&(this.settings=n.settings.map(e=>new Ct.AttributeValue(e))),void 0!==n.contexts&&(this.contexts=n.contexts.map(e=>new Pi(e))),void 0!==n.rule&&"string"!=typeof n.rule&&(this.rule={...n.rule}),n.nestedPage&&(this.nestedPage=new Qn(n.nestedPage)),n.resolvedContext&&(this.resolvedContext={...n.resolvedContext}))}}class Dw{constructor(n){n&&(this.cols=n.cols,this.rows=n.rows,this.x=n.x,this.y=n.y,this.weight=n.weight)}}class zn{constructor(n){this.settings=[],n&&n.settings&&Array.isArray(n.settings)&&(this.settings=n.settings.map(e=>new Ct.AttributeValue(e)))}}class jw{constructor(n){this.readUserIds=[],this.writeUserIds=[],this.deleteUserIds=[],n&&(this.readUserIds=n.readUserIds?n.readUserIds.map(e=>e):[],this.writeUserIds=n.writeUserIds?n.writeUserIds.map(e=>e):[],this.deleteUserIds=n.deleteUserIds?n.deleteUserIds.map(e=>e):[])}}let Li=(()=>{class t{constructor(e){this.attributeSerializer=e}handleFile(e){return(0,ke.of)()}handlesType(e){return!1}implementsRendererOverride(){return!1}hasRendererOverride(e){return(0,ke.of)(!1)}isDynamic(e){return!1}isData(e){return!1}buildDynamicItems(e,r){return(0,ke.of)([])}fetchDynamicData(e,r){return(0,ke.of)(new Fn)}getBindings(e,r){return(0,ke.of)([])}toObject(e){return(0,ke.of)(this.attributeSerializer.deserializeAsObject(e))}buildSettings(e){return this.attributeSerializer.serialize(e,"root").attributes}fromPanes(e){return e.map(r=>new nr(this.attributeSerializer.deserialize(r)))}wrapPanel(e){return new Bi({stylePlugin:void 0,settings:[],panes:e,columnSetting:new zn})}stateDefinition(e){return(0,ke.of)({})}editorOptions(e){return(0,ke.of)(new Ut.ContentPluginEditorOptions)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Ct.AttributeSerializerService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),HM=(()=>{class t{constructor(e,r){this.fb=e,this.panelHandler=r,this.panelPages$=new h.X([]),this.panels$=new h.X([]),this.panes$=new h.X([]),this.nested$=new h.X([]),this.formGroup=this.fb.group({panelPage:this.fb.control(void 0),panel:this.fb.control(void 0),pane:this.fb.control(void 0),nested:this.fb.control(void 0)}),this.panelPageSub=this.formGroup.get("panelPage").valueChanges.subscribe(o=>{this.panels$.next(new Qn(this.panelPages$.value[o]).panels)}),this.panelSub=this.formGroup.get("panel").valueChanges.subscribe(o=>{this.panes$.next(new Bi(this.panels$.value[o]).panes)}),this.paneSub=this.formGroup.get("pane").valueChanges.pipe((0,ve.U)(o=>this.panes$.value[o]),(0,Qe.w)(o=>Rn(()=>"panel"===o.contentPlugin,this.panelHandler.toObject(o.settings),(0,ke.of)(void 0))),(0,z.h)(o=>!!o)).subscribe(o=>{this.nested$.next([o])}),this.onTouched=()=>{}}set panelPages(e){this.panelPages$.next(e)}set panels(e){this.panels$.next(e)}set panes(e){this.panes$.next(e)}get panelPages(){return this.panelPages$.value&&Array.isArray(this.panelPages$.value)?this.panelPages$.value:[]}get panels(){return this.panels$.value&&Array.isArray(this.panels$.value)?this.panels$.value:[]}get panes(){return this.panes$.value&&Array.isArray(this.panes$.value)?this.panes$.value:[]}get nested(){return this.nested$.value&&void 0!==typeof this.nested$.value&&this.nested$.value.length>0?[...this.nested$.value]:void 0}writeValue(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}registerOnChange(e){this.formGroup.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.formGroup.disable():this.formGroup.enable()}validate(e){return this.formGroup.valid?null:{invalidForm:{valid:!1}}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Li))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-panels-panelpage-linkedlist"]],inputs:{panelPages:"panelPages",panels:"panels",panes:"panes"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}])],decls:5,vars:5,consts:[[3,"formGroup"],[4,"ngIf"],["formControlName","nested",3,"panelPages",4,"ngIf"],["required","","formControlName","panelPage"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["required","","formControlName","panel"],["required","","formControlName","pane"],["formControlName","nested",3,"panelPages"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275template(1,FM,4,3,"mat-form-field",1),a.\u0275\u0275template(2,DM,4,3,"mat-form-field",1),a.\u0275\u0275template(3,BM,4,3,"mat-form-field",1),a.\u0275\u0275template(4,LM,1,1,"druid-panels-panelpage-linkedlist",2),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.formGroup),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.panelPages.length>0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.panels.length>0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.panes.length>0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.nested))},directives:[Xt.KE,Dr.gD,Xn.ey,t,d.JL,d.sg,x.NgIf,d.Q7,d.JJ,d.u,x.NgForOf],pipes:[x.AsyncPipe],encapsulation:2}),t})(),qM=(()=>{class t{constructor(e,r,o,s,l,u){this.siteName=e,this.bottomSheetRef=r,this.handler=o,this.dialog=s,this.fb=l,this.selectedIndex=0,this.panelPagesService=u.getEntityCollectionService("PanelPage"),this.panelPageListItemsService=u.getEntityCollectionService("PanelPageListItem")}ngOnInit(){}onNewSelect(){const e=Tn(),r=new Qn({id:void 0,layoutType:"split",displayType:"page",site:this.siteName,gridItems:[],panels:[],layoutSetting:new zn,rowSettings:[]});this.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"panel",name:e,label:e,rule:new d.NI(""),settings:this.fb.array(this.handler.buildSettings(r).map(o=>this.convertToGroup(o)))})),this.bottomSheetRef.dismiss()}onLinkSelect(){this.selectedIndex=1,this.panels$=this.panelPageListItemsService.getWithQuery(`site=${encodeURIComponent(this.siteName)}`)}onEmbedSelect(){const e=Tn();this.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"panel",name:e,label:e,rule:new d.NI(""),locked:new d.NI(!0),settings:this.fb.array([])})),this.bottomSheetRef.dismiss()}onItemSelect(e){const r=Tn();this.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"panel",name:r,label:r,rule:new d.NI(""),linkedPageId:new d.NI(e,d.kI.required),locked:new d.NI(!0),settings:this.fb.array([])})),this.bottomSheetRef.dismiss()}convertToGroup(e){const r=this.fb.group({name:new d.NI(e.name,d.kI.required),type:new d.NI(e.type,d.kI.required),displayName:new d.NI(e.displayName,d.kI.required),value:new d.NI(e.value,d.kI.required),computedValue:new d.NI(e.value,d.kI.required),attributes:new d.Oe([])});return e.attributes&&e.attributes.length>0&&e.attributes.forEach(o=>{r.get("attributes").push(this.convertToGroup(o))}),r}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(ln.SITE_NAME),a.\u0275\u0275directiveInject(sl.oL),a.\u0275\u0275directiveInject(Li),a.\u0275\u0275directiveInject(Ft.uw),a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Jn))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-panel-selector"]],inputs:{panelFormGroup:"panelFormGroup"},decls:11,vars:1,consts:[["mat-align-tabs","start",3,"selectedIndex"],["label","Type"],["mat-list-item","","mat-list-item","",3,"click"],["label","Search"],["matTabContent",""],["mat-list-item","","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["mat-line",""]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"mat-tab-group",0),a.\u0275\u0275elementStart(1,"mat-tab",1),a.\u0275\u0275elementStart(2,"mat-nav-list"),a.\u0275\u0275elementStart(3,"a",2),a.\u0275\u0275listener("click",function(){return r.onNewSelect()}),a.\u0275\u0275text(4,"New Panel"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"a",2),a.\u0275\u0275listener("click",function(){return r.onLinkSelect()}),a.\u0275\u0275text(6,"Link Panel"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"a",2),a.\u0275\u0275listener("click",function(){return r.onEmbedSelect()}),a.\u0275\u0275text(8,"Embed Panel"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"mat-tab",3),a.\u0275\u0275template(10,zM,3,3,"ng-template",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("selectedIndex",r.selectedIndex)},directives:[Lo.SP,Lo.uX,Uo.Hk,Uo.Tg,Lo.Vc,x.NgForOf,Xn.X2],pipes:[x.AsyncPipe],styles:[""]}),t})(),KM=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-panel-editor"]],decls:2,vars:0,template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"p"),a.\u0275\u0275text(1,"panel-editor works!"),a.\u0275\u0275elementEnd())},styles:[""]}),t})();class Da{constructor(n){this.panels=[],n&&(this.id=n.id,void 0!==n.panels&&Array.isArray(n.panels)&&(this.panels=n.panels.map(e=>new ul(e))))}}class ul{constructor(n){this.panes=[],n&&void 0!==n.panes&&Array.isArray(n.panes)&&(this.panes=n.panes.map(e=>new Ea(e)))}}class Ea{constructor(n){n&&(void 0!==n.state&&(this.state=new Ct.AttributeValue(n.state)),null!=n.nestedPage&&(this.nestedPage=new Da(n.nestedPage)))}}let ru=(()=>{class t{constructor(e,r,o,s,l,u){this.siteName=e,this.panelHandler=r,this.attributeSerializer=o,this.rulesResolver=s,this.dpm=l,this.datasourceEvalutator=u}handleFile(e){return(0,ke.of)([])}handlesType(e){return!1}implementsRendererOverride(){return!0}hasRendererOverride(e){return(0,ke.of)(!1)}isDynamic(e){return!0}isData(e){return!0}fetchDynamicData(e,r){const o=r.has("dataPanes")?new Map(r.get("dataPanes").map(l=>[l.name,l])):new Map([]),s=new Map(Array.from(o).map(([l,u])=>[l,new eu(this.attributeSerializer.deserializeAsObject(u.settings))]));return this.toObject(e).pipe((0,Qe.w)(l=>this.datasourceEvalutator.evalDatasource({datasource:l,metadata:r,datasources:s})))}buildDynamicItems(e,r){const o=new Map(r.get("dataPanes").map(s=>[s.name,s]));return this.fetchDynamicData(e,r).pipe((0,Qe.w)(s=>this.toObject(e).pipe((0,ve.U)(l=>[l,s]))),(0,Qe.w)(([s,l])=>this.getBindings(e,"pane").pipe((0,ve.U)(u=>[s,l,u]))),(0,Qe.w)(([s,l,u])=>Rn(()=>0!==l.results.length&&u.length>0,(0,rn.D)(l.results.map(p=>(0,rn.D)(u.filter(f=>!o.has(f.id)).map(f=>(0,ke.of)(r.get("panes").find(v=>v.name===f.id)).pipe((0,Qe.w)(v=>Rn(()=>v&&v.rule&&null!==v.rule&&""!==v.rule.condition,v?this.rulesResolver.evaluate(v.rule,[...r.get("contexts"),...void 0!==v.contexts?v.contexts:[],new Pi({name:"_root",adaptor:"data",data:p})]).pipe((0,ve.U)(D=>[v,D])):(0,ke.of)([v,!1]),(0,ke.of)(!1).pipe((0,ve.U)(D=>[v,D])))),(0,z.h)(([v,D])=>D),(0,ve.U)(([v,D])=>v.name),(0,tr.d)(f.id)))).pipe((0,ve.U)(f=>f.reduce((v,D)=>[...v,D],[]))))).pipe((0,ve.U)(p=>[s,l,p])),new g.y(p=>{p.next([s,l,[]]),p.complete()}))),(0,ve.U)(([s,l,u])=>l.results.reduce((p,f,v)=>[...p,...u[v]?u[v].map(D=>new nr({...r.get("panes").find(J=>J.name===D),rule:void 0,label:Tn(),contexts:[...r.get("contexts"),new Pi({name:"_root",adaptor:"data",data:f})]})):[]],[])),(0,ve.U)(s=>new Bi({stylePlugin:void 0,settings:[],panes:s,columnSetting:new zn})),(0,ve.U)(s=>this.panelHandler.buildSettings(new Qn({id:void 0,layoutType:"grid",displayType:"page",site:this.siteName,gridItems:[],layoutSetting:new zn,rowSettings:[],panels:[s]}))),(0,ve.U)(s=>s.find(l=>"panels"===l.name).attributes[0].attributes.find(l=>"panes"===l.name).attributes))}getBindings(e,r,o){const s=o?new Map(o.get("dataPanes").map(l=>[l.name,l])):new Map;return"context"===r?this.toObject(e).pipe((0,ve.U)(l=>[l,l.params?l.params.reduce((u,p)=>[...u,..."form"===p.mapping.type?[new Ut.ContentBinding({id:`form__${p.mapping.value.split(".",2)[0].trim()}`,type:"context"})]:[]],[]):[]]),(0,Qe.w)(([l,u])=>this.dpm.getPlugin(l.plugin).pipe((0,Qe.w)(p=>p.getBindings({settings:l.settings,metadata:o}).pipe((0,ve.U)(f=>[l,f]))))),(0,Qe.w)(([l,u])=>(0,rn.D)(l.renderer.bindings.reduce((p,f)=>[...p,...s.has(f.id)?[this.toObject(s.get(f.id).settings)]:[]],[])).pipe((0,Qe.w)(p=>(0,rn.D)(p.map(f=>this.dpm.getPlugin(f.plugin).pipe((0,Qe.w)(v=>v.getBindings({settings:f.settings,metadata:o}))))).pipe((0,ve.U)(f=>f.reduce((v,D)=>[...v,...D],u)),(0,tr.d)(u))),(0,tr.d)(u)))):this.toObject(e).pipe((0,Qe.w)(l=>Rn(()=>l.renderer.type===r,(0,ke.of)(l.renderer.bindings),(0,ke.of)([]))))}toObject(e){return(0,ke.of)(this.attributeSerializer.deserializeAsObject(e))}buildSettings(e){return this.attributeSerializer.serialize(e,"root").attributes}getRenderType(e){const r=[e.find(o=>"renderer"===o.name)].map(o=>o.attributes.find(s=>"type"===s.name));return r.length>0?r[0].value:void 0}stateDefinition(e){return(0,ke.of)({autocomplete:{input:""},loading:"y"})}editorOptions(e){return this.toObject(e).pipe((0,Qe.w)(r=>this.dpm.getPlugin(r&&r.plugin?r.plugin:"data").pipe((0,ve.U)(o=>[r,o]))),(0,Qe.w)(([r,o])=>o.editorOptions?o.editorOptions({settings:r&&r.settings?r.settings:[]}):(0,ke.of)(void 0)),(0,ve.U)(r=>new Ut.ContentPluginEditorOptions({fullscreen:!!r&&r.fullscreen})))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ln.SITE_NAME),a.\u0275\u0275inject(Li),a.\u0275\u0275inject(Ct.AttributeSerializerService),a.\u0275\u0275inject(av),a.\u0275\u0275inject(Sa),a.\u0275\u0275inject(fw))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),XM=(()=>{class t{constructor(e,r,o,s,l){this.data=e,this.dialogRef=r,this.fb=o,this.attributeSerializer=s,this.datasourceHandler=l,this.datasource=new eu,this.bindableOptions=[],this.contexts=[],this.formGroup=this.fb.group({source:this.fb.control("")})}ngOnInit(){const e=this.data.panelFormGroup.get("panes");if(this.bindableOptions=e.controls.reduce((r,o)=>o.get("name").value?[...r,o.get("name").value]:[...r],[]),this.contexts=this.data.contexts.map(r=>r.name),void 0!==this.data.panelIndex&&this.data.paneIndex<e.length){const r=e.at(this.data.paneIndex).get("settings").value.map(o=>new Ct.AttributeValue(o));this.datasourceHandler.toObject(r).subscribe(o=>{this.datasource=o})}}onSubmit(){const e=this.attributeSerializer.serialize(this.formGroup.value.source,"source"),r=this.data.panelFormGroup.get("panes").at(this.data.paneIndex);void 0===this.data.paneIndex?(this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"datasource",name:new d.NI(""),label:new d.NI(""),rule:new d.NI(""),settings:this.fb.array(e.attributes.map(o=>this.attributeSerializer.convertToGroup(o)))})),console.log(this.data.panelFormGroup.get("panes").value)):(r.get("settings").clear(),e.attributes.forEach(o=>r.get("settings").push(this.attributeSerializer.convertToGroup(o)))),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ft.WI),a.\u0275\u0275directiveInject(Ft.so),a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Ct.AttributeSerializerService),a.\u0275\u0275directiveInject(ru))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-datasource-editor"]],decls:4,vars:4,consts:[[3,"formGroup","ngSubmit"],["formControlName","source",3,"bindableOptions","contexts","datasource"],["type","submit"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return r.onSubmit()}),a.\u0275\u0275element(1,"classifieds-ui-datasource-form",1),a.\u0275\u0275elementStart(2,"button",2),a.\u0275\u0275text(3,"Save"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.formGroup),a.\u0275\u0275advance(1),a.\u0275\u0275property("bindableOptions",r.bindableOptions)("contexts",r.contexts)("datasource",r.datasource))},directives:[Wy,d._Y,d.JL,d.sg,d.JJ,d.u],styles:[""]}),t})();const WM=t=>new Ut.ContentPlugin({id:"panel",title:"Panel",selectionComponent:qM,editorComponent:KM,renderComponent:void 0,handler:t}),JM=t=>new Ut.ContentPlugin({id:"datasource",title:"Datasource",selectionComponent:void 0,editorComponent:XM,renderComponent:void 0,handler:t}),Bw=(0,At.PH)("[PageBuilder] Load Rest Data",(0,At.Ky)()),Lw=(0,At.PH)("[PageBuilder] Load Rest Data Success",(0,At.Ky)()),cv=((0,At.PH)("[PageBuilder] Load Rest Data Error",(0,At.Ky)()),(0,At.PH)("[PageBuilder] Set Page Info",(0,At.Ky)())),Uw=(0,At.PH)("[PageBuilder] Set Form",(0,At.Ky)()),dv=(0,At.PH)("[PageBuilder] Set Page",(0,At.Ky)()),zw=(0,At.PH)("[PageBuilder] Selection Path",(0,At.Ky)());let YM=(()=>{class t{constructor(e,r,o){this.actions$=e,this.datasourceApi=r,this.snippetParserService=o,this.loadRestData$=fi(()=>this.actions$.pipe(Fi(Bw),(0,Za.b)(s=>this.fetchRestdata$(s.rest).pipe((0,wr.K)(()=>[]),(0,ve.U)(l=>void 0!==s.rest.renderer&&void 0!==s.rest.renderer.query&&""!==s.rest.renderer.query?(0,ra.JSONPath)({path:s.rest.renderer.query,json:l}):l),(0,ve.U)(l=>Lw({tag:s.tag,data:new Fn({results:l})}))))))}fetchRestdata$(e){switch(e.method?e.method:"get"){case"post":case"POST":return(0,ke.of)([]).pipe((0,Qe.w)(()=>this.snippetParserService.parseSnippet({snippet:e.body})),(0,Qe.w)(o=>this.datasourceApi.postData({url:e.url,body:o})));default:return this.datasourceApi.getData(e.url)}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ma),a.\u0275\u0275inject(Tf),a.\u0275\u0275inject(Yb))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();class Ff{constructor(n){n&&(this.id=n.id,this.path=n.path,this.realPath=n.realPath,this.args=n.args)}}const Gw="pageBuilder",eD=(0,At.Lq)({dataTags:[],datasets:[],pageInfo:void 0,formNames:[],forms:[],page:void 0,selectionPath:[]},(0,At.on)(Lw,(t,n)=>{const e=t.dataTags.findIndex(r=>r===n.tag);if(e>-1&&void 0!==t.forms[e]){const r={...t};return r.datasets[e].push(n.data),r}return{...t,dataTags:[...t.dataTags,n.tag],datasets:[...t.datasets,[n.data]]}}),(0,At.on)(Uw,(t,n)=>{const e=t.formNames.findIndex(r=>r===n.name);return e>-1&&void 0!==t.forms[e]?{...t,forms:t.forms.map((r,o)=>o===e?n.form:r)}:{...t,formNames:[...t.formNames,n.name],forms:[...t.forms,n.form]}}),(0,At.on)(cv,(t,n)=>({...t,pageInfo:void 0!==n.info?new Ff(n.info):void 0})),(0,At.on)(dv,(t,n)=>({...t,page:void 0!==n.page?new Qn(n.page):void 0})),(0,At.on)(zw,(t,n)=>({...t,selectionPath:void 0!==n.path?n.path:[]})));function tD(t,n){return eD(t,n)}const ch=new a.InjectionToken("StylePlugin"),$w=new a.InjectionToken("PanelsSettings");let fv=(()=>{class t{constructor(e,r,o,s,l,u,p,f,v,D,J,Y){const he=((t,n)=>({PanelPageListItem:{entityName:"PanelPageListItem",crud:{idb_keyval:{params:{prefix:"panelpage__"},queryMappings:new Map([["site",{defaultOperator:"term||wildcard"}],["path",{defaultOperator:"term||wildcard"}]])}}},PanelPage:{entityName:"PanelPage",crud:{save:{ops:["create","update"],plugin:"rest",params:{entityName:"PanelPage"}},...(0,x.isPlatformServer)(t)?{}:{readPrimary:{fallback:!0,ops:["create","update","query"],plugin:"idb_keyval",params:{prefix:"panelpage__"}}},readFallback:{fallback:!0,ops:["query"],plugin:"rest",params:{entityName:"PanelPage",root:n.objectsRootUrl,suffix:".json"}}}},PanelPageState:{entityName:"PanelPageState"}}))(e,o);s.registerMetadataMap(he),u.registerService("PanelPageState",new ln.NoopDataService("PanelPageState")),u.registerService("PanelPage",new iv("PanelPage",D,J,Y)),u.registerService("PanelPageListItem",new iv("PanelPageListItem",D,J,Y)),r.forEach(Ue=>l.register(Ue)),p.register(((t,n)=>new kf({id:"panels",title:"Panels",build:()=>{tu.prototype.writePaneState=(e,r)=>new Promise(o=>{const s=t.getEntityCollectionService("PanelPageState");s.getByKey(e.id).pipe((0,wr.K)(()=>(0,ke.of)(new Da({id:e.id,panels:[]}))),(0,ve.U)(l=>void 0===l?new Da({id:e.id,panels:[]}):l),(0,ve.U)(l=>{const u=n.serialize(r,"root");let p=new Da({...l,panels:[]});for(let f=0;f<e.panelIndex+1;f++){p.panels.push(f<l.panels.length?new ul({...l.panels[f],panes:[]}):new ul);for(let v=0;v<e.paneIndex+1;v++)p.panels[f].panes.push(f===e.panelIndex&&v===e.paneIndex?new Ea(f<l.panels.length&&v<l.panels[f].panes.length?{...l.panels[f].panes[v],state:u}:{state:u}):f<l.panels.length&&v<l.panels[f].panes.length?new Ea({...l.panels[f].panes[v]}):new Ea)}return p}),(0,Qe.w)(l=>s.upsert(l))).subscribe(l=>{o(l)})})}}))(f,v)),u.registerService("PanelPageForm",new iv("PanelPageForm",D,J,Y))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(a.PLATFORM_ID),a.\u0275\u0275inject(Ut.CONTENT_PLUGIN),a.\u0275\u0275inject($w),a.\u0275\u0275inject(mi),a.\u0275\u0275inject(Ut.ContentPluginManager),a.\u0275\u0275inject(Di),a.\u0275\u0275inject(Cc),a.\u0275\u0275inject(Jn),a.\u0275\u0275inject(Ct.AttributeSerializerService),a.\u0275\u0275inject(ll),a.\u0275\u0275inject(mi),a.\u0275\u0275inject(Vf))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({providers:[{provide:Li,useClass:Li},{provide:Ut.CONTENT_PLUGIN,useFactory:WM,multi:!0,deps:[Li]},{provide:Ut.CONTENT_PLUGIN,useFactory:JM,multi:!0,deps:[ru]},{provide:js,useClass:Ju}],imports:[[x.CommonModule,d.u5,d.UX,At.Aw.forFeature(Gw,tD),ga.forFeature([YM]),Wr.MaterialModule,al,Ci,_M,CM,Rf]]}),t})();class dh{constructor(n){n&&(this.panelPage=n.panelPage,null!=n.panel&&(this.panel=n.panel),null!=n.pane&&(this.pane=n.pane),null!=n.nested&&"object"==typeof n.nested&&(this.nested=new dh(n.nested)))}}let Hw=(()=>{class t{constructor(e){this.controlContainer=e,this.savable=!0,this.nested=!1,this.dashboard=[],this.layoutSetting=new zn,this.rowSettings=[],this.ancestory=[]}get gridItems(){return[]}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-layout-editor-base"]],inputs:{savable:"savable",nested:"nested",editor:"editor",dashboard:"dashboard",layoutSetting:"layoutSetting",rowSettings:"rowSettings",columnSettings:"columnSettings",editablePaneTpl:"editablePaneTpl",extraActionsAreaTmpl:"extraActionsAreaTmpl",contextsMenuTpl:"contextsMenuTpl",ancestory:"ancestory"},decls:0,vars:0,template:function(e,r){},encapsulation:2}),t})(),qw=(()=>{class t{constructor(e){this.controlContainer=e,this.displayMainControls=!1,this.displayItemHeader=!1}get columnSettings(){return this.panelPage?this.panelPage.panels.reduce((r,o)=>[...r,new zn(o.columnSetting)],[]):[]}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.gN,8))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-layout-renderer-base"]],inputs:{panelPage:"panelPage",displayMainControls:"displayMainControls",displayItemHeader:"displayItemHeader",renderPanelTpl:"renderPanelTpl"},decls:0,vars:0,template:function(e,r){},encapsulation:2}),t})(),nD=(()=>{class t{constructor(){this.settings=[],this.panes=[],this.originMappings=[],this.ancestory=[]}mergeContexts(e){if(void 0!==e||void 0!==this.contexts)return void 0!==e&&void 0!==this.contexts?[...e,...this.contexts]:void 0!==e?e:this.contexts}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-panel-style-renderer-base"]],inputs:{settings:"settings",panes:"panes",originPanes:"originPanes",originMappings:"originMappings",contexts:"contexts",ancestory:"ancestory"},decls:0,vars:0,template:function(e,r){},encapsulation:2}),t})(),Kw=(()=>{class t{constructor(e,r){this.es=e,this.panelHandler=r}get panelPageService(){return this.es.getEntityCollectionService("PanelPage")}reducePage(e){return e.panels.reduce((r,o,s)=>this.reducePanels(r,o,s),[])}reducePanels(e,r,o){return[...e,...r.panes.reduce((s,l,u)=>this.reducePanes(s,l,u).map(p=>p.pipe((0,ve.U)(([f,v])=>[o,f,v]))),[])]}reducePanes(e,r,o){return[...e,..."panel"===r.contentPlugin?[this.nestedPage$(r).pipe((0,ve.U)(s=>[o,s]))]:[]]}nestedPage$(e){return console.log("get nested panel page"),e.linkedPageId&&""!==e.linkedPageId?this.getByKey(e.linkedPageId).pipe((0,ee.b)(()=>console.log(`get(${e.linkedPageId})`))):this.getEmbedded(e.settings).pipe((0,ee.b)(()=>console.log("toObject()")))}remapNested(e,r){r.forEach(([o,s,l])=>{e.panels[o].panes[s].nestedPage=l})}getByKey(e){return this.panelPageService.getByKey(e).pipe((0,ve.U)(r=>new Qn(r)),(0,Qe.w)(r=>Rn(()=>this.reducePage(r).length>0,(0,rn.D)(this.reducePage(r)).pipe((0,ee.b)(o=>this.remapNested(r,o)),(0,ve.U)(()=>r)),(0,ke.of)(r))))}getEmbedded(e){return this.panelHandler.toObject(e).pipe((0,ve.U)(r=>new Qn(r)),(0,Qe.w)(r=>Rn(()=>this.reducePage(r).length>0,(0,rn.D)(this.reducePage(r)).pipe((0,ee.b)(o=>this.remapNested(r,o)),(0,ve.U)(()=>r)),(0,ke.of)(r))))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Jn),a.\u0275\u0275inject(Li))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),rD=(()=>{class t{constructor(e){this.panelHandler=e}rebuildPage(e,r){return new Qn({...e,panels:this.rebuildPanels(e.panels,[...r])})}rebuildPanels(e,r){return e.filter((o,s)=>this.rebuildCondition(r[0],s)).map(o=>new Bi({...o,panes:this.rebuildPanes(o.panes,r.slice(1))}))}rebuildPanes(e,r){return e.filter((o,s)=>this.rebuildCondition(r[0],s)).map(o=>new nr("panel"===o.contentPlugin?{...o,nestedPage:void 0,settings:this.panelHandler.buildSettings(this.rebuildPage(o.nestedPage,r.slice(1)))}:{...o}))}rebuildCondition(e,r){return 0===e||(e>-1?r===e+-1*e:r!==-1*e+e)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Li))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),iD=(()=>{class t{constructor(e){this.panelHandler=e}convertPageToState(e){return(0,ke.of)(new Da).pipe((0,Qe.w)(()=>(0,rn.D)(e.panels.map(r=>this.convertPanelToState(r)))),(0,ve.U)(r=>new Da({id:e.id,panels:r})))}convertPanelToState(e){return(0,ke.of)(new ul).pipe((0,Qe.w)(()=>(0,rn.D)(e.panes.map(r=>this.convertPaneToState(r)))),(0,ve.U)(r=>new ul({panes:r})))}convertPaneToState(e){return(0,ke.of)(new Ea).pipe((0,Qe.w)(r=>Rn(()=>this.hasNestedPanelPage(e),this.panelHandler.toObject(e.settings).pipe((0,Qe.w)(o=>this.convertPageToState(o)),(0,ve.U)(o=>new Ea({state:new Ct.AttributeValue,nestedPage:o}))),(0,ke.of)(r))))}hasNestedPanelPage(e){return"panel"===e.contentPlugin&&(null==e.linkedPageId||""===e.linkedPageId)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Li))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),aD=(()=>{class t{constructor(e){this.panelsLoaderService=e}walkPageHierarchy({panelPage:e,visitorFunc:r,defaultv:o,ancestory:s}){return new g.y(l=>{const u=e.panels.length,p=[];for(let f=0;f<u;f++){const v=e.panels[f].panes.length;for(let D=0;D<v;D++)p.push(r({pane:e.panels[f].panes[D],panelPage:e,ancestoryWithSelf:[...s,f,D]})),e.panels[f].panes[D].nestedPage&&e.panels[f].panes[D].nestedPage.panels&&0!==e.panels[f].panes[D].nestedPage.panels.length&&p.push(this.walkPageHierarchy({panelPage:e,visitorFunc:r,defaultv:o,ancestory:[...s,f,D]}))}0===p.length?(l.next(o),l.complete()):(0,rn.D)(p).pipe((0,ve.U)(f=>f.reduce((v,D)=>[...v,...D],o)),(0,ee.b)(f=>{l.next(f),l.complete()})).subscribe()})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Kw))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Xw=(()=>{class t{constructor(e,r){this.panelsVisitorService=e,this.cpm=r,this.gatherPaneContexts=({pane:o,panelPage:s,ancestoryWithSelf:l})=>this.cpm.getPlugin(o.contentPlugin).pipe((0,Qe.w)(u=>u.handler?u.handler.stateDefinition(o.settings):(0,ke.of)({})),(0,ve.U)(u=>new Pi({name:"panestate-"+l.join("-"),adaptor:"data",plugin:"panestate",data:{id:s?s.id:"",selectionPath:[...l],value:u}})),(0,ve.U)(u=>[u]),(0,nn.q)(1))}allActivePageContexts({panelPage:e,ancestory:r=[]}){return this.panelsVisitorService.walkPageHierarchy({panelPage:e,ancestory:r,visitorFunc:this.gatherPaneContexts,defaultv:[]})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(aD),a.\u0275\u0275inject(Ut.ContentPluginManager))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),oD=(()=>{class t{constructor(e){this.attributeSerializer=e}buildToAncestorySpec({panelPageState:e,ancestory:r}){for(let o=0;o<r[0]+1;o++)if(e.panels.length<o+1&&e.panels.push(new ul),o===r[0]&&r.length>1)for(let s=0;s<r[1]+1;s++)e.panels[r[0]].panes.length<s+1&&e.panels[r[0]].panes.push(new Ea({state:this.attributeSerializer.serialize({},"root")})),s===r[1]&&r.length>2&&(e.panels[r[0]].panes[s].nestedPage||(e.panels[r[0]].panes[s].nestedPage=new Da),this.buildToAncestorySpec({panelPageState:e.panels[r[0]].panes[s].nestedPage,ancestory:r.slice(2)}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Ct.AttributeSerializerService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),iu=(()=>{class t extends fn.BasePluginManager{constructor(e,r){super(e,r)}pluginDef(){return(0,ke.of)(new fn.PluginDef({name:"style"}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(fn.PluginConfigurationManager),a.\u0275\u0275inject(ln.ModuleLoaderService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ww=(()=>{class t{constructor(e){this.spm=e}alterResolvedPanes({panel:e,resolvedPanes:r,originMappings:o}){return(0,ke.of)(void 0).pipe((0,Qe.w)(()=>e.stylePlugin&&""!==e.stylePlugin?this.spm.getPlugin(e.stylePlugin):(0,ke.of)(void 0)),(0,Qe.w)(s=>s&&s.handler?s.handler.alterResolvedPanes({settings:e.settings,resolvedPanes:r,originMappings:o}):(0,ke.of)({resolvedPanes:r,originMappings:o})))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(iu))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Tc=(()=>{class t{constructor(e,r,o,s){this.panelHandler=e,this.rulesResolver=r,this.inlineContextResolver=o,this.cpm=s}usedContexts(e){return this.panesPlugins(e).pipe((0,Qe.w)(r=>this.dataPanes(e).pipe((0,ve.U)(o=>({plugins:r,dataPanes:o})))),(0,Qe.w)(({plugins:r,dataPanes:o})=>(0,rn.D)(e.reduce((s,l)=>{const u=r.get(l.contentPlugin);return void 0!==u.handler?[...s,u.handler.getBindings(l.settings,"context",new Map([["dataPanes",o]])).pipe((0,ve.U)(p=>p.map(f=>f.id)))]:[...s]},[])).pipe((0,ve.U)(s=>s.reduce((l,u)=>[...l,...u],[])))))}staticPanes(e){return this.cpm.getPlugins(e.reduce((r,o)=>-1===r.findIndex(s=>s===o.contentPlugin)?[...r,o.contentPlugin]:[...r],[])).pipe((0,ve.U)(r=>e.filter(o=>void 0===r.get(o.contentPlugin).handler||!r.get(o.contentPlugin).handler.isDynamic(o.settings))))}dataPanes(e){return this.cpm.getPlugins(e.reduce((r,o)=>-1===r.findIndex(s=>s===o.contentPlugin)?[...r,o.contentPlugin]:[...r],[])).pipe((0,ve.U)(r=>e.filter(o=>void 0!==r.get(o.contentPlugin).handler&&r.get(o.contentPlugin).handler.isData(o.settings))))}panesPlugins(e){return this.cpm.getPlugins(e.reduce((r,o)=>-1===r.findIndex(s=>s===o.contentPlugin)?[...r,o.contentPlugin]:[...r],[]))}resolvePanes({panes:e,contexts:r,resolvedContext:o}){return console.log("resolve panes"),this.panesPlugins(e).pipe((0,Qe.w)(s=>(0,rn.D)(e.reduce((l,u)=>{const p=s.get(u.contentPlugin);return void 0!==p.handler?[...l,p.handler.getBindings(u.settings,"pane").pipe((0,ve.U)(f=>f.map(v=>v.id)))]:[...l,(0,ke.of)([])]},[])))).pipe((0,ve.U)(s=>s.reduce((l,u)=>[...l,...u],[])),(0,Qe.w)(s=>this.panesPlugins(e).pipe((0,ve.U)(l=>[s,l]))),(0,Qe.w)(([s,l])=>(0,rn.D)(e.reduce((u,p)=>{const f=l.get(p.contentPlugin);return void 0!==f.handler&&f.handler.isDynamic(p.settings)?[...u,f.handler.isData(p.settings)&&-1!==s.findIndex(v=>v===p.name)?(0,ke.of)([]):(0,rn.D)([this.staticPanes(e),this.dataPanes(e)]).pipe((0,Qe.w)(([v,D])=>f.handler.buildDynamicItems(p.settings,new Map([...void 0===p.metadata?[]:p.metadata,["tag",Tn()],["panes",v],["dataPanes",D],["contexts",void 0!==r?r:[]]])).pipe((0,ve.U)(J=>this.panelHandler.fromPanes(J)),(0,ve.U)(J=>this.panelHandler.wrapPanel(J).panes),(0,nn.q)(1))))]:""===p.name||-1===s.findIndex(v=>v===p.name)?[...u,(0,ke.of)([new nr({...p,contexts:[...r,...p.contexts?p.contexts:[]]})]).pipe((0,Qe.w)(v=>Rn(()=>null!=v[0].rule&&""!==v[0].rule.condition,this.rulesResolver.evaluate(v[0].rule,[...r,...p.contexts?p.contexts:[]]).pipe((0,ve.U)(D=>D?v:[])),(0,ke.of)(v))))]:[...u]},[])).pipe((0,Qe.w)(u=>Rn(()=>0===u.reduce((p,f)=>[...p,...f],[]).length,(0,ke.of)([u,[]]),(0,rn.D)([...u.reduce((p,f)=>[...p,...f.map(v=>v.contexts&&0!==v.contexts.length?this.inlineContextResolver.resolveAll(v.contexts).pipe((0,nn.q)(1)):(0,ke.of)({}).pipe((0,nn.q)(1)))],[])]).pipe((0,ve.U)(p=>[u,p.map(f=>({...f,...o}))])))),(0,ve.U)(([u,p])=>{let f=[],v=[];return u.forEach((D,J)=>{f=[...void 0===f?[]:f,...D.map((Y,he)=>new nr({...Y,resolvedContext:p[f.length+he]}))],v=[...v&&[],...D.map(()=>J)]}),{resolvedPanes:f,originMappings:v}}))))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Li),a.\u0275\u0275inject(av),a.\u0275\u0275inject(xc),a.\u0275\u0275inject(Ut.ContentPluginManager))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Mf extends fn.Plugin{constructor(n){super(n),n&&(this.name=this.id,this.title=n.title,this.editorComponent=n.editorComponent?n.editorComponent:void 0,this.renderComponent=n.renderComponent?n.renderComponent:void 0,n.handler&&(this.handler=n.handler))}}let fh=(()=>{class t extends xM.o2{constructor(){super(),this.pageChange$=new O.x,this.pageSize=20,this.dataStream=new h.X([]),this.subscription=new bw.w0,this.lastPage=0,this.paneItems=[]}set panes(e){this.paneItems=[...this.paneItems,...e],this.dataStream.next(this.paneItems)}connect(e){return this.subscription.add(e.viewChange.subscribe(r=>{const o=Math.ceil((r.end+1)/this.pageSize);o>this.lastPage&&(this.lastPage=o,this.pageChange$.next(o))})),this.dataStream}disconnect(e){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();const kc=(0,At.ZF)(Gw),ph=t=>(0,At.P1)(kc,n=>{const e=n.dataTags.findIndex(r=>r===t);if(e>-1)return n.datasets[e][n.datasets[e].length-1]}),sD=(0,At.P1)(kc,t=>t.pageInfo),lD=(0,At.P1)(kc,t=>t.page),uD=(0,At.P1)(kc,t=>t.selectionPath),Jw=(0,At.P1)(kc,t=>t.formNames),cD=(0,At.P1)(kc,t=>t.forms),dD=(0,At.P1)(Jw,cD,(t,n,e)=>{const r=t.findIndex(o=>o===e.name);if(r>-1)return n[r]});let ia=(()=>{class t{constructor(e){this.store=e,this.getPageInfo$=this.store.pipe((0,At.Ys)(sD)),this.getPage$=this.store.pipe((0,At.Ys)(lD)),this.getSelectionPath$=this.store.pipe((0,At.Ys)(uD)),this.getFormNames$=this.store.pipe((0,At.Ys)(Jw)),this.getForm$=r=>this.store.pipe((0,At.Ys)(dD,{name:r}))}loadRestData(e,r){this.store.dispatch(Bw({tag:e,rest:r}))}setPageInfo(e){this.store.dispatch(cv({info:e}))}setPage(e){this.store.dispatch(dv({page:e}))}setSelectionPath(e){this.store.dispatch(zw({path:e}))}setForm(e,r){this.store.dispatch(Uw({name:e,form:r}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(At.yh))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Df{constructor(n){this.readUserIds=[],n&&(this.title=n.title,this.name=n.name,this.path=n.path,this.cssFile=n.cssFile,n.readUserIds&&(this.readUserIds=n.readUserIds.map(e=>e)))}}class Qw{constructor(n){n&&(this.label=n.label,this.name=n.name)}}class Yw{constructor(n){n&&(this.label=n.label,this.name=n.name)}}class Go{constructor(n){this.panels=[],n&&(this.id=n.id,this.name=n.name,this.title=n.title,this.derivativeId=n.derivativeId,n.panels&&(this.panels=n.panels.map(e=>new pv(e))))}}class pv{constructor(n){this.panes=[],n&&(this.name=n.name,this.label=n.label,n.panes&&(this.panes=n.panes.map(e=>new mv(e))))}}class mv{constructor(n){this.settings=[],n&&(this.name=n.name,this.label=n.label,this.contentPlugin=n.contentPlugin,n.settings&&(this.settings=n.settings.map(e=>new Ct.AttributeValue(e))))}}class hv{constructor(n){n&&(this.name=n.name,this.field=n.field)}}let gv=(()=>{class t{constructor(e,r,o,s){this.pageBuilderFacade=e,this.panelStateArchitectService=r,this.attributeSerializer=o,this.selectEntities=l=>l.entities,this.selectById=({id:l})=>(0,At.P1)(this.selectEntities,u=>u[l]?u[l]:void 0),this.panelPageStateService=s.getEntityCollectionService("PanelPageState")}mergeState({state:e,settings:r,plugin:o,ancestory:s}){return(0,ke.of)(e).pipe((0,Qe.w)(l=>this.pageBuilderFacade.getPageInfo$.pipe((0,ve.U)(u=>[l,u]))),(0,Qe.w)(([l,u])=>o.handler.stateDefinition(r).pipe((0,ve.U)(p=>[l,u,p]))),(0,Qe.w)(([l,u,p])=>this.panelPageStateService.collection$.pipe((0,At.Ys)(this.selectById({id:u.id})),(0,ve.U)(f=>[l,new Da(f||{id:u.id,panels:[]}),p]),(0,nn.q)(1))),(0,ve.U)(([l,u,p])=>{this.panelStateArchitectService.buildToAncestorySpec({panelPageState:u,ancestory:[...s]});const f="$."+s.map((D,J)=>`${(J+1)%2==0?"panes":(0===J?"":"nestedPage.")+"panels"}[${D}]`).join(".");return[l,u,p,(0,ra.JSONPath)({path:f,json:u})[0]]}),(0,ee.b)(([l,u,p,f])=>{const v=f.state?f.state.root?this.attributeSerializer.deserialize(f.state).root:this.attributeSerializer.deserialize(f.state):{},D=Nf(v&&0!==Object.keys(v).length?v:p,l);f.state=this.attributeSerializer.serialize(D,"root")}),(0,ve.U)(([l,u,p,f])=>({paneState:f,pageState:u})))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ia),a.\u0275\u0275inject(oD),a.\u0275\u0275inject(Ct.AttributeSerializerService),a.\u0275\u0275inject(Jn))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),yv=(()=>{class t{constructor(e){this.attributeSerializer=e}serializeForm(e){const r=e.panels.length;let o={};for(let s=0;s<r;s++){const l=e.panels[s].panes.length,u=new Map;for(let p=0;p<l;p++){const f=this.serializeFormPane(e.panels[s].panes[p]);if(e.panels[s].panes[p].name&&null!==e.panels[s].panes[p].name&&(o[e.panels[s].panes[p].name]||e.panels[s].panes[p].name===Nw(e.panels[s].panes[p].name))){u.has(e.panels[s].panes[p].name)||u.set(e.panels[s].panes[p].name,void 0!==o[e.panels[s].panes[p].name]?[o[e.panels[s].panes[p].name]]:[]);const v=u.get(e.panels[s].panes[p].name);u.set(e.panels[s].panes[p].name,[...v,f])}else o=e.panels[s].panes[p].name&&""!==e.panels[s].panes[p].name?{...o,[e.panels[s].panes[p].name]:f}:{...o,...f}}Array.from(u).forEach(([p,f])=>o[p]=f)}return o}serializeFormPane(e){if("panel"===e.contentPlugin)return this.serializeForm(new Go(this.attributeSerializer.deserializeAsObject(e.settings,!0)));{const r=this.attributeSerializer.deserializeAsObject(e.settings,!0);return void 0!==r?r.value:void 0}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Ct.AttributeSerializerService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),fD=(()=>{class t{constructor(e){this.attributeSerializer=e}convertPageToForm({pp:e,pp2:r,ancestory:o,debugPath:s=[]}){return(0,ke.of)(new Da).pipe((0,Qe.w)(()=>(0,rn.D)(e.panels.map((l,u)=>this.convertPanelToForm({panel:l,panel2:r.panels[u],ancestory:o,debugPath:[...s,`convertPageToForm{ index: ${u} }`]})))),(0,ve.U)(l=>new Go({id:e.id,panels:l,name:r.name,title:r.title,derivativeId:""})))}convertPanelToForm({panel:e,panel2:r,ancestory:o,debugPath:s=[]}){return(0,ke.of)(new pv).pipe((0,Qe.w)(()=>(0,rn.D)(e.panes.map((l,u)=>this.convertPaneToForm({pane:l,pane2:r.panes[u],ancestory:o,debugPath:[...s,`convertPanelToForm{ index: ${u} }`]})))),(0,ve.U)(l=>new pv({panes:l,name:r.name,label:r.label})))}convertPaneToForm({pane:e,pane2:r,ancestory:o,debugPath:s=[]}){const l=e.state.attributes.find(u=>"value"===u.name);return(0,ke.of)(new mv({settings:l?[l]:[],name:r.name,label:r.label,contentPlugin:r.contentPlugin})).pipe((0,Qe.w)(u=>Rn(()=>this.hasNestedPanelPage(e),e.nestedPage?this.convertPageToForm({ancestory:o,pp:e.nestedPage,pp2:new Qn(this.attributeSerializer.deserializeAsObject(r.settings)),debugPath:[...s,"convertPaneToForm"]}).pipe((0,ve.U)(p=>new mv({...u,settings:this.attributeSerializer.serialize(p,"root").attributes}))):(0,ke.of)(u),(0,ke.of)(u))))}hasNestedPanelPage(e){return!!e.nestedPage}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Ct.AttributeSerializerService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),pD=(()=>{class t{constructor(e,r){this.attributeSerializer=e,this.fb=r}makeFormGroupFromPage(e,r){return(0,ke.of)(this.fb.group({panels:this.fb.array([])})).pipe((0,Qe.w)(o=>(0,rn.D)(e.panels.map((s,l)=>this.makeFormGroupFromPanel(s,r.panels[l]))).pipe((0,ve.U)(s=>({panelGroups:s,pageFormGroup:o})))),(0,ee.b)(({panelGroups:o,pageFormGroup:s})=>{const l=o.length;for(let u=0;u<l;u++)s.get("panels").push(o[u])}),(0,ve.U)(({pageFormGroup:o})=>o))}makeFormGroupFromPanel(e,r){return(0,ke.of)(this.fb.group({name:this.fb.control(e.name),panes:this.fb.array([])})).pipe((0,Qe.w)(o=>(0,rn.D)(e.panes.map((s,l)=>this.makeFormGroupFromPane(s,r.panes[l]))).pipe((0,ve.U)(s=>({paneGroups:s,panelFormGroup:o})))),(0,ee.b)(({paneGroups:o,panelFormGroup:s})=>{const l=o.length;for(let u=0;u<l;u++)s.get("panes").push(o[u])}),(0,ve.U)(({panelFormGroup:o})=>o))}makeFormGroupFromPane(e,r){const o=r?r.settings.find(s=>"value"===s.name):void 0;return(0,ke.of)(this.fb.group({name:this.fb.control(e.name),contentPlugin:this.fb.control(""),settings:this.fb.array([])})).pipe((0,Qe.w)(s=>Rn(()=>this.hasNestedPanelPage(e),this.hasNestedPanelPage(e)?this.makeFormGroupFromPage(e.nestedPage,new Go(this.attributeSerializer.deserializeAsObject(r.settings))).pipe((0,ee.b)(l=>{const u=this.attributeSerializer.convertToGroup(this.attributeSerializer.serialize(l.value,"value").attributes[0]);s.get("contentPlugin").setValue("panel"),s.get("settings").push(u)}),(0,ve.U)(()=>s)):(0,ke.of)(s).pipe((0,ee.b)(()=>{if(o){const l=this.attributeSerializer.convertToGroup(o);s.get("settings").push(l)}})),(0,ke.of)(s).pipe((0,ee.b)(()=>{if(o){const l=this.attributeSerializer.convertToGroup(o);s.get("settings").push(l)}})))))}hasNestedPanelPage(e){return!!e.nestedPage}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Ct.AttributeSerializerService),a.\u0275\u0275inject(d.qu))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),vv=(()=>{class t{makeJsonNode(){return{attributes:{},children:{}}}reduceCss(e,r,o=!0){return e&&e.children?Object.keys(e.children).filter(s=>o?0===s.indexOf(r):0!==s.indexOf(r)).reduce((s,l)=>({...s,children:{...s.children,[o?l.substr(l.indexOf(r)+r.length).trim():l]:e.children[l]}}),this.makeJsonNode()):this.makeJsonNode()}reduceSelector(e,r,o=!0){return e?Object.keys(e).filter(s=>o?0===s.indexOf(r):0!==s.indexOf(r)).reduce((s,l)=>({...s,[o?l.substr(l.indexOf(r)+r.length).trim():l]:e[l]}),{}):{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function mD(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone-remove-badge",1),a.\u0275\u0275listener("click",function(o){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext()._remove(o)}),a.\u0275\u0275elementEnd()}}const _v=[[["ngx-dropzone-label"]]],bv=["ngx-dropzone-label"],hD=["fileInput"];function gD(t,n){1&t&&a.\u0275\u0275projection(0,2,["*ngIf","!_hasPreviews"])}const yD=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],vD=["ngx-dropzone-preview","*","ngx-dropzone-label"];function _D(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone-remove-badge",2),a.\u0275\u0275listener("click",function(o){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext()._remove(o)}),a.\u0275\u0275elementEnd()}}function bD(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"video",2),a.\u0275\u0275listener("click",function(r){return r.stopPropagation()}),a.\u0275\u0275element(1,"source",3),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("src",e.sanitizedVideoSrc,a.\u0275\u0275sanitizeUrl)}}function wD(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone-remove-badge",4),a.\u0275\u0275listener("click",function(o){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext()._remove(o)}),a.\u0275\u0275elementEnd()}}let Zw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["ngx-dropzone-label"]]}),t})();function Vc(t){return null!=t&&"false"!=`${t}`}let wv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["ngx-dropzone-remove-badge"]],decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(e,r){1&e&&(a.\u0275\u0275namespaceSVG(),a.\u0275\u0275elementStart(0,"svg"),a.\u0275\u0275element(1,"line",0),a.\u0275\u0275element(2,"line",1),a.\u0275\u0275elementEnd())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-width:2px;stroke:#fff}"]}),t})();var jf=(()=>{return(t=jf||(jf={}))[t.BACKSPACE=8]="BACKSPACE",t[t.DELETE=46]="DELETE",jf;var t})();let Rc=(()=>{class t{constructor(e){this.sanitizer=e,this._removable=!1,this.removed=new a.EventEmitter,this.tabIndex=0}set file(e){this._file=e}get file(){return this._file}get removable(){return this._removable}set removable(e){this._removable=Vc(e)}keyEvent(e){switch(e.keyCode){case jf.BACKSPACE:case jf.DELETE:this.remove()}}get hostStyle(){return this.sanitizer.bypassSecurityTrustStyle("\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t")}_remove(e){e.stopPropagation(),this.remove()}remove(){this._removable&&this.removed.next(this.file)}readFile(){var e=this;return Pu(function*(){return new Promise((r,o)=>{const s=new FileReader;if(s.onload=l=>{r(l.target.result)},s.onerror=l=>{console.error(`FileReader failed on file ${e.file.name}.`),o(l)},!e.file)return o("No file to read. Please provide a file using the [file] Input property.");s.readAsDataURL(e.file)})})()}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(P.H7))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(e,r){1&e&&a.\u0275\u0275listener("keyup",function(s){return r.keyEvent(s)}),2&e&&(a.\u0275\u0275hostProperty("tabindex",r.tabIndex),a.\u0275\u0275styleMap(r.hostStyle))},inputs:{file:"file",removable:"removable"},outputs:{removed:"removed"},ngContentSelectors:bv,decls:2,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(e,r){1&e&&(a.\u0275\u0275projectionDef(_v),a.\u0275\u0275projection(0),a.\u0275\u0275template(1,mD,1,0,"ngx-dropzone-remove-badge",0)),2&e&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.removable))},directives:[wv,x.NgIf],styles:["[_nghost-%COMP%]{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"]}),t})(),eC=(()=>{class t{parseFileList(e,r,o,s){const l=[],u=[];for(let f=0;f<e.length;f++){const v=e.item(f);this.isAccepted(v,r)?o&&v.size>o?this.rejectFile(u,v,"size"):!s&&l.length>=1?this.rejectFile(u,v,"no_multiple"):l.push(v):this.rejectFile(u,v,"type")}return{addedFiles:l,rejectedFiles:u}}isAccepted(e,r){if("*"===r)return!0;const o=r.split(",").map(p=>p.toLowerCase().trim()),s=e.type.toLowerCase(),l=e.name.toLowerCase();return!!o.find(p=>p.endsWith("/*")?s.split("/")[0]===p.split("/")[0]:p.startsWith(".")?l.endsWith(p):p==s)}rejectFile(e,r,o){const s=r;s.reason=o,e.push(s)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),mh=(()=>{class t{constructor(e){this.service=e,this.change=new a.EventEmitter,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._processDirectoryDrop=!1,this._isHovered=!1}get _hasPreviews(){return!!this._previewChildren.length}get disabled(){return this._disabled}set disabled(e){this._disabled=Vc(e),this._isHovered&&(this._isHovered=!1)}get multiple(){return this._multiple}set multiple(e){this._multiple=Vc(e)}get maxFileSize(){return this._maxFileSize}set maxFileSize(e){this._maxFileSize=function CD(t){return isNaN(parseFloat(t))||isNaN(Number(t))?null:Number(t)}(e)}get expandable(){return this._expandable}set expandable(e){this._expandable=Vc(e)}get disableClick(){return this._disableClick}set disableClick(e){this._disableClick=Vc(e)}get processDirectoryDrop(){return this._processDirectoryDrop}set processDirectoryDrop(e){this._processDirectoryDrop=Vc(e)}_onClick(){this.disableClick||this.showFileSelector()}_onDragOver(e){this.disabled||(this.preventDefault(e),this._isHovered=!0)}_onDragLeave(){this._isHovered=!1}_onDrop(e){if(!this.disabled)if(this.preventDefault(e),this._isHovered=!1,this.processDirectoryDrop&&DataTransferItem.prototype.webkitGetAsEntry){const r=e.dataTransfer.items;if(r.length>0){const o=[],s=[];for(let u=0;u<r.length;u++){const p=r[u].webkitGetAsEntry();p.isFile?o.push(e.dataTransfer.files[u]):p.isDirectory&&s.push(p)}const l=new DataTransfer;if(o.forEach(u=>{l.items.add(u)}),!s.length&&l.items.length&&this.handleFileDrop(l.files),s.length){const u=[];for(const p of s)u.push(this.extractFilesFromDirectory(p));Promise.all(u).then(p=>{p.reduce((f,v)=>[...f,...v]).forEach(f=>{l.items.add(f)}),this.handleFileDrop(l.files)})}}}else this.handleFileDrop(e.dataTransfer.files)}extractFilesFromDirectory(e){function r(s){return o.apply(this,arguments)}function o(){return(o=Pu(function*(s){try{return yield new Promise((l,u)=>s.file(l,u))}catch(l){console.log("Error converting a fileEntry to a File: ",l)}})).apply(this,arguments)}return new Promise((s,l)=>{const u=[],p=e.createReader(),f=()=>{p.readEntries(function(){var v=Pu(function*(D){if(D.length){const J=D.filter(Y=>Y.isFile);for(const Y of J){const he=yield r(Y);u.push(he)}f()}else s(u)});return function(D){return v.apply(this,arguments)}}())};f()})}showFileSelector(){this.disabled||this._fileInput.nativeElement.click()}_onFilesSelected(e){this.handleFileDrop(e.target.files),this._fileInput.nativeElement.value="",this.preventDefault(e)}handleFileDrop(e){const r=this.service.parseFileList(e,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:r.addedFiles,rejectedFiles:r.rejectedFiles,source:this})}preventDefault(e){e.preventDefault(),e.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(eC,2))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(e,r,o){if(1&e&&a.\u0275\u0275contentQuery(o,Rc,5),2&e){let s;a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(r._previewChildren=s)}},viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(hD,7),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r._fileInput=o.first)}},hostVars:8,hostBindings:function(e,r){1&e&&a.\u0275\u0275listener("click",function(){return r._onClick()})("dragover",function(s){return r._onDragOver(s)})("dragleave",function(){return r._onDragLeave()})("drop",function(s){return r._onDrop(s)}),2&e&&a.\u0275\u0275classProp("ngx-dz-disabled",r.disabled)("expandable",r.expandable)("unclickable",r.disableClick)("ngx-dz-hovered",r._isHovered)},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",maxFileSize:"maxFileSize",expandable:"expandable",disableClick:"disableClick",processDirectoryDrop:"processDirectoryDrop",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedBy:["aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},features:[a.\u0275\u0275ProvidersFeature([eC])],ngContentSelectors:vD,decls:5,vars:8,consts:[["type","file",3,"id","multiple","accept","disabled","change"],["fileInput",""],[4,"ngIf"]],template:function(e,r){1&e&&(a.\u0275\u0275projectionDef(yD),a.\u0275\u0275elementStart(0,"input",0,1),a.\u0275\u0275listener("change",function(s){return r._onFilesSelected(s)}),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(2,gD,1,0,"ng-content",2),a.\u0275\u0275projection(3),a.\u0275\u0275projection(4,1)),2&e&&(a.\u0275\u0275property("id",r.id)("multiple",r.multiple)("accept",r.accept)("disabled",r.disabled),a.\u0275\u0275attribute("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedBy),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",!r._hasPreviews))},directives:[x.NgIf],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{opacity:.5;cursor:no-drop;pointer-events:none}.expandable[_nghost-%COMP%]{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:1px dotted #000;outline:-webkit-focus-ring-color auto 5px}"]}),t})(),tC=(()=>{class t extends Rc{constructor(e){super(e),this.defaultImgLoading="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiByZ2IoMjQxLCAyNDIsIDI0Mykgbm9uZSByZXBlYXQgc2Nyb2xsIDAlIDAlOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgd2lkdGg9IjIyNHB4IiBoZWlnaHQ9IjIyNHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgo8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIxNCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2U9IiM4NWEyYjYiIHN0cm9rZS1kYXNoYXJyYXk9IjIxLjk5MTE0ODU3NTEyODU1MiAyMS45OTExNDg1NzUxMjg1NTIiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+CiAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGR1cj0iMS4xNjI3OTA2OTc2NzQ0MTg0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGtleVRpbWVzPSIwOzEiIHZhbHVlcz0iMCA1MCA1MDszNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjEwIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZT0iI2JiY2VkZCIgc3Ryb2tlLWRhc2hhcnJheT0iMTUuNzA3OTYzMjY3OTQ4OTY2IDE1LjcwNzk2MzI2Nzk0ODk2NiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjE1LjcwNzk2MzI2Nzk0ODk2NiIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj4KICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgZHVyPSIxLjE2Mjc5MDY5NzY3NDQxODRzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOy0zNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjwhLS0gW2xkaW9dIGdlbmVyYXRlZCBieSBodHRwczovL2xvYWRpbmcuaW8vIC0tPjwvc3ZnPg==",this.imageSrc=this.sanitizer.bypassSecurityTrustUrl(this.defaultImgLoading)}set file(e){this._file=e,this.renderImage()}get file(){return this._file}ngOnInit(){this.renderImage()}renderImage(){this.readFile().then(e=>setTimeout(()=>this.imageSrc=e)).catch(e=>console.error(e))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(P.H7))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["ngx-dropzone-image-preview"]],inputs:{file:"file"},features:[a.\u0275\u0275ProvidersFeature([{provide:Rc,useExisting:t}]),a.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:bv,decls:3,vars:2,consts:[[3,"src"],[3,"click",4,"ngIf"],[3,"click"]],template:function(e,r){1&e&&(a.\u0275\u0275projectionDef(_v),a.\u0275\u0275element(0,"img",0),a.\u0275\u0275projection(1),a.\u0275\u0275template(2,_D,1,0,"ngx-dropzone-remove-badge",1)),2&e&&(a.\u0275\u0275property("src",r.imageSrc,a.\u0275\u0275sanitizeUrl),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",r.removable))},directives:[wv,x.NgIf],styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:hover   img[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   img[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;border-radius:5px;opacity:.8}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"]}),t})(),xD=(()=>{class t extends Rc{constructor(e){super(e)}ngOnInit(){this.file?(this.videoSrc=URL.createObjectURL(this.file),this.sanitizedVideoSrc=this.sanitizer.bypassSecurityTrustUrl(this.videoSrc)):console.error("No file to read. Please provide a file using the [file] Input property.")}ngOnDestroy(){URL.revokeObjectURL(this.videoSrc)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(P.H7))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["ngx-dropzone-video-preview"]],features:[a.\u0275\u0275ProvidersFeature([{provide:Rc,useExisting:t}]),a.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:bv,decls:3,vars:2,consts:[["controls","",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],["controls","",3,"click"],[3,"src"],[3,"click"]],template:function(e,r){1&e&&(a.\u0275\u0275projectionDef(_v),a.\u0275\u0275template(0,bD,2,1,"video",0),a.\u0275\u0275projection(1),a.\u0275\u0275template(2,wD,1,0,"ngx-dropzone-remove-badge",1)),2&e&&(a.\u0275\u0275property("ngIf",r.sanitizedVideoSrc),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",r.removable))},directives:[wv,x.NgIf],styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:hover   video[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   video[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   video[_ngcontent-%COMP%]{max-height:100%;border-radius:5px}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"]}),t})(),hh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule]]}),t})();function mn(t,n,e,r){var l,o=arguments.length,s=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,n,e,r);else for(var u=t.length-1;u>=0;u--)(l=t[u])&&(s=(o<3?l(s):o>3?l(n,e,s):l(n,e))||s);return o>3&&s&&Object.defineProperty(n,e,s),s}function pn(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)}var yh=function(){function t(n){this.template=n}return t.ctorParameters=function(){return[{type:a.TemplateRef}]},(t=mn([pn("design:paramtypes",[a.TemplateRef])],t)).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.TemplateRef))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["","queryOperator",""]]}),t}(),vh=function(){function t(n){this.template=n}return t.ctorParameters=function(){return[{type:a.TemplateRef}]},(t=mn([pn("design:paramtypes",[a.TemplateRef])],t)).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.TemplateRef))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["","queryField",""]]}),t}(),_h=function(){function t(n){this.template=n}return t.ctorParameters=function(){return[{type:a.TemplateRef}]},(t=mn([pn("design:paramtypes",[a.TemplateRef])],t)).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.TemplateRef))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["","queryEntity",""]]}),t}(),bh=function(){function t(n){this.template=n}return t.ctorParameters=function(){return[{type:a.TemplateRef}]},(t=mn([pn("design:paramtypes",[a.TemplateRef])],t)).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.TemplateRef))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["","querySwitchGroup",""]]}),t}(),wh=function(){function t(n){this.template=n}return t.ctorParameters=function(){return[{type:a.TemplateRef}]},(t=mn([pn("design:paramtypes",[a.TemplateRef])],t)).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.TemplateRef))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["","queryButtonGroup",""]]}),t}(),iC=function(){function t(n){this.template=n}return Object.defineProperty(t.prototype,"queryInputType",{get:function(){return this._type},set:function(n){!n||(this._type=n)},enumerable:!0,configurable:!0}),t.ctorParameters=function(){return[{type:a.TemplateRef}]},mn([(0,a.Input)(),pn("design:type",String),pn("design:paramtypes",[String])],t.prototype,"queryInputType",null),(t=mn([pn("design:paramtypes",[a.TemplateRef])],t)).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.TemplateRef))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["","queryInput",""]],inputs:{queryInputType:"queryInputType"}}),t}(),Ch=function(){function t(n){this.template=n}return t.ctorParameters=function(){return[{type:a.TemplateRef}]},(t=mn([pn("design:paramtypes",[a.TemplateRef])],t)).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.TemplateRef))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["","queryRemoveButton",""]]}),t}(),xh=function(){function t(n){this.template=n}return t.ctorParameters=function(){return[{type:a.TemplateRef}]},(t=mn([pn("design:paramtypes",[a.TemplateRef])],t)).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.TemplateRef))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["","queryEmptyWarning",""]]}),t}(),Sh=function(){function t(n){this.template=n}return t.ctorParameters=function(){return[{type:a.TemplateRef}]},(t=mn([pn("design:paramtypes",[a.TemplateRef])],t)).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.TemplateRef))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["","queryArrowIcon",""]]}),t}(),ED=["treeContainer"];function AD(t,n){if(1&t&&a.\u0275\u0275element(0,"i",0),2&t){var e=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngClass",e.getClassNames("arrowIcon"))}}function ID(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function PD(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,ID,1,0,"ng-container",10),a.\u0275\u0275elementContainerEnd()),2&t){var e=n.ngIf,r=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",e)("ngTemplateOutletContext",r.getArrowIconContext())}}function TD(t,n){if(1&t){var e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"a",9),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().toggleCollapse()}),a.\u0275\u0275template(1,PD,2,2,"ng-container",3),a.\u0275\u0275elementEnd()}if(2&t){var r=a.\u0275\u0275nextContext(),o=a.\u0275\u0275reference(2);a.\u0275\u0275property("ngClass",r.getClassNames("arrowIconButton",r.data.collapsed?"collapsed":null)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.getArrowIconTemplate())("ngIfElse",o)}}function kD(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function VD(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"div",0),a.\u0275\u0275template(2,kD,1,0,"ng-container",10),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&t){var e=n.ngIf,r=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",r.getClassNames("buttonGroup","rightAlign")),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",e)("ngTemplateOutletContext",r.getButtonGroupContext())}}function RD(t,n){if(1&t){var e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",11),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext(2).addRuleSet()}),a.\u0275\u0275element(1,"i",0),a.\u0275\u0275text(2," Ruleset "),a.\u0275\u0275elementEnd()}if(2&t){var r=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",r.getClassNames("button"))("disabled",r.disabled),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",r.getClassNames("addIcon"))}}function ND(t,n){if(1&t){var e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"button",11),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext(2).removeRuleSet()}),a.\u0275\u0275element(2,"i",0),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()}if(2&t){var r=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",r.getClassNames("button","removeButton"))("disabled",r.disabled),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",r.getClassNames("removeIcon"))}}function OD(t,n){if(1&t){var e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"button",11),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().addRule()}),a.\u0275\u0275element(2,"i",0),a.\u0275\u0275text(3," Rule "),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(4,RD,3,3,"button",12),a.\u0275\u0275template(5,ND,3,3,"ng-container",13),a.\u0275\u0275elementEnd()}if(2&t){var r=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngClass",r.getClassNames("buttonGroup","rightAlign")),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",r.getClassNames("button"))("disabled",r.disabled),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",r.getClassNames("addIcon")),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",r.allowRuleset),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!!r.parentValue&&r.allowRuleset)}}function FD(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function MD(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,FD,1,0,"ng-container",10),a.\u0275\u0275elementContainerEnd()),2&t){var e=n.ngIf,r=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",e)("ngTemplateOutletContext",r.getSwitchGroupContext())}}function DD(t,n){if(1&t){var e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"div",0),a.\u0275\u0275elementStart(2,"input",14,15),a.\u0275\u0275listener("ngModelChange",function(s){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext(2).data.condition=s}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"label",9),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(e);var s=a.\u0275\u0275reference(3);return a.\u0275\u0275nextContext(2).changeCondition(s.value)}),a.\u0275\u0275text(5,"AND"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"div",0),a.\u0275\u0275elementStart(7,"input",16,17),a.\u0275\u0275listener("ngModelChange",function(s){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext(2).data.condition=s}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"label",9),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(e);var s=a.\u0275\u0275reference(8);return a.\u0275\u0275nextContext(2).changeCondition(s.value)}),a.\u0275\u0275text(10,"OR"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){var r=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",r.getClassNames("switchGroup","transition")),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",r.getClassNames("switchControl")),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",r.getClassNames("switchRadio"))("ngModel",r.data.condition)("disabled",r.disabled),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngClass",r.getClassNames("switchLabel")),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngClass",r.getClassNames("switchControl")),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",r.getClassNames("switchRadio"))("ngModel",r.data.condition)("disabled",r.disabled),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngClass",r.getClassNames("switchLabel"))}}function jD(t,n){if(1&t&&a.\u0275\u0275template(0,DD,11,11,"div",8),2&t){var e=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngIf",e.data)}}function BD(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function LD(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"div",0),a.\u0275\u0275template(2,BD,1,0,"ng-container",10),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&t){var e=n.ngIf,r=a.\u0275\u0275nextContext(3).$implicit,o=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",o.getClassNames("buttonGroup","rightAlign")),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",e)("ngTemplateOutletContext",o.getRemoveButtonContext(r))}}function UD(t,n){if(1&t){var e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"button",11),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(e);var s=a.\u0275\u0275nextContext(3).$implicit,l=a.\u0275\u0275nextContext(2);return l.removeRule(s,l.data)}),a.\u0275\u0275element(2,"i",0),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){var r=a.\u0275\u0275nextContext(5);a.\u0275\u0275property("ngClass",r.getClassNames("removeButtonSize","rightAlign")),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",r.getClassNames("button","removeButton"))("disabled",r.disabled),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",r.getClassNames("removeIcon"))}}function zD(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function GD(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,zD,1,0,"ng-container",10),a.\u0275\u0275elementContainerEnd()),2&t){var e=n.ngIf,r=a.\u0275\u0275nextContext(4).$implicit,o=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",e)("ngTemplateOutletContext",o.getEntityContext(r))}}function $D(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"div",27),a.\u0275\u0275template(1,GD,2,2,"ng-container",3),a.\u0275\u0275elementEnd()),2&t){a.\u0275\u0275nextContext();var e=a.\u0275\u0275reference(6),r=a.\u0275\u0275nextContext(4);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.getEntityTemplate())("ngIfElse",e)}}function HD(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"option",30),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){var e=n.$implicit;a.\u0275\u0275property("ngValue",e.value),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",e.name," ")}}function qD(t,n){if(1&t){var e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"select",28),a.\u0275\u0275listener("ngModelChange",function(l){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext(3).$implicit.entity=l})("ngModelChange",function(l){a.\u0275\u0275restoreView(e);var u=a.\u0275\u0275nextContext(3),p=u.$implicit,f=u.index,v=a.\u0275\u0275nextContext(2);return v.changeEntity(l,p,f,v.data)}),a.\u0275\u0275template(2,HD,2,2,"option",29),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){var r=a.\u0275\u0275nextContext(3).$implicit,o=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",o.getClassNames("entityControlSize")),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",o.getClassNames("entityControl"))("ngModel",r.entity)("disabled",o.disabled),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",o.entities)}}function KD(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function XD(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,KD,1,0,"ng-container",10),a.\u0275\u0275elementContainerEnd()),2&t){var e=n.ngIf,r=a.\u0275\u0275nextContext(3).$implicit,o=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",e)("ngTemplateOutletContext",o.getFieldContext(r))}}function WD(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"option",30),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){var e=n.$implicit;a.\u0275\u0275property("ngValue",e.value),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",e.name," ")}}function JD(t,n){if(1&t){var e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"select",28),a.\u0275\u0275listener("ngModelChange",function(l){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext(3).$implicit.field=l})("ngModelChange",function(l){a.\u0275\u0275restoreView(e);var u=a.\u0275\u0275nextContext(3).$implicit;return a.\u0275\u0275nextContext(2).changeField(l,u)}),a.\u0275\u0275template(2,WD,2,2,"option",29),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){var r=a.\u0275\u0275nextContext(3).$implicit,o=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",o.getClassNames("fieldControlSize")),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",o.getClassNames("fieldControl"))("ngModel",r.field)("disabled",o.disabled),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",o.getFields(r.entity))}}function QD(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function YD(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,QD,1,0,"ng-container",10),a.\u0275\u0275elementContainerEnd()),2&t){var e=n.ngIf,r=a.\u0275\u0275nextContext(3).$implicit,o=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",e)("ngTemplateOutletContext",o.getOperatorContext(r))}}function ZD(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"option",30),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){var e=n.$implicit;a.\u0275\u0275property("ngValue",e),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",e," ")}}function e3(t,n){if(1&t){var e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"select",28),a.\u0275\u0275listener("ngModelChange",function(l){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext(3).$implicit.operator=l})("ngModelChange",function(){a.\u0275\u0275restoreView(e);var l=a.\u0275\u0275nextContext(3).$implicit;return a.\u0275\u0275nextContext(2).changeOperator(l)}),a.\u0275\u0275template(2,ZD,2,2,"option",29),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){var r=a.\u0275\u0275nextContext(3).$implicit,o=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",o.getClassNames("operatorControlSize")),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",o.getClassNames("operatorControl"))("ngModel",r.operator)("disabled",o.disabled),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",o.getOperators(r.field))}}function t3(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function n3(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,t3,1,0,"ng-container",10),a.\u0275\u0275elementContainerEnd()),2&t){var e=n.ngIf,r=a.\u0275\u0275nextContext(3).$implicit,o=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",e)("ngTemplateOutletContext",o.getInputContext(r))}}function r3(t,n){if(1&t){var e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"input",39),a.\u0275\u0275listener("ngModelChange",function(l){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext(4).$implicit.value=l})("ngModelChange",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext(6).changeInput()}),a.\u0275\u0275elementEnd()}if(2&t){var r=a.\u0275\u0275nextContext(4).$implicit,o=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",o.getClassNames("inputControl"))("ngModel",r.value)("disabled",o.disabled)}}function a3(t,n){if(1&t){var e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"input",40),a.\u0275\u0275listener("ngModelChange",function(l){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext(4).$implicit.value=l})("ngModelChange",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext(6).changeInput()}),a.\u0275\u0275elementEnd()}if(2&t){var r=a.\u0275\u0275nextContext(4).$implicit,o=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",o.getClassNames("inputControl"))("ngModel",r.value)("disabled",o.disabled)}}function o3(t,n){if(1&t){var e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"input",41),a.\u0275\u0275listener("ngModelChange",function(l){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext(4).$implicit.value=l})("ngModelChange",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext(6).changeInput()}),a.\u0275\u0275elementEnd()}if(2&t){var r=a.\u0275\u0275nextContext(4).$implicit,o=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",o.getClassNames("inputControl"))("ngModel",r.value)("disabled",o.disabled)}}function s3(t,n){if(1&t){var e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"input",42),a.\u0275\u0275listener("ngModelChange",function(l){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext(4).$implicit.value=l})("ngModelChange",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext(6).changeInput()}),a.\u0275\u0275elementEnd()}if(2&t){var r=a.\u0275\u0275nextContext(4).$implicit,o=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",o.getClassNames("inputControl"))("ngModel",r.value)("disabled",o.disabled)}}function l3(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"option",30),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){var e=n.$implicit;a.\u0275\u0275property("ngValue",e.value),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",e.name," ")}}function u3(t,n){if(1&t){var e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"select",28),a.\u0275\u0275listener("ngModelChange",function(l){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext(4).$implicit.value=l})("ngModelChange",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext(6).changeInput()}),a.\u0275\u0275template(1,l3,2,2,"option",29),a.\u0275\u0275elementEnd()}if(2&t){var r=a.\u0275\u0275nextContext(4).$implicit,o=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",o.getClassNames("inputControl"))("ngModel",r.value)("disabled",o.disabled),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",o.getOptions(r.field))}}function c3(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"option",30),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){var e=n.$implicit;a.\u0275\u0275property("ngValue",e.value),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",e.name," ")}}function d3(t,n){if(1&t){var e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"select",43),a.\u0275\u0275listener("ngModelChange",function(l){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext(4).$implicit.value=l})("ngModelChange",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext(6).changeInput()}),a.\u0275\u0275template(2,c3,2,2,"option",29),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()}if(2&t){var r=a.\u0275\u0275nextContext(4).$implicit,o=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",o.getClassNames("inputControl"))("ngModel",r.value)("disabled",o.disabled),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",o.getOptions(r.field))}}function f3(t,n){if(1&t){var e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"input",44),a.\u0275\u0275listener("ngModelChange",function(l){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext(4).$implicit.value=l})("ngModelChange",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext(6).changeInput()}),a.\u0275\u0275elementEnd()}if(2&t){var r=a.\u0275\u0275nextContext(4).$implicit,o=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",o.getClassNames("inputControl"))("ngModel",r.value)("disabled",o.disabled)}}function p3(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"div",31),a.\u0275\u0275template(1,r3,1,3,"input",32),a.\u0275\u0275template(2,a3,1,3,"input",33),a.\u0275\u0275template(3,o3,1,3,"input",34),a.\u0275\u0275template(4,s3,1,3,"input",35),a.\u0275\u0275template(5,u3,2,4,"select",36),a.\u0275\u0275template(6,d3,3,4,"ng-container",37),a.\u0275\u0275template(7,f3,1,3,"input",38),a.\u0275\u0275elementEnd()),2&t){var e=a.\u0275\u0275nextContext(3).$implicit,r=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngClass",r.getClassNames("inputControlSize"))("ngSwitch",r.getInputType(e.field,e.operator)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngSwitchCase","string"),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngSwitchCase","number"),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngSwitchCase","date"),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngSwitchCase","time"),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngSwitchCase","category"),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngSwitchCase","multiselect"),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngSwitchCase","boolean")}}function m3(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,LD,3,3,"ng-container",3),a.\u0275\u0275template(2,UD,3,4,"ng-template",null,21,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275template(4,$D,2,2,"div",22),a.\u0275\u0275template(5,qD,3,5,"ng-template",null,23,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275template(7,XD,2,2,"ng-container",3),a.\u0275\u0275template(8,JD,3,5,"ng-template",null,24,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275template(10,YD,2,2,"ng-container",3),a.\u0275\u0275template(11,e3,3,5,"ng-template",null,25,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275template(13,n3,2,2,"ng-container",3),a.\u0275\u0275template(14,p3,8,9,"ng-template",null,26,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementContainerEnd()),2&t){var e=a.\u0275\u0275reference(3),r=a.\u0275\u0275reference(9),o=a.\u0275\u0275reference(12),s=a.\u0275\u0275reference(15),l=a.\u0275\u0275nextContext(2).$implicit,u=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",u.getRemoveButtonTemplate())("ngIfElse",e),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",(null==u.entities?null:u.entities.length)>0),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",u.getFieldTemplate())("ngIfElse",r),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",u.getOperatorTemplate())("ngIfElse",o),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",u.findTemplateForRule(l))("ngIfElse",s)}}function h3(t,n){if(1&t&&a.\u0275\u0275element(0,"query-builder",45),2&t){var e=a.\u0275\u0275nextContext(2).$implicit,r=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("data",e)("disabled",r.disabled)("parentTouchedCallback",r.parentTouchedCallback||r.onTouchedCallback)("parentChangeCallback",r.parentChangeCallback||r.onChangeCallback)("parentInputTemplates",r.parentInputTemplates||r.inputTemplates)("parentOperatorTemplate",r.parentOperatorTemplate||r.operatorTemplate)("parentFieldTemplate",r.parentFieldTemplate||r.fieldTemplate)("parentEntityTemplate",r.parentEntityTemplate||r.entityTemplate)("parentSwitchGroupTemplate",r.parentSwitchGroupTemplate||r.switchGroupTemplate)("parentButtonGroupTemplate",r.parentButtonGroupTemplate||r.buttonGroupTemplate)("parentRemoveButtonTemplate",r.parentRemoveButtonTemplate||r.removeButtonTemplate)("parentEmptyWarningTemplate",r.parentEmptyWarningTemplate||r.emptyWarningTemplate)("parentArrowIconTemplate",r.parentArrowIconTemplate||r.arrowIconTemplate)("parentValue",r.data)("classNames",r.classNames)("config",r.config)("allowRuleset",r.allowRuleset)("allowCollapse",r.allowCollapse)("emptyMessage",r.emptyMessage)("operatorMap",r.operatorMap)}}function g3(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function y3(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,g3,1,0,"ng-container",10),a.\u0275\u0275elementContainerEnd()),2&t){var e=a.\u0275\u0275nextContext().ngIf,r=a.\u0275\u0275nextContext(4);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",e)("ngTemplateOutletContext",r.getEmptyWarningContext())}}function v3(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,y3,2,2,"ng-container",13),a.\u0275\u0275elementContainerEnd()),2&t){var e=a.\u0275\u0275nextContext().ngIf;a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.invalid)}}function _3(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"p",0),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){var e=a.\u0275\u0275nextContext(5);a.\u0275\u0275property("ngClass",e.getClassNames("emptyWarning")),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",e.emptyMessage," ")}}function b3(t,n){if(1&t&&a.\u0275\u0275template(0,_3,2,2,"p",8),2&t){var e=a.\u0275\u0275nextContext().ngIf;a.\u0275\u0275property("ngIf",e.invalid)}}function w3(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"li",0),a.\u0275\u0275template(2,m3,16,9,"ng-container",13),a.\u0275\u0275template(3,h3,1,20,"query-builder",19),a.\u0275\u0275template(4,v3,2,1,"ng-container",3),a.\u0275\u0275template(5,b3,1,1,"ng-template",null,20,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&t){var e=n.ngIf,r=a.\u0275\u0275reference(6),o=a.\u0275\u0275nextContext(3);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",o.getQueryItemClassName(e)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!e.ruleset),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.ruleset),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",o.getEmptyWarningTemplate())("ngIfElse",r)}}var C3=function(t,n){return{ruleset:t,invalid:n}};function x3(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,w3,7,5,"ng-container",13),a.\u0275\u0275elementContainerEnd()),2&t){var e=n.$implicit,r=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",a.\u0275\u0275pureFunction2(1,C3,!!e.rules,!r.config.allowEmptyRulesets&&e.rules&&0===e.rules.length))}}function S3(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"ul",0),a.\u0275\u0275template(1,x3,2,4,"ng-container",18),a.\u0275\u0275elementEnd()),2&t){var e=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngClass",e.getClassNames("tree")),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",e.data.rules)}}var E3={provide:d.JU,useExisting:(0,a.forwardRef)(function(){return xv}),multi:!0},A3={provide:d.Cf,useExisting:(0,a.forwardRef)(function(){return xv}),multi:!0},xv=function(){function t(n){var e=this;this.changeDetectorRef=n,this.defaultClassNames={arrowIconButton:"q-arrow-icon-button",arrowIcon:"q-icon q-arrow-icon",removeIcon:"q-icon q-remove-icon",addIcon:"q-icon q-add-icon",button:"q-button",buttonGroup:"q-button-group",removeButton:"q-remove-button",switchGroup:"q-switch-group",switchLabel:"q-switch-label",switchRadio:"q-switch-radio",rightAlign:"q-right-align",transition:"q-transition",collapsed:"q-collapsed",treeContainer:"q-tree-container",tree:"q-tree",row:"q-row",connector:"q-connector",rule:"q-rule",ruleSet:"q-ruleset",invalidRuleSet:"q-invalid-ruleset",emptyWarning:"q-empty-warning",fieldControl:"q-field-control",fieldControlSize:"q-control-size",entityControl:"q-entity-control",entityControlSize:"q-control-size",operatorControl:"q-operator-control",operatorControlSize:"q-control-size",inputControl:"q-input-control",inputControlSize:"q-control-size"},this.defaultOperatorMap={string:["=","!=","contains","like"],number:["=","!=",">",">=","<","<="],time:["=","!=",">",">=","<","<="],date:["=","!=",">",">=","<","<="],category:["=","!=","in","not in"],boolean:["="]},this.data={condition:"and",rules:[]},this.allowRuleset=!0,this.allowCollapse=!1,this.emptyMessage="A ruleset cannot be empty. Please add a rule or remove it all together.",this.config={fields:{}},this.persistValueOnFieldChange=!1,this.defaultTemplateTypes=["string","number","time","date","category","boolean","multiselect"],this.defaultPersistValueTypes=["string","number","time","date","boolean"],this.defaultEmptyList=[],this.inputContextCache=new Map,this.operatorContextCache=new Map,this.fieldContextCache=new Map,this.entityContextCache=new Map,this.removeButtonContextCache=new Map,this.getDisabledState=function(){return e.disabled}}return t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(n){var e=this.config,r=typeof e;if("object"!==r)throw new Error("Expected 'config' must be a valid object, got "+r+" instead.");this.fields=Object.keys(e.fields).map(function(o){var s=e.fields[o];return s.value=s.value||o,s}),this.entities=e.entities?Object.keys(e.entities).map(function(o){var s=e.entities[o];return s.value=s.value||o,s}):null,this.operatorsCache={}},t.prototype.validate=function(n){var e={},r=[],o=!1;return!this.config.allowEmptyRulesets&&this.checkEmptyRuleInRuleset(this.data)&&(e.empty="Empty rulesets are not allowed.",o=!0),this.validateRulesInRuleset(this.data,r),r.length&&(e.rules=r,o=!0),o?e:null},Object.defineProperty(t.prototype,"value",{get:function(){return this.data},set:function(n){this.data=n||{condition:"and",rules:[]},this.handleDataChange()},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(n){this.value=n},t.prototype.registerOnChange=function(n){var e=this;this.onChangeCallback=function(){return n(e.data)}},t.prototype.registerOnTouched=function(n){var e=this;this.onTouchedCallback=function(){return n(e.data)}},t.prototype.setDisabledState=function(n){this.disabled=n,this.changeDetectorRef.detectChanges()},t.prototype.findTemplateForRule=function(n){var e=this.getInputType(n.field,n.operator);if(e){var r=this.findQueryInput(e);return r?r.template:(-1===this.defaultTemplateTypes.indexOf(e)&&console.warn("Could not find template for field with type: "+e),null)}},t.prototype.findQueryInput=function(n){return(this.parentInputTemplates||this.inputTemplates).find(function(r){return r.queryInputType===n})},t.prototype.getOperators=function(n){if(this.operatorsCache[n])return this.operatorsCache[n];var e=this.defaultEmptyList,r=this.config.fields[n];if(this.config.getOperators)return this.config.getOperators(n,r);var o=r.type;return r&&r.operators?e=r.operators:o?(0===(e=this.operatorMap&&this.operatorMap[o]||this.defaultOperatorMap[o]||this.defaultEmptyList).length&&console.warn("No operators found for field '"+n+"' with type "+r.type+". Please define an 'operators' property on the field or use the 'operatorMap' binding to fix this."),r.nullable&&(e=e.concat(["is null","is not null"]))):console.warn("No 'type' property found on field: '"+n+"'"),this.operatorsCache[n]=e,e},t.prototype.getFields=function(n){return this.entities&&n?this.fields.filter(function(e){return e&&e.entity===n}):this.fields},t.prototype.getInputType=function(n,e){if(this.config.getInputType)return this.config.getInputType(n,e);if(!this.config.fields[n])throw new Error("No configuration for field '"+n+"' could be found! Please add it to config.fields.");var r=this.config.fields[n].type;switch(e){case"is null":case"is not null":return null;case"in":case"not in":return"category"===r||"boolean"===r?"multiselect":r;default:return r}},t.prototype.getOptions=function(n){return this.config.getOptions?this.config.getOptions(n):this.config.fields[n].options||this.defaultEmptyList},t.prototype.getClassNames=function(){for(var n=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=this.classNames?this.classNames:this.defaultClassNames,s=e.map(function(l){return o[l]||n.defaultClassNames[l]}).filter(function(l){return!!l});return s.length?s.join(" "):null},t.prototype.getDefaultField=function(n){if(n){if(void 0!==n.defaultField)return this.getDefaultValue(n.defaultField);var e=this.fields.filter(function(r){return r&&r.entity===n.value});return e&&e.length?e[0]:(console.warn("No fields found for entity '"+n.name+"'. A 'defaultOperator' is also not specified on the field config. Operator value will default to null."),null)}return null},t.prototype.getDefaultOperator=function(n){if(n&&void 0!==n.defaultOperator)return this.getDefaultValue(n.defaultOperator);var e=this.getOperators(n.value);return e&&e.length?e[0]:(console.warn("No operators found for field '"+n.value+"'. A 'defaultOperator' is also not specified on the field config. Operator value will default to null."),null)},t.prototype.addRule=function(n){if(!this.disabled){if(n=n||this.data,this.config.addRule)this.config.addRule(n);else{var e=this.fields[0];n.rules=n.rules.concat([{field:e.value,operator:this.getDefaultOperator(e),value:this.getDefaultValue(e.defaultValue),entity:e.entity}])}this.handleTouched(),this.handleDataChange()}},t.prototype.removeRule=function(n,e){this.disabled||(e=e||this.data,this.config.removeRule?this.config.removeRule(n,e):e.rules=e.rules.filter(function(r){return r!==n}),this.inputContextCache.delete(n),this.operatorContextCache.delete(n),this.fieldContextCache.delete(n),this.entityContextCache.delete(n),this.removeButtonContextCache.delete(n),this.handleTouched(),this.handleDataChange())},t.prototype.addRuleSet=function(n){this.disabled||(n=n||this.data,this.config.addRuleSet?this.config.addRuleSet(n):n.rules=n.rules.concat([{condition:"and",rules:[]}]),this.handleTouched(),this.handleDataChange())},t.prototype.removeRuleSet=function(n,e){this.disabled||(n=n||this.data,e=e||this.parentValue,this.config.removeRuleSet?this.config.removeRuleSet(n,e):e.rules=e.rules.filter(function(r){return r!==n}),this.handleTouched(),this.handleDataChange())},t.prototype.transitionEnd=function(n){this.treeContainer.nativeElement.style.maxHeight=null},t.prototype.toggleCollapse=function(){var n=this;this.computedTreeContainerHeight(),setTimeout(function(){n.data.collapsed=!n.data.collapsed},100)},t.prototype.computedTreeContainerHeight=function(){var n=this.treeContainer.nativeElement;n&&n.firstElementChild&&(n.style.maxHeight=n.firstElementChild.clientHeight+8+"px")},t.prototype.changeCondition=function(n){this.disabled||(this.data.condition=n,this.handleTouched(),this.handleDataChange())},t.prototype.changeOperator=function(n){this.disabled||(n.value=this.config.coerceValueForOperator?this.config.coerceValueForOperator(n.operator,n.value,n):this.coerceValueForOperator(n.operator,n.value,n),this.handleTouched(),this.handleDataChange())},t.prototype.coerceValueForOperator=function(n,e,r){return"multiselect"!==this.getInputType(r.field,n)||Array.isArray(e)?e:[e]},t.prototype.changeInput=function(){this.disabled||(this.handleTouched(),this.handleDataChange())},t.prototype.changeField=function(n,e){if(!this.disabled){var r=this.inputContextCache.get(e),s=this.config.fields[n],l=this.calculateFieldChangeValue(r&&r.field,s,e.value);void 0!==l?e.value=l:delete e.value,e.operator=this.getDefaultOperator(s),this.inputContextCache.delete(e),this.operatorContextCache.delete(e),this.fieldContextCache.delete(e),this.entityContextCache.delete(e),this.getInputContext(e),this.getFieldContext(e),this.getOperatorContext(e),this.getEntityContext(e),this.handleTouched(),this.handleDataChange()}},t.prototype.changeEntity=function(n,e,r,o){if(!this.disabled){var s=r,l=o,u=this.entities.find(function(f){return f.value===n}),p=this.getDefaultField(u);l||(s=(l=this.data).rules.findIndex(function(f){return f===e})),e.field=p.value,l.rules[s]=e,p?this.changeField(p.value,e):(this.handleTouched(),this.handleDataChange())}},t.prototype.getDefaultValue=function(n){return"function"==typeof n?n():n},t.prototype.getOperatorTemplate=function(){var n=this.parentOperatorTemplate||this.operatorTemplate;return n?n.template:null},t.prototype.getFieldTemplate=function(){var n=this.parentFieldTemplate||this.fieldTemplate;return n?n.template:null},t.prototype.getEntityTemplate=function(){var n=this.parentEntityTemplate||this.entityTemplate;return n?n.template:null},t.prototype.getArrowIconTemplate=function(){var n=this.parentArrowIconTemplate||this.arrowIconTemplate;return n?n.template:null},t.prototype.getButtonGroupTemplate=function(){var n=this.parentButtonGroupTemplate||this.buttonGroupTemplate;return n?n.template:null},t.prototype.getSwitchGroupTemplate=function(){var n=this.parentSwitchGroupTemplate||this.switchGroupTemplate;return n?n.template:null},t.prototype.getRemoveButtonTemplate=function(){var n=this.parentRemoveButtonTemplate||this.removeButtonTemplate;return n?n.template:null},t.prototype.getEmptyWarningTemplate=function(){var n=this.parentEmptyWarningTemplate||this.emptyWarningTemplate;return n?n.template:null},t.prototype.getQueryItemClassName=function(n){var e=this.getClassNames("row","connector","transition");return e+=" "+this.getClassNames(n.ruleset?"ruleSet":"rule"),n.invalid&&(e+=" "+this.getClassNames("invalidRuleSet")),e},t.prototype.getButtonGroupContext=function(){return this.buttonGroupContext||(this.buttonGroupContext={addRule:this.addRule.bind(this),addRuleSet:this.allowRuleset&&this.addRuleSet.bind(this),removeRuleSet:this.allowRuleset&&this.parentValue&&this.removeRuleSet.bind(this),getDisabledState:this.getDisabledState,$implicit:this.data}),this.buttonGroupContext},t.prototype.getRemoveButtonContext=function(n){return this.removeButtonContextCache.has(n)||this.removeButtonContextCache.set(n,{removeRule:this.removeRule.bind(this),getDisabledState:this.getDisabledState,$implicit:n}),this.removeButtonContextCache.get(n)},t.prototype.getFieldContext=function(n){return this.fieldContextCache.has(n)||this.fieldContextCache.set(n,{onChange:this.changeField.bind(this),getFields:this.getFields.bind(this),getDisabledState:this.getDisabledState,fields:this.fields,$implicit:n}),this.fieldContextCache.get(n)},t.prototype.getEntityContext=function(n){return this.entityContextCache.has(n)||this.entityContextCache.set(n,{onChange:this.changeEntity.bind(this),getDisabledState:this.getDisabledState,entities:this.entities,$implicit:n}),this.entityContextCache.get(n)},t.prototype.getSwitchGroupContext=function(){return{onChange:this.changeCondition.bind(this),getDisabledState:this.getDisabledState,$implicit:this.data}},t.prototype.getArrowIconContext=function(){return{getDisabledState:this.getDisabledState,$implicit:this.data}},t.prototype.getEmptyWarningContext=function(){return{getDisabledState:this.getDisabledState,message:this.emptyMessage,$implicit:this.data}},t.prototype.getOperatorContext=function(n){return this.operatorContextCache.has(n)||this.operatorContextCache.set(n,{onChange:this.changeOperator.bind(this),getDisabledState:this.getDisabledState,operators:this.getOperators(n.field),$implicit:n}),this.operatorContextCache.get(n)},t.prototype.getInputContext=function(n){return this.inputContextCache.has(n)||this.inputContextCache.set(n,{onChange:this.changeInput.bind(this),getDisabledState:this.getDisabledState,options:this.getOptions(n.field),field:this.config.fields[n.field],$implicit:n}),this.inputContextCache.get(n)},t.prototype.calculateFieldChangeValue=function(n,e,r){return null!=this.config.calculateFieldChangeValue?this.config.calculateFieldChangeValue(n,e,r):this.persistValueOnFieldChange&&null!=n&&null!=e&&n.type===e.type&&-1!==this.defaultPersistValueTypes.indexOf(n.type)?r:e&&void 0!==e.defaultValue?this.getDefaultValue(e.defaultValue):void 0},t.prototype.checkEmptyRuleInRuleset=function(n){var e=this;return!n||!n.rules||0===n.rules.length||n.rules.some(function(r){return!!r.rules&&e.checkEmptyRuleInRuleset(r)})},t.prototype.validateRulesInRuleset=function(n,e){var r=this;n&&n.rules&&n.rules.length>0&&n.rules.forEach(function(o){if(o.rules)return r.validateRulesInRuleset(o,e);if(o.field){var s=r.config.fields[o.field];if(s&&s.validator&&s.validator.apply){var l=s.validator(o,n);null!=l&&e.push(l)}}})},t.prototype.handleDataChange=function(){this.changeDetectorRef.markForCheck(),this.onChangeCallback&&this.onChangeCallback(),this.parentChangeCallback&&this.parentChangeCallback()},t.prototype.handleTouched=function(){this.onTouchedCallback&&this.onTouchedCallback(),this.parentTouchedCallback&&this.parentTouchedCallback()},t.ctorParameters=function(){return[{type:a.ChangeDetectorRef}]},mn([(0,a.Input)(),pn("design:type",Boolean)],t.prototype,"disabled",void 0),mn([(0,a.Input)(),pn("design:type",Object)],t.prototype,"data",void 0),mn([(0,a.Input)(),pn("design:type",Boolean)],t.prototype,"allowRuleset",void 0),mn([(0,a.Input)(),pn("design:type",Boolean)],t.prototype,"allowCollapse",void 0),mn([(0,a.Input)(),pn("design:type",String)],t.prototype,"emptyMessage",void 0),mn([(0,a.Input)(),pn("design:type",Object)],t.prototype,"classNames",void 0),mn([(0,a.Input)(),pn("design:type",Object)],t.prototype,"operatorMap",void 0),mn([(0,a.Input)(),pn("design:type",Object)],t.prototype,"parentValue",void 0),mn([(0,a.Input)(),pn("design:type",Object)],t.prototype,"config",void 0),mn([(0,a.Input)(),pn("design:type",Sh)],t.prototype,"parentArrowIconTemplate",void 0),mn([(0,a.Input)(),pn("design:type",a.QueryList)],t.prototype,"parentInputTemplates",void 0),mn([(0,a.Input)(),pn("design:type",yh)],t.prototype,"parentOperatorTemplate",void 0),mn([(0,a.Input)(),pn("design:type",vh)],t.prototype,"parentFieldTemplate",void 0),mn([(0,a.Input)(),pn("design:type",_h)],t.prototype,"parentEntityTemplate",void 0),mn([(0,a.Input)(),pn("design:type",bh)],t.prototype,"parentSwitchGroupTemplate",void 0),mn([(0,a.Input)(),pn("design:type",wh)],t.prototype,"parentButtonGroupTemplate",void 0),mn([(0,a.Input)(),pn("design:type",Ch)],t.prototype,"parentRemoveButtonTemplate",void 0),mn([(0,a.Input)(),pn("design:type",xh)],t.prototype,"parentEmptyWarningTemplate",void 0),mn([(0,a.Input)(),pn("design:type",Function)],t.prototype,"parentChangeCallback",void 0),mn([(0,a.Input)(),pn("design:type",Function)],t.prototype,"parentTouchedCallback",void 0),mn([(0,a.Input)(),pn("design:type",Boolean)],t.prototype,"persistValueOnFieldChange",void 0),mn([(0,a.ViewChild)("treeContainer",{static:!0}),pn("design:type",a.ElementRef)],t.prototype,"treeContainer",void 0),mn([(0,a.ContentChild)(wh),pn("design:type",wh)],t.prototype,"buttonGroupTemplate",void 0),mn([(0,a.ContentChild)(bh),pn("design:type",bh)],t.prototype,"switchGroupTemplate",void 0),mn([(0,a.ContentChild)(vh),pn("design:type",vh)],t.prototype,"fieldTemplate",void 0),mn([(0,a.ContentChild)(_h),pn("design:type",_h)],t.prototype,"entityTemplate",void 0),mn([(0,a.ContentChild)(yh),pn("design:type",yh)],t.prototype,"operatorTemplate",void 0),mn([(0,a.ContentChild)(Ch),pn("design:type",Ch)],t.prototype,"removeButtonTemplate",void 0),mn([(0,a.ContentChild)(xh),pn("design:type",xh)],t.prototype,"emptyWarningTemplate",void 0),mn([(0,a.ContentChildren)(iC),pn("design:type",a.QueryList)],t.prototype,"inputTemplates",void 0),mn([(0,a.ContentChild)(Sh),pn("design:type",Sh)],t.prototype,"arrowIconTemplate",void 0),mn([(0,a.Input)(),pn("design:type",Object),pn("design:paramtypes",[Object])],t.prototype,"value",null),(t=mn([pn("design:paramtypes",[a.ChangeDetectorRef])],t)).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.ChangeDetectorRef))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["query-builder"]],contentQueries:function(e,r,o){var s;1&e&&(a.\u0275\u0275contentQuery(o,wh,5),a.\u0275\u0275contentQuery(o,bh,5),a.\u0275\u0275contentQuery(o,vh,5),a.\u0275\u0275contentQuery(o,_h,5),a.\u0275\u0275contentQuery(o,yh,5),a.\u0275\u0275contentQuery(o,Ch,5),a.\u0275\u0275contentQuery(o,xh,5),a.\u0275\u0275contentQuery(o,Sh,5),a.\u0275\u0275contentQuery(o,iC,4)),2&e&&(a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(r.buttonGroupTemplate=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(r.switchGroupTemplate=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(r.fieldTemplate=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(r.entityTemplate=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(r.operatorTemplate=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(r.removeButtonTemplate=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(r.emptyWarningTemplate=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(r.arrowIconTemplate=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(r.inputTemplates=s))},viewQuery:function(e,r){var o;1&e&&a.\u0275\u0275viewQuery(ED,7),2&e&&a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.treeContainer=o.first)},inputs:{data:"data",allowRuleset:"allowRuleset",allowCollapse:"allowCollapse",emptyMessage:"emptyMessage",config:"config",persistValueOnFieldChange:"persistValueOnFieldChange",value:"value",disabled:"disabled",classNames:"classNames",operatorMap:"operatorMap",parentValue:"parentValue",parentArrowIconTemplate:"parentArrowIconTemplate",parentInputTemplates:"parentInputTemplates",parentOperatorTemplate:"parentOperatorTemplate",parentFieldTemplate:"parentFieldTemplate",parentEntityTemplate:"parentEntityTemplate",parentSwitchGroupTemplate:"parentSwitchGroupTemplate",parentButtonGroupTemplate:"parentButtonGroupTemplate",parentRemoveButtonTemplate:"parentRemoveButtonTemplate",parentEmptyWarningTemplate:"parentEmptyWarningTemplate",parentChangeCallback:"parentChangeCallback",parentTouchedCallback:"parentTouchedCallback"},features:[a.\u0275\u0275ProvidersFeature([E3,A3]),a.\u0275\u0275NgOnChangesFeature],decls:13,vars:8,consts:[[3,"ngClass"],["defaultArrowIcon",""],[3,"ngClass","click",4,"ngIf"],[4,"ngIf","ngIfElse"],["defaultButtonGroup",""],["defaultSwitchGroup",""],[3,"ngClass","transitionend"],["treeContainer",""],[3,"ngClass",4,"ngIf"],[3,"ngClass","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"ngClass","disabled","click"],["type","button",3,"ngClass","disabled","click",4,"ngIf"],[4,"ngIf"],["type","radio","value","and",3,"ngClass","ngModel","disabled","ngModelChange"],["andOption",""],["type","radio","value","or",3,"ngClass","ngModel","disabled","ngModelChange"],["orOption",""],[4,"ngFor","ngForOf"],[3,"data","disabled","parentTouchedCallback","parentChangeCallback","parentInputTemplates","parentOperatorTemplate","parentFieldTemplate","parentEntityTemplate","parentSwitchGroupTemplate","parentButtonGroupTemplate","parentRemoveButtonTemplate","parentEmptyWarningTemplate","parentArrowIconTemplate","parentValue","classNames","config","allowRuleset","allowCollapse","emptyMessage","operatorMap",4,"ngIf"],["defaultEmptyWarning",""],["defaultRemoveButton",""],["class","q-inline-block-display",4,"ngIf"],["defaultEntity",""],["defaultField",""],["defaultOperator",""],["defaultInput",""],[1,"q-inline-block-display"],[3,"ngClass","ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[3,"ngClass","ngSwitch"],["type","text",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","number",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","date",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","time",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],[3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],[4,"ngSwitchCase"],["type","checkbox",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","text",3,"ngClass","ngModel","disabled","ngModelChange"],["type","number",3,"ngClass","ngModel","disabled","ngModelChange"],["type","date",3,"ngClass","ngModel","disabled","ngModelChange"],["type","time",3,"ngClass","ngModel","disabled","ngModelChange"],["multiple","",3,"ngClass","ngModel","disabled","ngModelChange"],["type","checkbox",3,"ngClass","ngModel","disabled","ngModelChange"],[3,"data","disabled","parentTouchedCallback","parentChangeCallback","parentInputTemplates","parentOperatorTemplate","parentFieldTemplate","parentEntityTemplate","parentSwitchGroupTemplate","parentButtonGroupTemplate","parentRemoveButtonTemplate","parentEmptyWarningTemplate","parentArrowIconTemplate","parentValue","classNames","config","allowRuleset","allowCollapse","emptyMessage","operatorMap"]],template:function(e,r){if(1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275template(1,AD,1,1,"ng-template",null,1,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275template(3,TD,2,3,"a",2),a.\u0275\u0275template(4,VD,3,3,"ng-container",3),a.\u0275\u0275template(5,OD,6,6,"ng-template",null,4,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275template(7,MD,2,2,"ng-container",3),a.\u0275\u0275template(8,jD,1,1,"ng-template",null,5,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"div",6,7),a.\u0275\u0275listener("transitionend",function(u){return r.transitionEnd(u)}),a.\u0275\u0275template(12,S3,2,2,"ul",8),a.\u0275\u0275elementEnd()),2&e){var o=a.\u0275\u0275reference(6),s=a.\u0275\u0275reference(9);a.\u0275\u0275property("ngClass",r.getClassNames("switchRow")),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",r.allowCollapse),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.getButtonGroupTemplate())("ngIfElse",o),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",r.getSwitchGroupTemplate())("ngIfElse",s),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngClass",r.getClassNames("treeContainer",r.data.collapsed?"collapsed":null)),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",r.data&&r.data.rules)}},directives:[x.NgClass,x.NgIf,x.NgTemplateOutlet,d._,d.Fj,d.JJ,d.On,x.NgForOf,d.EJ,d.YN,d.Kr,x.NgSwitch,x.NgSwitchCase,d.wV,d.K7,d.Wl,t],styles:["@charset \"UTF-8\";[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .q-icon[_ngcontent-%COMP%]{font-style:normal;font-size:12px}[_nghost-%COMP%]   .q-remove-icon[_ngcontent-%COMP%]::before{content:'\u274c'}[_nghost-%COMP%]   .q-arrow-icon-button[_ngcontent-%COMP%]{float:left;margin:4px 6px 4px 0;-webkit-transform:rotate(90deg);transform:rotate(90deg);-webkit-transition:transform .25s linear;transition:transform .25s linear;cursor:pointer}[_nghost-%COMP%]   .q-arrow-icon-button.q-collapsed[_ngcontent-%COMP%]{-webkit-transform:rotate(0);transform:rotate(0)}[_nghost-%COMP%]   .q-arrow-icon[_ngcontent-%COMP%]::before{content:'\u25b6'}[_nghost-%COMP%]   .q-add-icon[_ngcontent-%COMP%]{color:#555}[_nghost-%COMP%]   .q-add-icon[_ngcontent-%COMP%]::before{content:'\u2795'}[_nghost-%COMP%]   .q-remove-button[_ngcontent-%COMP%]{color:#b3415d;width:31px}[_nghost-%COMP%]   .q-button-group[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-switch-group[_ngcontent-%COMP%]{font-family:\"Lucida Grande\",Tahoma,Verdana,sans-serif;overflow:hidden}[_nghost-%COMP%]   .q-right-align[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]{margin-left:8px;padding:0 8px;background-color:#fff}[_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]:disabled{display:none}[_nghost-%COMP%]   .q-control-size[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;padding-right:10px}[_nghost-%COMP%]   .q-entity-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-field-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-input-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-operator-control[_ngcontent-%COMP%]{display:inline-block;padding:5px 8px;color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;width:auto}[_nghost-%COMP%]   .q-entity-control[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .q-field-control[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .q-input-control[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .q-operator-control[_ngcontent-%COMP%]:disabled{border-color:transparent}[_nghost-%COMP%]   .q-entity-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-field-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-input-control[_ngcontent-%COMP%]:not([type=checkbox]), [_nghost-%COMP%]   .q-operator-control[_ngcontent-%COMP%]{min-height:32px;-webkit-appearance:none}[_nghost-%COMP%]   .q-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-switch-label[_ngcontent-%COMP%]{float:left;margin-bottom:0;font-size:14px;line-height:30px;font-weight:400;text-align:center;text-shadow:none;border:1px solid rgba(0,0,0,.2);box-sizing:border-box}[_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .q-switch-label[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f0f0f0}[_nghost-%COMP%]   .q-switch-label[_ngcontent-%COMP%]{background-color:#e4e4e4;padding:0 8px}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]{position:absolute;clip:rect(0,0,0,0);height:1px;width:1px;border:0;overflow:hidden}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]:checked + .q-switch-label[_ngcontent-%COMP%]{border:1px solid #619ed7;background:#fff;color:#3176b3}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]:disabled + .q-switch-label[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]:checked:disabled + .q-switch-label[_ngcontent-%COMP%]{display:initial;color:initial;cursor:default;border-color:transparent}[_nghost-%COMP%]   .q-invalid-ruleset[_ngcontent-%COMP%]{border:1px solid rgba(179,65,93,.5)!important;background:rgba(179,65,93,.1)!important}[_nghost-%COMP%]   .q-empty-warning[_ngcontent-%COMP%]{color:#8d252e;text-align:center}[_nghost-%COMP%]   .q-ruleset[_ngcontent-%COMP%]{border:1px solid #ccc}[_nghost-%COMP%]   .q-rule[_ngcontent-%COMP%]{border:1px solid #ccc;background:#fff}[_nghost-%COMP%]   .q-transition[_ngcontent-%COMP%]{-webkit-transition:.1s ease-in-out;transition:.1s ease-in-out}[_nghost-%COMP%]   .q-tree-container[_ngcontent-%COMP%]{width:100%;overflow:hidden;-webkit-transition:max-height .25s ease-in;transition:max-height .25s ease-in}[_nghost-%COMP%]   .q-tree-container.q-collapsed[_ngcontent-%COMP%]{max-height:0!important}[_nghost-%COMP%]   .q-tree[_ngcontent-%COMP%]{list-style:none;margin:4px 0 2px}[_nghost-%COMP%]   .q-row[_ngcontent-%COMP%]{padding:6px 8px;margin-top:6px}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]::before{top:-5px;border-width:0 0 2px 2px}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]::after{border-width:0 0 0 2px;top:50%}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]::after, [_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]::before{content:'';left:-12px;border-color:#ccc;border-style:solid;width:9px;height:calc(50% + 6px);position:absolute}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:last-child::after{content:none}[_nghost-%COMP%]   .q-inline-block-display[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}"]}),t}(),I3=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,d.u5]]}),t}();function P3(t,n){if(1&t&&a.\u0275\u0275element(0,"div",3),2&t){const e=n.index,r=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngStyle",r.gridRenderer.getGridColumnStyle(e))}}function T3(t,n){if(1&t&&a.\u0275\u0275element(0,"div",4),2&t){const e=n.index,r=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngStyle",r.gridRenderer.getGridRowStyle(e))}}const aC=["*"];function k3(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",8),a.\u0275\u0275listener("mousedown",function(o){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().resize.dragStartDelay(o)})("touchstart",function(o){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().resize.dragStartDelay(o)}),a.\u0275\u0275elementEnd()}}function V3(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",9),a.\u0275\u0275listener("mousedown",function(o){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().resize.dragStartDelay(o)})("touchstart",function(o){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().resize.dragStartDelay(o)}),a.\u0275\u0275elementEnd()}}function R3(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",10),a.\u0275\u0275listener("mousedown",function(o){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().resize.dragStartDelay(o)})("touchstart",function(o){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().resize.dragStartDelay(o)}),a.\u0275\u0275elementEnd()}}function N3(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",11),a.\u0275\u0275listener("mousedown",function(o){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().resize.dragStartDelay(o)})("touchstart",function(o){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().resize.dragStartDelay(o)}),a.\u0275\u0275elementEnd()}}function O3(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",12),a.\u0275\u0275listener("mousedown",function(o){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().resize.dragStartDelay(o)})("touchstart",function(o){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().resize.dragStartDelay(o)}),a.\u0275\u0275elementEnd()}}function F3(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",13),a.\u0275\u0275listener("mousedown",function(o){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().resize.dragStartDelay(o)})("touchstart",function(o){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().resize.dragStartDelay(o)}),a.\u0275\u0275elementEnd()}}function M3(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",14),a.\u0275\u0275listener("mousedown",function(o){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().resize.dragStartDelay(o)})("touchstart",function(o){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().resize.dragStartDelay(o)}),a.\u0275\u0275elementEnd()}}function D3(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",15),a.\u0275\u0275listener("mousedown",function(o){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().resize.dragStartDelay(o)})("touchstart",function(o){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().resize.dragStartDelay(o)}),a.\u0275\u0275elementEnd()}}var En=(()=>{return(t=En||(En={})).Fit="fit",t.ScrollVertical="scrollVertical",t.ScrollHorizontal="scrollHorizontal",t.Fixed="fixed",t.VerticalFixed="verticalFixed",t.HorizontalFixed="horizontalFixed",En;var t})(),Bf=(()=>{return(t=Bf||(Bf={})).Always="always",t.OnDragAndResize="onDrag&Resize",t.None="none",Bf;var t})(),rr=(()=>{return(t=rr||(rr={})).None="none",t.CompactUp="compactUp",t.CompactLeft="compactLeft",t.CompactUpAndLeft="compactUp&Left",t.CompactLeftAndUp="compactLeft&Up",t.CompactRight="compactRight",t.CompactUpAndRight="compactUp&Right",t.CompactRightAndUp="compactRight&Up",t.CompactDown="compactDown",t.CompactDownAndLeft="compactDown&Left",t.CompactLeftAndDown="compactLeft&Down",t.CompactDownAndRight="compactDown&Right",t.CompactRightAndDown="compactRight&Down",rr;var t})(),Qr=(()=>{return(t=Qr||(Qr={})).LTR="ltr",t.RTL="rtl",Qr;var t})();class j3{constructor(n){this.gridster=n}destroy(){delete this.gridster}checkCompact(){this.gridster.$options.compactType!==rr.None&&(this.gridster.$options.compactType===rr.CompactUp?this.checkCompactMovement("y",-1):this.gridster.$options.compactType===rr.CompactLeft?this.checkCompactMovement("x",-1):this.gridster.$options.compactType===rr.CompactUpAndLeft?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===rr.CompactLeftAndUp?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===rr.CompactRight?this.checkCompactMovement("x",1):this.gridster.$options.compactType===rr.CompactUpAndRight?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===rr.CompactRightAndUp?(this.checkCompactMovement("x",1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===rr.CompactDown?this.checkCompactMovement("y",1):this.gridster.$options.compactType===rr.CompactDownAndLeft?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===rr.CompactDownAndRight?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===rr.CompactLeftAndDown?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",1)):this.gridster.$options.compactType===rr.CompactRightAndDown&&(this.checkCompactMovement("x",1),this.checkCompactMovement("y",1)))}checkCompactItem(n){this.gridster.$options.compactType!==rr.None&&(this.gridster.$options.compactType===rr.CompactUp?this.moveTillCollision(n,"y",-1):this.gridster.$options.compactType===rr.CompactLeft?this.moveTillCollision(n,"x",-1):this.gridster.$options.compactType===rr.CompactUpAndLeft?(this.moveTillCollision(n,"y",-1),this.moveTillCollision(n,"x",-1)):this.gridster.$options.compactType===rr.CompactLeftAndUp?(this.moveTillCollision(n,"x",-1),this.moveTillCollision(n,"y",-1)):this.gridster.$options.compactType===rr.CompactUpAndRight?(this.moveTillCollision(n,"y",-1),this.moveTillCollision(n,"x",1)):this.gridster.$options.compactType===rr.CompactDown?this.moveTillCollision(n,"y",1):this.gridster.$options.compactType===rr.CompactDownAndLeft?(this.moveTillCollision(n,"y",1),this.moveTillCollision(n,"x",-1)):this.gridster.$options.compactType===rr.CompactLeftAndDown?(this.moveTillCollision(n,"x",-1),this.moveTillCollision(n,"y",1)):this.gridster.$options.compactType===rr.CompactDownAndRight?(this.moveTillCollision(n,"y",1),this.moveTillCollision(n,"x",1)):this.gridster.$options.compactType===rr.CompactRightAndDown&&(this.moveTillCollision(n,"x",1),this.moveTillCollision(n,"y",1)))}checkCompactMovement(n,e){let r=!1;this.gridster.grid.forEach(o=>{!1!==o.$item.compactEnabled&&this.moveTillCollision(o.$item,n,e)&&(r=!0,o.item[n]=o.$item[n],o.itemChanged())}),r&&this.checkCompact()}moveTillCollision(n,e,r){return n[e]+=r,this.gridster.checkCollision(n)?(n[e]-=r,!1):(this.moveTillCollision(n,e,r),!0)}}const B3={gridType:En.Fit,scale:1,fixedColWidth:250,fixedRowHeight:250,keepFixedHeightInMobile:!1,keepFixedWidthInMobile:!1,setGridSize:!1,compactType:rr.None,mobileBreakpoint:640,allowMultiLayer:!1,defaultLayerIndex:0,maxLayerIndex:2,baseLayerIndex:1,minCols:1,maxCols:100,minRows:1,maxRows:100,defaultItemCols:1,defaultItemRows:1,maxItemCols:50,maxItemRows:50,minItemCols:1,minItemRows:1,minItemArea:1,maxItemArea:2500,addEmptyRowsCount:0,rowHeightRatio:1,margin:10,outerMargin:!0,outerMarginTop:null,outerMarginRight:null,outerMarginBottom:null,outerMarginLeft:null,useTransformPositioning:!0,scrollSensitivity:10,scrollSpeed:20,initCallback:void 0,destroyCallback:void 0,gridSizeChangedCallback:void 0,itemChangeCallback:void 0,itemResizeCallback:void 0,itemInitCallback:void 0,itemRemovedCallback:void 0,itemValidateCallback:void 0,enableEmptyCellClick:!1,enableEmptyCellContextMenu:!1,enableEmptyCellDrop:!1,enableEmptyCellDrag:!1,enableOccupiedCellDrop:!1,emptyCellClickCallback:void 0,emptyCellContextMenuCallback:void 0,emptyCellDropCallback:void 0,emptyCellDragCallback:void 0,emptyCellDragMaxCols:50,emptyCellDragMaxRows:50,ignoreMarginInRow:!1,draggable:{delayStart:0,enabled:!1,ignoreContentClass:"gridster-item-content",ignoreContent:!1,dragHandleClass:"drag-handler",stop:void 0,start:void 0,dropOverItems:!1,dropOverItemsCallback:void 0},resizable:{delayStart:0,enabled:!1,handles:{s:!0,e:!0,n:!0,w:!0,se:!0,ne:!0,sw:!0,nw:!0},stop:void 0,start:void 0},swap:!0,swapWhileDragging:!1,pushItems:!1,disablePushOnDrag:!1,disablePushOnResize:!1,pushDirections:{north:!0,east:!0,south:!0,west:!0},pushResizeItems:!1,displayGrid:Bf.OnDragAndResize,disableWindowResize:!1,disableWarnings:!1,scrollToNewItems:!1,disableScrollHorizontal:!1,disableScrollVertical:!1,disableAutoPositionOnConflict:!1,dirType:Qr.LTR};class Ir{static merge(n,e,r){for(const o in e)void 0!==e[o]&&r.hasOwnProperty(o)&&(n[o]="object"==typeof e[o]?Ir.merge(n[o],e[o],r[o]):e[o]);return n}static debounce(n,e){let r;return function(){const o=this,s=arguments,l=()=>{r=void 0,n.apply(o,s)};clearTimeout(r),r=setTimeout(l,e)}}static checkTouchEvent(n){void 0===n.clientX&&n.touches&&(n.touches&&n.touches.length?(n.clientX=n.touches[0].clientX,n.clientY=n.touches[0].clientY):n.changedTouches&&n.changedTouches.length&&(n.clientX=n.changedTouches[0].clientX,n.clientY=n.changedTouches[0].clientY))}static checkContentClassForEvent(n,e){if(n.$options.draggable.ignoreContent){if(!Ir.checkDragHandleClass(e.target,e.currentTarget,n.$options.draggable.dragHandleClass,n.$options.draggable.ignoreContentClass))return!0}else if(Ir.checkContentClass(e.target,e.currentTarget,n.$options.draggable.ignoreContentClass))return!0;return!1}static checkContentClassForEmptyCellClickEvent(n,e){return Ir.checkContentClass(e.target,e.currentTarget,n.$options.draggable.ignoreContentClass)||Ir.checkContentClass(e.target,e.currentTarget,n.$options.draggable.dragHandleClass)}static checkDragHandleClass(n,e,r,o){if(!n||n===e)return!1;if(n.hasAttribute("class")){const s=n.getAttribute("class").split(" ");if(s.indexOf(r)>-1)return!0;if(s.indexOf(o)>-1)return!1}return Ir.checkDragHandleClass(n.parentNode,e,r,o)}static checkContentClass(n,e,r){return!(!n||n===e)&&(!!(n.hasAttribute("class")&&n.getAttribute("class").split(" ").indexOf(r)>-1)||Ir.checkContentClass(n.parentNode,e,r))}static compareItems(n,e){return n.y>e.y?-1:n.y<e.y?1:n.x>e.x?-1:1}}class L3{constructor(n){this.gridster=n}destroy(){delete this.initialItem,delete this.gridster.movingItem,this.gridster.previewStyle&&this.gridster.previewStyle(),delete this.gridster,this.emptyCellExit&&(this.emptyCellExit(),this.emptyCellExit=null)}updateOptions(){this.gridster.$options.enableEmptyCellClick&&!this.emptyCellClick&&this.gridster.options.emptyCellClickCallback?(this.emptyCellClick=this.gridster.renderer.listen(this.gridster.el,"click",this.emptyCellClickCb.bind(this)),this.emptyCellClickTouch=this.gridster.renderer.listen(this.gridster.el,"touchend",this.emptyCellClickCb.bind(this))):!this.gridster.$options.enableEmptyCellClick&&this.emptyCellClick&&this.emptyCellClickTouch&&(this.emptyCellClick(),this.emptyCellClickTouch(),this.emptyCellClick=null,this.emptyCellClickTouch=null),this.gridster.$options.enableEmptyCellContextMenu&&!this.emptyCellContextMenu&&this.gridster.options.emptyCellContextMenuCallback?this.emptyCellContextMenu=this.gridster.renderer.listen(this.gridster.el,"contextmenu",this.emptyCellContextMenuCb.bind(this)):!this.gridster.$options.enableEmptyCellContextMenu&&this.emptyCellContextMenu&&(this.emptyCellContextMenu(),this.emptyCellContextMenu=null),this.gridster.$options.enableEmptyCellDrop&&!this.emptyCellDrop&&this.gridster.options.emptyCellDropCallback?(this.emptyCellDrop=this.gridster.renderer.listen(this.gridster.el,"drop",this.emptyCellDragDrop.bind(this)),this.gridster.zone.runOutsideAngular(()=>{this.emptyCellMove=this.gridster.renderer.listen(this.gridster.el,"dragover",this.emptyCellDragOver.bind(this))}),this.emptyCellExit=this.gridster.renderer.listen("document","dragend",()=>{this.gridster.movingItem=null,this.gridster.previewStyle()})):!this.gridster.$options.enableEmptyCellDrop&&this.emptyCellDrop&&this.emptyCellMove&&this.emptyCellExit&&(this.emptyCellDrop(),this.emptyCellMove(),this.emptyCellExit(),this.emptyCellMove=null,this.emptyCellDrop=null,this.emptyCellExit=null),this.gridster.$options.enableEmptyCellDrag&&!this.emptyCellDrag&&this.gridster.options.emptyCellDragCallback?(this.emptyCellDrag=this.gridster.renderer.listen(this.gridster.el,"mousedown",this.emptyCellMouseDown.bind(this)),this.emptyCellDragTouch=this.gridster.renderer.listen(this.gridster.el,"touchstart",this.emptyCellMouseDown.bind(this))):!this.gridster.$options.enableEmptyCellDrag&&this.emptyCellDrag&&this.emptyCellDragTouch&&(this.emptyCellDrag(),this.emptyCellDragTouch(),this.emptyCellDrag=null,this.emptyCellDragTouch=null)}emptyCellClickCb(n){if(!this.gridster||this.gridster.movingItem||Ir.checkContentClassForEmptyCellClickEvent(this.gridster,n))return;const e=this.getValidItemFromEvent(n);!e||(this.gridster.options.emptyCellClickCallback&&this.gridster.options.emptyCellClickCallback(n,e),this.gridster.cdRef.markForCheck())}emptyCellContextMenuCb(n){if(this.gridster.movingItem||Ir.checkContentClassForEmptyCellClickEvent(this.gridster,n))return;n.preventDefault(),n.stopPropagation();const e=this.getValidItemFromEvent(n);!e||(this.gridster.options.emptyCellContextMenuCallback&&this.gridster.options.emptyCellContextMenuCallback(n,e),this.gridster.cdRef.markForCheck())}emptyCellDragDrop(n){const e=this.getValidItemFromEvent(n);!e||(this.gridster.options.emptyCellDropCallback&&this.gridster.options.emptyCellDropCallback(n,e),this.gridster.cdRef.markForCheck())}emptyCellDragOver(n){n.preventDefault(),n.stopPropagation();const e=this.getValidItemFromEvent(n);e?(n.dataTransfer&&(n.dataTransfer.dropEffect="move"),this.gridster.movingItem=e):(n.dataTransfer&&(n.dataTransfer.dropEffect="none"),this.gridster.movingItem=null),this.gridster.previewStyle()}emptyCellMouseDown(n){if(Ir.checkContentClassForEmptyCellClickEvent(this.gridster,n))return;n.preventDefault(),n.stopPropagation();const e=this.getValidItemFromEvent(n);!e||1!==n.buttons&&!(n instanceof TouchEvent)||(this.initialItem=e,this.gridster.movingItem=e,this.gridster.previewStyle(),this.gridster.zone.runOutsideAngular(()=>{this.emptyCellMMove=this.gridster.renderer.listen("window","mousemove",this.emptyCellMouseMove.bind(this)),this.emptyCellMMoveTouch=this.gridster.renderer.listen("window","touchmove",this.emptyCellMouseMove.bind(this))}),this.emptyCellUp=this.gridster.renderer.listen("window","mouseup",this.emptyCellMouseUp.bind(this)),this.emptyCellUpTouch=this.gridster.renderer.listen("window","touchend",this.emptyCellMouseUp.bind(this)))}emptyCellMouseMove(n){n.preventDefault(),n.stopPropagation();const e=this.getValidItemFromEvent(n,this.initialItem);!e||(this.gridster.movingItem=e,this.gridster.previewStyle())}emptyCellMouseUp(n){this.emptyCellMMove(),this.emptyCellMMoveTouch(),this.emptyCellUp(),this.emptyCellUpTouch();const e=this.getValidItemFromEvent(n,this.initialItem);e&&(this.gridster.movingItem=e),this.gridster.options.emptyCellDragCallback&&this.gridster.movingItem&&this.gridster.options.emptyCellDragCallback(n,this.gridster.movingItem),setTimeout(()=>{this.initialItem=null,this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle())}),this.gridster.cdRef.markForCheck()}getPixelsX(n,e){const r=this.gridster.options.scale;return r?(n.clientX-e.left)/r+this.gridster.el.scrollLeft-this.gridster.gridRenderer.getLeftMargin():n.clientX+this.gridster.el.scrollLeft-e.left-this.gridster.gridRenderer.getLeftMargin()}getPixelsY(n,e){const r=this.gridster.options.scale;return r?(n.clientY-e.top)/r+this.gridster.el.scrollTop-this.gridster.gridRenderer.getTopMargin():n.clientY+this.gridster.el.scrollTop-e.top-this.gridster.gridRenderer.getTopMargin()}getValidItemFromEvent(n,e){n.preventDefault(),n.stopPropagation(),Ir.checkTouchEvent(n);const r=this.gridster.el.getBoundingClientRect(),o=this.getPixelsX(n,r),s=this.getPixelsY(n,r),l={x:this.gridster.pixelsToPositionX(o,Math.floor,!0),y:this.gridster.pixelsToPositionY(s,Math.floor,!0),cols:this.gridster.$options.defaultItemCols,rows:this.gridster.$options.defaultItemRows};if(e&&(l.cols=Math.min(Math.abs(e.x-l.x)+1,this.gridster.$options.emptyCellDragMaxCols),l.rows=Math.min(Math.abs(e.y-l.y)+1,this.gridster.$options.emptyCellDragMaxRows),e.x<l.x?l.x=e.x:e.x-l.x>this.gridster.$options.emptyCellDragMaxCols-1&&(l.x=this.gridster.movingItem?this.gridster.movingItem.x:0),e.y<l.y?l.y=e.y:e.y-l.y>this.gridster.$options.emptyCellDragMaxRows-1&&(l.y=this.gridster.movingItem?this.gridster.movingItem.y:0)),this.gridster.$options.enableOccupiedCellDrop||!this.gridster.checkCollision(l))return l}}class U3{constructor(n){this.gridster=n}destroy(){delete this.gridster}updateItem(n,e,r){if(this.gridster.mobile)this.clearCellPosition(r,n),r.setStyle(n,"height",this.gridster.$options.keepFixedHeightInMobile?(e.rows-1)*this.gridster.$options.margin+e.rows*this.gridster.$options.fixedRowHeight+"px":e.rows*this.gridster.curWidth/e.cols+"px"),r.setStyle(n,"width",this.gridster.$options.keepFixedWidthInMobile?this.gridster.$options.fixedColWidth+"px":""),r.setStyle(n,"margin-bottom",this.gridster.$options.margin+"px"),r.setStyle(n,Qr.LTR?"margin-right":"margin-left","");else{const o=Math.round(this.gridster.curColWidth*e.x),s=Math.round(this.gridster.curRowHeight*e.y),l=this.gridster.curColWidth*e.cols-this.gridster.$options.margin,u=this.gridster.curRowHeight*e.rows-this.gridster.$options.margin;this.setCellPosition(r,n,o,s),r.setStyle(n,"width",l+"px"),r.setStyle(n,"height",u+"px");let p=null,f=null;this.gridster.$options.outerMargin&&(this.gridster.rows===e.rows+e.y&&(p=null!==this.gridster.$options.outerMarginBottom?this.gridster.$options.outerMarginBottom+"px":this.gridster.$options.margin+"px"),this.gridster.columns===e.cols+e.x&&(f=null!==this.gridster.$options.outerMarginBottom?this.gridster.$options.outerMarginRight+"px":this.gridster.$options.margin+"px")),r.setStyle(n,"margin-bottom",p),r.setStyle(n,Qr.LTR?"margin-right":"margin-left",f)}}updateGridster(){let n="",e="",r="",o="";if(this.gridster.$options.gridType===En.Fit)n=En.Fit,e=En.ScrollVertical,r=En.ScrollHorizontal,o=En.Fixed;else if(this.gridster.$options.gridType===En.ScrollVertical)this.gridster.curRowHeight=this.gridster.curColWidth*this.gridster.$options.rowHeightRatio,n=En.ScrollVertical,e=En.Fit,r=En.ScrollHorizontal,o=En.Fixed;else if(this.gridster.$options.gridType===En.ScrollHorizontal){const s=this.gridster.$options.rowHeightRatio;this.gridster.curColWidth=this.gridster.curRowHeight*(s>=1?s:s+1),n=En.ScrollHorizontal,e=En.Fit,r=En.ScrollVertical,o=En.Fixed}else this.gridster.$options.gridType===En.Fixed?(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),n=En.Fixed,e=En.Fit,r=En.ScrollVertical,o=En.ScrollHorizontal):this.gridster.$options.gridType===En.VerticalFixed?(this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),n=En.ScrollVertical,e=En.Fit,r=En.ScrollHorizontal,o=En.Fixed):this.gridster.$options.gridType===En.HorizontalFixed&&(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),n=En.ScrollHorizontal,e=En.Fit,r=En.ScrollVertical,o=En.Fixed);this.gridster.mobile||this.gridster.$options.setGridSize&&this.gridster.$options.gridType!==En.Fit?this.gridster.renderer.removeClass(this.gridster.el,n):this.gridster.renderer.addClass(this.gridster.el,n),this.gridster.renderer.removeClass(this.gridster.el,e),this.gridster.renderer.removeClass(this.gridster.el,r),this.gridster.renderer.removeClass(this.gridster.el,o)}getGridColumnStyle(n){return{...this.getLeftPosition(this.gridster.curColWidth*n),width:this.gridster.curColWidth-this.gridster.$options.margin+"px",height:this.gridster.gridRows.length*this.gridster.curRowHeight-this.gridster.$options.margin+"px"}}getGridRowStyle(n){return{...this.getTopPosition(this.gridster.curRowHeight*n),width:this.gridster.gridColumns.length*this.gridster.curColWidth-this.gridster.$options.margin+"px",height:this.gridster.curRowHeight-this.gridster.$options.margin+"px"}}getLeftPosition(n){const e=this.gridster.$options.dirType===Qr.RTL?-n:n;return this.gridster.$options.useTransformPositioning?{transform:"translateX("+e+"px)"}:{left:this.getLeftMargin()+e+"px"}}getTopPosition(n){return this.gridster.$options.useTransformPositioning?{transform:"translateY("+n+"px)"}:{top:this.getTopMargin()+n+"px"}}clearCellPosition(n,e){this.gridster.$options.useTransformPositioning?n.setStyle(e,"transform",""):(n.setStyle(e,"top",""),n.setStyle(e,"left",""))}setCellPosition(n,e,r,o){const s=this.gridster.$options.dirType===Qr.RTL?-r:r;this.gridster.$options.useTransformPositioning?n.setStyle(e,"transform","translate3d("+s+"px, "+o+"px, 0)"):(n.setStyle(e,"left",this.getLeftMargin()+s+"px"),n.setStyle(e,"top",this.getTopMargin()+o+"px"))}getLeftMargin(){return this.gridster.$options.outerMargin?null!==this.gridster.$options.outerMarginLeft?this.gridster.$options.outerMarginLeft:this.gridster.$options.margin:0}getTopMargin(){return this.gridster.$options.outerMargin?null!==this.gridster.$options.outerMarginTop?this.gridster.$options.outerMarginTop:this.gridster.$options.margin:0}}let Lf,au,ja,Uf,ys,zf,Gf,$f,Hf,z3=(()=>{class t{constructor(e,r){this.renderer=r,this.el=e.nativeElement}ngOnInit(){this.sub=this.previewStyle$.subscribe(e=>this.previewStyle(e))}ngOnDestroy(){this.sub.unsubscribe(),delete this.el}previewStyle(e){e?(this.renderer.setStyle(this.el,"display","block"),this.gridRenderer.updateItem(this.el,e,this.renderer)):this.renderer.setStyle(this.el,"display","")}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(a.Renderer2))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["gridster-preview"]],inputs:{previewStyle$:"previewStyle$",gridRenderer:"gridRenderer"},decls:0,vars:0,template:function(e,r){},styles:["gridster-preview{position:absolute;display:none;background:rgba(0,0,0,.15)}\n"],encapsulation:2}),t})(),Sv=(()=>{class t{constructor(e,r,o,s){this.renderer=r,this.cdRef=o,this.zone=s,this.columns=0,this.rows=0,this.gridColumns=[],this.gridRows=[],this.previewStyle$=new a.EventEmitter,this.el=e.nativeElement,this.$options=JSON.parse(JSON.stringify(B3)),this.calculateLayoutDebounce=Ir.debounce(this.calculateLayout.bind(this),0),this.mobile=!1,this.curWidth=0,this.curHeight=0,this.grid=[],this.curColWidth=0,this.curRowHeight=0,this.dragInProgress=!1,this.emptyCell=new L3(this),this.compact=new j3(this),this.gridRenderer=new U3(this)}static checkCollisionTwoItemsForSwaping(e,r){return e.x+(1===e.cols?0:1)<r.x+r.cols&&e.x+e.cols>r.x+(1===r.cols?0:1)&&e.y+(1===e.rows?0:1)<r.y+r.rows&&e.y+e.rows>r.y+(1===r.rows?0:1)}checkCollisionTwoItems(e,r){if(!(e.x<r.x+r.cols&&e.x+e.cols>r.x&&e.y<r.y+r.rows&&e.y+e.rows>r.y))return!1;if(!this.$options.allowMultiLayer)return!0;const s=this.$options.defaultLayerIndex;return(void 0===e.layerIndex?s:e.layerIndex)===(void 0===r.layerIndex?s:r.layerIndex)}ngOnInit(){this.options.initCallback&&this.options.initCallback(this)}ngOnChanges(e){e.options&&(this.setOptions(),this.options.api={optionsChanged:this.optionsChanged.bind(this),resize:this.onResize.bind(this),getNextPossiblePosition:this.getNextPossiblePosition.bind(this),getFirstPossiblePosition:this.getFirstPossiblePosition.bind(this),getLastPossiblePosition:this.getLastPossiblePosition.bind(this),getItemComponent:r=>this.getItemComponent(r)},this.columns=this.$options.minCols,this.rows=this.$options.minRows+this.$options.addEmptyRowsCount,this.setGridSize(),this.calculateLayout())}resize(){let e,r;"fit"!==this.$options.gridType||this.mobile?(r=this.el.clientWidth,e=this.el.clientHeight):(r=this.el.offsetWidth,e=this.el.offsetHeight),(r!==this.curWidth||e!==this.curHeight)&&this.checkIfToResize()&&this.onResize()}setOptions(){this.$options=Ir.merge(this.$options,this.options,this.$options),this.$options.disableWindowResize||this.windowResize?this.$options.disableWindowResize&&this.windowResize&&(this.windowResize(),this.windowResize=null):this.windowResize=this.renderer.listen("window","resize",this.onResize.bind(this)),this.emptyCell.updateOptions()}optionsChanged(){this.setOptions();let r,e=this.grid.length-1;for(;e>=0;e--)r=this.grid[e],r.updateOptions();this.calculateLayout()}ngOnDestroy(){this.previewStyle$.complete(),this.windowResize&&this.windowResize(),this.options&&this.options.destroyCallback&&this.options.destroyCallback(this),this.options&&this.options.api&&(this.options.api.resize=void 0,this.options.api.optionsChanged=void 0,this.options.api.getNextPossiblePosition=void 0,this.options.api=void 0),this.emptyCell.destroy(),delete this.emptyCell,this.compact.destroy(),delete this.compact}onResize(){this.el.clientWidth&&(this.options.setGridSize&&(this.renderer.setStyle(this.el,"width",""),this.renderer.setStyle(this.el,"height","")),this.setGridSize(),this.calculateLayout())}checkIfToResize(){const e=this.el.clientWidth,r=this.el.offsetWidth,o=this.el.scrollWidth,s=this.el.clientHeight,l=this.el.offsetHeight,u=this.el.scrollHeight;return!(e<r&&u>l&&u-l<r-e||s<l&&o>r&&o-r<l-s)}setGridSize(){const e=this.el;let r,o;this.$options.setGridSize||this.$options.gridType===En.Fit&&!this.mobile?(r=e.offsetWidth,o=e.offsetHeight):(r=e.clientWidth,o=e.clientHeight),this.curWidth=r,this.curHeight=o}setGridDimensions(){this.setGridSize(),!this.mobile&&this.$options.mobileBreakpoint>this.curWidth?(this.mobile=!this.mobile,this.renderer.addClass(this.el,"mobile")):this.mobile&&this.$options.mobileBreakpoint<this.curWidth&&(this.mobile=!this.mobile,this.renderer.removeClass(this.el,"mobile"));let s,e=this.$options.minRows,r=this.$options.minCols,o=this.grid.length-1;for(;o>=0;o--)s=this.grid[o],s.notPlaced||(e=Math.max(e,s.$item.y+s.$item.rows),r=Math.max(r,s.$item.x+s.$item.cols));e+=this.$options.addEmptyRowsCount,(this.columns!==r||this.rows!==e)&&(this.columns=r,this.rows=e,this.options.gridSizeChangedCallback&&this.options.gridSizeChangedCallback(this))}calculateLayout(){if(this.compact&&this.compact.checkCompact(),this.setGridDimensions(),this.$options.outerMargin){let o=-this.$options.margin;null!==this.$options.outerMarginLeft?(o+=this.$options.outerMarginLeft,this.renderer.setStyle(this.el,"padding-left",this.$options.outerMarginLeft+"px")):(o+=this.$options.margin,this.renderer.setStyle(this.el,"padding-left",this.$options.margin+"px")),null!==this.$options.outerMarginRight?(o+=this.$options.outerMarginRight,this.renderer.setStyle(this.el,"padding-right",this.$options.outerMarginRight+"px")):(o+=this.$options.margin,this.renderer.setStyle(this.el,"padding-right",this.$options.margin+"px")),this.curColWidth=(this.curWidth-o)/this.columns;let s=-this.$options.margin;null!==this.$options.outerMarginTop?(s+=this.$options.outerMarginTop,this.renderer.setStyle(this.el,"padding-top",this.$options.outerMarginTop+"px")):(s+=this.$options.margin,this.renderer.setStyle(this.el,"padding-top",this.$options.margin+"px")),null!==this.$options.outerMarginBottom?(s+=this.$options.outerMarginBottom,this.renderer.setStyle(this.el,"padding-bottom",this.$options.outerMarginBottom+"px")):(s+=this.$options.margin,this.renderer.setStyle(this.el,"padding-bottom",this.$options.margin+"px")),this.curRowHeight=(this.curHeight-s)/this.rows*this.$options.rowHeightRatio}else this.curColWidth=(this.curWidth+this.$options.margin)/this.columns,this.curRowHeight=(this.curHeight+this.$options.margin)/this.rows*this.$options.rowHeightRatio,this.renderer.setStyle(this.el,"padding-left","0px"),this.renderer.setStyle(this.el,"padding-right","0px"),this.renderer.setStyle(this.el,"padding-top","0px"),this.renderer.setStyle(this.el,"padding-bottom","0px");this.gridRenderer.updateGridster(),this.$options.setGridSize?(this.renderer.addClass(this.el,"gridSize"),this.mobile||(this.renderer.setStyle(this.el,"width",this.columns*this.curColWidth+this.$options.margin+"px"),this.renderer.setStyle(this.el,"height",this.rows*this.curRowHeight+this.$options.margin+"px"))):(this.renderer.removeClass(this.el,"gridSize"),this.renderer.setStyle(this.el,"width",""),this.renderer.setStyle(this.el,"height","")),this.updateGrid();let r,e=this.grid.length-1;for(;e>=0;e--)r=this.grid[e],r.setSize(),r.drag.toggle(),r.resize.toggle();setTimeout(this.resize.bind(this),100)}updateGrid(){"always"!==this.$options.displayGrid||this.mobile?"onDrag&Resize"===this.$options.displayGrid&&this.dragInProgress?this.renderer.addClass(this.el,"display-grid"):("none"===this.$options.displayGrid||!this.dragInProgress||this.mobile)&&this.renderer.removeClass(this.el,"display-grid"):this.renderer.addClass(this.el,"display-grid"),this.setGridDimensions(),this.gridColumns.length=t.getNewArrayLength(this.columns,this.curWidth,this.curColWidth),this.gridRows.length=t.getNewArrayLength(this.rows,this.curHeight,this.curRowHeight),this.cdRef.markForCheck()}addItem(e){void 0===e.$item.cols&&(e.$item.cols=this.$options.defaultItemCols,e.item.cols=e.$item.cols,e.itemChanged()),void 0===e.$item.rows&&(e.$item.rows=this.$options.defaultItemRows,e.item.rows=e.$item.rows,e.itemChanged()),-1===e.$item.x||-1===e.$item.y?this.autoPositionItem(e):this.checkCollision(e.$item)&&(this.$options.disableWarnings||(e.notPlaced=!0,console.warn("Can't be placed in the bounds of the dashboard, trying to auto position!/n"+JSON.stringify(e.item,["cols","rows","x","y"]))),this.$options.disableAutoPositionOnConflict?e.notPlaced=!0:this.autoPositionItem(e)),this.grid.push(e),this.calculateLayoutDebounce()}removeItem(e){this.grid.splice(this.grid.indexOf(e),1),this.calculateLayoutDebounce(),this.options.itemRemovedCallback&&this.options.itemRemovedCallback(e.item,e)}checkCollision(e){let r=!1;if(this.options.itemValidateCallback&&(r=!this.options.itemValidateCallback(e)),!r&&this.checkGridCollision(e)&&(r=!0),!r){const o=this.findItemWithItem(e);o&&(r=o)}return r}checkGridCollision(e){const he=e.cols*e.rows;return!(e.y>-1&&e.x>-1&&e.cols+e.x<=this.$options.maxCols&&e.rows+e.y<=this.$options.maxRows&&e.cols<=(void 0===e.maxItemCols?this.$options.maxItemCols:e.maxItemCols)&&e.cols>=(void 0===e.minItemCols?this.$options.minItemCols:e.minItemCols)&&e.rows<=(void 0===e.maxItemRows?this.$options.maxItemRows:e.maxItemRows)&&e.rows>=(void 0===e.minItemRows?this.$options.minItemRows:e.minItemRows)&&(void 0===e.minItemArea?this.$options.minItemArea:e.minItemArea)<=he&&(void 0===e.maxItemArea?this.$options.maxItemArea:e.maxItemArea)>=he)}findItemWithItem(e){let o,r=0;for(;r<this.grid.length;r++)if(o=this.grid[r],o.$item!==e&&this.checkCollisionTwoItems(o.$item,e))return o;return!1}findItemsWithItem(e){const r=[];let s,o=0;for(;o<this.grid.length;o++)s=this.grid[o],s.$item!==e&&this.checkCollisionTwoItems(s.$item,e)&&r.push(s);return r}autoPositionItem(e){this.getNextPossiblePosition(e.$item)?(e.notPlaced=!1,e.item.x=e.$item.x,e.item.y=e.$item.y,e.itemChanged()):(e.notPlaced=!0,this.$options.disableWarnings||console.warn("Can't be placed in the bounds of the dashboard!/n"+JSON.stringify(e.item,["cols","rows","x","y"])))}getNextPossiblePosition(e,r={}){-1===e.cols&&(e.cols=this.$options.defaultItemCols),-1===e.rows&&(e.rows=this.$options.defaultItemRows),this.setGridDimensions();let s,o=r.y||0;for(;o<this.rows;o++)for(e.y=o,s=r.x||0;s<this.columns;s++)if(e.x=s,!this.checkCollision(e))return!0;const l=this.$options.maxRows>=this.rows+e.rows;return this.rows<=this.columns&&l||!(this.$options.maxCols>=this.columns+e.cols)?!!l&&(e.y=this.rows,e.x=0,!0):(e.x=this.columns,e.y=0,!0)}getFirstPossiblePosition(e){const r=Object.assign({},e);return this.getNextPossiblePosition(r),r}getLastPossiblePosition(e){let r={y:0,x:0};r=this.grid.reduce((s,l)=>{const u={y:l.$item.y+l.$item.rows-1,x:l.$item.x+l.$item.cols-1};return 1===Ir.compareItems(s,u)?u:s},r);const o=Object.assign({},e);return this.getNextPossiblePosition(o,r),o}pixelsToPositionX(e,r,o){const s=r(e/this.curColWidth);return o?s:Math.max(s,0)}pixelsToPositionY(e,r,o){const s=r(e/this.curRowHeight);return o?s:Math.max(s,0)}positionXToPixels(e){return e*this.curColWidth}positionYToPixels(e){return e*this.curRowHeight}getItemComponent(e){return this.grid.find(r=>r.item===e)}checkCollisionForSwaping(e){let r=!1;if(this.options.itemValidateCallback&&(r=!this.options.itemValidateCallback(e)),!r&&this.checkGridCollision(e)&&(r=!0),!r){const o=this.findItemWithItemForSwapping(e);o&&(r=o)}return r}findItemWithItemForSwapping(e){let o,r=this.grid.length-1;for(;r>-1;r--)if(o=this.grid[r],o.$item!==e&&t.checkCollisionTwoItemsForSwaping(o.$item,e))return o;return!1}previewStyle(e=!1){this.movingItem?(this.compact&&e&&this.compact.checkCompactItem(this.movingItem),this.previewStyle$.next(this.movingItem)):this.previewStyle$.next(null)}static getNewArrayLength(e,r,o){const s=Math.max(e,Math.floor(r/o));return s<0?0:Number.isFinite(s)?Math.floor(s):0}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(a.ChangeDetectorRef),a.\u0275\u0275directiveInject(a.NgZone))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["gridster"]],inputs:{options:"options"},features:[a.\u0275\u0275NgOnChangesFeature],ngContentSelectors:aC,decls:4,vars:4,consts:[["class","gridster-column",3,"ngStyle",4,"ngFor","ngForOf"],["class","gridster-row",3,"ngStyle",4,"ngFor","ngForOf"],[1,"gridster-preview",3,"gridRenderer","previewStyle$"],[1,"gridster-column",3,"ngStyle"],[1,"gridster-row",3,"ngStyle"]],template:function(e,r){1&e&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275template(0,P3,1,1,"div",0),a.\u0275\u0275template(1,T3,1,1,"div",1),a.\u0275\u0275projection(2),a.\u0275\u0275element(3,"gridster-preview",2)),2&e&&(a.\u0275\u0275property("ngForOf",r.gridColumns),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",r.gridRows),a.\u0275\u0275advance(2),a.\u0275\u0275property("gridRenderer",r.gridRenderer)("previewStyle$",r.previewStyle$))},directives:[z3,x.NgForOf,x.NgStyle],styles:["gridster{position:relative;box-sizing:border-box;background:grey;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:block}gridster.fit{overflow-x:hidden;overflow-y:hidden}gridster.scrollVertical{overflow-x:hidden;overflow-y:auto}gridster.scrollHorizontal{overflow-x:auto;overflow-y:hidden}gridster.fixed{overflow:auto}gridster.mobile{overflow-x:hidden;overflow-y:auto}gridster.mobile gridster-item{position:relative}gridster.gridSize{height:initial;width:initial}gridster.gridSize.fit{height:100%;width:100%}gridster .gridster-column,gridster .gridster-row{position:absolute;display:none;transition:.3s;box-sizing:border-box}gridster.display-grid .gridster-column,gridster.display-grid .gridster-row{display:block}gridster .gridster-column{border-left:1px solid white;border-right:1px solid white}gridster .gridster-row{border-top:1px solid white;border-bottom:1px solid white}\n"],encapsulation:2}),t})();class oC{constructor(n){this.iteration=0,this.pushedItems=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],this.pushedItemsPath=[],this.gridsterItem=n,this.gridster=n.gridster,this.tryPattern={fromEast:[this.tryWest,this.trySouth,this.tryNorth,this.tryEast],fromWest:[this.tryEast,this.trySouth,this.tryNorth,this.tryWest],fromNorth:[this.trySouth,this.tryEast,this.tryWest,this.tryNorth],fromSouth:[this.tryNorth,this.tryEast,this.tryWest,this.trySouth]},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"}destroy(){delete this.gridster,delete this.gridsterItem}pushItems(n,e){if(this.gridster.$options.pushItems&&!e){this.pushedItemsOrder=[],this.iteration=0;const r=this.push(this.gridsterItem,n);return r||this.restoreTempItems(),this.pushedItemsOrder=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],r}return!1}restoreTempItems(){let n=this.pushedItemsTemp.length-1;for(;n>-1;n--)this.removeFromTempPushed(this.pushedItemsTemp[n])}restoreItems(){let n=0;const e=this.pushedItems.length;let r;for(;n<e;n++)r=this.pushedItems[n],r.$item.x=r.item.x||0,r.$item.y=r.item.y||0,r.setSize();this.pushedItems=[],this.pushedItemsPath=[]}setPushedItems(){let n=0;const e=this.pushedItems.length;let r;for(;n<e;n++)r=this.pushedItems[n],r.checkItemChanges(r.$item,r.item);this.pushedItems=[],this.pushedItemsPath=[]}checkPushBack(){let n=this.pushedItems.length-1,e=!1;for(;n>-1;n--)this.checkPushedItem(this.pushedItems[n],n)&&(e=!0);e&&this.checkPushBack()}push(n,e){if(this.iteration>100)return console.warn("max iteration reached"),!1;if(this.gridster.checkGridCollision(n.$item)||""===e)return!1;const r=this.gridster.findItemsWithItem(n.$item),o=e===this.fromNorth||e===this.fromWest;r.sort((f,v)=>o?v.$item.y-f.$item.y||v.$item.x-f.$item.x:f.$item.y-v.$item.y||f.$item.x-v.$item.x);let l,s=0,u=!0;const p=[];for(;s<r.length;s++){if(l=r[s],l===this.gridsterItem)continue;if(!l.canBeDragged()){u=!1;break}const f=this.pushedItemsTemp.indexOf(l);if(f>-1&&this.pushedItemsTempPath[f].length>10){u=!1;break}if(this.tryPattern[e][0].call(this,l,n))this.pushedItemsOrder.push(l),p.push(l);else if(this.tryPattern[e][1].call(this,l,n))this.pushedItemsOrder.push(l),p.push(l);else if(this.tryPattern[e][2].call(this,l,n))this.pushedItemsOrder.push(l),p.push(l);else{if(!this.tryPattern[e][3].call(this,l,n)){u=!1;break}this.pushedItemsOrder.push(l),p.push(l)}}if(!u&&(s=this.pushedItemsOrder.lastIndexOf(p[0]),s>-1)){let f=this.pushedItemsOrder.length-1;for(;f>=s;f--)l=this.pushedItemsOrder[f],this.pushedItemsOrder.pop(),this.removeFromTempPushed(l),this.removeFromPushedItem(l)}return this.iteration++,u}trySouth(n,e){return!!this.gridster.$options.pushDirections.south&&(this.addToTempPushed(n),n.$item.y=e.$item.y+e.$item.rows,this.push(n,this.fromNorth)?(n.setSize(),this.addToPushed(n),!0):(this.removeFromTempPushed(n),!1))}tryNorth(n,e){return!!this.gridster.$options.pushDirections.north&&(this.addToTempPushed(n),n.$item.y=e.$item.y-n.$item.rows,this.push(n,this.fromSouth)?(n.setSize(),this.addToPushed(n),!0):(this.removeFromTempPushed(n),!1))}tryEast(n,e){return!!this.gridster.$options.pushDirections.east&&(this.addToTempPushed(n),n.$item.x=e.$item.x+e.$item.cols,this.push(n,this.fromWest)?(n.setSize(),this.addToPushed(n),!0):(this.removeFromTempPushed(n),!1))}tryWest(n,e){return!!this.gridster.$options.pushDirections.west&&(this.addToTempPushed(n),n.$item.x=e.$item.x-n.$item.cols,this.push(n,this.fromEast)?(n.setSize(),this.addToPushed(n),!0):(this.removeFromTempPushed(n),!1))}addToTempPushed(n){let e=this.pushedItemsTemp.indexOf(n);-1===e&&(e=this.pushedItemsTemp.push(n)-1,this.pushedItemsTempPath[e]=[]),this.pushedItemsTempPath[e].push({x:n.$item.x,y:n.$item.y})}removeFromTempPushed(n){const e=this.pushedItemsTemp.indexOf(n),r=this.pushedItemsTempPath[e].pop();!r||(n.$item.x=r.x,n.$item.y=r.y,n.setSize(),this.pushedItemsTempPath[e].length||(this.pushedItemsTemp.splice(e,1),this.pushedItemsTempPath.splice(e,1)))}addToPushed(n){if(this.pushedItems.indexOf(n)<0)this.pushedItems.push(n),this.pushedItemsPath.push([{x:n.item.x||0,y:n.item.y||0},{x:n.$item.x,y:n.$item.y}]);else{const e=this.pushedItems.indexOf(n);this.pushedItemsPath[e].push({x:n.$item.x,y:n.$item.y})}}removeFromPushed(n){n>-1&&(this.pushedItems.splice(n,1),this.pushedItemsPath.splice(n,1))}removeFromPushedItem(n){const e=this.pushedItems.indexOf(n);e>-1&&(this.pushedItemsPath[e].pop(),this.pushedItemsPath.length||(this.pushedItems.splice(e,1),this.pushedItemsPath.splice(e,1)))}checkPushedItem(n,e){const r=this.pushedItemsPath[e];let s,l,u,o=r.length-2,p=!1;for(;o>-1;o--)s=r[o],l=n.$item.x,u=n.$item.y,n.$item.x=s.x,n.$item.y=s.y,this.gridster.findItemWithItem(n.$item)?(n.$item.x=l,n.$item.y=u):(n.setSize(),r.splice(o+1,r.length-o-1),p=!0);return r.length<2&&this.removeFromPushed(e),p}}function lC(t,n,e,r,o,s,l,u,p,f){Lf=t.$options.scrollSensitivity,au=t.$options.scrollSpeed,ja=t.el,Uf=p,ys=f;const v=ja.offsetWidth,J=ja.scrollLeft,Y=ja.scrollTop,he=e-Y;if(!t.$options.disableScrollVertical)if(l.clientY<s.clientY&&ja.offsetHeight+Y-e-o<Lf){if(hC(),Uf&&ys&&!ys.s||Hf)return;Hf=uC(1,u,l)}else if(l.clientY>s.clientY&&Y>0&&he<Lf){if(mC(),Uf&&ys&&!ys.n||$f)return;$f=uC(-1,u,l)}else l.clientY!==s.clientY&&Av();const De=n-J;if(!t.$options.disableScrollHorizontal)if(l.clientX<s.clientX&&J+v-n-r<=Lf){if(pC(),Uf&&ys&&!ys.e||zf)return;zf=cC(1,u,l)}else if(l.clientX>s.clientX&&J>0&&De<Lf){if(fC(),Uf&&ys&&!ys.w||Gf)return;Gf=cC(-1,u,l)}else l.clientX!==s.clientX&&Ev()}function uC(t,n,e){let r=e.clientY;return setInterval(()=>{(!ja||-1===t&&ja.scrollTop-au<0)&&Av(),ja.scrollTop+=t*au,r+=t*au,n({clientX:e.clientX,clientY:r})},50)}function cC(t,n,e){let r=e.clientX;return setInterval(()=>{(!ja||-1===t&&ja.scrollLeft-au<0)&&Ev(),ja.scrollLeft+=t*au,r+=t*au,n({clientX:r,clientY:e.clientY})},50)}function dC(){Ev(),Av(),ja=null}function Ev(){fC(),pC()}function Av(){hC(),mC()}function fC(){zf&&(clearInterval(zf),zf=0)}function pC(){Gf&&(clearInterval(Gf),Gf=0)}function mC(){Hf&&(clearInterval(Hf),Hf=0)}function hC(){$f&&(clearInterval($f),$f=0)}class G3{constructor(n){this.gridsterItem=n,this.gridster=n.gridster}destroy(){delete this.gridster,delete this.gridsterItem,delete this.swapedItem}swapItems(){this.gridster.$options.swap&&(this.checkSwapBack(),this.checkSwap(this.gridsterItem))}checkSwapBack(){if(this.swapedItem){const n=this.swapedItem.$item.x,e=this.swapedItem.$item.y;this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.gridster.checkCollision(this.swapedItem.$item)?(this.swapedItem.$item.x=n,this.swapedItem.$item.y=e):(this.swapedItem.setSize(),this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.swapedItem=void 0)}}restoreSwapItem(){this.swapedItem&&(this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.swapedItem.setSize(),this.swapedItem=void 0)}setSwapItem(){this.swapedItem&&(this.swapedItem.checkItemChanges(this.swapedItem.$item,this.swapedItem.item),this.swapedItem=void 0)}checkSwap(n){let e;if(e=this.gridster.$options.swapWhileDragging?this.gridster.checkCollisionForSwaping(n.$item):this.gridster.checkCollision(n.$item),e&&!0!==e&&e.canBeDragged()){const r=e,o=r.$item.x,s=r.$item.y,l=n.$item.x,u=n.$item.y,p=l-o,f=u-s;r.$item.x=n.item.x-p,r.$item.y=n.item.y-f,n.$item.x=r.item.x+p,n.$item.y=r.item.y+f,this.gridster.checkCollision(r.$item)||this.gridster.checkCollision(n.$item)?(n.$item.x=l,n.$item.y=u,r.$item.x=o,r.$item.y=s):(r.setSize(),this.swapedItem=r,this.gridster.$options.swapWhileDragging&&(this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.setSwapItem()))}}}class $3{constructor(n,e,r){this.zone=r,this.collision=!1,this.gridsterItem=n,this.gridster=e,this.lastMouse={clientX:0,clientY:0},this.path=[]}destroy(){this.gridster.previewStyle&&this.gridster.previewStyle(!0),delete this.gridsterItem,delete this.gridster,delete this.collision,this.mousedown&&(this.mousedown(),this.touchstart())}dragStart(n){n.which&&1!==n.which||(this.gridster.options.draggable&&this.gridster.options.draggable.start&&this.gridster.options.draggable.start(this.gridsterItem.item,this.gridsterItem,n),n.stopPropagation(),n.preventDefault(),this.dragFunction=this.dragMove.bind(this),this.dragStopFunction=this.dragStop.bind(this),this.zone.runOutsideAngular(()=>{this.mousemove=this.gridsterItem.renderer.listen("document","mousemove",this.dragFunction),this.touchmove=this.gridster.renderer.listen(this.gridster.el,"touchmove",this.dragFunction)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStopFunction),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStopFunction),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStopFunction),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStopFunction),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStopFunction),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-moving"),this.margin=this.gridster.$options.margin,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.left=this.gridsterItem.left-this.margin,this.top=this.gridsterItem.top-this.margin,this.originalClientX=n.clientX,this.originalClientY=n.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.diffLeft=this.gridster.$options.dirType===Qr.RTL?n.clientX-this.gridster.el.scrollWidth+this.gridsterItem.left:n.clientX+this.offsetLeft-this.margin-this.left,this.diffTop=n.clientY+this.offsetTop-this.margin-this.top,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(!0),this.push=new oC(this.gridsterItem),this.swap=new G3(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.updateGrid(),this.path.push({x:this.gridsterItem.item.x||0,y:this.gridsterItem.item.y||0}))}dragMove(n){n.stopPropagation(),n.preventDefault(),Ir.checkTouchEvent(n),this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,lC(this.gridster,this.left,this.top,this.width,this.height,n,this.lastMouse,this.calculateItemPositionFromMousePosition.bind(this)),this.calculateItemPositionFromMousePosition(n)}calculateItemPositionFromMousePosition(n){this.gridster.options.scale?this.calculateItemPositionWithScale(n,this.gridster.options.scale):this.calculateItemPositionWithoutScale(n),this.calculateItemPosition(),this.lastMouse.clientX=n.clientX,this.lastMouse.clientY=n.clientY,this.zone.run(()=>{this.gridster.updateGrid()})}calculateItemPositionWithScale(n,e){this.left=this.gridster.$options.dirType===Qr.RTL?this.gridster.el.scrollWidth-this.originalClientX+(n.clientX-this.originalClientX)/e+this.diffLeft:this.originalClientX+(n.clientX-this.originalClientX)/e+this.offsetLeft-this.diffLeft,this.top=this.originalClientY+(n.clientY-this.originalClientY)/e+this.offsetTop-this.diffTop}calculateItemPositionWithoutScale(n){this.left=this.gridster.$options.dirType===Qr.RTL?this.gridster.el.scrollWidth-n.clientX+this.diffLeft:n.clientX+this.offsetLeft-this.diffLeft,this.top=n.clientY+this.offsetTop-this.diffTop}dragStop(n){n.stopPropagation(),n.preventDefault(),dC(),this.cancelOnBlur(),this.mousemove(),this.mouseup(),this.mouseleave(),this.touchmove(),this.touchend(),this.touchcancel(),this.gridsterItem.renderer.removeClass(this.gridsterItem.el,"gridster-item-moving"),this.gridster.dragInProgress=!1,this.gridster.updateGrid(),this.path=[],this.gridster.options.draggable&&this.gridster.options.draggable.stop?Promise.resolve(this.gridster.options.draggable.stop(this.gridsterItem.item,this.gridsterItem,n)).then(this.makeDrag.bind(this),this.cancelDrag.bind(this)):this.makeDrag(),setTimeout(()=>{this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle(!0))})}cancelDrag(){this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.gridsterItem.setSize(),this.push&&this.push.restoreItems(),this.swap&&this.swap.restoreSwapItem(),this.push&&(this.push.destroy(),delete this.push),this.swap&&(this.swap.destroy(),delete this.swap)}makeDrag(){this.gridster.$options.draggable.dropOverItems&&this.gridster.options.draggable&&this.gridster.options.draggable.dropOverItemsCallback&&this.collision&&!0!==this.collision&&this.collision.$item&&this.gridster.options.draggable.dropOverItemsCallback(this.gridsterItem.item,this.collision.item,this.gridster),this.collision=!1,this.gridsterItem.setSize(),this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.push&&this.push.setPushedItems(),this.swap&&this.swap.setSwapItem(),this.push&&(this.push.destroy(),delete this.push),this.swap&&(this.swap.destroy(),delete this.swap)}calculateItemPosition(){if(this.gridster.movingItem=this.gridsterItem.$item,this.positionX=this.gridster.pixelsToPositionX(this.left,Math.round),this.positionY=this.gridster.pixelsToPositionY(this.top,Math.round),this.positionXBackup=this.gridsterItem.$item.x,this.positionYBackup=this.gridsterItem.$item.y,this.gridsterItem.$item.x=this.positionX,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.x=this.positionXBackup),this.gridsterItem.$item.y=this.positionY,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.y=this.positionYBackup),this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,this.top),this.positionXBackup!==this.gridsterItem.$item.x||this.positionYBackup!==this.gridsterItem.$item.y){const n=this.path[this.path.length-1];let e="";n.x<this.gridsterItem.$item.x?e=this.push.fromWest:n.x>this.gridsterItem.$item.x?e=this.push.fromEast:n.y<this.gridsterItem.$item.y?e=this.push.fromNorth:n.y>this.gridsterItem.$item.y&&(e=this.push.fromSouth),this.push.pushItems(e,this.gridster.$options.disablePushOnDrag),this.swap.swapItems(),this.collision=this.gridster.checkCollision(this.gridsterItem.$item),this.collision?(this.gridsterItem.$item.x=this.positionXBackup,this.gridsterItem.$item.y=this.positionYBackup,this.gridster.$options.draggable.dropOverItems&&!0!==this.collision&&this.collision.$item&&(this.gridster.movingItem=null)):this.path.push({x:this.gridsterItem.$item.x,y:this.gridsterItem.$item.y}),this.push.checkPushBack()}this.gridster.previewStyle(!0)}toggle(){const n=this.gridsterItem.canBeDragged();!this.enabled&&n?(this.enabled=!this.enabled,this.dragStartFunction=this.dragStartDelay.bind(this),this.mousedown=this.gridsterItem.renderer.listen(this.gridsterItem.el,"mousedown",this.dragStartFunction),this.touchstart=this.gridsterItem.renderer.listen(this.gridsterItem.el,"touchstart",this.dragStartFunction)):this.enabled&&!n&&(this.enabled=!this.enabled,this.mousedown(),this.touchstart())}dragStartDelay(n){if(n.target.hasAttribute("class")&&n.target.getAttribute("class").split(" ").indexOf("gridster-item-resizable-handler")>-1||Ir.checkContentClassForEvent(this.gridster,n))return;if(Ir.checkTouchEvent(n),!this.gridster.$options.draggable.delayStart)return void this.dragStart(n);const e=setTimeout(()=>{this.dragStart(n),v()},this.gridster.$options.draggable.delayStart),r=this.gridsterItem.renderer.listen("document","mouseup",v),o=this.gridsterItem.renderer.listen("document","mouseleave",v),s=this.gridsterItem.renderer.listen("window","blur",v),l=this.gridsterItem.renderer.listen("document","touchmove",function f(D){Ir.checkTouchEvent(D),(Math.abs(D.clientX-n.clientX)>9||Math.abs(D.clientY-n.clientY)>9)&&v()}),u=this.gridsterItem.renderer.listen("document","touchend",v),p=this.gridsterItem.renderer.listen("document","touchcancel",v);function v(){clearTimeout(e),s(),r(),o(),l(),u(),p()}}}class H3{constructor(n){this.pushedItems=[],this.pushedItemsPath=[],this.gridsterItem=n,this.gridster=n.gridster,this.tryPattern={fromEast:this.tryWest,fromWest:this.tryEast,fromNorth:this.trySouth,fromSouth:this.tryNorth},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"}destroy(){delete this.gridster,delete this.gridsterItem}pushItems(n){return!!this.gridster.$options.pushResizeItems&&this.push(this.gridsterItem,n)}restoreItems(){let n=0;const e=this.pushedItems.length;let r;for(;n<e;n++)r=this.pushedItems[n],r.$item.x=r.item.x||0,r.$item.y=r.item.y||0,r.$item.cols=r.item.cols||1,r.$item.row=r.item.row||1,r.setSize();this.pushedItems=[],this.pushedItemsPath=[]}setPushedItems(){let n=0;const e=this.pushedItems.length;let r;for(;n<e;n++)r=this.pushedItems[n],r.checkItemChanges(r.$item,r.item);this.pushedItems=[],this.pushedItemsPath=[]}checkPushBack(){let n=this.pushedItems.length-1,e=!1;for(;n>-1;n--)this.checkPushedItem(this.pushedItems[n],n)&&(e=!0);e&&this.checkPushBack()}push(n,e){const r=this.gridster.checkCollision(n.$item);if(r&&!0!==r&&r!==this.gridsterItem&&r.canBeResized()){if(this.tryPattern[e].call(this,r,n,e))return!0}else if(!1===r)return!0;return!1}trySouth(n,e,r){const o=n.$item.y,s=n.$item.rows;return n.$item.y=e.$item.y+e.$item.rows,n.$item.rows=s+o-n.$item.y,this.gridster.checkCollisionTwoItems(n.$item,e.$item)||this.gridster.checkGridCollision(n.$item)?(n.$item.y=o,n.$item.rows=s,!1):(n.setSize(),this.addToPushed(n),this.push(e,r),!0)}tryNorth(n,e,r){const o=n.$item.rows;return n.$item.rows=e.$item.y-n.$item.y,this.gridster.checkCollisionTwoItems(n.$item,e.$item)||this.gridster.checkGridCollision(n.$item)?(n.$item.rows=o,!1):(n.setSize(),this.addToPushed(n),this.push(e,r),!0)}tryEast(n,e,r){const o=n.$item.x,s=n.$item.cols;return n.$item.x=e.$item.x+e.$item.cols,n.$item.cols=s+o-n.$item.x,this.gridster.checkCollisionTwoItems(n.$item,e.$item)||this.gridster.checkGridCollision(n.$item)?(n.$item.x=o,n.$item.cols=s,!1):(n.setSize(),this.addToPushed(n),this.push(e,r),!0)}tryWest(n,e,r){const o=n.$item.cols;return n.$item.cols=e.$item.x-n.$item.x,this.gridster.checkCollisionTwoItems(n.$item,e.$item)||this.gridster.checkGridCollision(n.$item)?(n.$item.cols=o,!1):(n.setSize(),this.addToPushed(n),this.push(e,r),!0)}addToPushed(n){if(this.pushedItems.indexOf(n)<0)this.pushedItems.push(n),this.pushedItemsPath.push([{x:n.item.x||0,y:n.item.y||0,cols:n.item.cols||0,rows:n.item.rows||0},{x:n.$item.x,y:n.$item.y,cols:n.$item.cols,rows:n.$item.rows}]);else{const e=this.pushedItems.indexOf(n);this.pushedItemsPath[e].push({x:n.$item.x,y:n.$item.y,cols:n.$item.cols,rows:n.$item.rows})}}removeFromPushed(n){n>-1&&(this.pushedItems.splice(n,1),this.pushedItemsPath.splice(n,1))}checkPushedItem(n,e){const r=this.pushedItemsPath[e];let s,l,u,p,f,o=r.length-2;for(;o>-1;o--)s=r[o],l=n.$item.x,u=n.$item.y,p=n.$item.cols,f=n.$item.rows,n.$item.x=s.x,n.$item.y=s.y,n.$item.cols=s.cols,n.$item.rows=s.rows,this.gridster.findItemWithItem(n.$item)?(n.$item.x=l,n.$item.y=u,n.$item.cols=p,n.$item.rows=f):(n.setSize(),r.splice(o+1,r.length-1-o));return r.length<2&&(this.removeFromPushed(e),!0)}}class q3{constructor(n,e,r){this.zone=r,this.gridsterItem=n,this.gridster=e,this.lastMouse={clientX:0,clientY:0},this.itemBackup=[0,0,0,0],this.resizeEventScrollType={w:!1,e:!1,n:!1,s:!1}}destroy(){this.gridster.previewStyle&&this.gridster.previewStyle(),delete this.gridsterItem,delete this.gridster}dragStart(n){n.which&&1!==n.which||(this.gridster.options.resizable&&this.gridster.options.resizable.start&&this.gridster.options.resizable.start(this.gridsterItem.item,this.gridsterItem,n),n.stopPropagation(),n.preventDefault(),this.dragFunction=this.dragMove.bind(this),this.dragStopFunction=this.dragStop.bind(this),this.zone.runOutsideAngular(()=>{this.mousemove=this.gridsterItem.renderer.listen("document","mousemove",this.dragFunction),this.touchmove=this.gridster.renderer.listen(this.gridster.el,"touchmove",this.dragFunction)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStopFunction),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStopFunction),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStopFunction),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStopFunction),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStopFunction),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-resizing"),this.lastMouse.clientX=n.clientX,this.lastMouse.clientY=n.clientY,this.left=this.gridsterItem.left,this.top=this.gridsterItem.top,this.originalClientX=n.clientX,this.originalClientY=n.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.bottom=this.gridsterItem.top+this.gridsterItem.height,this.right=this.gridsterItem.left+this.gridsterItem.width,this.margin=this.gridster.$options.margin,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.diffLeft=n.clientX+this.offsetLeft-this.left,this.diffRight=n.clientX+this.offsetLeft-this.right,this.diffTop=n.clientY+this.offsetTop-this.top,this.diffBottom=n.clientY+this.offsetTop-this.bottom,this.minHeight=this.gridster.positionYToPixels(this.gridsterItem.$item.minItemRows||this.gridster.$options.minItemRows)-this.margin,this.minWidth=this.gridster.positionXToPixels(this.gridsterItem.$item.minItemCols||this.gridster.$options.minItemCols)-this.margin,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(),this.push=new oC(this.gridsterItem),this.pushResize=new H3(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.updateGrid(),n.target?.hasAttribute("class")&&n.target.getAttribute("class").split(" ").indexOf("handle-n")>-1?(this.resizeEventScrollType.n=!0,this.directionFunction=this.handleN):n.target?.hasAttribute("class")&&n.target.getAttribute("class").split(" ").indexOf("handle-w")>-1?this.gridster.$options.dirType===Qr.RTL?(this.resizeEventScrollType.e=!0,this.directionFunction=this.handleE):(this.resizeEventScrollType.w=!0,this.directionFunction=this.handleW):n.target?.hasAttribute("class")&&n.target.getAttribute("class").split(" ").indexOf("handle-s")>-1?(this.resizeEventScrollType.s=!0,this.directionFunction=this.handleS):n.target.hasAttribute("class")&&n.target.getAttribute("class").split(" ").indexOf("handle-e")>-1?this.gridster.$options.dirType===Qr.RTL?(this.resizeEventScrollType.w=!0,this.directionFunction=this.handleW):(this.resizeEventScrollType.e=!0,this.directionFunction=this.handleE):n.target.hasAttribute("class")&&n.target.getAttribute("class").split(" ").indexOf("handle-nw")>-1?this.gridster.$options.dirType===Qr.RTL?(this.resizeEventScrollType.n=!0,this.resizeEventScrollType.e=!0,this.directionFunction=this.handleNE):(this.resizeEventScrollType.n=!0,this.resizeEventScrollType.w=!0,this.directionFunction=this.handleNW):n.target.hasAttribute("class")&&n.target.getAttribute("class").split(" ").indexOf("handle-ne")>-1?this.gridster.$options.dirType===Qr.RTL?(this.resizeEventScrollType.n=!0,this.resizeEventScrollType.w=!0,this.directionFunction=this.handleNW):(this.resizeEventScrollType.n=!0,this.resizeEventScrollType.e=!0,this.directionFunction=this.handleNE):n.target.hasAttribute("class")&&n.target.getAttribute("class").split(" ").indexOf("handle-sw")>-1?this.gridster.$options.dirType===Qr.RTL?(this.resizeEventScrollType.s=!0,this.resizeEventScrollType.e=!0,this.directionFunction=this.handleSE):(this.resizeEventScrollType.s=!0,this.resizeEventScrollType.w=!0,this.directionFunction=this.handleSW):n.target.hasAttribute("class")&&n.target.getAttribute("class").split(" ").indexOf("handle-se")>-1&&(this.gridster.$options.dirType===Qr.RTL?(this.resizeEventScrollType.s=!0,this.resizeEventScrollType.w=!0,this.directionFunction=this.handleSW):(this.resizeEventScrollType.s=!0,this.resizeEventScrollType.e=!0,this.directionFunction=this.handleSE)))}dragMove(n){n.stopPropagation(),n.preventDefault(),Ir.checkTouchEvent(n),this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,lC(this.gridster,this.left,this.top,this.width,this.height,n,this.lastMouse,this.directionFunction.bind(this),!0,this.resizeEventScrollType);const e=this.gridster.options.scale||1;this.directionFunction({clientX:this.originalClientX+(n.clientX-this.originalClientX)/e,clientY:this.originalClientY+(n.clientY-this.originalClientY)/e}),this.lastMouse.clientX=n.clientX,this.lastMouse.clientY=n.clientY,this.zone.run(()=>{this.gridster.updateGrid()})}dragStop(n){n.stopPropagation(),n.preventDefault(),dC(),this.mousemove(),this.mouseup(),this.mouseleave(),this.cancelOnBlur(),this.touchmove(),this.touchend(),this.touchcancel(),this.gridster.dragInProgress=!1,this.gridster.updateGrid(),this.gridster.options.resizable&&this.gridster.options.resizable.stop?Promise.resolve(this.gridster.options.resizable.stop(this.gridsterItem.item,this.gridsterItem,n)).then(this.makeResize.bind(this),this.cancelResize.bind(this)):this.makeResize(),setTimeout(()=>{this.gridsterItem.renderer.removeClass(this.gridsterItem.el,"gridster-item-resizing"),this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle())})}cancelResize(){this.gridsterItem.$item.cols=this.gridsterItem.item.cols||1,this.gridsterItem.$item.rows=this.gridsterItem.item.rows||1,this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.gridsterItem.setSize(),this.push.restoreItems(),this.pushResize.restoreItems(),this.push.destroy(),delete this.push,this.pushResize.destroy(),delete this.pushResize}makeResize(){this.gridsterItem.setSize(),this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.push.setPushedItems(),this.pushResize.setPushedItems(),this.push.destroy(),delete this.push,this.pushResize.destroy(),delete this.pushResize}handleN(n){if(this.top=n.clientY+this.offsetTop-this.diffTop,this.height=this.bottom-this.top,this.minHeight>this.height&&(this.height=this.minHeight,this.top=this.bottom-this.minHeight),this.newPosition=this.gridster.pixelsToPositionY(this.top+this.margin,Math.floor),this.gridsterItem.$item.y!==this.newPosition){if(this.itemBackup[1]=this.gridsterItem.$item.y,this.itemBackup[3]=this.gridsterItem.$item.rows,this.gridsterItem.$item.rows+=this.gridsterItem.$item.y-this.newPosition,this.gridsterItem.$item.y=this.newPosition,this.pushResize.pushItems(this.pushResize.fromSouth),this.push.pushItems(this.push.fromSouth,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.y=this.itemBackup[1],this.gridsterItem.$item.rows=this.itemBackup[3],this.setItemTop(this.gridster.positionYToPixels(this.gridsterItem.$item.y)),void this.setItemHeight(this.gridster.positionYToPixels(this.gridsterItem.$item.rows)-this.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemTop(this.top),this.setItemHeight(this.height)}handleW(n){if(this.left=(this.gridster.$options.dirType===Qr.RTL?this.originalClientX+(this.originalClientX-n.clientX):n.clientX)+this.offsetLeft-this.diffLeft,this.width=this.right-this.left,this.minWidth>this.width&&(this.width=this.minWidth,this.left=this.right-this.minWidth),this.newPosition=this.gridster.pixelsToPositionX(this.left+this.margin,Math.floor),this.gridsterItem.$item.x!==this.newPosition){if(this.itemBackup[0]=this.gridsterItem.$item.x,this.itemBackup[2]=this.gridsterItem.$item.cols,this.gridsterItem.$item.cols+=this.gridsterItem.$item.x-this.newPosition,this.gridsterItem.$item.x=this.newPosition,this.pushResize.pushItems(this.pushResize.fromEast),this.push.pushItems(this.push.fromEast,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.x=this.itemBackup[0],this.gridsterItem.$item.cols=this.itemBackup[2],this.setItemLeft(this.gridster.positionXToPixels(this.gridsterItem.$item.x)),void this.setItemWidth(this.gridster.positionXToPixels(this.gridsterItem.$item.cols)-this.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemLeft(this.left),this.setItemWidth(this.width)}handleS(n){if(this.height=n.clientY+this.offsetTop-this.diffBottom-this.top,this.minHeight>this.height&&(this.height=this.minHeight),this.bottom=this.top+this.height,this.newPosition=this.gridster.pixelsToPositionY(this.bottom,Math.ceil),this.gridsterItem.$item.y+this.gridsterItem.$item.rows!==this.newPosition){if(this.itemBackup[3]=this.gridsterItem.$item.rows,this.gridsterItem.$item.rows=this.newPosition-this.gridsterItem.$item.y,this.pushResize.pushItems(this.pushResize.fromNorth),this.push.pushItems(this.push.fromNorth,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.rows=this.itemBackup[3],void this.setItemHeight(this.gridster.positionYToPixels(this.gridsterItem.$item.rows)-this.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemHeight(this.height)}handleE(n){if(this.width=(this.gridster.$options.dirType===Qr.RTL?this.originalClientX+(this.originalClientX-n.clientX):n.clientX)+this.offsetLeft-this.diffRight-this.left,this.minWidth>this.width&&(this.width=this.minWidth),this.right=this.left+this.width,this.newPosition=this.gridster.pixelsToPositionX(this.right,Math.ceil),this.gridsterItem.$item.x+this.gridsterItem.$item.cols!==this.newPosition){if(this.itemBackup[2]=this.gridsterItem.$item.cols,this.gridsterItem.$item.cols=this.newPosition-this.gridsterItem.$item.x,this.pushResize.pushItems(this.pushResize.fromWest),this.push.pushItems(this.push.fromWest,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.cols=this.itemBackup[2],void this.setItemWidth(this.gridster.positionXToPixels(this.gridsterItem.$item.cols)-this.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemWidth(this.width)}handleNW(n){this.handleN(n),this.handleW(n)}handleNE(n){this.handleN(n),this.handleE(n)}handleSW(n){this.handleS(n),this.handleW(n)}handleSE(n){this.handleS(n),this.handleE(n)}toggle(){this.resizeEnabled=this.gridsterItem.canBeResized()}dragStartDelay(n){if(Ir.checkTouchEvent(n),!this.gridster.$options.resizable.delayStart)return void this.dragStart(n);const e=setTimeout(()=>{this.dragStart(n),v()},this.gridster.$options.resizable.delayStart),r=this.gridsterItem.renderer.listen("document","mouseup",v),o=this.gridsterItem.renderer.listen("document","mouseleave",v),s=this.gridsterItem.renderer.listen("window","blur",v),l=this.gridsterItem.renderer.listen("document","touchmove",function f(D){Ir.checkTouchEvent(D),(Math.abs(D.clientX-n.clientX)>9||Math.abs(D.clientY-n.clientY)>9)&&v()}),u=this.gridsterItem.renderer.listen("document","touchend",v),p=this.gridsterItem.renderer.listen("document","touchcancel",v);function v(){clearTimeout(e),s(),r(),o(),l(),u(),p()}}setItemTop(n){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,n)}setItemLeft(n){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,n,this.top)}setItemHeight(n){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"height",n+"px")}setItemWidth(n){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"width",n+"px")}}let K3=(()=>{class t{constructor(e,r,o,s){this.renderer=o,this.zone=s,this.itemInit=new a.EventEmitter,this.itemChange=new a.EventEmitter,this.itemResize=new a.EventEmitter,this.el=e.nativeElement,this.$item={cols:-1,rows:-1,x:-1,y:-1},this.gridster=r,this.drag=new $3(this,r,this.zone),this.resize=new q3(this,r,this.zone)}get zIndex(){return this.getLayerIndex()+this.gridster.$options.baseLayerIndex}ngOnInit(){this.gridster.addItem(this)}ngOnChanges(e){e.item&&(this.updateOptions(),this.init||this.gridster.calculateLayoutDebounce()),e.item&&e.item.previousValue&&this.setSize()}updateOptions(){this.$item=Ir.merge(this.$item,this.item,{cols:void 0,rows:void 0,x:void 0,y:void 0,layerIndex:void 0,dragEnabled:void 0,resizeEnabled:void 0,compactEnabled:void 0,maxItemRows:void 0,minItemRows:void 0,maxItemCols:void 0,minItemCols:void 0,maxItemArea:void 0,minItemArea:void 0})}ngOnDestroy(){this.gridster.removeItem(this),delete this.gridster,this.drag.destroy(),delete this.drag,this.resize.destroy(),delete this.resize}setSize(){this.renderer.setStyle(this.el,"display",this.notPlaced?"":"block"),this.gridster.gridRenderer.updateItem(this.el,this.$item,this.renderer),this.updateItemSize()}updateItemSize(){const r=this.$item.x*this.gridster.curColWidth,o=this.$item.cols*this.gridster.curColWidth-this.gridster.$options.margin,s=this.$item.rows*this.gridster.curRowHeight-this.gridster.$options.margin;this.top=this.$item.y*this.gridster.curRowHeight,this.left=r,!this.init&&o>0&&s>0&&(this.init=!0,this.item.initCallback&&this.item.initCallback(this.item,this),this.gridster.options.itemInitCallback&&this.gridster.options.itemInitCallback(this.item,this),this.itemInit.next({item:this.item,itemComponent:this}),this.gridster.$options.scrollToNewItems&&this.el.scrollIntoView(!1)),(o!==this.width||s!==this.height)&&(this.width=o,this.height=s,this.gridster.options.itemResizeCallback&&this.gridster.options.itemResizeCallback(this.item,this),this.itemResize.next({item:this.item,itemComponent:this}))}itemChanged(){this.gridster.options.itemChangeCallback&&this.gridster.options.itemChangeCallback(this.item,this),this.itemChange.next({item:this.item,itemComponent:this})}checkItemChanges(e,r){e.rows===r.rows&&e.cols===r.cols&&e.x===r.x&&e.y===r.y||(this.gridster.checkCollision(this.$item)?(this.$item.x=r.x||0,this.$item.y=r.y||0,this.$item.cols=r.cols||1,this.$item.rows=r.rows||1,this.setSize()):(this.item.cols=this.$item.cols,this.item.rows=this.$item.rows,this.item.x=this.$item.x,this.item.y=this.$item.y,this.gridster.calculateLayoutDebounce(),this.itemChanged()))}canBeDragged(){const e=this.gridster.$options.draggable.enabled;return!this.gridster.mobile&&e&&(void 0===this.$item.dragEnabled?e:this.$item.dragEnabled)}canBeResized(){const e=this.gridster.$options.resizable.enabled;return!this.gridster.mobile&&e&&(void 0===this.$item.resizeEnabled?e:this.$item.resizeEnabled)}bringToFront(e){if(e&&e<=0)return;const r=this.getLayerIndex(),o=this.gridster.$options.maxLayerIndex;if(r<o){const s=e?r+e:o;this.item.layerIndex=this.$item.layerIndex=s>o?o:s}}sendToBack(e){if(e&&e<=0)return;const r=this.getLayerIndex();if(r>0){const o=e?r-e:0;this.item.layerIndex=this.$item.layerIndex=o<0?0:o}}getLayerIndex(){return void 0!==this.item.layerIndex?this.item.layerIndex:void 0!==this.gridster.$options.defaultLayerIndex?this.gridster.$options.defaultLayerIndex:0}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(Sv),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(a.NgZone))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["gridster-item"]],hostVars:2,hostBindings:function(e,r){2&e&&a.\u0275\u0275styleProp("z-index",r.zIndex)},inputs:{item:"item"},outputs:{itemInit:"itemInit",itemChange:"itemChange",itemResize:"itemResize"},features:[a.\u0275\u0275NgOnChangesFeature],ngContentSelectors:aC,decls:9,vars:8,consts:[["class","gridster-item-resizable-handler handle-s",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-e",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-n",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-w",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-se",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-ne",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-sw",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-nw",3,"mousedown","touchstart",4,"ngIf"],[1,"gridster-item-resizable-handler","handle-s",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-e",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-n",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-w",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-se",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-ne",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-sw",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-nw",3,"mousedown","touchstart"]],template:function(e,r){1&e&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275projection(0),a.\u0275\u0275template(1,k3,1,0,"div",0),a.\u0275\u0275template(2,V3,1,0,"div",1),a.\u0275\u0275template(3,R3,1,0,"div",2),a.\u0275\u0275template(4,N3,1,0,"div",3),a.\u0275\u0275template(5,O3,1,0,"div",4),a.\u0275\u0275template(6,F3,1,0,"div",5),a.\u0275\u0275template(7,M3,1,0,"div",6),a.\u0275\u0275template(8,D3,1,0,"div",7)),2&e&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.gridster.$options.resizable.handles.s&&r.resize.resizeEnabled),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.gridster.$options.resizable.handles.e&&r.resize.resizeEnabled),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.gridster.$options.resizable.handles.n&&r.resize.resizeEnabled),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.gridster.$options.resizable.handles.w&&r.resize.resizeEnabled),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.gridster.$options.resizable.handles.se&&r.resize.resizeEnabled),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.gridster.$options.resizable.handles.ne&&r.resize.resizeEnabled),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.gridster.$options.resizable.handles.sw&&r.resize.resizeEnabled),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.gridster.$options.resizable.handles.nw&&r.resize.resizeEnabled))},directives:[x.NgIf],styles:["gridster-item{box-sizing:border-box;z-index:1;position:absolute;overflow:hidden;transition:.3s;display:none;background:white;-webkit-user-select:text;user-select:text}gridster-item.gridster-item-moving{cursor:move}gridster-item.gridster-item-resizing,gridster-item.gridster-item-moving{transition:0s;z-index:2;box-shadow:0 0 5px 5px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.gridster-item-resizable-handler{position:absolute;z-index:2}.gridster-item-resizable-handler.handle-n{cursor:ns-resize;height:10px;right:0;top:0;left:0}.gridster-item-resizable-handler.handle-e{cursor:ew-resize;width:10px;bottom:0;right:0;top:0}.gridster-item-resizable-handler.handle-s{cursor:ns-resize;height:10px;right:0;bottom:0;left:0}.gridster-item-resizable-handler.handle-w{cursor:ew-resize;width:10px;left:0;top:0;bottom:0}.gridster-item-resizable-handler.handle-ne{cursor:ne-resize;width:10px;height:10px;right:0;top:0}.gridster-item-resizable-handler.handle-nw{cursor:nw-resize;width:10px;height:10px;left:0;top:0}.gridster-item-resizable-handler.handle-se{cursor:se-resize;width:0;height:0;right:0;bottom:0;border-style:solid;border-width:0 0 10px 10px;border-color:transparent}.gridster-item-resizable-handler.handle-sw{cursor:sw-resize;width:10px;height:10px;left:0;bottom:0}gridster-item:hover .gridster-item-resizable-handler.handle-se{border-color:transparent transparent #ccc}\n"],encapsulation:2}),t})(),gC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule]]}),t})();var qf=S(7822),Ui=S(8589),Nc=S(6643),X3=S(1528),Oc=S(6328),ou=S(8085);const Eh=["innerGridItem"];function W3(t,n){1&t&&a.\u0275\u0275elementContainer(0)}const su=function(t){return{i:t}};function J3(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"div",2),a.\u0275\u0275elementStart(1,"p",4),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",5),a.\u0275\u0275template(4,W3,1,0,"ng-container",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t){const e=n.index,r=a.\u0275\u0275nextContext().index,o=a.\u0275\u0275nextContext();a.\u0275\u0275property("fxFlex",o.dashboard[o.itemIndex(r,e)].cols),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate3("row: ",r," | column: ",e," | size: ",o.dashboard[o.itemIndex(r,e)].cols,""),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngStyle",o.gridItemInnerStyles(r,e)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",o.innerGridItemTmpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(7,su,o.itemIndex(r,e)))}}const Q3=function(){return{height:"100%"}};function Y3(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"div",2),a.\u0275\u0275elementStart(1,"div",3),a.\u0275\u0275template(2,J3,5,9,"div",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t){const e=n.index,r=a.\u0275\u0275nextContext();a.\u0275\u0275property("fxFlex",r.rowFlex(e)),a.\u0275\u0275advance(1),a.\u0275\u0275property("fxLayout",r.rowDirection(e))("ngStyle",a.\u0275\u0275pureFunction0(4,Q3)),a.\u0275\u0275advance(1),a.\u0275\u0275property("for",r.totalColumns(e))}}const Iv=["gridItemActions"],Pv=["extraActions"],yC=["mainControls"],vC=["itemHeader"];function Z3(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function ej(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function tj(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function nj(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"gridster-item",8),a.\u0275\u0275elementStart(1,"div",9),a.\u0275\u0275elementStart(2,"div",10,11),a.\u0275\u0275template(4,ej,1,0,"ng-container",12),a.\u0275\u0275elementStart(5,"button",13),a.\u0275\u0275listener("mousedown",function(){const s=a.\u0275\u0275restoreView(e).index;return a.\u0275\u0275nextContext().removeItem(s)})("touchstart",function(){const s=a.\u0275\u0275restoreView(e).index;return a.\u0275\u0275nextContext().removeItem(s)}),a.\u0275\u0275text(6,"Delete"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"div",14),a.\u0275\u0275template(8,tj,1,0,"ng-container",12),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const e=n.$implicit,r=n.index,o=a.\u0275\u0275nextContext();a.\u0275\u0275property("item",e),a.\u0275\u0275advance(2),a.\u0275\u0275property("hidden",!o.displayItemHeader),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngTemplateOutlet",o.gridItemActionsTmpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(6,su,r)),a.\u0275\u0275advance(4),a.\u0275\u0275property("ngTemplateOutlet",o.innerGridItemTmpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(8,su,r))}}function rj(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function ij(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function aj(t,n){1&t&&a.\u0275\u0275elementContainer(0)}const _C=function(){return{i:0}};function oj(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function sj(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function lj(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function uj(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"as-split-area",15),a.\u0275\u0275elementStart(1,"div",16),a.\u0275\u0275elementStart(2,"div",17,18),a.\u0275\u0275template(4,sj,1,0,"ng-container",19),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"div",20),a.\u0275\u0275template(6,lj,1,0,"ng-container",19),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t){const e=n.index,r=a.\u0275\u0275nextContext().index,o=a.\u0275\u0275nextContext();a.\u0275\u0275property("size",o.itemSize(r,e)),a.\u0275\u0275advance(2),a.\u0275\u0275property("hidden",!o.displayItemHeader),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngTemplateOutlet",o.gridItemActionsTmpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(6,su,o.itemIndex(r,e))),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngTemplateOutlet",o.innerGridItemTmpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(8,su,o.itemIndex(r,e)))}}function cj(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",6),a.\u0275\u0275elementStart(1,"div",7),a.\u0275\u0275elementStart(2,"button",8),a.\u0275\u0275elementStart(3,"mat-icon"),a.\u0275\u0275text(4,"menu"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"mat-menu",null,9),a.\u0275\u0275elementStart(7,"button",10),a.\u0275\u0275listener("mousedown",function(){const s=a.\u0275\u0275restoreView(e).index;return a.\u0275\u0275nextContext().addColumn(s)}),a.\u0275\u0275text(8,"Add Column"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"button",10),a.\u0275\u0275listener("mousedown",function(){const s=a.\u0275\u0275restoreView(e).index;return a.\u0275\u0275nextContext().layoutSettings("row",s)}),a.\u0275\u0275text(10,"Layout Settings"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"button",11),a.\u0275\u0275listener("mousedown",function(){const s=a.\u0275\u0275restoreView(e).index;return a.\u0275\u0275nextContext().removeRow(s)}),a.\u0275\u0275text(12,"Delete"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(13,"div",12),a.\u0275\u0275elementStart(14,"as-split",13),a.\u0275\u0275listener("dragEnd",function(o){const l=a.\u0275\u0275restoreView(e).index;return a.\u0275\u0275nextContext().dragEnd(l,o)}),a.\u0275\u0275template(15,uj,7,10,"as-split-area",14),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const e=n.index,r=a.\u0275\u0275reference(6),o=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275property("matMenuTriggerFor",r),a.\u0275\u0275advance(13),a.\u0275\u0275property("for",o.totalColumns(e))}}function dj(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",6),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().login()}),a.\u0275\u0275text(1,"login"),a.\u0275\u0275elementEnd()}}const fj=function(t){return[t,"manage"]};function pj(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"div",7),a.\u0275\u0275elementStart(1,"a",8),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275property("routerLink",a.\u0275\u0275pureFunction1(2,fj,e.path)),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e.path)}}const mj=["*"];function hj(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li"),a.\u0275\u0275elementStart(1,"button",15),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.submit()}),a.\u0275\u0275text(2,"Save"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}}function gj(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li"),a.\u0275\u0275elementStart(1,"button",16),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.onPropertiesClick()}),a.\u0275\u0275text(2,"Properties"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}}function yj(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li"),a.\u0275\u0275elementStart(1,"button",16),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.onDeleteClick()}),a.\u0275\u0275text(2,"Delete"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}}function vj(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li"),a.\u0275\u0275elementStart(1,"button",16),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.onRulesClick()}),a.\u0275\u0275text(2,"Rules"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}}function _j(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li"),a.\u0275\u0275elementStart(1,"button",17),a.\u0275\u0275listener("mousedown",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.onPersistenceClick()}),a.\u0275\u0275text(2,"Persistence"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}}function bj(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li"),a.\u0275\u0275elementStart(1,"button",18),a.\u0275\u0275listener("mousedown",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.applyStyle(0)})("touchstart",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.applyStyle(0)}),a.\u0275\u0275text(2,"Apply Style"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}}function wj(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li"),a.\u0275\u0275elementStart(1,"button",18),a.\u0275\u0275listener("mousedown",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.removeStyle(0)})("touchstart",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.removeStyle(0)}),a.\u0275\u0275text(2,"Remove Style"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}}function Cj(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",35),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext(2),a.\u0275\u0275reference(2).toggle()}),a.\u0275\u0275elementStart(1,"mat-icon"),a.\u0275\u0275text(2,"menu"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}}function xj(t,n){1&t&&(a.\u0275\u0275elementStart(0,"mat-icon"),a.\u0275\u0275text(1,"arrow_drop_down"),a.\u0275\u0275elementEnd())}function Sj(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"button",36),a.\u0275\u0275template(1,xj,2,0,"mat-icon",4),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext(2),r=a.\u0275\u0275reference(28);a.\u0275\u0275property("matMenuTriggerFor",r),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.nested)}}function Ej(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function Aj(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,Ej,1,0,"ng-container",23),a.\u0275\u0275elementContainerEnd()),2&t){const e=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",e.contextsMenuTpl)}}function Ij(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"div",37),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e.editor.panelStyleTitle(0))}}function Pj(t,n){1&t&&a.\u0275\u0275element(0,"span",38)}function Tj(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function kj(t,n){1&t&&(a.\u0275\u0275elementStart(0,"div",39),a.\u0275\u0275text(1,"d r u i d"),a.\u0275\u0275elementEnd())}function Vj(t,n){if(1&t&&(a.\u0275\u0275template(0,Cj,3,0,"button",19),a.\u0275\u0275template(1,Sj,2,2,"button",20),a.\u0275\u0275elementStart(2,"div"),a.\u0275\u0275template(3,Aj,2,1,"ng-container",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(4,Ij,2,1,"div",21),a.\u0275\u0275template(5,Pj,1,0,"span",22),a.\u0275\u0275template(6,Tj,1,0,"ng-container",23),a.\u0275\u0275elementStart(7,"div",24),a.\u0275\u0275elementStart(8,"mat-form-field"),a.\u0275\u0275elementStart(9,"mat-select",25),a.\u0275\u0275elementStart(10,"mat-option",26),a.\u0275\u0275text(11,"page"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(12,"mat-option",27),a.\u0275\u0275text(13,"form"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(14,"mat-option",28),a.\u0275\u0275text(15,"json"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(16,"div",29),a.\u0275\u0275elementStart(17,"mat-form-field"),a.\u0275\u0275elementStart(18,"mat-select",30),a.\u0275\u0275elementStart(19,"mat-option",31),a.\u0275\u0275text(20,"grid"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(21,"mat-option",32),a.\u0275\u0275text(22,"gridless"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(23,"mat-option",33),a.\u0275\u0275text(24,"split"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(25,kj,2,0,"div",34)),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngIf",!e.nested),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.nested),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",e.savable),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.editor.hasPanelStyle(0)&&e.nested),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.nested),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",e.extraActionsAreaTmpl),a.\u0275\u0275advance(19),a.\u0275\u0275property("ngIf",!e.nested)}}function Rj(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"div",37),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e.editor.panelStyleTitle(0))}}function Nj(t,n){if(1&t&&a.\u0275\u0275template(0,Rj,2,1,"div",21),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngIf",e.editor.hasPanelStyle(0)&&!e.nested)}}function Oj(t,n){1&t&&a.\u0275\u0275elementContainer(0)}const Tv=function(t,n){return{i:t,j:n}};function Fj(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"div",43),a.\u0275\u0275template(1,Oj,1,0,"ng-container",44),a.\u0275\u0275elementEnd()),2&t){const e=n.index,r=a.\u0275\u0275nextContext().i,o=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",o.editablePaneTpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction2(2,Tv,r,e))}}function Mj(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone",40),a.\u0275\u0275listener("change",function(o){const l=a.\u0275\u0275restoreView(e).i;return a.\u0275\u0275nextContext().editor.onFileChange(o,l)})("cdkDropListDropped",function(o){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.onDrop(o)}),a.\u0275\u0275elementStart(1,"div",null,41),a.\u0275\u0275template(3,Fj,2,5,"div",42),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const e=n.i,r=a.\u0275\u0275nextContext();a.\u0275\u0275property("cdkDropListData",e)("multiple",!0)("disableClick",!0),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",r.editor.panelPanes(e).controls)}}function Dj(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",15),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.submit()}),a.\u0275\u0275text(1,"Save"),a.\u0275\u0275elementEnd()}}function jj(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",16),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.onPropertiesClick()}),a.\u0275\u0275text(1,"Properties"),a.\u0275\u0275elementEnd()}}function Bj(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",16),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.onDeleteClick()}),a.\u0275\u0275text(1,"Delete"),a.\u0275\u0275elementEnd()}}function Lj(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",16),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.onRulesClick()}),a.\u0275\u0275text(1,"Rules"),a.\u0275\u0275elementEnd()}}function Uj(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",17),a.\u0275\u0275listener("mousedown",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.onPersistenceClick()}),a.\u0275\u0275text(1,"Persistence"),a.\u0275\u0275elementEnd()}}function zj(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",18),a.\u0275\u0275listener("mousedown",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.applyStyle(0)})("touchstart",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.applyStyle(0)}),a.\u0275\u0275text(1,"Apply Style"),a.\u0275\u0275elementEnd()}}function Gj(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",18),a.\u0275\u0275listener("mousedown",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.removeStyle(0)})("touchstart",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.removeStyle(0)}),a.\u0275\u0275text(1,"Remove Style"),a.\u0275\u0275elementEnd()}}function $j(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function Hj(t,n){if(1&t&&a.\u0275\u0275template(0,$j,1,0,"ng-container",2),2&t){const e=n.i,r=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngTemplateOutlet",r.renderPanelTpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(2,su,e))}}function qj(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li"),a.\u0275\u0275elementStart(1,"button",16),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.submit()}),a.\u0275\u0275text(2,"Save"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}}function Kj(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li"),a.\u0275\u0275elementStart(1,"button",17),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.onRulesClick()}),a.\u0275\u0275text(2,"Rules"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}}function Xj(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li"),a.\u0275\u0275elementStart(1,"button",5),a.\u0275\u0275listener("mousedown",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.onPersistenceClick()}),a.\u0275\u0275text(2,"Persistence"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}}function Wj(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"li"),a.\u0275\u0275elementStart(1,"button",17),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.onDeleteClick()}),a.\u0275\u0275text(2,"Delete"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}}function Jj(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",32),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext(2),a.\u0275\u0275reference(2).toggle()}),a.\u0275\u0275elementStart(1,"mat-icon"),a.\u0275\u0275text(2,"menu"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}}function Qj(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"button",33),a.\u0275\u0275elementStart(1,"mat-icon"),a.\u0275\u0275text(2,"menu"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t){a.\u0275\u0275nextContext(2);const e=a.\u0275\u0275reference(29);a.\u0275\u0275property("matMenuTriggerFor",e)}}function Yj(t,n){1&t&&a.\u0275\u0275element(0,"span",34)}function Zj(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function eB(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,Zj,1,0,"ng-container",30),a.\u0275\u0275elementContainerEnd()),2&t){const e=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",e.contextsMenuTpl)}}function tB(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function nB(t,n){1&t&&(a.\u0275\u0275elementStart(0,"div",35),a.\u0275\u0275text(1,"d r u i d"),a.\u0275\u0275elementEnd())}function rB(t,n){if(1&t&&(a.\u0275\u0275template(0,Jj,3,0,"button",18),a.\u0275\u0275template(1,Qj,3,1,"button",19),a.\u0275\u0275template(2,Yj,1,0,"span",20),a.\u0275\u0275elementStart(3,"div"),a.\u0275\u0275template(4,eB,2,1,"ng-container",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"div",21),a.\u0275\u0275elementStart(6,"mat-form-field"),a.\u0275\u0275elementStart(7,"mat-select",22),a.\u0275\u0275elementStart(8,"mat-option",23),a.\u0275\u0275text(9,"page"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"mat-option",24),a.\u0275\u0275text(11,"form"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(12,"mat-option",25),a.\u0275\u0275text(13,"json"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(14,"div",26),a.\u0275\u0275elementStart(15,"mat-form-field"),a.\u0275\u0275elementStart(16,"mat-select",27),a.\u0275\u0275elementStart(17,"mat-option",28),a.\u0275\u0275text(18,"gridless"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(19,"mat-option",29),a.\u0275\u0275text(20,"split"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(21,tB,1,0,"ng-container",30),a.\u0275\u0275template(22,nB,2,0,"div",31)),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngIf",!e.nested),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.nested),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.nested),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",e.savable),a.\u0275\u0275advance(17),a.\u0275\u0275property("ngTemplateOutlet",e.extraActionsAreaTmpl),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!e.nested)}}function iB(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",42),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(e);const o=a.\u0275\u0275nextContext().i;return a.\u0275\u0275nextContext().editor.applyStyle(o)})("touchstart",function(){a.\u0275\u0275restoreView(e);const o=a.\u0275\u0275nextContext().i;return a.\u0275\u0275nextContext().editor.applyStyle(o)}),a.\u0275\u0275text(1,"Apply Style"),a.\u0275\u0275elementEnd()}}function aB(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",42),a.\u0275\u0275listener("mousedown",function(){a.\u0275\u0275restoreView(e);const o=a.\u0275\u0275nextContext().i;return a.\u0275\u0275nextContext().editor.removeStyle(o)})("touchstart",function(){a.\u0275\u0275restoreView(e);const o=a.\u0275\u0275nextContext().i;return a.\u0275\u0275nextContext().editor.removeStyle(o)}),a.\u0275\u0275text(1,"Remove Style"),a.\u0275\u0275elementEnd()}}function oB(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"div",43),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext().i,r=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(r.editor.panelStyleTitle(e))}}function sB(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",36),a.\u0275\u0275elementStart(1,"mat-icon"),a.\u0275\u0275text(2,"arrow_drop_down"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-menu",null,37),a.\u0275\u0275elementStart(5,"button",5),a.\u0275\u0275listener("mousedown",function(){const s=a.\u0275\u0275restoreView(e).i;return a.\u0275\u0275nextContext(),a.\u0275\u0275reference(21).layoutSettings("column",s)}),a.\u0275\u0275text(6,"Layout Settings"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"button",38),a.\u0275\u0275listener("mousedown",function(){const s=a.\u0275\u0275restoreView(e).i;return a.\u0275\u0275nextContext().editor.addContent(s)})("touchstart",function(){const s=a.\u0275\u0275restoreView(e).i;return a.\u0275\u0275nextContext().editor.addContent(s)}),a.\u0275\u0275text(8,"Add Content"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"button",38),a.\u0275\u0275listener("mousedown",function(){const s=a.\u0275\u0275restoreView(e).i;return a.\u0275\u0275nextContext().editor.editPanelProps(s)})("touchstart",function(){const s=a.\u0275\u0275restoreView(e).i;return a.\u0275\u0275nextContext().editor.editPanelProps(s)}),a.\u0275\u0275text(10,"Props"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(11,iB,2,0,"button",39),a.\u0275\u0275template(12,aB,2,0,"button",39),a.\u0275\u0275elementStart(13,"button",40),a.\u0275\u0275listener("mousedown",function(){const s=a.\u0275\u0275restoreView(e).i;return a.\u0275\u0275nextContext(),a.\u0275\u0275reference(21).removeColumn2(s)})("touchstart",function(){const s=a.\u0275\u0275restoreView(e).i;return a.\u0275\u0275nextContext(),a.\u0275\u0275reference(21).removeColumn2(s)}),a.\u0275\u0275text(14,"Delete"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(15,oB,2,1,"div",41)}if(2&t){const e=n.i,r=a.\u0275\u0275reference(4),o=a.\u0275\u0275nextContext();a.\u0275\u0275property("matMenuTriggerFor",r),a.\u0275\u0275advance(11),a.\u0275\u0275property("ngIf",!o.editor.hasPanelStyle(e)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",o.editor.hasPanelStyle(e)),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",o.editor.hasPanelStyle(e))}}function lB(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function uB(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"div",47),a.\u0275\u0275template(1,lB,1,0,"ng-container",48),a.\u0275\u0275elementEnd()),2&t){const e=n.index,r=a.\u0275\u0275nextContext().i,o=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",o.editablePaneTpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction2(2,Tv,r,e))}}function cB(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone",44),a.\u0275\u0275listener("change",function(o){const l=a.\u0275\u0275restoreView(e).i;return a.\u0275\u0275nextContext().editor.onFileChange(o,l)})("cdkDropListDropped",function(o){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.onDrop(o)}),a.\u0275\u0275elementStart(1,"div",null,45),a.\u0275\u0275template(3,uB,2,5,"div",46),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const e=n.i,r=a.\u0275\u0275nextContext();a.\u0275\u0275property("cdkDropListData",e)("multiple",!0)("disableClick",!0),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",r.editor.panelPanes(e).controls)}}function dB(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",16),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.submit()}),a.\u0275\u0275text(1,"Save"),a.\u0275\u0275elementEnd()}}function fB(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",17),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.onRulesClick()}),a.\u0275\u0275text(1,"Rules"),a.\u0275\u0275elementEnd()}}function pB(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",5),a.\u0275\u0275listener("mousedown",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.onPersistenceClick()}),a.\u0275\u0275text(1,"Persistence"),a.\u0275\u0275elementEnd()}}function mB(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",17),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().editor.onDeleteClick()}),a.\u0275\u0275text(1,"Delete"),a.\u0275\u0275elementEnd()}}function hB(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function gB(t,n){if(1&t&&a.\u0275\u0275template(0,hB,1,0,"ng-container",2),2&t){const e=n.i,r=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngTemplateOutlet",r.renderPanelTpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(2,su,e))}}let kB=(()=>{class t{constructor(e){this.attributeMatcher=e,this.dashboard=[],this.layoutSetting=new zn,this.rowSettings=[],this.columnSettings=[]}get totalRows(){return 0==this.dashboard.length?0:this.dashboard.reduce((e,r)=>r.y>e?r.y:e,0)+1}get direction(){const e=this.attributeMatcher.getComputedValue("direction",this.layoutSetting?this.layoutSetting.settings:[]);return!e||"column"!==e.trim()&&"row"!==e.trim()?"column":e}ngOnInit(){console.log(this.dashboard)}itemIndex(e,r){return this.dashboard.findIndex(o=>o.y===e&&o.x===r)}totalColumns(e){return this.dashboard.reduce((r,o)=>o.y===e?r+1:r,0)}rowDirection(e){const r=this.attributeMatcher.getComputedValue("direction",this.rowSettings&&this.rowSettings[e]?this.rowSettings[e].settings:[]);return!r||"column"!==r.trim()&&"row"!==r.trim()?"row":r}rowFlex(e){return["flexGrow","flexShrink","flexBasis"].map(l=>this.attributeMatcher.getComputedValue(l,this.rowSettings&&this.rowSettings[e]?this.rowSettings[e].settings:[])).map(l=>null!=l&&""!==l&&""!==l.trim()?`${l.trim()}`:"").join(" ")}gridItemInnerStyles(e,r){const o=this.itemIndex(e,r);return{height:this.calculateHeight(this.attributeMatcher.getComputedValue("height",this.columnSettings&&this.columnSettings[o]?this.columnSettings[o].settings:[]))}}calculateHeight(e){return null!=e?e.trim():"auto"}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ct.AttributeMatcherService))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-flex-layout"]],contentQueries:function(e,r,o){if(1&e&&a.\u0275\u0275contentQuery(o,Eh,5),2&e){let s;a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(r.innerGridItemTmpl=s.first)}},inputs:{dashboard:"dashboard",layoutSetting:"layoutSetting",rowSettings:"rowSettings",columnSettings:"columnSettings"},decls:2,vars:2,consts:[["fxFill","",3,"fxLayout"],[3,"fxFlex",4,"for"],[3,"fxFlex"],[3,"fxLayout","ngStyle"],["hidden",""],[1,"grid-item-inner",3,"ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275template(1,Y3,3,5,"div",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("fxLayout",r.direction),a.\u0275\u0275advance(1),a.\u0275\u0275property("for",r.totalRows))},directives:[An,ue,ln.ForDirective,$t,x.NgStyle,Ta,x.NgTemplateOutlet],styles:[""]}),t})(),bC=(()=>{class t{constructor(){this.itemAdded=new a.EventEmitter,this.itemRemoved=new a.EventEmitter,this.dashboard=[],this.displayMainControls=!0,this.displayItemHeader=!0,this.itemHeights=[],this.rows=0}get grid(){return this.dashboard}get cumulativeHeight(){const e=[];return this.heightsMatrix.forEach(r=>{e.push(this.itemHeights.reduce((o,s)=>s>o?s:o))}),e.reduce((r,o)=>r+o)}get heightsMatrix(){return this.dashboard.reduce((e,r,o)=>(e[r.y]=void 0!==e[r.y]?[...e[r.y],this.itemHeights[o]]:[this.itemHeights[o]],e),[])}ngOnInit(){}removeItem(e){this.dashboard.splice(e,1),this.itemHeights.splice(e,1),this.itemRemoved.emit(e)}addColumn(){console.log("add column grid"),this.dashboard.push({cols:1,rows:1,y:0,x:this.dashboard.length}),this.itemAdded.emit()}addRow(){this.dashboard.push({cols:1,rows:1,y:this.rows++,x:0}),this.itemAdded.emit()}setItemContentHeight(e,r){this.itemHeights[e]=r+(this.displayItemHeader?this.itemHeaderHeight(e):0),this.refreshGridHeight()}refreshGridHeight(){this.gridHeight=this.cumulativeHeight+16*this.gridster.rows}itemHeaderHeight(e){return this.itemHeaders.find((r,o)=>o===e).nativeElement.offsetHeight}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-grid-layout"]],contentQueries:function(e,r,o){if(1&e&&(a.\u0275\u0275contentQuery(o,Iv,5),a.\u0275\u0275contentQuery(o,Eh,5),a.\u0275\u0275contentQuery(o,Pv,5)),2&e){let s;a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(r.gridItemActionsTmpl=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(r.innerGridItemTmpl=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(r.extraActionsTmpl=s.first)}},viewQuery:function(e,r){if(1&e&&(a.\u0275\u0275viewQuery(Sv,5),a.\u0275\u0275viewQuery(yC,5),a.\u0275\u0275viewQuery(vC,5)),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.gridster=o.first),a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.mainControls=o.first),a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.itemHeaders=o)}},inputs:{dashboard:"dashboard",displayMainControls:"displayMainControls",displayItemHeader:"displayItemHeader",options:"options"},outputs:{itemAdded:"itemAdded",itemRemoved:"itemRemoved"},decls:11,vars:6,consts:[[1,"layout-wrapper"],[1,"main-controls",3,"hidden"],["mainControls",""],["type","button",3,"mousedown"],[4,"ngTemplateOutlet"],[1,"layout-inner"],[3,"options"],[3,"item",4,"ngFor","ngForOf"],[3,"item"],["fxLayout","column","fxFill",""],["fxFlex","0 1 auto",1,"grid-item-header",3,"hidden"],["itemHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",1,"delete",3,"mousedown","touchstart"],["fxFlex","",1,"grid-item-inner"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"div",1,2),a.\u0275\u0275elementStart(3,"button",3),a.\u0275\u0275listener("mousedown",function(){return r.addColumn()}),a.\u0275\u0275text(4,"Add Column"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"button",3),a.\u0275\u0275listener("mousedown",function(){return r.addRow()}),a.\u0275\u0275text(6,"Add Row"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(7,Z3,1,0,"ng-container",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"div",5),a.\u0275\u0275elementStart(9,"gridster",6),a.\u0275\u0275template(10,nj,9,10,"gridster-item",7),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("hidden",!r.displayMainControls),a.\u0275\u0275advance(6),a.\u0275\u0275property("ngTemplateOutlet",r.extraActionsTmpl),a.\u0275\u0275advance(1),a.\u0275\u0275styleProp("height",r.gridHeight,"px"),a.\u0275\u0275advance(1),a.\u0275\u0275property("options",r.options),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",r.dashboard))},directives:[Sv,K3,x.NgTemplateOutlet,x.NgForOf,ue,An,$t],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-inner[_ngcontent-%COMP%]{height:100%}.grid-item-header[_ngcontent-%COMP%]{background-color:#ccc;padding:.5em}button.delete[_ngcontent-%COMP%]{float:right}.main-controls[_ngcontent-%COMP%]{background-color:#fff;padding:.5em}"]}),t})(),wC=(()=>{class t{constructor(){this.displayMainControls=!0,this.displayItemHeader=!0,this.nested=!1}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-gridless-layout"]],contentQueries:function(e,r,o){if(1&e&&(a.\u0275\u0275contentQuery(o,Iv,5),a.\u0275\u0275contentQuery(o,Eh,5),a.\u0275\u0275contentQuery(o,Pv,5)),2&e){let s;a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(r.gridItemActionsTmpl=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(r.innerGridItemTmpl=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(r.extraActionsTmpl=s.first)}},hostVars:2,hostBindings:function(e,r){2&e&&a.\u0275\u0275classProp("is-nested",r.nested)},inputs:{displayMainControls:"displayMainControls",displayItemHeader:"displayItemHeader",nested:"nested"},decls:11,vars:9,consts:[[1,"layout-wrapper"],[1,"main-controls",3,"hidden"],["mainControls",""],[4,"ngTemplateOutlet"],[1,"layout-inner"],["fxLayout","column","fxFill",""],["fxFlex","0 1 auto",1,"grid-item-header",3,"hidden"],["itemHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["fxFlex","",1,"grid-item-inner"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"div",1,2),a.\u0275\u0275template(3,rj,1,0,"ng-container",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"div",4),a.\u0275\u0275elementStart(5,"div",5),a.\u0275\u0275elementStart(6,"div",6,7),a.\u0275\u0275template(8,ij,1,0,"ng-container",8),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"div",9),a.\u0275\u0275template(10,aj,1,0,"ng-container",8),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("hidden",!r.displayMainControls),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngTemplateOutlet",r.extraActionsTmpl),a.\u0275\u0275advance(3),a.\u0275\u0275property("hidden",!r.displayItemHeader),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngTemplateOutlet",r.gridItemActionsTmpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction0(7,_C)),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngTemplateOutlet",r.innerGridItemTmpl)("ngTemplateOutletContext",a.\u0275\u0275pureFunction0(8,_C)))},directives:[x.NgTemplateOutlet,ue,An,$t],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-inner[_ngcontent-%COMP%]{height:100%}.is-nested[_nghost-%COMP%]   .layout-wrapper[_ngcontent-%COMP%]{padding:0 .25em;border:1px solid #ccc}.main-controls[_ngcontent-%COMP%]{display:flex;padding:0;align-items:baseline;border-bottom:1px solid #ccc;margin-bottom:.25em}.grid-item-header[_ngcontent-%COMP%]{padding:0;display:flex;align-items:baseline}"]}),t})(),VB=(()=>{class t{constructor(e){this.fb=e,this.settingValues=[],this.layoutForm=this.fb.group({settings:this.fb.control("")}),this.onTouched=()=>{}}get attributes(){return this.layout.settings.has(this.type)?this.layout.settings.get(this.type):[]}ngOnInit(){}writeValue(e){e&&this.layoutForm.setValue(e,{emitEvent:!1})}registerOnChange(e){this.layoutForm.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.layoutForm.disable():this.layoutForm.enable()}validate(e){return this.layoutForm.valid?null:{invalidForm:{valid:!1,message:"layout is invalid"}}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-layout-form"]],inputs:{layout:"layout",type:"type",settingValues:"settingValues"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}])],decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"attributes","attributeValues"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275element(1,"classifieds-ui-attributes-builder",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.layoutForm),a.\u0275\u0275advance(1),a.\u0275\u0275property("attributes",r.attributes)("attributeValues",r.settingValues))},directives:[Ct.AttributesBuilderComponent,d.JL,d.sg,d.JJ,d.u],styles:[""]}),t})(),RB=(()=>{class t{constructor(e,r,o,s){this.data=e,this.dialogRef=r,this.valueComputerService=o,this.fb=s,this.settingValues=[],this.dialogForm=this.fb.group({layout:this.fb.control("")})}get attrValues(){return""===this.dialogForm.get("layout").value?this.settingValues:this.dialogForm.get("layout").value.settings.map(e=>new Ct.AttributeValue(e))}ngOnInit(){this.layout=this.data.layout,this.type=this.data.type,this.settingValues=this.data.settingValues}submit(){console.log(this.attrValues);const e=this.valueComputerService.compute(this.attrValues);this.dialogRef.close(e)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ft.WI),a.\u0275\u0275directiveInject(Ft.so),a.\u0275\u0275directiveInject(Ct.ValueComputerService),a.\u0275\u0275directiveInject(d.qu))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-layout-dialog"]],decls:6,vars:5,consts:[[1,"layout-form",3,"formGroup","ngSubmit"],["formControlName","layout",3,"layout","type","settingValues"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return r.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content"),a.\u0275\u0275element(2,"druid-layout-form",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-dialog-actions"),a.\u0275\u0275elementStart(4,"button",2),a.\u0275\u0275text(5,"Save"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.dialogForm),a.\u0275\u0275advance(2),a.\u0275\u0275property("layout",r.layout)("type",r.type)("settingValues",r.settingValues),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",!r.dialogForm.valid))},directives:[VB,kr.lW,d._Y,d.JL,d.sg,Ft.xY,d.JJ,d.u,Ft.H8,Ft.ZT],styles:[""]}),t})(),Ah=(()=>{class t extends fn.BasePluginManager{constructor(e,r){super(e,r)}pluginDef(){return(0,ke.of)(new fn.PluginDef({name:"layout"}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(fn.PluginConfigurationManager),a.\u0275\u0275inject(ln.ModuleLoaderService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),CC=(()=>{class t{constructor(e,r,o){this.el=e,this.dialog=r,this.lpm=o,this.itemAdded=new a.EventEmitter,this.itemRemoved=new a.EventEmitter,this.dashboard=[],this.displayMainControls=!0,this.displayItemHeader=!0,this.nested=!1,this.layoutSettingChange=new a.EventEmitter,this.rowSettingsChange=new a.EventEmitter,this.columnSettingsChange=new a.EventEmitter,this.rows=0,this.sizes=[]}get totalRows(){return 0==this.dashboard.length?0:this.dashboard.reduce((e,r)=>r.y>e?r.y:e,0)+1}ngOnInit(){if(0===this.dashboard.length)this.addRow();else{for(let r=0;r<this.totalRows;r++){const o=this.totalColumns(r);this.sizes.push([]);for(let s=0;s<o;s++){const l=this.itemIndex(r,s);this.sizes[r].push(this.dashboard[l].cols)}}if(this.totalRows!==this.rowSettings.length&&0===this.rowSettings.length){const r=[];for(let o=0;o<this.totalRows;o++)r.push(new zn);this.rowSettings=r,this.rowSettingsChange.emit(this.rowSettings)}let e=0;for(let r=0;r<this.totalRows;r++)e+=this.totalColumns(r);if(e!==this.columnSettings.length&&0===this.columnSettings.length){const r=[];for(let o=0;o<this.totalRows;o++)for(let s=0;s<this.totalColumns(o);s++)r.push(new zn);this.columnSettings=r,this.columnSettingsChange.emit(this.columnSettings)}}}removeRow(e){const r=this.dashboard.reduce((l,u,p)=>[...l,...u.y===e?[p]:[]],[]);let o=r.length,s=0;for(let l=0;l<o;l++)this.dashboard.splice(r[l]-s,1),this.rowSettings.splice(e,1),s++,this.itemRemoved.emit(r[l]),this.rowSettingsChange.emit(this.rowSettings);o=this.dashboard.length;for(let l=0;l<o;l++)this.dashboard[l].y>e&&(this.dashboard[l].y=this.dashboard[l].y-1)}removeColumn(e,r){const o=this.itemIndex(e,r);this.dashboard.splice(o,1),this.itemRemoved.emit(o)}removeColumn2(e){this.dashboard.splice(e,1),this.itemRemoved.emit(e)}addRow(){this.sizes.push([]),this.rowSettings=[...this.rowSettings.map(e=>new zn(e)),new zn],this.addColumn(0===this.totalRows?0:this.totalRows),this.rowSettingsChange.emit(this.rowSettings)}addColumn(e){const r=this.totalColumns(e),o=0===r?100:100/(r+1);this.sizes[e][r]=o,this.dashboard.push({cols:o,rows:1,y:e,x:r}),this.itemAdded.emit(),setTimeout(()=>this.resetGutter())}dragEnd(e,{sizes:r}){const o=this.dashboard.length;let s=0;this.sizes[e]=[...r];const l=this.dashboard.map(u=>({...u}));for(let u=0;u<o;u++)this.dashboard[u].y===e&&(l[u].cols=r[s],s+=1);this.dashboard=l}itemIndex(e,r){return this.dashboard.findIndex(o=>o.y===e&&o.x===r)}itemSize(e,r){return this.dashboard[this.itemIndex(e,r)].cols}totalColumns(e){return this.dashboard.reduce((r,o)=>o.y===e?r+1:r,0)}resetGutter(){this.el.nativeElement.querySelectorAll(".as-split-gutter").forEach(e=>{e.style.height="auto"})}settingValues(e,r){switch(e){case"column":return this.columnSettings[r].settings;case"row":return this.rowSettings[r].settings;case"global":return this.layoutSetting.settings;default:return[]}}layoutSettings(e,r){this.lpm.getPlugin("split").pipe((0,Qe.w)(o=>this.dialog.open(RB,{data:{layout:o,type:e,settingValues:this.settingValues(e,r)}}).afterClosed()),(0,z.h)(o=>!!o)).subscribe(o=>{switch(e){case"column":this.columnSettings=this.columnSettings.map((s,l)=>new zn(l===r?{settings:o.map(u=>new Ct.AttributeValue(u))}:s)),console.log(this.columnSettings),this.columnSettingsChange.emit(this.columnSettings);break;case"row":this.rowSettings=this.rowSettings.map((s,l)=>new zn(l===r?{settings:o.map(u=>new Ct.AttributeValue(u))}:s)),console.log(this.rowSettings),this.rowSettingsChange.emit(this.rowSettings);break;case"global":this.layoutSetting=new zn({settings:o.map(s=>new Ct.AttributeValue(s))}),this.layoutSettingChange.emit(this.layoutSetting)}})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(Ft.uw),a.\u0275\u0275directiveInject(Ah))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-split-layout"]],contentQueries:function(e,r,o){if(1&e&&(a.\u0275\u0275contentQuery(o,Iv,5),a.\u0275\u0275contentQuery(o,Eh,5),a.\u0275\u0275contentQuery(o,Pv,5)),2&e){let s;a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(r.gridItemActionsTmpl=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(r.innerGridItemTmpl=s.first),a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(r.extraActionsTmpl=s.first)}},viewQuery:function(e,r){if(1&e&&(a.\u0275\u0275viewQuery(yC,5),a.\u0275\u0275viewQuery(vC,5),a.\u0275\u0275viewQuery(xf,5)),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.mainControls=o.first),a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.itemHeaders=o),a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.splitAreas=o)}},hostVars:2,hostBindings:function(e,r){2&e&&a.\u0275\u0275classProp("is-nested",r.nested)},inputs:{dashboard:"dashboard",displayMainControls:"displayMainControls",displayItemHeader:"displayItemHeader",nested:"nested",layoutSetting:"layoutSetting",rowSettings:"rowSettings",columnSettings:"columnSettings"},outputs:{itemAdded:"itemAdded",itemRemoved:"itemRemoved",layoutSettingChange:"layoutSettingChange",rowSettingsChange:"rowSettingsChange",columnSettingsChange:"columnSettingsChange"},decls:6,vars:3,consts:[[1,"layout-wrapper"],[1,"main-controls",3,"hidden"],["mainControls",""],[4,"ngTemplateOutlet"],[1,"layout-inner"],["class","rows-wrapper",4,"for"],[1,"rows-wrapper"],[1,"row-controls"],["mat-button","","type","button",3,"matMenuTriggerFor"],["rowActions","matMenu"],["type","button","mat-menu-item","",3,"mousedown"],["type","button","mat-menu-item","",1,"remove-row",3,"mousedown"],[1,"rows-inner"],["unit","percent","direction","horizontal",3,"dragEnd"],[3,"size",4,"for"],[3,"size"],["fxLayout","column","fxFill",""],[1,"grid-item-header",3,"hidden"],["itemHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["fxFlex","",1,"grid-item-inner"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"div",1,2),a.\u0275\u0275template(3,oj,1,0,"ng-container",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"div",4),a.\u0275\u0275template(5,cj,16,2,"div",5),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("hidden",!r.displayMainControls),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngTemplateOutlet",r.extraActionsTmpl),a.\u0275\u0275advance(2),a.\u0275\u0275property("for",r.totalRows))},directives:[kr.lW,qf.Hw,Ui.VK,Ui.OP,Cf,x.NgTemplateOutlet,ln.ForDirective,Ui.p6,xf,ue,An,$t],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-inner[_ngcontent-%COMP%]{height:100%}.grid-item-header[_ngcontent-%COMP%]{padding:0;display:flex;align-items:baseline}button.delete[_ngcontent-%COMP%]{float:right}.main-controls[_ngcontent-%COMP%]{display:flex;padding:0;align-items:baseline}.rows-inner[_ngcontent-%COMP%]{height:auto;background-color:#fff}.row-controls[_ngcontent-%COMP%]{background-color:gray;padding:0}.remove-row[_ngcontent-%COMP%]{float:right}.is-nested[_nghost-%COMP%]   .layout-wrapper[_ngcontent-%COMP%]{padding:0 .25em;border:1px solid #ccc}.mat-menu-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0;color:#fff}.mat-menu-trigger[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{transform:rotate(-90deg)}"]}),t})();class xC extends fn.Plugin{constructor(n){if(super(n),this.settings=new Map,n.settings){const e=[];this.renderer=n.renderer,this.editor=n.editor,n.settings.forEach((r,o)=>{e.push([o,r.map(s=>new Ct.Attribute(s))])}),this.settings=new Map(e)}}}let SC=(()=>{class t{constructor(e,r,o,s){this.siteName=e,this.authFacade=r,this.controlContainer=o,this.close=new a.EventEmitter,this.panelPageListItemsService=s.getEntityCollectionService("PanelPageListItem")}ngOnInit(){this.panelPageListItems$=this.panelPageListItemsService.getWithQuery(`site=${encodeURIComponent(`{"term":{"site.keyword":{"value":"${this.siteName}"}}}`)}`),this.isAuthenticated$=this.authFacade.getUser$.pipe((0,ve.U)(e=>!!e))}login(){this.authFacade.login()}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(ln.SITE_NAME),a.\u0275\u0275directiveInject(hi),a.\u0275\u0275directiveInject(d.gN),a.\u0275\u0275directiveInject(Jn))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-layout-sidenav"]],outputs:{close:"close"},ngContentSelectors:mj,decls:12,vars:6,consts:[[1,"close-wrapper"],[3,"click"],["type","button","class","login","mat-button","",3,"click",4,"ngIf"],[1,"viewport-container"],["appendOnly","","itemSize","48",1,"viewport"],["class","pp-item",4,"cdkVirtualFor","cdkVirtualForOf"],["type","button","mat-button","",1,"login",3,"click"],[1,"pp-item"],[3,"routerLink"]],template:function(e,r){1&e&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"mat-icon",1),a.\u0275\u0275listener("click",function(){return r.close.emit()}),a.\u0275\u0275text(2,"close"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(3,dj,2,0,"button",2),a.\u0275\u0275pipe(4,"async"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(5,"mat-divider"),a.\u0275\u0275projection(6),a.\u0275\u0275element(7,"mat-divider"),a.\u0275\u0275elementStart(8,"div",3),a.\u0275\u0275elementStart(9,"cdk-virtual-scroll-viewport",4),a.\u0275\u0275template(10,pj,3,4,"div",5),a.\u0275\u0275pipe(11,"async"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",!a.\u0275\u0275pipeBind1(4,2,r.isAuthenticated$)),a.\u0275\u0275advance(7),a.\u0275\u0275property("cdkVirtualForOf",a.\u0275\u0275pipeBind1(11,4,r.panelPageListItems$)))},directives:[qf.Hw,kr.lW,X3.d,Oc.N7,x.NgIf,Oc.xd,Oc.x0,Nn.RouterLinkWithHref],pipes:[x.AsyncPipe],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column}.close-wrapper[_ngcontent-%COMP%]{padding:16px 16px 0;position:relative}.login[_ngcontent-%COMP%]{position:absolute;top:7px;right:5px}.pp-item[_ngcontent-%COMP%]{line-height:48px}.viewport[_ngcontent-%COMP%]{height:100%;width:300px}.viewport-container[_ngcontent-%COMP%]{flex:1;padding:0 0 0 16px;box-sizing:border-box}"]}),t})(),NB=(()=>{class t extends Hw{constructor(e,r,o,s){super(o),this.siteName=e,this.authFacade=r,this.controlContainer=o,this.panelPageListItemsService=s.getEntityCollectionService("PanelPageListItem")}ngOnInit(){this.panelPageListItems$=this.panelPageListItemsService.getWithQuery(`site=${encodeURIComponent(`{"term":{"site.keyword":{"value":"${this.siteName}"}}}`)}`),this.isAuthenticated$=this.authFacade.getUser$.pipe((0,ve.U)(e=>!!e))}login(){this.authFacade.login()}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(ln.SITE_NAME),a.\u0275\u0275directiveInject(hi),a.\u0275\u0275directiveInject(d.gN),a.\u0275\u0275directiveInject(Jn))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-gridless-layout-editor"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:40,vars:17,consts:[["autosize","",3,"hasBackdrop"],["fixedInViewport","","mode","over"],["drawer",""],[3,"close"],[4,"ngIf"],["type","button","mat-menu-item","",3,"mousedown","touchstart"],["cdkDropListGroup","",3,"formGroup","nested"],["extraActions",""],["gridItemActions",""],["innerGridItem",""],["topActions","matMenu"],["mat-menu-item","","type","submit",3,"click",4,"ngIf"],["type","button","mat-menu-item","",3,"click",4,"ngIf"],["type","button","mat-menu-item","",3,"mousedown",4,"ngIf"],["mat-menu-item","","type","button",3,"mousedown","touchstart",4,"ngIf"],["mat-menu-item","","type","submit",3,"click"],["type","button","mat-menu-item","",3,"click"],["type","button","mat-menu-item","",3,"mousedown"],["mat-menu-item","","type","button",3,"mousedown","touchstart"],["mat-button","","type","button","class","drawer-trigger",3,"click",4,"ngIf"],["mat-button","","type","button",3,"matMenuTriggerFor",4,"ngIf"],["class","style-title",4,"ngIf"],["class","spacer",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"display-type"],["required","","formControlName","displayType"],["value","page"],["value","form"],["value","json"],[1,"layout-type"],["required","","formControlName","layoutType"],["value","grid"],["value","gridless"],["value","split"],["class","brand",4,"ngIf"],["mat-button","","type","button",1,"drawer-trigger",3,"click"],["mat-button","","type","button",3,"matMenuTriggerFor"],[1,"style-title"],[1,"spacer"],[1,"brand"],["cdkDropList","",1,"panel-dropzone",3,"cdkDropListData","multiple","disableClick","change","cdkDropListDropped"],["panes",""],["cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,r){if(1&e){const o=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-sidenav-container",0),a.\u0275\u0275elementStart(1,"mat-sidenav",1,2),a.\u0275\u0275elementStart(3,"druid-layout-sidenav",3),a.\u0275\u0275listener("close",function(){return a.\u0275\u0275restoreView(o),a.\u0275\u0275reference(2).toggle()}),a.\u0275\u0275elementStart(4,"nav"),a.\u0275\u0275elementStart(5,"ul"),a.\u0275\u0275template(6,hj,3,0,"li",4),a.\u0275\u0275template(7,gj,3,0,"li",4),a.\u0275\u0275template(8,yj,3,0,"li",4),a.\u0275\u0275template(9,vj,3,0,"li",4),a.\u0275\u0275template(10,_j,3,0,"li",4),a.\u0275\u0275elementStart(11,"li"),a.\u0275\u0275elementStart(12,"button",5),a.\u0275\u0275listener("mousedown",function(){return r.editor.addContent(0)})("touchstart",function(){return r.editor.addContent(0)}),a.\u0275\u0275text(13,"Add Content"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(14,"li"),a.\u0275\u0275elementStart(15,"button",5),a.\u0275\u0275listener("mousedown",function(){return r.editor.editPanelProps(0)})("touchstart",function(){return r.editor.editPanelProps(0)}),a.\u0275\u0275text(16,"Props"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(17,bj,3,0,"li",4),a.\u0275\u0275template(18,wj,3,0,"li",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(19,"mat-sidenav-content"),a.\u0275\u0275elementStart(20,"classifieds-ui-gridless-layout",6),a.\u0275\u0275template(21,Vj,26,7,"ng-template",null,7,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275template(23,Nj,1,1,"ng-template",null,8,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275template(25,Mj,4,4,"ng-template",null,9,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(27,"mat-menu",null,10),a.\u0275\u0275template(29,Dj,2,0,"button",11),a.\u0275\u0275template(30,jj,2,0,"button",12),a.\u0275\u0275template(31,Bj,2,0,"button",12),a.\u0275\u0275template(32,Lj,2,0,"button",12),a.\u0275\u0275template(33,Uj,2,0,"button",13),a.\u0275\u0275elementStart(34,"button",5),a.\u0275\u0275listener("mousedown",function(){return r.editor.addContent(0)})("touchstart",function(){return r.editor.addContent(0)}),a.\u0275\u0275text(35,"Add Content"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(36,"button",5),a.\u0275\u0275listener("mousedown",function(){return r.editor.editPanelProps(0)})("touchstart",function(){return r.editor.editPanelProps(0)}),a.\u0275\u0275text(37,"Props"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(38,zj,2,0,"button",14),a.\u0275\u0275template(39,Gj,2,0,"button",14),a.\u0275\u0275elementEnd()}2&e&&(a.\u0275\u0275property("hasBackdrop",!1),a.\u0275\u0275advance(6),a.\u0275\u0275property("ngIf",r.savable),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.savable||r.nested),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.nested),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.nested),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.savable),a.\u0275\u0275advance(7),a.\u0275\u0275property("ngIf",!r.editor.hasPanelStyle(0)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.editor.hasPanelStyle(0)),a.\u0275\u0275advance(2),a.\u0275\u0275property("formGroup",r.controlContainer.control)("nested",r.nested),a.\u0275\u0275advance(9),a.\u0275\u0275property("ngIf",r.savable),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.savable||r.nested),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.nested),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.nested),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.savable),a.\u0275\u0275advance(5),a.\u0275\u0275property("ngIf",!r.editor.hasPanelStyle(0)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.editor.hasPanelStyle(0)))},directives:[Nc.TM,Nc.JX,SC,Ui.OP,Nc.Rh,wC,kr.lW,qf.Hw,Xt.KE,Dr.gD,Xn.ey,mh,Ui.VK,x.NgIf,ou.Fd,d.JL,d.sg,Ui.p6,x.NgTemplateOutlet,d.Q7,d.JJ,d.u,ou.Wj,x.NgForOf,ou.Zt],styles:[".layout-type[_ngcontent-%COMP%]     .mat-form-field-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}.layout-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper{display:none}.layout-type[_ngcontent-%COMP%]     .mat-form-field-infix, .display-type[_ngcontent-%COMP%]     .mat-form-field-infix{border-top:none;padding:0;margin:0}.layout-type[_ngcontent-%COMP%]     .mat-form-field, .display-type[_ngcontent-%COMP%]     .mat-form-field{width:70px}.layout-type[_ngcontent-%COMP%]     .mat-select-value, .display-type[_ngcontent-%COMP%]     .mat-select-value{text-align:right}.layout-type[_ngcontent-%COMP%]     .mat-form-field-underline, .display-type[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.mat-menu-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}.cdk-drag[_ngcontent-%COMP%]{padding:.25em}.brand[_ngcontent-%COMP%]{font-family:sans-serif;text-align:right;flex:1}.spacer[_ngcontent-%COMP%]{flex:1}.style-title[_ngcontent-%COMP%]{font-family:sans-serif;font-weight:500;text-transform:lowercase;color:#000}.mat-icon[_ngcontent-%COMP%]{color:#000}.drawer-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}"]}),t})(),OB=(()=>{class t extends qw{constructor(e){super(e),this.controlContainer=e}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.gN,8))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-gridless-layout-renderer"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[[3,"displayMainControls","displayItemHeader"],["innerGridItem",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"classifieds-ui-gridless-layout",0),a.\u0275\u0275template(1,Hj,1,4,"ng-template",null,1,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("displayMainControls",r.displayMainControls)("displayItemHeader",r.displayItemHeader)},directives:[wC,x.NgTemplateOutlet],styles:["[_nghost-%COMP%]{height:100%}"]}),t})(),FB=(()=>{class t extends Hw{constructor(e){super(e),this.controlContainer=e}get gridItems(){return this.dashboard.map((e,r)=>({...e,cols:Math.floor(e.cols),weight:r}))}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-split-layout-editor"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:40,vars:15,consts:[["autosize","",3,"hasBackdrop"],["fixedInViewport","","mode","over"],["drawer",""],[3,"close"],[4,"ngIf"],["type","button","mat-menu-item","",3,"mousedown"],["type","button","mat-menu-item","",3,"click"],["cdkDropListGroup","",3,"nested","formGroup","dashboard","layoutSetting","rowSettings","columnSettings","itemAdded","itemRemoved","layoutSettingChange","rowSettingsChange","columnSettingsChange"],["splitLayout",""],["extraActions",""],["gridItemActions",""],["innerGridItem",""],["topActions","matMenu"],["mat-menu-item","","type","submit",3,"click",4,"ngIf"],["mat-menu-item","","type","button",3,"click",4,"ngIf"],["type","button","mat-menu-item","",3,"mousedown",4,"ngIf"],["mat-menu-item","","type","submit",3,"click"],["mat-menu-item","","type","button",3,"click"],["mat-button","","type","button","class","drawer-trigger",3,"click",4,"ngIf"],["mat-button","","type","button",3,"matMenuTriggerFor",4,"ngIf"],["class","spacer",4,"ngIf"],[1,"display-type"],["required","","formControlName","displayType"],["value","page"],["value","form"],["value","json"],[1,"layout-type"],["required","","formControlName","layoutType"],["value","gridless"],["value","split"],[4,"ngTemplateOutlet"],["class","brand",4,"ngIf"],["mat-button","","type","button",1,"drawer-trigger",3,"click"],["mat-button","","type","button",3,"matMenuTriggerFor"],[1,"spacer"],[1,"brand"],["mat-button","","type","button",1,"panel-actions-btn",3,"matMenuTriggerFor"],["panelActions","matMenu"],["type","button","mat-menu-item","",3,"mousedown","touchstart"],["mat-menu-item","","type","button",3,"mousedown","touchstart",4,"ngIf"],["type","button","mat-menu-item","",1,"delete",3,"mousedown","touchstart"],["class","style-title",4,"ngIf"],["mat-menu-item","","type","button",3,"mousedown","touchstart"],[1,"style-title"],["cdkDropList","",1,"panel-dropzone",3,"cdkDropListData","multiple","disableClick","change","cdkDropListDropped"],["panes",""],["cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,r){if(1&e){const o=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-sidenav-container",0),a.\u0275\u0275elementStart(1,"mat-sidenav",1,2),a.\u0275\u0275elementStart(3,"druid-layout-sidenav",3),a.\u0275\u0275listener("close",function(){return a.\u0275\u0275restoreView(o),a.\u0275\u0275reference(2).toggle()}),a.\u0275\u0275elementStart(4,"nav"),a.\u0275\u0275elementStart(5,"ul"),a.\u0275\u0275template(6,qj,3,0,"li",4),a.\u0275\u0275elementStart(7,"li"),a.\u0275\u0275elementStart(8,"button",5),a.\u0275\u0275listener("mousedown",function(){return a.\u0275\u0275restoreView(o),a.\u0275\u0275reference(21).addRow()}),a.\u0275\u0275text(9,"Add Row"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"li"),a.\u0275\u0275elementStart(11,"button",6),a.\u0275\u0275listener("click",function(){return r.editor.onPropertiesClick()}),a.\u0275\u0275text(12,"Props"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(13,"li"),a.\u0275\u0275elementStart(14,"button",5),a.\u0275\u0275listener("mousedown",function(){return a.\u0275\u0275restoreView(o),a.\u0275\u0275reference(21).layoutSettings("global")}),a.\u0275\u0275text(15,"Layout Settings"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(16,Kj,3,0,"li",4),a.\u0275\u0275template(17,Xj,3,0,"li",4),a.\u0275\u0275template(18,Wj,3,0,"li",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(19,"mat-sidenav-content"),a.\u0275\u0275elementStart(20,"classifieds-ui-split-layout",7,8),a.\u0275\u0275listener("itemAdded",function(){return r.editor.onItemAdded()})("itemRemoved",function(l){return r.editor.onItemRemoved(l)})("layoutSettingChange",function(l){return r.editor.onLayoutSettingChange(l)})("rowSettingsChange",function(l){return r.editor.onRowSettingsChange(l)})("columnSettingsChange",function(l){return r.editor.onColumnSettingsChange(l)}),a.\u0275\u0275template(22,rB,23,6,"ng-template",null,9,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275template(24,sB,16,4,"ng-template",null,10,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275template(26,cB,4,4,"ng-template",null,11,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(28,"mat-menu",null,12),a.\u0275\u0275template(30,dB,2,0,"button",13),a.\u0275\u0275elementStart(31,"button",5),a.\u0275\u0275listener("mousedown",function(){return a.\u0275\u0275restoreView(o),a.\u0275\u0275reference(21).addRow()}),a.\u0275\u0275text(32,"Add Row"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(33,"button",6),a.\u0275\u0275listener("click",function(){return r.editor.onPropertiesClick()}),a.\u0275\u0275text(34,"Props"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(35,"button",5),a.\u0275\u0275listener("mousedown",function(){return a.\u0275\u0275restoreView(o),a.\u0275\u0275reference(21).layoutSettings("global")}),a.\u0275\u0275text(36,"Layout Settings"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(37,fB,2,0,"button",14),a.\u0275\u0275template(38,pB,2,0,"button",15),a.\u0275\u0275template(39,mB,2,0,"button",14),a.\u0275\u0275elementEnd()}2&e&&(a.\u0275\u0275property("hasBackdrop",!1),a.\u0275\u0275advance(6),a.\u0275\u0275property("ngIf",r.savable),a.\u0275\u0275advance(10),a.\u0275\u0275property("ngIf",r.nested),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.savable),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.nested),a.\u0275\u0275advance(2),a.\u0275\u0275property("nested",r.nested)("formGroup",r.controlContainer.control)("dashboard",r.dashboard)("layoutSetting",r.layoutSetting)("rowSettings",r.rowSettings)("columnSettings",r.columnSettings),a.\u0275\u0275advance(10),a.\u0275\u0275property("ngIf",r.savable),a.\u0275\u0275advance(7),a.\u0275\u0275property("ngIf",r.nested),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.savable),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.nested))},directives:[Nc.TM,Nc.JX,SC,Ui.OP,Nc.Rh,CC,kr.lW,qf.Hw,Xt.KE,Dr.gD,Xn.ey,Ui.VK,mh,x.NgIf,ou.Fd,d.JL,d.sg,Ui.p6,x.NgTemplateOutlet,d.Q7,d.JJ,d.u,ou.Wj,x.NgForOf,ou.Zt],styles:[".layout-type[_ngcontent-%COMP%]     .mat-form-field-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}.layout-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper{display:none}.layout-type[_ngcontent-%COMP%]     .mat-form-field-infix, .display-type[_ngcontent-%COMP%]     .mat-form-field-infix{border-top:none;padding:0;margin:0}.layout-type[_ngcontent-%COMP%]     .mat-form-field, .display-type[_ngcontent-%COMP%]     .mat-form-field{width:70px}.layout-type[_ngcontent-%COMP%]     .mat-select-value, .display-type[_ngcontent-%COMP%]     .mat-select-value{text-align:right}.layout-type[_ngcontent-%COMP%]     .mat-form-field-underline, .display-type[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.mat-menu-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}.cdk-drag[_ngcontent-%COMP%]{padding:.25em}.panel-actions-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{transform:rotate(-90deg)}.brand[_ngcontent-%COMP%]{font-family:sans-serif;text-align:right;flex:1}.spacer[_ngcontent-%COMP%]{flex:1}.style-title[_ngcontent-%COMP%]{font-family:sans-serif;font-weight:500;text-transform:lowercase;color:#000}.drawer-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}"]}),t})(),MB=(()=>{class t extends qw{constructor(e){super(e),this.controlContainer=e}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.gN,8))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-flex-layout-renderer"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:3,vars:4,consts:[[3,"dashboard","layoutSetting","rowSettings","columnSettings"],["innerGridItem",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"classifieds-ui-flex-layout",0),a.\u0275\u0275template(1,gB,1,4,"ng-template",null,1,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("dashboard",null==r.panelPage?null:r.panelPage.gridItems)("layoutSetting",r.panelPage.layoutSetting)("rowSettings",r.panelPage.rowSettings)("columnSettings",r.columnSettings)},directives:[kB,x.NgTemplateOutlet],encapsulation:2}),t})();const DB=()=>{const t=new Map([["row",[new Ct.Attribute({name:"flexGrow",type:Ct.AttributeTypes.Text,label:"Flex Grow",required:!1,widget:"text",options:{},attributes:[]}),new Ct.Attribute({name:"flexShrink",type:Ct.AttributeTypes.Text,label:"Flex Shrink",required:!1,widget:"text",options:{},attributes:[]}),new Ct.Attribute({name:"flexBasis",type:Ct.AttributeTypes.Text,label:"Flex Basis",required:!1,widget:"text",options:{},attributes:[]}),new Ct.Attribute({name:"height",type:Ct.AttributeTypes.Text,label:"Height",required:!1,widget:"text",options:{},attributes:[]}),new Ct.Attribute({name:"direction",type:Ct.AttributeTypes.Text,label:"Direction",required:!1,widget:"text",options:{},attributes:[]})]],["column",[new Ct.Attribute({name:"height",type:Ct.AttributeTypes.Text,label:"Height",required:!1,widget:"text",options:{},attributes:[]})]],["global",[new Ct.Attribute({name:"direction",type:Ct.AttributeTypes.Text,label:"Direction",required:!1,widget:"text",options:{},attributes:[]})]]]);return new xC({id:"split",title:"Split",editor:FB,renderer:MB,settings:t})};let EC=(()=>{class t{constructor(e){[DB(),new xC({id:"gridless",title:"Gridless",editor:NB,renderer:OB,settings:new Map})].forEach(r=>{e.register(r)})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Ah))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,d.u5,Nn.RouterModule,d.UX,Wr.MaterialModule,Rs,Qm,gC,hh,ln.UtilsModule,_f,Ct.AttributesModule]]}),t})();function BB(t,n){if(1&t&&a.\u0275\u0275element(0,"ngx-json-viewer",12),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275property("json",e.jsonData)("expanded",!1)}}class Ih{constructor(n){this.params=[],n&&(this.url=n.url,this.method=n.method?n.method:void 0,void 0!==n.renderer&&(this.renderer=new qy(n.renderer)),void 0!==n.params&&(this.params=n.params.map(e=>new Jr(e))),n.body&&(this.body=new Zl(n.body)))}}let Kf=(()=>{class t{constructor(e,r,o){this.fb=e,this.datasourceApi=r,this.tokenizerService=o,this.dataChange=new a.EventEmitter,this.contexts=[],this.sourceForm=this.fb.group({url:this.fb.control("",d.kI.required),params:this.fb.control([]),body:this.fb.control(""),method:this.fb.control("get",[d.kI.required])}),this.restSource$=new h.X(new Ih),this.componentDestroyed=new O.x,this.refreshData$=new O.x,this.refreshSubscription=this.refreshData$.pipe((0,ve.U)(()=>this.generateUrl()),(0,ee.b)(s=>console.log(s)),(0,z.h)(s=>s&&""!==s.trim()),(0,Qe.w)(s=>this.datasourceApi.getData(s).pipe((0,wr.K)(l=>(console.log(l),(0,ke.of)([]))))),(0,Rr.R)(this.componentDestroyed)).subscribe(s=>{this.jsonData=s,this.dataChange.emit(s)}),this.urlChangeSub=this.sourceForm.get("url").valueChanges.pipe((0,Un.b)(500),(0,z.h)(s=>s&&""!==s.trim()),(0,ve.U)(s=>[s,s.indexOf("?")]),(0,ve.U)(([s,l])=>[l>-1?s.substring(0,l):s,l>-1?s.substring(l+1):""])).subscribe(([s,l])=>{const p={...s.split("/").reduce((f,v,D)=>0===v.indexOf(":")?{...f,[v.substr(1)]:v}:f,{}),...xa.parse(l)};this.paramsParsed=p}),this.restSourceSub=this.restSource$.pipe((0,ee.b)(s=>{s?(this.sourceForm.get("url").setValue(s.url),this.sourceForm.get("method").setValue(s.method?s.method:""),this.sourceForm.get("body").setValue(s.body?{...s.body,jsScript:""}:"")):(this.sourceForm.get("url").setValue(""),this.sourceForm.get("method").setValue(""),this.sourceForm.get("body").setValue(""))})).subscribe(),this.onTouched=()=>{}}set restSource(e){this.restSource$.next(e)}ngOnInit(){this.sourceForm.valueChanges.pipe((0,Un.b)(1e3)).subscribe(()=>{console.log("refresh data"),this.refreshData$.next(void 0)})}ngOnDestroy(){this.componentDestroyed.next(void 0),this.componentDestroyed.complete()}writeValue(e){e&&this.sourceForm.setValue(e,{emitEvent:!1})}registerOnChange(e){this.sourceForm.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.sourceForm.disable():this.sourceForm.enable()}validate(e){return this.sourceForm.valid?null:{invalidForm:{valid:!1,message:"source is invalid"}}}generateUrl(){console.log("generate url");const e=this.sourceForm.get("url").value,[r,o]=e?e.split("?",2):["",""],s=xa.parse(o),l={},u=r.split("/"),p=u.length,f=[];let v=0;for(let J=0;J<p;J++)if(0===u[J].indexOf(":")){if(!this.sourceForm.get("params").value[v])return"";const Y=this.sourceForm.get("params").value[v].mapping;f.push("static"===Y.value.type?Y.value.value:Y.value.testValue),v++}else f.push(u[J]);for(const J in s)if("string"==typeof s[J]&&s[J].indexOf(":")>-1){if(!this.sourceForm.get("params").value[v])return"";const Y=this.sourceForm.get("params").value[v].mapping;l[J]="static"===Y.type?Y.value:Y.testValue,v++}const D=f.join("/")+(""!==o?"?"+xa.stringify({...s,...l}):"");return console.log(D),D}onDataChange(e){this.tokens=this.tokenizerService.generateGenericTokens(e[0])}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Tf),a.\u0275\u0275directiveInject(Dn))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-rest-source-form"]],inputs:{restSource:"restSource",contexts:"contexts"},outputs:{dataChange:"dataChange"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}])],decls:19,vars:7,consts:[["direction","horizontal",3,"formGroup"],["as-split-area","","size","50"],["required","","formControlName","method"],["value","get"],["value","post"],["value","put"],["value","delete"],["matInput","","placeholder","Url","formControlName","url","required",""],["formControlName","body","rows","10","cols","40",3,"rootForm","tokens"],["formControlName","params",3,"params","paramValues","contexts"],["size","50"],[3,"json","expanded",4,"ngIf"],[3,"json","expanded"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"as-split",0),a.\u0275\u0275elementStart(1,"div",1),a.\u0275\u0275elementStart(2,"div"),a.\u0275\u0275elementStart(3,"mat-form-field"),a.\u0275\u0275elementStart(4,"mat-select",2),a.\u0275\u0275elementStart(5,"mat-option",3),a.\u0275\u0275text(6,"GET"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"mat-option",4),a.\u0275\u0275text(8,"POST"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"mat-option",5),a.\u0275\u0275text(10,"PUT"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"mat-option",6),a.\u0275\u0275text(12,"DELETE"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(13,"mat-form-field"),a.\u0275\u0275element(14,"input",7),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(15,"classifieds-ui-snippet-form",8),a.\u0275\u0275element(16,"classifieds-ui-params-form",9),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(17,"as-split-area",10),a.\u0275\u0275template(18,BB,1,2,"ngx-json-viewer",11),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.sourceForm),a.\u0275\u0275advance(15),a.\u0275\u0275property("rootForm",!1)("tokens",r.tokens),a.\u0275\u0275advance(1),a.\u0275\u0275property("params",r.paramsParsed)("paramValues",r.restSource$.value.params)("contexts",r.contexts),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",r.jsonData))},directives:[Cf,Xt.KE,Dr.gD,Xn.ey,nh,ih,Mg,d.JL,d.sg,xf,d.Q7,d.JJ,d.u,_n.Nt,d.Fj,x.NgIf],styles:[""]}),t})(),LB=(()=>{class t{constructor(e,r){this.attributeSerializer=e,this.controlContainer=r,this.contexts=[]}set settings(e){this.restSource=e?new Ih(this.attributeSerializer.deserializeAsObject(e)):void 0}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ct.AttributeSerializerService),a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-rest-datasource"]],inputs:{settings:"settings",contexts:"contexts"},decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"restSource","contexts"]],template:function(e,r){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-rest-source-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.controlContainer.control),a.\u0275\u0275advance(1),a.\u0275\u0275property("restSource",r.restSource)("contexts",r.contexts))},directives:[Kf,d.JL,d.sg,d.JJ,d.u],encapsulation:2}),t})();const Xf=({method:t,url:n,data:e,options:r,params:o,http:s})=>{if(e instanceof Error)return(0,ke.of)([]);let u;switch(t){case"DELETE":u=s.delete(n,r),o.has("saveDelay")&&(u=u.pipe((0,Zn.g)(+o.get("saveDelay"))));break;case"GET":{const p=o.has("suffix")?n+o.get("suffix"):n;u=s.get(p,r),o.has("getDelay")&&(u=u.pipe((0,Zn.g)(+o.get("getDelay"))));break}case"POST":u=s.post(n,e,r),o.has("saveDelay")&&(u=u.pipe((0,Zn.g)(+o.get("saveDelay"))));break;case"PUT":u=s.put(n,e,r),o.has("saveDelay")&&(u=u.pipe((0,Zn.g)(+o.get("saveDelay"))));break;default:{const p=new Error("Unimplemented HTTP method, "+t);u=(0,Va._)(p)}}return o.has("timeout")&&(u=u.pipe((0,ad.V)(+o.get("timeout")+ +o.get("saveDelay")))),u.pipe((0,wr.K)(()=>(0,ke.of)([])))};let AC=(()=>{class t{constructor(e,r,o,s){this.attrbuteSerializer=e,this.http=r,this.snippetParserService=o,this.urlGenerator=s}fetchDataset({settings:e,metadata:r}){return(0,ke.of)(new Fn).pipe((0,ee.b)(()=>console.log("START rest fetch")),(0,ve.U)(()=>this.attrbuteSerializer.deserializeAsObject(e)),(0,ve.U)(o=>new Ih(o)),(0,Qe.w)(o=>this.urlGenerator.getUrl(o.url,o.params,r).pipe((0,ve.U)(s=>new Ih({...o,url:s})))),(0,z.h)(o=>o.url&&""!==o.url.trim()&&o.url.indexOf("http")>-1),(0,Qe.w)(o=>Xf({url:o.url,method:"POST"===o.method.toUpperCase()?"POST":"GET",http:this.http,params:new Map}).pipe((0,wr.K)(()=>(0,ke.of)([])),(0,ve.U)(s=>Array.isArray(s)?s:[s]),(0,ve.U)(s=>new Fn({results:s})))),(0,ee.b)(()=>console.log("END rest fetch")))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Ct.AttributeSerializerService),a.\u0275\u0275inject(F.HttpClient),a.\u0275\u0275inject(Yb),a.\u0275\u0275inject(il))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),IC=(()=>{class t extends Gu{constructor(e){super(e),this.pluralizer2=e}getResourceUrls(e,r,o=!1){const s=o?r:xd(r);return{entityResourceUrl:`${s}/${e}/`.toLowerCase(),collectionResourceUrl:`${s}/${this.pluralizer2.pluralize(e)}/`.toLowerCase()}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(js))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),PC=(()=>{class t{constructor(e,r,o,s,l,u,p,f,v){e.register(((t,n,e)=>new Bo({id:"rest",title:"Rest",editor:LB,fetch:({settings:r,metadata:o})=>t.fetchDataset({settings:r,metadata:o}),editorOptions:()=>(0,ke.of)(new ah({fullscreen:!0})),getBindings:({settings:r})=>(0,ke.of)([]).pipe((0,ve.U)(()=>e.deserializeAsObject(r)),(0,ve.U)(s=>new lo(s)),(0,Qe.w)(s=>n.extractContexts(s.params)),(0,ve.U)(s=>s.map(l=>new Ut.ContentBinding({id:l,type:"context"}))))}))(r,o,s)),l.register(((t,n,e,r)=>new Ic({id:"rest",title:"Rest",create:({object:o,params:s})=>(0,ke.of)({success:!1}).pipe((0,Qe.w)(()=>t.paramValues(new Map(Object.keys(s).map(l=>[l,s[l]])))),(0,Qe.w)(l=>Xf({method:"POST",url:e.entityResource(l.get("entityName"),l.has("root")?l.get("root"):r.root?r.root:"api",!0),data:o||new Error("No entity to add"),params:l,http:n})),(0,ve.U)(()=>({success:!0,entity:o}))),read:({})=>(0,ke.of)({success:!1}),update:({object:o,identity:s,params:l,parentObject:u})=>(0,ke.of)({success:!1}).pipe((0,Qe.w)(()=>s({object:o,parentObject:u})),(0,Qe.w)(({identity:p})=>t.paramValues(new Map(Object.keys(l).map(f=>[f,l[f]]))).pipe((0,ve.U)(f=>({identity:p,options:f})))),(0,Qe.w)(({identity:p,options:f})=>Xf({method:"PUT",url:e.entityResource(f.get("entityName"),f.has("root")?f.get("root"):r.root?r.root:"api",!0)+`${p}`,data:o||new Error("No entity to add"),params:f,http:n})),(0,ve.U)(()=>({success:!0,entity:o}))),delete:({})=>(0,ke.of)({success:!1}),query:({params:o,rule:s})=>(0,ke.of)({success:!1}).pipe((0,Qe.w)(()=>t.paramValues(new Map(Object.keys(o).map(l=>[l,o[l]])))),(0,Qe.w)(l=>new g.y(u=>{const p=s?s.conditions.all.reduce((v,D)=>[...v,...D.any.filter(J=>"identity"!==J.fact).map(J=>`${J.path.substr(2)}=${J.value}`)],[]):[],f=s?s.conditions.all.reduce((v,D)=>v||D.any.find(J=>"identity"===J.fact),void 0):void 0;u.next({identityFact:f,options:l,query:p.length>0?new F.HttpParams({fromString:p.join("&")}):void 0,path:f?f.value:""}),u.complete()})),(0,Qe.w)(({options:l,query:u,path:p,identityFact:f})=>Rn(()=>!!f,Xf({method:"GET",url:e.entityResource(l.get("entityName"),l.has("root")?l.get("root"):r.root?r.root:"api",!0)+p,options:{params:u},params:l,http:n}).pipe((0,ve.U)(v=>({success:!0,entities:Array.isArray(v)?v:[v]}))),Xf({method:"GET",url:e.collectionResource(l.get("entityName"),l.has("root")?l.get("root"):r.root?r.root:"api")+p,options:{params:u},params:l,http:n}).pipe((0,ve.U)(v=>({success:!0,entities:v}))))))}))(u,p,f,v))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Sa),a.\u0275\u0275inject(AC),a.\u0275\u0275inject(tv),a.\u0275\u0275inject(Ct.AttributeSerializerService),a.\u0275\u0275inject(ll),a.\u0275\u0275inject(hs),a.\u0275\u0275inject(F.HttpClient),a.\u0275\u0275inject(IC),a.\u0275\u0275inject(pi))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({providers:[AC,IC],imports:[[x.CommonModule,d.u5,d.UX,Wr.MaterialModule,Qm,Iu,Uy,al,_f,Rf,wc]]}),t})();var kv=S(7260),Vv=S(3012),GB=S(9663),$B=S(420),TC=S(1817),Wf=S(4874),kC=S(6607);let qB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[]]}),t})();const Ph=({selector:t,document:n})=>{const e=n.createDocumentFragment();if(!t||-1!==t.indexOf("undefined"))return!1;try{e.querySelector(t)}catch{return!1}return!0},KB=/\/\*[\s\S]*?\*\//g,XB=/([^\:]+):([^\;]*);/,WB=/(\/\*[\s\S]*?\*\/)|([^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|([^\;\{\}]+\;(?!\s*\*\/))/gim,Th=function(t){return void 0===t||0==t.length||null==t},JB={ordered:!1,comments:!1,stripComments:!1,split:!1};let QB=(()=>{class t{constructor(e){this.document=e,this.mutate$=new O.x,this.mutated$=new O.x,this.mutateSub=this.mutate$.pipe((0,z.h)(({record:r})=>"attributes"===r.type&&"style"===r.attributeName&&!!r.target),(0,Un.b)(2e3),(0,Qe.w)(({record:r,overlay:o})=>this.mapRecord({record:r,overlay:o})),(0,ee.b)(({stylesheet:r})=>this.mutated$.next({stylesheet:r}))).subscribe()}stylize({targetNode:e}){const r=new Map;new MutationObserver(l=>{l.forEach(u=>{this.mutate$.next({record:u,overlay:r})})}).observe(e,{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"],attributeOldValue:!0})}mapRecord({record:e,overlay:r}){return new g.y(o=>{const s=kC.default(e.target),l=this.toJSON(`${s} { ${e.oldValue} }`),u=l.children[s]?Object.keys(l.children[s].attributes).reduce((J,Y)=>({...J,[nu(Y.replace("-","_"),!1)]:l.children[s].attributes[Y]}),{}):void 0,p=Object.keys(e.target.style).reduce((J,Y)=>NaN!==parseInt(Y)&&e.target.style.hasOwnProperty(nu(e.target.style[Y].replace("-","_"),!1))?{...J,[nu(e.target.style[Y].replace("-","_"),!1)]:e.target.style[nu(e.target.style[Y].replace("-","_"),!1)]}:J,{}),f=Nf(u,p);r.set(s,f);const v=[];r.forEach((J,Y)=>{const Ue=Y.split(" ").reduce((Oe,De,Xe)=>-1!==De.indexOf(".pane-")||-1!==De.indexOf(".panel-")?{selector:[...Oe.selector,De.replace(/^(.*?)(\.pane-|\.panel-page|\.panel-)([0-9]*)(.*?)$/,"$2$3")],chars:Oe.chars+De.length,lastIndex:Oe.chars+Xe+De.length}:{...Oe,chars:Oe.chars+De.length},{selector:[],chars:0,lastIndex:0});if(0!==Ue.selector.length){let Oe=(Ue.selector.join(" ")+" "+Y.slice(Ue.lastIndex).split(">").join("")).replace(/(\.ng\-[a-zA-Z0-9_-]*)/gm,"").trim();0===Oe.indexOf(".panel-page")&&(Oe=Oe.substr(12).trim()),Ph({selector:Oe,document:this.document})&&v.push(Oe+" { "+Object.keys(J).reduce((Xe,tt)=>tt.match(/^[a-zA-Z-]*$/gm)?`${Xe}${function TM(t){return t.replace(/_/g,"-")}(function Of(t){var n=""+t;return(n=(n=(n=(n=n.replace(new RegExp("(?:([A-Za-z\\d])|^)("+zo().acronymRegex.source+")(?=\\b|[^a-z])","g"),function(e,r,o){return(r||"")+(r?"_":"")+o.toLowerCase()})).replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2")).replace(/([a-z\d])([A-Z])/g,"$1_$2")).replace(/-/g,"_")).toLowerCase()}(tt))}: ${J[tt]};`:Xe,"")+" }")}});const D=v.join("\n");o.next({stylesheet:D}),o.complete()})}toJSON(e,r=JB){const p={children:{},attributes:{}};let f=null,v=0;for(r.stripComments&&(r.comments=!1,e=e.replace(KB,""));null!=(f=WB.exec(e));)if(!Th(f[1])&&r.comments)p[v++]=f[1].trim();else if(Th(f[2])){if(!Th(f[3]))return p;if(!Th(f[4])){const D=f[4].trim(),J=XB.exec(D);if(J){const Y=J[1].trim(),he=J[2].trim();if(r.ordered)p[v++]={name:Y,value:he,type:"attr"};else if(Y in p.attributes){const Ue=p.attributes[Y];Ue instanceof Array||(p.attributes[Y]=[Ue]),p.attributes[Y].push(he)}else p.attributes[Y]=he}else p[v++]=D}}else{const D=f[2].trim(),J=this.toJSON(e,r);if(r.ordered)p[v++]={name:D,value:J,type:"rule"};else{const Y=r.split?D.split(","):[D];for(const he in Y){const Ue=Y[he].trim();if(Ue in p.children)for(const Oe in J.attributes)p.children[Ue].attributes[Oe]=J.attributes[Oe];else p.children[Ue]=J}}}return p}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(x.DOCUMENT))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var cl=(()=>{return(t=cl||(cl={}))[t.KEEP=0]="KEEP",t[t.ADD=1]="ADD",t[t.REMOVE=2]="REMOVE",cl;var t})();let YB=(()=>{class t{constructor(e){this.document=e,this.mutate=new O.x,this.mutated$=new O.x,this.mutateub=this.mutate.pipe((0,z.h)(({record:r})=>"attributes"===r.type&&"class"===r.attributeName&&!!r.target),(0,Un.b)(2e3),(0,Qe.w)(({record:r,overlay:o,originals:s})=>this.mapRecord({record:r,overlay:o,originals:s}).pipe((0,wr.K)(l=>(0,ke.of)({classes:o})))),(0,ee.b)(({classes:r})=>this.mutated$.next({classes:r}))).subscribe()}classify({targetNode:e}){const r=new Map,o=new Map;new MutationObserver(u=>{u.forEach(p=>{this.mutate.next({record:p,overlay:r,originals:o})})}).observe(e,{childList:!0,attributes:!0,subtree:!0,attributeFilter:["class"],attributeOldValue:!0})}mapRecord({record:e,overlay:r,originals:o}){return new g.y(s=>{const l=kC.default(e.target);let u="";const f=l.split(" ").reduce((Y,he,Ue)=>-1!==he.indexOf(".pane-")||-1!==he.indexOf(".panel-")?{selector:[...Y.selector,he.replace(/^(.*?)(\.pane-|\.panel-page|\.panel-)([0-9]*)(.*?)$/,"$2$3")],chars:Y.chars+he.length,lastIndex:Y.chars+Ue+he.length}:{...Y,chars:Y.chars+he.length},{selector:[],chars:0,lastIndex:0});0!==f.selector.length&&(u=(f.selector.join(" ")+" "+l.slice(f.lastIndex).split(">").join("")).replace(/(\.ng\-[a-zA-Z0-9_-]*)/gm,""),0===u.indexOf(".panel-page")&&(u=u.substr(12).trim()));const v=u.split(" "),[D]=v[v.length-1].split(".",1);if(u=(v.splice(0,v.length-2).join(" ")+" "+D).trim(),Ph({selector:u,document:this.document})){o.has(u)||o.set(u,new Set(e.oldValue.split(" ").map(Oe=>Oe.trim())));const Y=e.target.classList,he=new Map(Array.from(Y.values()).map(Oe=>[`${Oe}`,!o.has(u)||!o.get(u).has(`${Oe}`)&&0!==`${Oe}`.indexOf("ng-")&&0!==`${Oe}`.indexOf("mat-")?cl.ADD:cl.KEEP])),Ue=Array.from(o.get(u)).reduce((Oe,De)=>[-1===Array.from(Y.values()).findIndex(Xe=>Xe===De)?De:void 0],[]).filter(Oe=>void 0!==Oe);0!==Ue.length&&Ue.forEach(Oe=>he.set(Oe,cl.REMOVE)),0===he.size&&r.has(u)?r.delete(u):0!==he.size&&r.set(u,he),s.next({classes:r}),s.complete()}else s.error(new Error('Selector invalid "'+u+'"')),s.complete()})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(x.DOCUMENT))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ZB=["renderPanelTpl"];function eL(t,n){}function tL(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",4),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().submit()}),a.\u0275\u0275text(1,"Submit"),a.\u0275\u0275elementEnd()}}function nL(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275elementContainerStart(1,5),a.\u0275\u0275element(2,"classifieds-ui-render-panel",6),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementContainerEnd()),2&t){const e=n.i,r=a.\u0275\u0275nextContext();a.\u0275\u0275property("formGroup",r.pageForm),a.\u0275\u0275advance(2),a.\u0275\u0275property("formControlName",e)("panel",r.panelPageCached.panels[e])("nested",r.nested$.value)("contexts",r.contexts$.value)("resolvedContext",r.resolvedContext)("contextsChanged",r.contextsChanged)("displayType",r.panelPageCached.displayType)("indexPosition",e)("css",r.filteredCss)("ancestory",r.ancestory$.value)}}function rL(t,n){}function iL(t,n){if(1&t&&a.\u0275\u0275element(0,"classifieds-ui-panel-page",4),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275property("panelPage",e.panelPage)("nested",!0)("contexts",e.contexts)("css",e.filteredCss)("ancestory",e.ancestoryWithSelf)}}function aL(t,n){if(1&t&&a.\u0275\u0275element(0,"classifieds-ui-panel-page",5),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275property("id",e.linkedPageId)("nested",!0)("contexts",e.contexts)("ancestory",e.ancestoryWithSelf)}}function oL(t,n){if(1&t&&a.\u0275\u0275element(0,"classifieds-ui-panel-page",4),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275property("panelPage",e.embedPanel)("nested",!0)("contexts",e.contexts)("css",e.filteredCss)("ancestory",e.ancestoryWithSelf)}}const sL=["panes"];function lL(t,n){}function uL(t,n){if(1&t&&a.\u0275\u0275element(0,"classifieds-ui-render-pane",8),2&t){const e=n.$implicit,r=n.index,o=a.\u0275\u0275nextContext(3),s=a.\u0275\u0275reference(1);a.\u0275\u0275property("formControlName",r)("pluginName",e.contentPlugin)("settings",e.settings)("name",e.name)("label",e.label)("originPane",o.panel.panes[o.originMappings[r]])("contexts",e.contexts)("displayType",o.displayType)("resolvedContext",e.resolvedContext)("indexPosition",r)("css",o.filteredCss)("ancestory",o.ancestoryWithSelf$.value)("panes",s)("originPanes",o.originPanes)}}function cL(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"div"),a.\u0275\u0275elementStart(2,"div",6),a.\u0275\u0275template(3,uL,1,14,"classifieds-ui-render-pane",7),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&t){const e=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",e.resolvedPanes)}}function dL(t,n){if(1&t&&a.\u0275\u0275element(0,"classifieds-ui-render-pane",10),2&t){const e=n.$implicit,r=n.index,o=a.\u0275\u0275nextContext(3),s=a.\u0275\u0275reference(1);a.\u0275\u0275property("pluginName",e.contentPlugin)("settings",e.settings)("name",e.name)("label",e.label)("originPane",o.panel.panes[o.originMappings[r]])("contexts",e.contexts)("linkedPageId",e.linkedPageId)("displayType",o.displayType)("resolvedContext",e.resolvedContext)("indexPosition",r)("css",o.filteredCss)("ancestory",o.ancestoryWithSelf$.value)("panes",s)("originPanes",o.originPanes)}}function fL(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,dL,1,14,"classifieds-ui-render-pane",9),a.\u0275\u0275elementContainerEnd()),2&t){const e=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",e.resolvedPanes)}}function pL(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275elementContainerStart(1,4),a.\u0275\u0275template(2,cL,4,1,"ng-container",5),a.\u0275\u0275template(3,fL,2,1,"ng-container",5),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngSwitch",e.displayType),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngSwitchCase","form"),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngSwitchCase","page")}}let kh=(()=>{class t{constructor(e){this.viewContainerRef=e}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["","classifiedsUiPaneContentHost",""]]}),t})(),VC=(()=>{class t{constructor(e){this.viewContainerRef=e}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["","classifiedsUiLayoutRendererHost",""]]}),t})();class Ti{constructor(n,e,r,o,s,l,u,p,f,v,D,J,Y,he,Ue,Oe,De,Xe,tt,ct,bt,Tt,Mt,Wt,jn,In){this.platformId=n,this.mediaSettings=e,this.routerStore=r,this.fb=o,this.el=s,this.inlineContextResolver=l,this.pageBuilderFacade=u,this.cpm=p,this.cxm=f,this.lpm=v,this.componentFactoryResolver=D,this.styleLoader=J,this.http=Y,this.cssHelper=he,this.attributeSerializer=Ue,this.formService=Oe,this.panelsContextService=De,this.asyncApiCallHelperSvc=Xe,this.crudDataHelperService=tt,this.entityDefinitionService=ct,this.ngZone=bt,this.persistService=Tt,this.stylizerService=Mt,this.classifyService=Wt,this.fileService=jn,this.resolvedContext={},this.contextsChanged=[],this.persistenceEnabled=!1,this.onInit$=new O.x,this.afterViewInit$=new O.x,this.afterContentInit$=new O.x,this.renderLayout$=new O.x,this.id$=new h.X(void 0),this.panelPage$=new h.X(void 0),this.nested$=new h.X(!1),this.ancestory$=new h.X([]),this.contexts$=new h.X([]),this.instanceUniqueIdentity=Tn(),this.isStable=!1,this.managedCssCache="",this.managedClassesCache={},this.css$=new h.X({css:this.cssHelper.makeJsonNode(),classes:{}}),this.cssSub=this.css$.subscribe(Vt=>{this.filteredCss=Vt}),this.settingsFormArray=this.fb.array([]),this.pageForm=this.fb.group({panels:this.fb.array([])}),this.bridgeSub=this.pageForm.valueChanges.pipe((0,z.h)(()=>this.nested$.value),(0,Un.b)(500)).subscribe(Vt=>{console.log("write page"),console.log(Vt),this.settingsFormArray.clear();const Mn=this.attributeSerializer.convertToGroup(this.attributeSerializer.serialize(Vt,"value").attributes[0]);this.settingsFormArray.push(Mn),console.log(Mn.value)}),this.idOrPanelPageSub=(0,On.a)([this.id$,this.panelPage$]).pipe((0,jo.x)(),(0,ve.U)(([Vt,Mn])=>({id:Vt,panelPage:Mn})),(0,z.h)(({id:Vt,panelPage:Mn})=>!!Vt||!!Mn),(0,Qe.w)(({id:Vt,panelPage:Mn})=>Rn(()=>!Vt,(0,ke.of)({panelPage:Mn}),new g.y(Vr=>{const yi=this.entityDefinitionService.getDefinition("PanelPage").metadata;return this.crudDataHelperService.evaluateCollectionPlugins({query:`identity=${Vt}`,plugins:yi.crud,op:"query"}).pipe((0,ve.U)(hr=>hr&&0!==hr.length?hr[0]:void 0),(0,ee.b)(hr=>{Vr.next({panelPage:hr}),Vr.complete()})).subscribe()}))),(0,Qe.w)(({panelPage:Vt})=>this.cpm.getPlugins(Vt.panels.reduce((Mn,Vr)=>(Vr.panes.forEach(yi=>{Mn.includes(yi.contentPlugin)||Mn.push(yi.contentPlugin)}),Mn),[])).pipe((0,ve.U)(()=>({panelPage:Vt})))),(0,Qe.w)(({panelPage:Vt})=>Rn(()=>!this.nested$.value,this.panelsContextService.allActivePageContexts({panelPage:Vt}).pipe((0,ve.U)(Mn=>({panelPage:Vt,contexts:Array.from(Mn)}))),(0,ke.of)({panelPage:Vt,contexts:[]}))),(0,ee.b)(({panelPage:Vt,contexts:Mn})=>{this.hookupFormChange({panelPage:Vt}),this.populatePanelsFormArray({panelPage:Vt}),this.panelPageCached=Vt,this.persistenceEnabled=Vt.persistence&&Vt.persistence.dataduct&&Vt.persistence.dataduct.plugin&&""!==Vt.persistence.dataduct.plugin,this.renderLayout$.next(Vt),this.contexts$.next([...Vt.contexts?Vt.contexts.map(Vr=>new Pi(Vr)):[],...Mn]),(0,x.isPlatformBrowser)(this.platformId)&&this.hookupCss({file:Vt.cssFile?Vt.cssFile.trim():void 0}),console.log(`cached panel page: ${Vt.id}`)})).subscribe(),this.hookupContextSub=(0,On.a)(this.contexts$,this.afterContentInit$).pipe((0,ve.U)(([Vt])=>Vt),(0,Qe.w)(Vt=>this.inlineContextResolver.resolveMerged(Vt,`panelpage:${Tn()}`).pipe((0,Qe.w)(Mn=>this.cxm.getPlugins().pipe((0,ve.U)(Vr=>({contexts:Vt,resolvedContext:Mn,globalPlugins:Array.from(Vr.values()).filter(yi=>!0===yi.global)})))),(0,nn.q)(1))),(0,ee.b)(()=>{this.resolveSub&&this.resolveSub.unsubscribe()}),(0,ee.b)(({contexts:Vt,resolvedContext:Mn,globalPlugins:Vr})=>{this.resolvedContext=Mn;const yi=new O.x;if((0,x.isPlatformServer)(this.platformId)){const hr=setInterval(()=>{0===Ti.registredContextListeners.size&&(yi.next(),yi.complete(),clearInterval(hr))},1e3)}this.resolveSub=this.inlineContextResolver.resolveMergedSingle(Vt).pipe((0,kv.T)(Vr.length+(Vt?Vt.length:0)),(0,ee.b)(()=>Ti.registredContextListeners.add(this.instanceUniqueIdentity)),(0,ee.b)(hr=>console.log("buffer",hr)),function HB(t,...n){var e,r;const o=null!==(e=(0,$B.yG)(n))&&void 0!==e?e:Qo.z,s=null!==(r=n[0])&&void 0!==r?r:null,l=n[1]||1/0;return(0,Ao.e)((u,p)=>{let f=[],v=!1;const D=he=>{const{buffer:Ue,subs:Oe}=he;Oe.unsubscribe(),(0,GB.P)(f,he),p.next(Ue),v&&J()},J=()=>{if(f){const he=new bw.w0;p.add(he);const Oe={buffer:[],subs:he};f.push(Oe),(0,TC.f)(he,o,()=>D(Oe),t)}};null!==s&&s>=0?(0,TC.f)(p,o,J,s,!0):v=!0,J();const Y=(0,Eo.x)(p,he=>{const Ue=f.slice();for(const Oe of Ue){const{buffer:De}=Oe;De.push(he),l<=De.length&&D(Oe)}},()=>{for(;null==f?void 0:f.length;)p.next(f.shift().buffer);null==Y||Y.unsubscribe(),p.complete(),p.unsubscribe()},void 0,()=>f=null);u.subscribe(Y)})}(1),(0,ee.b)(hr=>{0===hr.length&&Ti.registredContextListeners.delete(this.instanceUniqueIdentity)}),(0,z.h)(hr=>0!==hr.length),(0,ee.b)(hr=>{this.contextsChanged=hr.reduce((za,[lg,eS])=>[...za,...za.includes(lg)?[]:[lg]],[]),this.resolvedContext=hr.reduce((za,[lg,eS])=>({...za,[lg]:eS}),this.resolvedContext)}),(0,ee.b)(()=>Ti.registredContextListeners.delete(this.instanceUniqueIdentity)),(0,x.isPlatformServer)(this.platformId)?(0,Rr.R)(yi):(0,ee.b)(()=>{})).subscribe()})).subscribe(),this.renderLayoutSub=(0,On.a)([this.renderLayout$,this.afterViewInit$]).pipe((0,Zn.g)(1),(0,ve.U)(([Vt])=>({panelPage:Vt})),(0,Qe.w)(({panelPage:Vt})=>this.lpm.getPlugin(Vt.layoutType).pipe((0,ve.U)(Mn=>({panelPage:Vt,plugin:Mn})))),(0,ee.b)(()=>console.log("start render layout")),(0,ve.U)(({plugin:Vt,panelPage:Mn})=>({panelPage:Mn,plugin:Vt,viewContainerRef:this.layoutRendererHost.viewContainerRef})),(0,ee.b)(({viewContainerRef:Vt})=>Vt.clear()),(0,ve.U)(({plugin:Vt,viewContainerRef:Mn,panelPage:Vr})=>({panelPage:Vr,layoutRendererRef:Mn.createComponent(Vt.renderer)})),(0,ee.b)(({layoutRendererRef:Vt})=>this.layoutRendererRef=Vt),(0,ee.b)(({layoutRendererRef:Vt,panelPage:Mn})=>{Vt.instance.renderPanelTpl=this.renderPanelTpl,Vt.instance.panelPage=Mn}),(0,ee.b)(()=>console.log("end render layout"))).subscribe(),this.stylizerSub=this.afterViewInit$.pipe((0,z.h)(()=>(0,x.isPlatformBrowser)(this.platformId)),(0,ee.b)(()=>{this.stylizerService.stylize({targetNode:this.el.nativeElement})})).subscribe(),this.classifySub=this.afterViewInit$.pipe((0,z.h)(()=>(0,x.isPlatformBrowser)(this.platformId)),(0,ee.b)(()=>{this.classifyService.classify({targetNode:this.el.nativeElement})})).subscribe(),this.stylizerMutatedSub=this.stylizerService.mutated$.pipe((0,Un.b)(2e3),(0,ee.b)(({stylesheet:Vt})=>{console.log("merged css",Vt)}),(0,z.h)(()=>!!this.panelPageCached&&!!this.panelPageCached.id),(0,Qe.w)(({stylesheet:Vt})=>this.isStable?(0,ke.of)({stylesheet:Vt}):this.ngZone.onStable.asObservable().pipe((0,ve.U)(()=>({stylesheet:Vt})),(0,nn.q)(1))),(0,ve.U)(({stylesheet:Vt})=>({stylesheet:(this.managedCssCache&&""!==this.managedCssCache.trim()?this.managedCssCache+"\n":"")+Vt})),(0,Za.b)(({stylesheet:Vt})=>this.fileService.bulkUpload({nocache:!0,files:[new File([Vt],`panelpage__${this.panelPageCached.id}.css`)],fileNameOverride:`panelpage__${this.panelPageCached.id}`})),(0,ee.b)(()=>{console.log("stylesheet saved.")})).subscribe(),this.classifyMutatedSub=this.classifyService.mutated$.pipe((0,Un.b)(2e3),(0,ee.b)(({classes:Vt})=>{console.log("merged classes",Vt)}),(0,z.h)(()=>!!this.panelPageCached&&!!this.panelPageCached.id),(0,Qe.w)(({classes:Vt})=>this.isStable?(0,ke.of)({classes:Vt}):this.ngZone.onStable.asObservable().pipe((0,ve.U)(()=>({classes:Vt})),(0,nn.q)(1))),(0,ve.U)(({classes:Vt})=>({classes:Array.from(Vt.keys()).reduce((Mn,Vr)=>({...Mn,[Vr]:Array.from(Vt.get(Vr).keys()).filter(yi=>Vt.get(Vr).get(yi)!==cl.KEEP).reduce((yi,hr)=>({...yi,[hr]:Vt.get(Vr).get(hr)}),{})}),{})})),(0,ve.U)(({classes:Vt})=>({classes:Nf(this.managedClassesCache,Vt)})),(0,ve.U)(({classes:Vt})=>({json:JSON.stringify(Vt)})),(0,Za.b)(({json:Vt})=>this.fileService.bulkUpload({nocache:!0,files:[new File([Vt],`panelpage__${this.panelPageCached.id}__classes.json`)],fileNameOverride:`panelpage__${this.panelPageCached.id}__classes`})),(0,ee.b)(()=>{console.log("classes saved.")})).subscribe(),this.onStableSub=this.ngZone.onStable.asObservable().pipe((0,ee.b)(()=>this.isStable=!0)).subscribe(),this.onUnstableSub=this.ngZone.onUnstable.asObservable().pipe((0,ee.b)(()=>this.isStable=!1)).subscribe(),this.onTouched=()=>{},this.panelPageService=In.getEntityCollectionService("PanelPage"),this.panelPageFormService=In.getEntityCollectionService("PanelPageForm"),this.panelPageStateService=In.getEntityCollectionService("PanelPageState")}set id(n){this.id$.next(n)}set panelPage(n){this.panelPage$.next(n)}set nested(n){this.nested$.next(n)}set contexts(n){this.contexts$.next(n)}set ancestory(n){this.ancestory$.next(n)}set css(n){this.css$.next(n)}get panelsArray(){return this.pageForm.get("panels")}ngOnInit(){this.onInit$.next(void 0)}ngAfterViewInit(){this.afterViewInit$.next(void 0)}ngAfterContentInit(){this.afterContentInit$.next(void 0)}ngOnDestroy(){Ti.registredContextListeners.delete(this.instanceUniqueIdentity)}populatePanelsFormArray({panelPage:n}){this.panelsArray.clear(),n.panels.forEach(()=>{this.panelsArray.push(this.fb.control(""))})}hookupFormChange({panelPage:n}){this.pageForm.valueChanges.pipe((0,Un.b)(100),(0,z.h)(()=>void 0!==n&&"form"===n.displayType)).subscribe(e=>{const r=new Go({...e,name:n.name,title:n.title,derivativeId:n.id});this.pageBuilderFacade.setForm(n.name,r)})}hookupCss({file:n}){(0,rn.D)([this.http.get(n).pipe((0,wr.K)(()=>(0,ke.of)(void 0)),(0,tr.d)(void 0)),this.panelPageCached.id?this.http.get(`${this.mediaSettings.imageUrl}/panelpage__${this.panelPageCached.id}.css.json`).pipe((0,wr.K)(()=>(0,ke.of)(void 0)),(0,tr.d)(void 0)):(0,ke.of)(void 0),this.panelPageCached.id?this.http.get(`${this.mediaSettings.imageUrl}/panelpage__${this.panelPageCached.id}.css`).pipe((0,wr.K)(()=>(0,ke.of)(void 0)),(0,tr.d)(void 0)):(0,ke.of)(void 0),this.panelPageCached.id?this.http.get(`${this.mediaSettings.imageUrl}/panelpage__${this.panelPageCached.id}__classes.json`).pipe((0,wr.K)(()=>(0,ke.of)(void 0)),(0,tr.d)(void 0)):(0,ke.of)(void 0)]).pipe((0,ee.b)(([e,r,o,s])=>{let l={};this.managedCssCache="",this.managedClassesCache=s,e&&(l=Nf(l,e)),r&&(this.managedCssCache=o,l=Nf(l,r)),this.filteredCss={css:l,classes:s}})).subscribe()}submit(){if(this.pageForm.valid){const n=new Go({...this.pageForm.value}),e=this.formService.serializeForm(n);console.log(n),console.log(this.formService.serializeForm(n)),console.log("form data",e),this.persistService.persist({data:e,persistence:this.panelPageCached.persistence}).subscribe(()=>{console.log("persisted data")})}else console.log("detected form invalid")}writeValue(n){n&&this.settingsFormArray.setValue(n,{emitEvent:!1})}registerOnChange(n){this.settingsFormArray.valueChanges.subscribe(n)}registerOnTouched(n){this.onTouched=n}setDisabledState(n){n?this.settingsFormArray.disable():this.settingsFormArray.enable()}validate(n){return this.settingsFormArray.statusChanges.pipe((0,Wf.O)(this.settingsFormArray.status),(0,z.h)(e=>"PENDING"!==e),(0,Un.b)(1),(0,nn.q)(1),(0,ve.U)(e=>this.settingsFormArray.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}))}}Ti.registredContextListeners=new Set,Ti.\u0275fac=function(n){return new(n||Ti)(a.\u0275\u0275directiveInject(a.PLATFORM_ID),a.\u0275\u0275directiveInject(Km),a.\u0275\u0275directiveInject(At.yh),a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(xc),a.\u0275\u0275directiveInject(ia),a.\u0275\u0275directiveInject(Ut.ContentPluginManager),a.\u0275\u0275directiveInject(ol),a.\u0275\u0275directiveInject(Ah),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(ln.StyleLoaderService),a.\u0275\u0275directiveInject(F.HttpClient),a.\u0275\u0275directiveInject(vv),a.\u0275\u0275directiveInject(Ct.AttributeSerializerService),a.\u0275\u0275directiveInject(yv),a.\u0275\u0275directiveInject(Xw),a.\u0275\u0275directiveInject(ln.AsyncApiCallHelperService),a.\u0275\u0275directiveInject(Vf),a.\u0275\u0275directiveInject(mi),a.\u0275\u0275directiveInject(a.NgZone),a.\u0275\u0275directiveInject(mM),a.\u0275\u0275directiveInject(QB),a.\u0275\u0275directiveInject(YB),a.\u0275\u0275directiveInject(Xm),a.\u0275\u0275directiveInject(Jn))},Ti.\u0275cmp=a.\u0275\u0275defineComponent({type:Ti,selectors:[["classifieds-ui-panel-page"]],viewQuery:function(n,e){if(1&n&&(a.\u0275\u0275viewQuery(bC,5),a.\u0275\u0275viewQuery(ZB,7),a.\u0275\u0275viewQuery(VC,5)),2&n){let r;a.\u0275\u0275queryRefresh(r=a.\u0275\u0275loadQuery())&&(e.gridLayout=r.first),a.\u0275\u0275queryRefresh(r=a.\u0275\u0275loadQuery())&&(e.renderPanelTpl=r.first),a.\u0275\u0275queryRefresh(r=a.\u0275\u0275loadQuery())&&(e.layoutRendererHost=r.first)}},hostVars:2,hostBindings:function(n,e){2&n&&a.\u0275\u0275classProp("panel-page",!0)},inputs:{id:"id",panelPage:"panelPage",nested:"nested",contexts:"contexts",ancestory:"ancestory",css:"css",resolvedContext:"resolvedContext"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>Ti),multi:!0},{provide:d.SD,useExisting:(0,a.forwardRef)(()=>Ti),multi:!0}])],decls:6,vars:2,consts:[[3,"formGroup"],["classifiedsUiLayoutRendererHost",""],["type","button",3,"click",4,"ngIf"],["renderPanelTpl",""],["type","button",3,"click"],["formArrayName","panels"],[3,"formControlName","panel","nested","contexts","resolvedContext","contextsChanged","displayType","indexPosition","css","ancestory"]],template:function(n,e){1&n&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementContainerStart(1),a.\u0275\u0275template(2,eL,0,0,"ng-template",1),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(3,tL,2,0,"button",2),a.\u0275\u0275template(4,nL,3,11,"ng-template",null,3,a.\u0275\u0275templateRefExtractor)),2&n&&(a.\u0275\u0275property("formGroup",e.pageForm),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",e.persistenceEnabled))},directives:function(){return[mL,d.JL,d.sg,VC,x.NgIf,d.CE,d.JJ,d.u]},styles:["[_nghost-%COMP%]     gridster{background-color:#fff}[_nghost-%COMP%]     gridster-item{background-color:#fff}"]});let Jf=(()=>{class t{constructor(e,r,o,s,l,u,p,f,v,D,J){this.document=e,this.platformId=r,this.el=o,this.renderer2=s,this.componentFactoryResolver=l,this.panelHandler=u,this.fb=p,this.cpm=f,this.cssHelper=v,this.paneStateService=D,this.settings=[],this.ancestory=[],this.panes=[],this.originPanes=[],this.afterContentInit$=new O.x,this.resolvedContext$=new h.X({}),this.schedulePluginChange=new O.x,this.ancestoryWithSelf=[],this.css$=new h.X({css:this.cssHelper.makeJsonNode(),classes:{}}),this.cssSub=(0,On.a)([this.css$,this.afterContentInit$,this.schedulePluginChange]).pipe((0,z.h)(()=>(0,x.isPlatformBrowser)(this.platformId)),(0,ve.U)(([Y])=>Y),(0,ve.U)(Y=>({css:this.cssHelper.reduceCss(Y.css,`.pane-${this.indexPosition}`),classes:this.cssHelper.reduceSelector(Y.classes,`.pane-${this.indexPosition}`)})),(0,ve.U)(({css:Y,classes:he})=>[this.cssHelper.reduceCss(Y,".panel-page",!1),this.cssHelper.reduceCss(Y,".panel-page"),this.cssHelper.reduceSelector(he,".panel-page",!1),this.cssHelper.reduceSelector(he,".panel-page")]),(0,ee.b)(([Y,he,Ue,Oe])=>this.filteredCss={css:he,classes:Oe}),(0,ve.U)(([Y,he,Ue,Oe])=>({css:Y,classes:Ue})),(0,Zn.g)(500)).subscribe(({css:Y,classes:he})=>{console.log("reduced classes",he);const Ue=Object.keys(Y.children).filter(De=>Ph({selector:De,document:this.document})),Oe=Object.keys(he).filter(De=>Ph({selector:De,document:this.document}));Oe.forEach(De=>{const Xe=""===De?[this.el.nativeElement]:this.el.nativeElement.querySelectorAll(De),tt=Xe.length;for(let ct=0;ct<tt;ct++){const bt=he[Oe[ct]],Tt=Object.keys(bt),Mt=Tt.length;for(let Wt=0;Wt<Mt;Wt++)bt[Tt[Wt]]===cl.REMOVE?(console.log(`remove class ${Tt[Wt]}`),this.renderer2.removeClass(Xe[ct],Tt[Wt])):(console.log(`add class ${Tt[Wt]}`),this.renderer2.addClass(Xe[ct],Tt[Wt]))}}),Ue.forEach(De=>{console.log(`search: ${De}`);const Xe=""===De?[this.el.nativeElement]:this.el.nativeElement.querySelectorAll(De),tt=Xe.length,ct=Object.keys(Y.children[De].attributes);for(let bt=0;bt<tt;bt++)ct.forEach(Tt=>{console.log(`${De} { ${Tt}: ${Y.children[De].attributes[Tt]}; }`);const Mt=nu(Tt.replace("-","_"),!1);this.renderer2.setStyle(Xe[bt],Mt,Y.children[De].attributes[Tt])})})}),this.paneForm=this.fb.group({contentPlugin:this.fb.control("",d.kI.required),name:this.fb.control(""),label:this.fb.control(""),settings:this.fb.control("")}),this.paneFormSub=this.paneForm.valueChanges.subscribe(Y=>{console.log(`pane form value plugin: ${this.pluginName}`),console.log(Y)}),this.scheduleStateChange$=new O.x,this.scheduleStateChangeSub=this.scheduleStateChange$.pipe((0,Qe.w)(({state:Y})=>this.paneStateService.mergeState({state:Y,ancestory:[...this.ancestoryWithSelf],settings:this.settings,plugin:this.contentPlugin}))).subscribe(({pageState:Y})=>{this.panelPageStateService.upsert(Y)}),this.onTouched=()=>{},this.pluginChangeSub=this.schedulePluginChange.pipe((0,z.h)(()=>this.pluginName&&null!==this.pluginName&&""!==this.pluginName),(0,Qe.w)(()=>this.cpm.getPlugin(this.pluginName))).subscribe(Y=>{this.contentPlugin=Y,this.paneForm.get("contentPlugin").setValue(Y.name),this.paneForm.get("name").setValue(this.name),this.paneForm.get("label").setValue(this.label),"panel"===this.pluginName?this.resolveNestedPanelPage():this.renderPaneContent()}),this.embedPanelSub=this.resolvedContext$.pipe((0,ve.U)(Y=>{Y&&Y._root&&!this.linkedPageId&&0===this.settings.length&&(this.embedPanel=new Qn(Y._root))})).subscribe(),this.panelPageStateService=J.getEntityCollectionService("PanelPageState")}set resolvedContext(e){this.resolvedContext$.next(e)}set css(e){this.css$.next(e)}get indexPositionClass(){return`pane-${this.indexPosition}`}get dynamicPanel(){return new Qn(this.resolvedContext._root)}ngOnInit(){this.ancestoryWithSelf=[...this.ancestory?this.ancestory:[],...null!=this.indexPosition?[this.indexPosition]:[]],this.schedulePluginChange.next(void 0)}ngOnChanges(e){if(e.ancestory||e.indexPosition){const r=[...e.ancestory.currentValue?e.ancestory.currentValue:this.ancestory?this.ancestory:[],...null!=e.indexPosition.currentValue?[e.indexPosition.currentValue]:this.indexPosition?[this.indexPosition]:[]];(r.length!==this.ancestoryWithSelf.length||0!==this.ancestoryWithSelf.filter((o,s)=>r[s]!==o).length)&&(this.ancestoryWithSelf=r)}this.schedulePluginChange.next(void 0)}ngAfterContentInit(){this.afterContentInit$.next(void 0)}writeValue(e){e&&this.paneForm.setValue(e,{emitEvent:!1})}registerOnChange(e){this.paneForm.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.paneForm.disable():this.paneForm.enable()}validate(e){return this.paneForm.statusChanges.pipe((0,Wf.O)(this.paneForm.status),(0,z.h)(r=>"PENDING"!==r),(0,Un.b)(1),(0,nn.q)(1),(0,ve.U)(r=>this.paneForm.valid?null:{invalidForm:{invalidForm:{valid:!1,message:"pane is invalid"}}}))}resolveNestedPanelPage(){this.panelHandler.toObject(this.settings).subscribe(e=>{this.panelPage=new Qn({...e,contexts:this.contexts})})}renderPaneContent(){const e=this.componentFactoryResolver.resolveComponentFactory(this.contentPlugin.renderComponent),r=this.contentPaneHost.viewContainerRef;r.clear(),this.componentRef=r.createComponent(e),this.componentRef.instance.settings=this.settings,this.componentRef.instance.name=this.name,this.componentRef.instance.label=this.label,this.componentRef.instance.panes=this.panes,this.componentRef.instance.originPanes=this.originPanes,this.componentRef.instance.contexts=this.contexts.map(o=>new Pi(o)),this.componentRef.instance.displayType=this.displayType,this.componentRef.instance.resolvedContext=this.resolvedContext$.value,this.componentRef.instance.ancestory=this.ancestoryWithSelf,this.componentRef.instance.state&&this.contentPlugin.handler&&this.contentPlugin.handler.stateDefinition(this.settings).pipe((0,nn.q)(1)).subscribe(o=>{this.componentRef.instance.state=o||{}}),this.componentRef.instance.stateChange&&this.componentRef.instance.stateChange.subscribe(o=>{this.scheduleStateChange$.next({state:o})})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(x.DOCUMENT),a.\u0275\u0275directiveInject(a.PLATFORM_ID),a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(Li),a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Ut.ContentPluginManager),a.\u0275\u0275directiveInject(vv),a.\u0275\u0275directiveInject(gv),a.\u0275\u0275directiveInject(Jn))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-render-pane"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(kh,7),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.contentPaneHost=o.first)}},hostVars:5,hostBindings:function(e,r){2&e&&(a.\u0275\u0275attribute("data-index",r.indexPosition),a.\u0275\u0275classMap(r.indexPositionClass),a.\u0275\u0275classProp("pane",!0))},inputs:{pluginName:"pluginName",settings:"settings",linkedPageId:"linkedPageId",contexts:"contexts",originPane:"originPane",displayType:"displayType",name:"name",label:"label",indexPosition:"indexPosition",ancestory:"ancestory",panes:"panes",originPanes:"originPanes",resolvedContext:"resolvedContext",css:"css"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.SD,useExisting:(0,a.forwardRef)(()=>t),multi:!0}]),a.\u0275\u0275NgOnChangesFeature],decls:6,vars:4,consts:[["fxFlex","",3,"formGroup"],["classifiedsUiPaneContentHost",""],["fxFlex","","formControlName","settings",3,"panelPage","nested","contexts","css","ancestory",4,"ngIf"],["fxFlex","","formControlName","settings",3,"id","nested","contexts","ancestory",4,"ngIf"],["fxFlex","","formControlName","settings",3,"panelPage","nested","contexts","css","ancestory"],["fxFlex","","formControlName","settings",3,"id","nested","contexts","ancestory"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementContainerStart(1),a.\u0275\u0275template(2,rL,0,0,"ng-template",1),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275template(3,iL,1,5,"classifieds-ui-panel-page",2),a.\u0275\u0275template(4,aL,1,4,"classifieds-ui-panel-page",3),a.\u0275\u0275template(5,oL,1,5,"classifieds-ui-panel-page",2),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.paneForm),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf","panel"==r.pluginName&&!r.linkedPageId&&0!==r.settings.length),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","panel"==r.pluginName&&r.linkedPageId),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","panel"==r.pluginName&&!r.linkedPageId&&0===r.settings.length))},directives:[Ti,d.JL,d.sg,kh,x.NgIf,d.JJ,d.u],styles:["[_nghost-%COMP%]{height:100%}"]}),t})(),mL=(()=>{class t{constructor(e,r,o,s,l,u,p,f,v){this.platformId=e,this.hostEl=r,this.renderer2=o,this.componentFactoryResolver=s,this.fb=l,this.panelResolverService=u,this.spm=p,this.cssHelper=f,this.styleResolverService=v,this.nested=!1,this.resolvedContext={},this.heightChange=new a.EventEmitter,this.panelForm=this.fb.group({name:this.fb.control(""),label:this.fb.control(""),panes:this.fb.array([])}),this.panelFormSub=this.panelForm.valueChanges.subscribe(D=>{console.log("paneL form value"),console.log(D)}),this.afterContentInit$=new O.x,this.schedulePanelRender=new O.x,this.rendered$=new O.x,this.css$=new h.X({css:this.cssHelper.makeJsonNode(),classes:{}}),this.cssSub=(0,On.a)([this.css$,this.afterContentInit$,this.rendered$]).pipe((0,z.h)(()=>(0,x.isPlatformBrowser)(this.platformId)),(0,ee.b)(([D])=>console.log("css node",D.css)),(0,ve.U)(([D])=>D),(0,ve.U)(D=>({css:this.cssHelper.reduceCss(D.css,`.panel-${this.indexPosition$.value}`),classes:this.cssHelper.reduceSelector(D.classes,`.panel-${this.indexPosition$.value}`)})),(0,ve.U)(({css:D,classes:J})=>[this.cssHelper.reduceCss(D,".pane-",!1),D,this.cssHelper.reduceSelector(J,".pane-",!1),J]),(0,ee.b)(([D,J,Y,he])=>this.filteredCss={css:J,classes:he}),(0,ve.U)(([D,J,Y])=>({css:D,classes:Y})),(0,Zn.g)(1)).subscribe(({css:D,classes:J})=>{console.log("classes",J),Object.keys(D.children).forEach(he=>{console.log(`search: ${he}`);const Ue=""===he?[this.hostEl.nativeElement]:this.hostEl.nativeElement.querySelectorAll(he),Oe=Ue.length,De=Object.keys(D.children[he].attributes);for(let Xe=0;Xe<Oe;Xe++)De.forEach(tt=>{console.log(`${he} { ${tt}: ${D.children[he].attributes[tt]}; }`);const ct=nu(tt.replace("-","_"),!1);this.renderer2.setStyle(Ue[Xe],ct,D.children[he].attributes[tt])})})}),this.scheduleRender=new O.x,this.scheduleRenderSub=this.scheduleRender.pipe((0,ee.b)(()=>console.log(`schdule renderer before [${this.panel.name}]`)),(0,Qe.w)(([D,J,Y])=>this.panelResolverService.resolvePanes({panes:D,contexts:J,resolvedContext:Y}).pipe((0,ve.U)(({resolvedPanes:he,originMappings:Ue})=>({resolvedPanes:he,originMappings:Ue,panes:D})))),(0,Qe.w)(({panes:D,resolvedPanes:J,originMappings:Y})=>this.styleResolverService.alterResolvedPanes({panel:this.panel,resolvedPanes:J,originMappings:Y}).pipe((0,ve.U)(({resolvedPanes:he,originMappings:Ue})=>({panes:D,resolvedPanes:he,originMappings:Ue})))),(0,ee.b)(()=>console.log(`schdule renderer after [${this.panel.name}]`))).subscribe(({panes:D,resolvedPanes:J,originMappings:Y})=>{console.log(`render panel: ${this.panel.name}`),this.resolvedPanes=J,this.originPanes=D,this.originMappings=Y,this.populatePanesFormArray(),void 0!==this.stylePlugin?this.renderPanelContent():this.rendered$.next(void 0)}),this.schduleContextChange=new O.x,this.schedulePanelRenderSub=this.schedulePanelRender.pipe((0,Qe.w)(D=>this.spm.getPlugin(D))).subscribe(D=>{const J=this.componentFactoryResolver.resolveComponentFactory(D.renderComponent),Y=this.panelHost.viewContainerRef;Y.clear();const he=Y.createComponent(J);this.componentRef=he,he.instance.settings=this.panel.settings,he.instance.panes=this.resolvedPanes,he.instance.originPanes=this.panel.panes,he.instance.originMappings=this.originMappings,he.instance.contexts=this.contexts.map(Ue=>new Pi(Ue)),he.instance.displayType=this.displayType,he.instance.ancestory=this.ancestoryWithSelf$.value,he.instance.resolvedContext=this.resolvedContext,he.instance.panel=this.panel,he.instance.indexPosition=this.indexPosition$.value,this.rendered$.next(void 0)}),this.originMappings=[],this.resolvedContexts=[],this.ancestoryWithSelf$=new h.X([]),this.ancestory$=new h.X([]),this.indexPosition$=new h.X(void 0),this.onTouched=()=>{},this.ancestorySub=(0,On.a)([this.ancestory$,this.indexPosition$]).pipe((0,ee.b)(([D,J])=>{this.ancestoryWithSelf$.next([...D,J])})).subscribe(),this.counter=t.COUNTER++}set contextChanged(e){}set contextsChanged(e){e.map(r=>this.schduleContextChange.next(r))}set indexPosition(e){this.indexPosition$.next(e)}set ancestory(e){this.ancestory$.next(e)}set css(e){this.css$.next(e)}get indexPositionClass(){return`panel-${this.indexPosition$.value}`}get panesArray(){return this.panelForm.get("panes")}ngOnInit(){this.stylePlugin=void 0!==this.panel.stylePlugin&&""!==this.panel.stylePlugin?this.panel.stylePlugin:void 0,void 0!==this.panel&&void 0!==this.panelHost&&(console.log(`panel render init [${this.panel.name}`),this.panelResolverService.usedContexts(this.panel.panes).pipe((0,ve.U)(e=>e.filter(r=>"_page"!==r&&"_root"!==r&&"."!==r&&0!==r.indexOf("panestate-"+this.ancestoryWithSelf$.value.join("-")))),(0,ee.b)(e=>console.log(`contexts [${this.panel.name}]: ${e.join(",")}`)),(0,Qe.w)(e=>this.schduleContextChange.pipe((0,ee.b)(r=>console.log(`detected change [${this.panel.name}]: ${r}`)),(0,ve.U)(r=>[e,r]))),(0,ee.b)(([e,r])=>console.log(`detected change [${this.panel.name}]: ${r} : ctx: ${e.join(",")}`)),(0,z.h)(([e,r])=>Array.isArray(e)&&-1!==e.findIndex(o=>o===r)),(0,Un.b)(100)).subscribe(([e,r])=>{console.log(`Context changed [${this.panel.name}]: ${r}`),console.log(`contexts detected [${this.panel.name}]: ${e.join(",")}`),this.scheduleRender.next([this.panel.panes,this.contexts,this.resolvedContext])}))}ngOnChanges(e){this.stylePlugin=void 0!==this.panel.stylePlugin&&""!==this.panel.stylePlugin?this.panel.stylePlugin:void 0,e.resolvedContext&&void 0===e.resolvedContext.previousValue&&this.scheduleRender.next([this.panel.panes,this.contexts,this.resolvedContext])}ngAfterViewInit(){}ngAfterContentInit(){this.afterContentInit$.next(void 0)}writeValue(e){e&&this.panelForm.setValue(e,{emitEvent:!1})}registerOnChange(e){this.panelForm.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.panelForm.disable():this.panelForm.enable()}validate(e){return this.panelForm.statusChanges.pipe((0,Wf.O)(this.panelForm.status),(0,z.h)(r=>"PENDING"!==r),(0,Un.b)(1),(0,nn.q)(1),(0,ve.U)(r=>this.panelForm.valid?null:{invalidForm:{valid:!1,message:"panel are invalid"}}))}populatePanesFormArray(){this.panesArray.clear(),this.resolvedPanes.forEach((e,r)=>{this.panesArray.push(this.fb.control(""))})}renderPanelContent(){this.schedulePanelRender.next(this.stylePlugin)}}return t.COUNTER=0,t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.PLATFORM_ID),a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Tc),a.\u0275\u0275directiveInject(iu),a.\u0275\u0275directiveInject(vv),a.\u0275\u0275directiveInject(Ww))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-render-panel"]],viewQuery:function(e,r){if(1&e&&(a.\u0275\u0275viewQuery(kh,7),a.\u0275\u0275viewQuery(sL,7),a.\u0275\u0275viewQuery(Jf,5)),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.panelHost=o.first),a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.paneContainer=o.first),a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.renderedPanes=o)}},hostVars:5,hostBindings:function(e,r){2&e&&(a.\u0275\u0275attribute("data-index",r.indexPosition$.value),a.\u0275\u0275classMap(r.indexPositionClass),a.\u0275\u0275classProp("panel",!0))},inputs:{panel:"panel",contexts:"contexts",nested:"nested",displayType:"displayType",resolvedContext:"resolvedContext",contextChanged:"contextChanged",contextsChanged:"contextsChanged",indexPosition:"indexPosition",ancestory:"ancestory",css:"css"},outputs:{heightChange:"heightChange"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.SD,useExisting:(0,a.forwardRef)(()=>t),multi:!0}]),a.\u0275\u0275NgOnChangesFeature],decls:5,vars:2,consts:[[1,"render-panel",3,"formGroup"],["panes",""],["classifiedsUiPaneContentHost",""],[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["formArrayName","panes"],[3,"formControlName","pluginName","settings","name","label","originPane","contexts","displayType","resolvedContext","indexPosition","css","ancestory","panes","originPanes",4,"ngFor","ngForOf"],[3,"formControlName","pluginName","settings","name","label","originPane","contexts","displayType","resolvedContext","indexPosition","css","ancestory","panes","originPanes"],[3,"pluginName","settings","name","label","originPane","contexts","linkedPageId","displayType","resolvedContext","indexPosition","css","ancestory","panes","originPanes",4,"ngFor","ngForOf"],[3,"pluginName","settings","name","label","originPane","contexts","linkedPageId","displayType","resolvedContext","indexPosition","css","ancestory","panes","originPanes"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0,1),a.\u0275\u0275elementContainerStart(2),a.\u0275\u0275template(3,lL,0,0,"ng-template",2),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275template(4,pL,4,3,"div",3),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.panelForm),a.\u0275\u0275advance(4),a.\u0275\u0275property("ngIf",!r.stylePlugin&&r.resolvedPanes))},directives:[Jf,d.JL,d.sg,kh,x.NgIf,x.NgSwitch,x.NgSwitchCase,d.CE,x.NgForOf,d.JJ,d.u],styles:["[_nghost-%COMP%]{height:100%}.render-panel[_ngcontent-%COMP%]{height:100%}"]}),t})(),Vh=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,d.u5,ln.UtilsModule,d.UX,fv,EC]]}),t})();const Qf={},RC={};let NC=!1;function OC(t,n){return(0,re.mG)(this,void 0,void 0,function*(){return RC[n]||(NC||(yield S.I("default"),NC=!0),yield t.init(S.S.default),RC[n]=!0),t})}function FC(t,n){return(0,re.mG)(this,void 0,void 0,function*(){return new Promise((e,r)=>{if(Qf[n])return void e();const o=document.createElement("script");o.src=t,o.onerror=r,o.onload=()=>{const s=window[n];OC(s,n),Qf[n]=s,e()},document.body.appendChild(o)})})}function Fc(t){return(0,re.mG)(this,void 0,void 0,function*(){let n,e;return t.type||(t.type="script"),"script"===t.type?(n={type:"script",remoteEntry:t.remoteEntry,remoteName:t.remoteName},e=t.remoteName):"module"===t.type&&(n={type:"module",remoteEntry:t.remoteEntry},e=t.remoteEntry),t.remoteEntry&&(yield function gL(t,n){return(0,re.mG)(this,void 0,void 0,function*(){if("string"==typeof t)return yield FC(t,n);if("script"===t.type){const e=t;return yield FC(e.remoteEntry,e.remoteName)}"module"===t.type&&(yield function yL(t){return(0,re.mG)(this,void 0,void 0,function*(){return Qf[t]?Promise.resolve():yield import(t).then(n=>{OC(n,t),Qf[t]=n})})}(t.remoteEntry))})}(n)),yield function hL(t,n){return(0,re.mG)(this,void 0,void 0,function*(){return(yield Qf[t].get(n))()})}(e,t.exposedModule)})}var dl=S(2922),lu=S(8550),$o=S(5288),MC=S(2197);function vL(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"a",4),a.\u0275\u0275listener("click",function(){const s=a.\u0275\u0275restoreView(e).$implicit;return a.\u0275\u0275nextContext().onEntitySelected(s.value)}),a.\u0275\u0275elementStart(1,"span",5),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const e=n.$implicit;a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(e.value.title)}}function _L(t,n){}function bL(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"classifieds-ui-dynamic-content-viewer",1),a.\u0275\u0275listener("docRendered",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().onDocRendered()}),a.\u0275\u0275pipe(1,"async"),a.\u0275\u0275elementEnd()}if(2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275property("content",a.\u0275\u0275pipeBind1(1,1,e.content$))}}function wL(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"classifieds-ui-dynamic-content-viewer",1),a.\u0275\u0275listener("docRendered",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().onDocRendered()}),a.\u0275\u0275pipe(1,"async"),a.\u0275\u0275elementEnd()}if(2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275property("content",a.\u0275\u0275pipeBind1(1,1,e.content$))}}function CL(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"a",4),a.\u0275\u0275listener("click",function(){const s=a.\u0275\u0275restoreView(e).$implicit;return a.\u0275\u0275nextContext().onStyleSelected(s.value)}),a.\u0275\u0275elementStart(1,"span",5),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const e=n.$implicit;a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(e.value.title)}}function xL(t,n){}const SL=["contentEditor"];function EL(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function AL(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",19),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext(2).onOverrideClick()}),a.\u0275\u0275text(1,"Override"),a.\u0275\u0275elementEnd()}}function IL(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",19),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext(2).onRemoveOverrideClick()}),a.\u0275\u0275text(1,"Remove Override"),a.\u0275\u0275elementEnd()}}function PL(t,n){}const Rh=function(t){return{settings:t}},TL=function(t){return{visible:t}};function kL(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",9),a.\u0275\u0275elementStart(1,"div",10),a.\u0275\u0275elementStart(2,"div",11),a.\u0275\u0275elementStart(3,"button",12),a.\u0275\u0275elementStart(4,"mat-icon"),a.\u0275\u0275text(5,"more_vert"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"mat-expansion-panel",13),a.\u0275\u0275listener("afterCollapse",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().onAfterCollapse()})("afterExpand",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().onAfterExpand()}),a.\u0275\u0275elementStart(7,"mat-expansion-panel-header"),a.\u0275\u0275elementStart(8,"mat-panel-title"),a.\u0275\u0275text(9),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"div",14),a.\u0275\u0275elementStart(11,"ul"),a.\u0275\u0275template(12,EL,1,0,"ng-container",15),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(13,"div",16),a.\u0275\u0275template(14,AL,2,0,"button",17),a.\u0275\u0275template(15,IL,2,0,"button",17),a.\u0275\u0275elementContainerStart(16),a.\u0275\u0275template(17,PL,0,0,"ng-template",18),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const e=a.\u0275\u0275nextContext(),r=a.\u0275\u0275reference(6),o=a.\u0275\u0275reference(2);a.\u0275\u0275advance(3),a.\u0275\u0275property("matMenuTriggerFor",r),a.\u0275\u0275advance(6),a.\u0275\u0275textInterpolate2("",e.contentPlugin.title," : ",e.name,""),a.\u0275\u0275advance(1),a.\u0275\u0275property("hidden",e.preview),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngTemplateOutlet",o)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(9,Rh,e.settings)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(11,TL,e.preview)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.displayOverride&&!e.hasOverride),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.displayOverride&&e.hasOverride)}}function VL(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"span"),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"attribute"),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext().$implicit,r=a.\u0275\u0275nextContext().settings;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind2(2,1,r,e.name))}}function RL(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function NL(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"ul"),a.\u0275\u0275template(1,RL,1,0,"ng-container",15),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275nextContext(2);const r=a.\u0275\u0275reference(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",r)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(2,Rh,e.attributes))}}function OL(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"li"),a.\u0275\u0275text(1),a.\u0275\u0275template(2,VL,3,4,"span",21),a.\u0275\u0275template(3,NL,2,4,"ul",21),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit,r=a.\u0275\u0275nextContext().settings;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",e.displayName,": "),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!e.attributes||0==e.attributes.length),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.attributes&&e.attributes.length>0)}}function FL(t,n){1&t&&a.\u0275\u0275template(0,OL,4,3,"li",20),2&t&&a.\u0275\u0275property("ngForOf",n.settings)}function ML(t,n){}function DL(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",22),a.\u0275\u0275elementStart(1,"classifieds-ui-content-editor",23,24),a.\u0275\u0275listener("nestedUpdate",function(o){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().onNestedUpdate(o)})("delete",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().onDeleteClick()})("rules",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().onRulesClick()})("props",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().onPropsClick()}),a.\u0275\u0275template(3,ML,0,0,"ng-template",null,25,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("panelPage",e.panelPage)("savable",!1)("nested",!0)("locked",e.locked)("contexts",e.contexts)("rootContext",e.rootContext)("ancestory",e.paneAncestoryWithSelf)}}function jL(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",26),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().onPreviewClick()}),a.\u0275\u0275text(1,"Preview"),a.\u0275\u0275elementEnd()}if(2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275property("disabled",e.locked)}}function BL(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",27),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().onDisablePreviewClick()}),a.\u0275\u0275text(1,"Disable Preview"),a.\u0275\u0275elementEnd()}}const LL=["extraActionsArea"],UL=["contextsMenuTpl"],zL=["editablePaneTpl"],GL=["panes"];function $L(t,n){}const DC=function(t){return{nested:t}};function HL(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"form",7),a.\u0275\u0275listener("ngSubmit",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().submit()}),a.\u0275\u0275elementContainerStart(1),a.\u0275\u0275template(2,$L,0,0,"ng-template",8),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()}if(2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275property("formGroup",e.contentForm)("ngClass",a.\u0275\u0275pureFunction1(2,DC,e.nested))}}function qL(t,n){}function KL(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"div",9),a.\u0275\u0275elementContainerStart(1),a.\u0275\u0275template(2,qL,0,0,"ng-template",8),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275property("formGroup",e.contentForm)("ngClass",a.\u0275\u0275pureFunction1(2,DC,e.nested))}}function XL(t,n){1&t&&a.\u0275\u0275element(0,"div",12)}function WL(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"classifieds-ui-editable-pane",10),a.\u0275\u0275listener("delete",function(){const o=a.\u0275\u0275restoreView(e),s=o.i,l=o.j;return a.\u0275\u0275nextContext().onDeletePane(s,l)})("rules",function(){const o=a.\u0275\u0275restoreView(e),s=o.i,l=o.j;return a.\u0275\u0275nextContext().onRulesPane(s,l)})("nestedUpdate",function(o){const s=a.\u0275\u0275restoreView(e),l=s.i,u=s.j;return a.\u0275\u0275nextContext().onNestedUpdate(o,l,u)})("rendererOverride",function(){const o=a.\u0275\u0275restoreView(e),s=o.i,l=o.j;return a.\u0275\u0275nextContext().onOverrideRenderer(s,l)})("removeRendererOverride",function(){const o=a.\u0275\u0275restoreView(e),s=o.i,l=o.j;return a.\u0275\u0275nextContext().onRemoveOverrideRenderer(s,l)})("edit",function(){const o=a.\u0275\u0275restoreView(e),s=o.i,l=o.j;return a.\u0275\u0275nextContext().onPaneEdit(s,l)})("props",function(){const o=a.\u0275\u0275restoreView(e),s=o.i,l=o.j;return a.\u0275\u0275nextContext().editPaneProps(s,l)})("delete",function(){const o=a.\u0275\u0275restoreView(e),s=o.i,l=o.j;return a.\u0275\u0275nextContext().onPaneDelete(s,l)}),a.\u0275\u0275template(1,XL,1,0,"div",11),a.\u0275\u0275elementEnd()}if(2&t){const e=n.i,r=n.j,o=a.\u0275\u0275nextContext();a.\u0275\u0275property("panelIndex",e)("paneIndex",r)("name",o.panelPaneName(e,r))("label",o.panelPaneLabel(e,r))("locked",o.panelPaneLocked(e,r))("contexts",o.contexts)("pluginName",o.panelPanePlugin(e,r))("settings",o.panelPaneSettings(e,r))("ancestory",o.ancestory)}}function JL(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"button",13),a.\u0275\u0275text(1,"( x )"),a.\u0275\u0275elementEnd()),2&t){a.\u0275\u0275nextContext();const e=a.\u0275\u0275reference(8);a.\u0275\u0275property("matMenuTriggerFor",e)}}function QL(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",5),a.\u0275\u0275listener("click",function(){const s=a.\u0275\u0275restoreView(e).$implicit;return a.\u0275\u0275nextContext().onEditContext(s.name)}),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()}if(2&t){const e=n.$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e.name)}}function YL(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"a",1),a.\u0275\u0275listener("click",function(){const s=a.\u0275\u0275restoreView(e).$implicit;return a.\u0275\u0275nextContext().onItemSelect(s.value)}),a.\u0275\u0275elementStart(1,"span",2),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const e=n.$implicit;a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(e.value.name)}}function ZL(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function e4(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"span"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1("",e.displayName,": ")}}function t4(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"span"),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"attribute"),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext().$implicit,r=a.\u0275\u0275nextContext().settings;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind2(2,1,r,e.name))}}function n4(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function r4(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275template(1,n4,1,0,"ng-container",4),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275nextContext(2);const r=a.\u0275\u0275reference(3);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",r)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(2,Rh,e.attributes))}}function a4(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275template(1,e4,2,1,"span",2),a.\u0275\u0275template(2,t4,3,4,"span",2),a.\u0275\u0275template(3,r4,2,4,"div",2),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",0==e.attributes.length),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",0==e.attributes.length),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.attributes.length>0)}}function o4(t,n){1&t&&a.\u0275\u0275template(0,a4,4,3,"div",6),2&t&&a.\u0275\u0275property("ngForOf",n.settings)}function s4(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275template(1,ZL,1,0,"ng-container",4),a.\u0275\u0275template(2,o4,1,1,"ng-template",null,5,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275reference(3),r=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",e)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(2,Rh,r.attributeValues))}}function l4(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"div",7),a.\u0275\u0275element(1,"classifieds-ui-attributes-builder",8),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("formGroup",e.controlContainer.control),a.\u0275\u0275advance(1),a.\u0275\u0275property("attributes",e.attributes)("attributeValues",e.attributeValues)}}function u4(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275template(1,s4,4,4,"div",2),a.\u0275\u0275template(2,l4,2,3,"div",3),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","page"==e.displayType),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","form"==e.displayType)}}function c4(t,n){if(1&t&&a.\u0275\u0275element(0,"classifieds-ui-snippet-pane-renderer",9),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275property("settings",e.rendererSettings)("tokens",e.tokens)}}function d4(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone-image-preview",2),a.\u0275\u0275listener("removed",function(o){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().onRemoveMedia(o)}),a.\u0275\u0275elementStart(1,"ngx-dropzone-label"),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275property("removable",!0)("file",e.media),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate2("",e.media.name," (",e.media.type,")")}}const f4=["img"];function p4(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-option",26),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275property("value",e),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e)}}function m4(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275elementStart(1,"mat-form-field",23),a.\u0275\u0275elementStart(2,"mat-label"),a.\u0275\u0275text(3,"Pane"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"mat-select",24),a.\u0275\u0275template(5,p4,2,2,"mat-option",25),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t){const e=n.index,r=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("formGroupName",e),a.\u0275\u0275advance(4),a.\u0275\u0275property("ngForOf",r.panes)}}function h4(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",20),a.\u0275\u0275elementStart(1,"button",21),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().addPane()}),a.\u0275\u0275text(2,"Add Pane"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div"),a.\u0275\u0275template(4,m4,6,2,"div",22),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(4),a.\u0275\u0275property("ngForOf",e.bindings.controls)}}function g4(t,n){1&t&&(a.\u0275\u0275elementStart(0,"div",27),a.\u0275\u0275elementStart(1,"mat-form-field"),a.\u0275\u0275element(2,"input",28),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-form-field"),a.\u0275\u0275element(4,"input",29),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"mat-form-field"),a.\u0275\u0275element(6,"input",30),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"div"),a.\u0275\u0275elementStart(8,"mat-checkbox",31),a.\u0275\u0275text(9,"Multiple"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"mat-form-field"),a.\u0275\u0275element(11,"input",32),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function y4(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-option",7),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275property("value",e.value),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e.label)}}function v4(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"mat-form-field"),a.\u0275\u0275elementStart(2,"mat-label"),a.\u0275\u0275text(3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"mat-select",5),a.\u0275\u0275template(5,y4,2,2,"mat-option",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(e.label),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",e.options)}}function _4(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-radio-button",7),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275property("value",e.value),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e.label)}}function b4(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"div"),a.\u0275\u0275elementStart(2,"label"),a.\u0275\u0275text(3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"mat-radio-group",5),a.\u0275\u0275template(5,_4,2,2,"mat-radio-button",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(e.label),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",e.options)}}function w4(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275elementStart(1,"div",9),a.\u0275\u0275elementStart(2,"mat-checkbox",10),a.\u0275\u0275text(3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit,r=n.index;a.\u0275\u0275advance(1),a.\u0275\u0275property("formGroupName",r),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(e.label)}}function C4(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"div"),a.\u0275\u0275elementStart(2,"div",1),a.\u0275\u0275template(3,w4,4,2,"div",8),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",e.options)}}function x4(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-option",7),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275property("value",e),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e.label)}}function S4(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"mat-form-field"),a.\u0275\u0275element(2,"input",11),a.\u0275\u0275elementStart(3,"mat-autocomplete",12,13),a.\u0275\u0275listener("optionSelected",function(o){return a.\u0275\u0275restoreView(e),a.\u0275\u0275nextContext().onOptionSelected(o)}),a.\u0275\u0275template(5,x4,2,2,"mat-option",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()}if(2&t){const e=a.\u0275\u0275reference(4),r=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275property("placeholder",r.label)("matAutocomplete",e),a.\u0275\u0275advance(1),a.\u0275\u0275property("displayWith",r.displayAuto),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",r.options)}}function E4(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-option",8),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275property("value",e.name),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e.name)}}function A4(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",5),a.\u0275\u0275element(1,"druid-panels-panelpage-linkedlist",6),a.\u0275\u0275elementStart(2,"button",3),a.\u0275\u0275listener("click",function(){const s=a.\u0275\u0275restoreView(e).index;return a.\u0275\u0275nextContext().onRemoveMapping(s)}),a.\u0275\u0275text(3,"Remove"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const e=n.index,r=a.\u0275\u0275nextContext();a.\u0275\u0275property("formGroupName",e),a.\u0275\u0275advance(1),a.\u0275\u0275property("panes",r.panes)}}function I4(t,n){if(1&t&&a.\u0275\u0275element(0,"classifieds-ui-render-pane",4),2&t){const e=a.\u0275\u0275nextContext().index,r=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("pluginName",r.panes[2*e].contentPlugin)("settings",r.panes[2*e].settings)("contexts",r.panes[2*e].contexts)}}function P4(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-tab"),a.\u0275\u0275template(1,I4,1,3,"ng-template",3),a.\u0275\u0275element(2,"classifieds-ui-render-pane",4),a.\u0275\u0275elementEnd()),2&t){const e=n.index,r=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(2),a.\u0275\u0275property("pluginName",r.panes[2*e+1].contentPlugin)("settings",r.panes[2*e+1].settings)("contexts",r.panes[2*e+1].contexts)}}function T4(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-tab-group",1),a.\u0275\u0275template(1,P4,3,3,"mat-tab",2),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("for",e.panes.length/2)}}function k4(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-tab",6),a.\u0275\u0275element(1,"classifieds-ui-render-pane",4),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275property("pluginName",e.contentPlugin)("settings",e.settings)("contexts",e.contexts)}}function V4(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-tab-group",1),a.\u0275\u0275template(1,k4,2,3,"mat-tab",5),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",e.panes)}}function R4(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"div",2),a.\u0275\u0275element(1,"classifieds-ui-render-pane",3),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275property("pluginName",e.contentPlugin)("settings",e.settings)("contexts",e.contexts)("resolvedContext",e.resolvedContext)}}function N4(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"th",7),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e)}}function O4(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"td",8),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit,r=a.\u0275\u0275nextContext().$implicit,o=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(o.rowData(r,e))}}function F4(t,n){1&t&&(a.\u0275\u0275elementContainerStart(0,4),a.\u0275\u0275template(1,N4,2,1,"th",5),a.\u0275\u0275template(2,O4,2,1,"td",6),a.\u0275\u0275elementContainerEnd()),2&t&&a.\u0275\u0275property("matColumnDef",n.$implicit)}function M4(t,n){1&t&&a.\u0275\u0275element(0,"tr",9)}function D4(t,n){1&t&&a.\u0275\u0275element(0,"tr",10)}const j4={GridLayout:{entityName:"GridLayout"},PanelPageForm:{crud:{panelpageform_serialize:{plugins:{idb_keyval:{params:{prefix:"panelpageform__"}}}}}}};let Nh=(()=>{class t{constructor(e){this.viewContainerRef=e}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["","classifiedsUiContentSelectionHost",""]]}),t})(),B4=(()=>{class t{constructor(e,r,o,s,l,u){this.data=e,this.bottomSheetRef=r,this.dialog=o,this.componentFactoryResolver=s,this.fb=l,this.contentPluginManager=u,this.selectedIndex=0}ngOnInit(){this.contentPlugins=this.contentPluginManager.getPlugins()}onEntitySelected(e){this.plugin=e,void 0!==this.plugin.selectionComponent?(this.selectedIndex=1,this.renderSelectionComponent()):void 0!==this.plugin.editorComponent?(this.bottomSheetRef.dismiss(),e.handler?this.plugin.handler.editorOptions([]).subscribe(r=>{this.dialog.open(this.plugin.editorComponent,{data:{panelFormGroup:this.data.panelForm,panelIndex:this.data.panelIndex,pane:void 0,paneIndex:void 0,contexts:this.data.contexts,contentAdded:this.data.contentAdded,plugin:e},...r.fullscreen?{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%"}:{}})}):this.dialog.open(this.plugin.editorComponent,{data:{panelFormGroup:this.data.panelForm,panelIndex:this.data.panelIndex,pane:void 0,paneIndex:void 0,contexts:this.data.contexts,contentAdded:this.data.contentAdded}})):this.data.panelForm.get("panes").push(this.fb.group({contentPlugin:this.fb.control(this.plugin.id),name:this.fb.control(""),label:this.fb.control(""),settings:this.fb.array([])}))}renderSelectionComponent(){const e=this.componentFactoryResolver.resolveComponentFactory(this.plugin.selectionComponent),r=this.selectionHost.viewContainerRef;r.clear();const o=r.createComponent(e);o.instance.panelFormGroup=this.data.panelForm,o.instance.contexts=this.data.contexts}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(sl.OG),a.\u0275\u0275directiveInject(sl.oL),a.\u0275\u0275directiveInject(Ft.uw),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Ut.ContentPluginManager))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-content-selector"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(Nh,7),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.selectionHost=o.first)}},decls:10,vars:6,consts:[[1,"content-selector-wrapper"],[3,"selectedIndex"],["mat-list-item","","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["classifiedsUiContentSelectionHost",""],["mat-list-item","","mat-list-item","",3,"click"],["mat-line",""]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"mat-tab-group",1),a.\u0275\u0275elementStart(2,"mat-tab"),a.\u0275\u0275elementStart(3,"mat-nav-list"),a.\u0275\u0275template(4,vL,3,1,"a",2),a.\u0275\u0275pipe(5,"keyvalue"),a.\u0275\u0275pipe(6,"async"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"mat-tab"),a.\u0275\u0275elementContainerStart(8),a.\u0275\u0275template(9,_L,0,0,"ng-template",3),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("selectedIndex",r.selectedIndex),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(5,2,a.\u0275\u0275pipeBind1(6,4,r.contentPlugins))))},directives:[Lo.SP,Lo.uX,Uo.Hk,Uo.Tg,x.NgForOf,Xn.X2,Nh],pipes:[x.KeyValuePipe,x.AsyncPipe],styles:[".content-selector-wrapper[_ngcontent-%COMP%]     .mat-tab-header{display:none}"]}),t})(),uu=(()=>{class t{constructor(e,r){this.attributeSerializer=e,this.tokenizrService=r,this.types=["text/markdown","text/html"]}handleFile(e){return new g.y(r=>{const o=new FileReader;o.onload=()=>{r.next(this.buildSettings(new Zl({contentType:e.type,content:`${o.result}`}))),r.complete()},o.readAsText(e)})}handlesType(e){return void 0!==this.types.find(r=>r===e)}implementsRendererOverride(){return!1}hasRendererOverride(e){return(0,ke.of)(!1)}isDynamic(e){return!1}isData(e){return!1}getBindings(e,r,o){return"context"===r?this.toObject(e).pipe((0,ve.U)(s=>this.tokenizrService.discoverTokens(s.content).map(u=>new Ut.ContentBinding({id:u,type:"context"})))):(0,ke.of)([])}fetchDynamicData(e,r){return(0,ke.of)(new Fn)}buildDynamicItems(e,r){return(0,ke.of)([])}toObject(e){return(0,ke.of)(new Zl(this.attributeSerializer.deserializeAsObject(e)))}buildSettings(e){return this.attributeSerializer.serialize(e,"root").attributes}stateDefinition(e){return(0,ke.of)({})}editorOptions(e){return(0,ke.of)(new Ut.ContentPluginEditorOptions({fullscreen:!0}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Ct.AttributeSerializerService),a.\u0275\u0275inject(Dn))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),jC=(()=>{class t{constructor(e,r,o,s){this.hostEl=e,this.handler=r,this.tokenizerService=o,this.markdownService=s,this.contexts=[],this.afterContentInit$=new O.x,this.content="",this.content$=new h.X(""),this.settings$=new h.X([]),this.snippet$=new h.X(void 0),this.resolvedContext$=new h.X(void 0),this.docRendered$=new O.x,this.contentSub=(0,On.a)([this.afterContentInit$,this.content$,this.snippet$,this.docRendered$]).subscribe(([l,u,p])=>{p&&p.jsScript&&""!==p.jsScript&&setTimeout(()=>this.appendScript(p.jsScript))}),this.renderContentSub=(0,On.a)([this.settings$,this.resolvedContext$]).pipe((0,Qe.w)(([l,u])=>this.handler.toObject(l)),(0,Qe.w)(l=>this.resolveContexts().pipe((0,ve.U)(u=>[l,u])))).subscribe(([l,u])=>{void 0!==u&&(this.tokens=u),this.contentType=l.contentType,this.snippet$.next(l);const p=this.replaceTokens(l.content),f=l.contentType&&-1!==l.contentType.indexOf("markdown")?this.markdownService.compile(p):p;this.content$.next(f)})}set settings(e){this.settings$.next(e)}set resolvedContext(e){this.resolvedContext$.next(e)}ngOnInit(){}ngOnChanges(){console.log("pane changed")}ngAfterContentInit(){this.afterContentInit$.next(),this.afterContentInit$.complete()}replaceTokens(e){return void 0!==this.tokens&&this.tokens.forEach((r,o)=>{e=e.split(`[${o}]`).join(`${r}`)}),e}resolveContexts(){return new g.y(e=>{let r=new Map;if(this.resolvedContext$.value)for(const o in this.resolvedContext$.value)r=new Map([...r,...this.tokenizerService.generateGenericTokens(this.resolvedContext$.value[o],"_root"===o?"":o)]);e.next(r),e.complete()})}appendScript(e){let r=document.createElement("script");r.type="text/javascript",r.appendChild(document.createTextNode(e)),this.hostEl.nativeElement.appendChild(r),console.log("add script")}onDocRendered(){this.docRendered$.next(void 0)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(uu),a.\u0275\u0275directiveInject(Dn),a.\u0275\u0275directiveInject(th))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-snippet-pane-renderer"]],inputs:{settings:"settings",contexts:"contexts",tokens:"tokens",resolvedContext:"resolvedContext"},features:[a.\u0275\u0275NgOnChangesFeature],decls:2,vars:2,consts:[[3,"content","docRendered",4,"ngIf"],[3,"content","docRendered"]],template:function(e,r){1&e&&(a.\u0275\u0275template(0,bL,2,3,"classifieds-ui-dynamic-content-viewer",0),a.\u0275\u0275template(1,wL,2,3,"classifieds-ui-dynamic-content-viewer",0)),2&e&&(a.\u0275\u0275property("ngIf","text/markdown"==r.contentType),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","text/html"==r.contentType))},directives:[ln.DynamicContentViewer,x.NgIf],pipes:[x.AsyncPipe],styles:[""]}),t})(),cu=(()=>{class t{constructor(e){this.snippetHandler=e}handleFile(e){return(0,ke.of)([])}handlesType(e){return!1}implementsRendererOverride(){return!0}hasRendererOverride(e){return this.rendererSnippet(e).pipe((0,ve.U)(r=>void 0!==r))}isDynamic(e){return!1}isData(e){return!1}fetchDynamicData(e,r){return(0,ke.of)(new Fn)}buildDynamicItems(e,r){return(0,ke.of)([])}getBindings(e,r,o){return(0,ke.of)([])}valueSettings(e){const r=[];return e.forEach(o=>{"value"===o.name&&r.push(o)}),r}rendererSnippet(e){let r;return e.forEach(o=>{"_renderer"===o.name&&(r=this.snippetHandler.toObject(o.attributes))}),void 0!==r?r:(0,ke.of)(void 0)}rendererOverrideSettings(e){return[new Ct.AttributeValue({name:"_renderer",type:Ct.AttributeTypes.Complex,displayName:"Renderer Override",value:void 0,computedValue:void 0,intValue:0,attributes:this.snippetHandler.buildSettings(e)})]}widgetSettings(e){return[new Ct.AttributeValue({name:"widget",type:e.schema.type,displayName:"Widget",value:e.name,computedValue:e.name,intValue:0,attributes:[]})]}stateDefinition(e){return(0,ke.of)({})}editorOptions(e){return(0,ke.of)(new Ut.ContentPluginEditorOptions)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(uu))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),L4=(()=>{class t{constructor(e,r,o,s,l){this.data=e,this.dialogRef=r,this.tokenizerService=o,this.handler=s,this.fb=l}ngOnInit(){this.tokens=this.tokenizerService.generateTokens(this.data.pane.settings)}submitted(e){this.replaceRenderer(e),this.dialogRef.close()}replaceRenderer(e){let r;const o=this.handler.rendererOverrideSettings(e)[0],s=this.convertToGroup(o),l=this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("settings");l.controls.forEach((u,p)=>{"_renderer"===u.get("name").value&&(r=p)}),void 0!==r?(l.insert(r,s),l.removeAt(r+1)):l.push(s)}convertToGroup(e){const r=this.fb.group({name:new d.NI(e.name,d.kI.required),type:new d.NI(e.type,d.kI.required),displayName:new d.NI(e.displayName,d.kI.required),value:new d.NI(e.value,d.kI.required),computedValue:new d.NI(e.value,d.kI.required),attributes:new d.Oe([])});return e.attributes&&e.attributes.length>0&&e.attributes.forEach(o=>{r.get("attributes").push(this.convertToGroup(o))}),r}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ft.WI),a.\u0275\u0275directiveInject(Ft.so),a.\u0275\u0275directiveInject(Dn),a.\u0275\u0275directiveInject(cu),a.\u0275\u0275directiveInject(d.qu))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-rendering-editor"]],decls:2,vars:1,consts:[[3,"tokens","submitted"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"classifieds-ui-snippet-form",0),a.\u0275\u0275listener("submitted",function(s){return r.submitted(s)}),a.\u0275\u0275element(1,"classifieds-ui-snippet-form"),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("tokens",r.tokens)},directives:[nh],styles:[""]}),t})(),U4=(()=>{class t{constructor(e,r,o,s,l,u){this.data=e,this.spm=r,this.bottomSheetRef=o,this.dialog=s,this.componentFactoryResolver=l,this.fb=u,this.selectedIndex=0}ngOnInit(){this.stylePlugins=this.spm.getPlugins()}onStyleSelected(e){this.plugin=e,void 0!==this.plugin.editorComponent?(this.bottomSheetRef.dismiss(),this.data.panelForm.get("stylePlugin").setValue(this.plugin.name),this.data.panelForm.get("styleTitle").setValue(this.plugin.title),this.data.panelForm.get("settings").clear(),this.dialog.open(this.plugin.editorComponent,{data:{panelFormGroup:this.data.panelForm,panelIndex:this.data.panelIndex,contexts:this.data.contexts}})):(this.data.panelForm.get("stylePlugin").setValue(this.plugin.name),this.data.panelForm.get("styleTitle").setValue(this.plugin.title),this.data.panelForm.get("settings").clear(),this.bottomSheetRef.dismiss())}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(sl.OG),a.\u0275\u0275directiveInject(iu),a.\u0275\u0275directiveInject(sl.oL),a.\u0275\u0275directiveInject(Ft.uw),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(d.qu))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-style-selector"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(Nh,7),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.selectionHost=o.first)}},decls:10,vars:6,consts:[[1,"style-selector-wrapper"],[3,"selectedIndex"],["mat-list-item","","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["classifiedsUiContentSelectionHost",""],["mat-list-item","","mat-list-item","",3,"click"],["mat-line",""]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"mat-tab-group",1),a.\u0275\u0275elementStart(2,"mat-tab"),a.\u0275\u0275elementStart(3,"mat-nav-list"),a.\u0275\u0275template(4,CL,3,1,"a",2),a.\u0275\u0275pipe(5,"keyvalue"),a.\u0275\u0275pipe(6,"async"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"mat-tab"),a.\u0275\u0275elementContainerStart(8),a.\u0275\u0275template(9,xL,0,0,"ng-template",3),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("selectedIndex",r.selectedIndex),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(5,2,a.\u0275\u0275pipeBind1(6,4,r.stylePlugins))))},directives:[Lo.SP,Lo.uX,Uo.Hk,Uo.Tg,x.NgForOf,Xn.X2,Nh],pipes:[x.KeyValuePipe,x.AsyncPipe],styles:[".style-selector-wrapper[_ngcontent-%COMP%]     .mat-tab-header{display:none}"]}),t})(),z4=(()=>{class t{constructor(e,r,o,s,l){this.data=e,this.dialogRef=r,this.fb=o,this.inlineContextResolver=s,this.rulesParser=l,this.rulesForm=this.fb.group({rules:this.fb.control("")}),this.config={fields:{}}}ngOnInit(){this.inlineContextResolver.resolveMerged(this.data.contexts).subscribe(e=>{const r={};for(const o in e)this.rulesParser.buildFields(e[o],o).forEach((s,l)=>{r[l]=s});this.config={...this.config,fields:r},void 0!==this.data.rule&&this.rulesForm.get("rules").setValue(this.data.rule)})}submit(){console.log("the rules"),console.log(this.rulesForm.get("rules").value),this.dialogRef.close(this.rulesForm.get("rules").value)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ft.WI),a.\u0275\u0275directiveInject(Ft.so),a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(xc),a.\u0275\u0275directiveInject(Ew))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-rules-dialog"]],decls:6,vars:3,consts:[[1,"rest-form",3,"formGroup","ngSubmit"],["formControlName","rules",3,"config"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return r.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content"),a.\u0275\u0275element(2,"query-builder",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-dialog-actions"),a.\u0275\u0275elementStart(4,"button",2),a.\u0275\u0275text(5,"Save"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.rulesForm),a.\u0275\u0275advance(2),a.\u0275\u0275property("config",r.config),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",!r.rulesForm.valid))},directives:[xv,kr.lW,d._Y,d.JL,d.sg,Ft.xY,d.JJ,d.u,Ft.H8,Ft.ZT],styles:[""]}),t})(),G4=(()=>{class t{constructor(e,r,o){this.data=e,this.dialogRef=r,this.fb=o,this.propertiesForm=this.fb.group({name:this.fb.control(this.data.props.name),title:this.fb.control(this.data.props.title),path:this.fb.control(this.data.props.path),cssFile:this.fb.control(this.data.props.cssFile),readUserIds:this.fb.array([this.fb.group({userId:this.fb.control(this.data.props.readUserIds&&this.data.props.readUserIds.length>0?this.data.props.readUserIds[0]:"")})])})}ngOnInit(){}submit(){this.dialogRef.close(new Df({...this.propertiesForm.value,readUserIds:this.propertiesForm.value.readUserIds.map(e=>e.userId)}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ft.WI),a.\u0275\u0275directiveInject(Ft.so),a.\u0275\u0275directiveInject(d.qu))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-properties-dialog"]],decls:18,vars:2,consts:[[1,"properties-form",3,"formGroup","ngSubmit"],[1,"content-inner"],["fxLayout","column"],["matInput","","formControlName","name","placeholder","Name"],["matInput","","formControlName","title","placeholder","Title"],["matInput","","formControlName","path","placeholder","Path"],["matInput","","formControlName","cssFile","placeholder","Css File"],["formArrayName","readUserIds"],["formGroupName","0"],["matInput","","formControlName","userId","placeholder","Read User Id"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return r.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content"),a.\u0275\u0275elementStart(2,"div",1),a.\u0275\u0275elementStart(3,"div",2),a.\u0275\u0275elementStart(4,"mat-form-field"),a.\u0275\u0275element(5,"input",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"mat-form-field"),a.\u0275\u0275element(7,"input",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"mat-form-field"),a.\u0275\u0275element(9,"input",5),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"mat-form-field"),a.\u0275\u0275element(11,"input",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(12,"mat-form-field",7),a.\u0275\u0275elementStart(13,"div",8),a.\u0275\u0275element(14,"input",9),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(15,"mat-dialog-actions"),a.\u0275\u0275elementStart(16,"button",10),a.\u0275\u0275text(17,"Save"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.propertiesForm),a.\u0275\u0275advance(16),a.\u0275\u0275property("disabled",!r.propertiesForm.valid))},directives:[Xt.KE,kr.lW,d._Y,d.JL,d.sg,Ft.xY,ue,_n.Nt,d.Fj,d.JJ,d.u,d.CE,d.x0,Ft.H8,Ft.ZT],styles:[""]}),t})(),BC=(()=>{class t{constructor(e,r,o){this.data=e,this.dialogRef=r,this.fb=o,this.contextForm=this.fb.group({context:this.fb.control("")}),this.context=e.context}ngOnInit(){}ngAfterViewInit(){this.data.context&&setTimeout(()=>{this.contextFormComp.contextForm.setValue({name:this.data.context.name,plugin:this.data.context.plugin}),"rest"===this.data.context.plugin?setTimeout(()=>{this.contextFormComp.componentRef.instance.restSourceFormComp.restSource={url:this.data.context.rest.url,params:this.data.context.rest.params}}):"datasource"===this.data.context.plugin&&setTimeout(()=>{this.contextFormComp.componentRef.instance.datasourceFormComp.datasource=this.data.context.datasource})})}submit(){""!==this.contextForm.get("context").value.name?this.dialogRef.close(new Pi(this.contextForm.get("context").value)):this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ft.WI),a.\u0275\u0275directiveInject(Ft.so),a.\u0275\u0275directiveInject(d.qu))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-context-dialog"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(gw,5),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.contextFormComp=o.first)}},decls:6,vars:3,consts:[[1,"context-form",3,"formGroup","ngSubmit"],["formControlName","context",3,"context"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return r.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content"),a.\u0275\u0275element(2,"classifieds-ui-context-form",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-dialog-actions"),a.\u0275\u0275elementStart(4,"button",2),a.\u0275\u0275text(5,"Save"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.contextForm),a.\u0275\u0275advance(2),a.\u0275\u0275property("context",r.context),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",!r.contextForm.valid))},directives:[gw,kr.lW,d._Y,d.JL,d.sg,Ft.xY,d.JJ,d.u,Ft.H8,Ft.ZT],styles:[""]}),t})(),$4=(()=>{class t{constructor(e,r,o){this.data=e,this.dialogRef=r,this.fb=o,this.propsForm=this.fb.group({name:this.fb.control(this.data.props.name),label:this.fb.control(this.data.props.label)})}ngOnInit(){}submit(){this.dialogRef.close(new Qw(this.propsForm.value))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ft.WI),a.\u0275\u0275directiveInject(Ft.so),a.\u0275\u0275directiveInject(d.qu))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-panel-props-dialog"]],decls:11,vars:2,consts:[[1,"props-form",3,"formGroup","ngSubmit"],[1,"content-inner"],["fxLayout","column"],["matInput","","formControlName","name","placeholder","Name"],["matInput","","formControlName","label","placeholder","Label"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return r.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content"),a.\u0275\u0275elementStart(2,"div",1),a.\u0275\u0275elementStart(3,"div",2),a.\u0275\u0275elementStart(4,"mat-form-field"),a.\u0275\u0275element(5,"input",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"mat-form-field"),a.\u0275\u0275element(7,"input",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"mat-dialog-actions"),a.\u0275\u0275elementStart(9,"button",5),a.\u0275\u0275text(10,"Save"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.propsForm),a.\u0275\u0275advance(9),a.\u0275\u0275property("disabled",!r.propsForm.valid))},directives:[Xt.KE,kr.lW,d._Y,d.JL,d.sg,Ft.xY,ue,_n.Nt,d.Fj,d.JJ,d.u,Ft.H8,Ft.ZT],styles:[""]}),t})(),H4=(()=>{class t{constructor(e,r,o){this.data=e,this.dialogRef=r,this.fb=o,this.propsForm=this.fb.group({name:this.fb.control(this.data.props.name),label:this.fb.control(this.data.props.label)})}ngOnInit(){}submit(){this.dialogRef.close(new Yw(this.propsForm.value))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ft.WI),a.\u0275\u0275directiveInject(Ft.so),a.\u0275\u0275directiveInject(d.qu))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-pane-props-dialog"]],decls:11,vars:2,consts:[[1,"props-form",3,"formGroup","ngSubmit"],[1,"content-inner"],["fxLayout","column"],["matInput","","formControlName","name","placeholder","Name"],["matInput","","formControlName","label","placeholder","Label"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return r.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content"),a.\u0275\u0275elementStart(2,"div",1),a.\u0275\u0275elementStart(3,"div",2),a.\u0275\u0275elementStart(4,"mat-form-field"),a.\u0275\u0275element(5,"input",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"mat-form-field"),a.\u0275\u0275element(7,"input",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"mat-dialog-actions"),a.\u0275\u0275elementStart(9,"button",5),a.\u0275\u0275text(10,"Save"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.propsForm),a.\u0275\u0275advance(9),a.\u0275\u0275property("disabled",!r.propsForm.valid))},directives:[Xt.KE,kr.lW,d._Y,d.JL,d.sg,Ft.xY,ue,_n.Nt,d.Fj,d.JJ,d.u,Ft.H8,Ft.ZT],styles:[""]}),t})(),LC=(()=>{class t{constructor(e){this.viewContainerRef=e}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["","classifiedsUiLayoutEditorHost",""]]}),t})(),UC=(()=>{class t{constructor(e){this.viewContainerRef=e}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["","classifiedsUiPaneContentHost",""]]}),t})(),Rv=(()=>{class t{constructor(e,r){this.entityServices=e,this.attributeSerializer=r}get entityCollectionService(){return this.entityServices.getEntityCollectionService("PanelPageState")}resolve(e,r){const o=p=>p.entities,u="$."+r.selectionPath.map((p,f)=>`${(f+1)%2==0?"panes":(0===f?"":"nestedPage.")+"panels"}[${p}]`).join(".");return this.entityCollectionService.collection$.pipe((0,At.Ys)((({id:p,path:f})=>(0,At.P1)((({id:p})=>(0,At.P1)(o,f=>f[p]?f[p]:void 0))({id:p}),v=>(0,ra.JSONPath)({path:f,json:v})))({id:r.id,path:u})),(0,ve.U)(p=>p&&Array.isArray(p)&&0!==p.length?p[0]:this.defaultPaneState(r.value?r.value:{})),(0,ve.U)(p=>this.attributeSerializer.deserialize(p.state)),(0,ve.U)(p=>p?p.root?p.root:p:{}),(0,ee.b)(p=>{console.log(`resolved panestate[id=${r.id}]${u}`),console.log(p)}))}defaultPaneState(e){return new Ea({state:this.attributeSerializer.serialize(e,"root")})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Jn),a.\u0275\u0275inject(Ct.AttributeSerializerService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),zC=(()=>{class t{constructor(e,r,o){this.componentFactoryResolver=e,this.panelHandler=r,this.cpm=o,this.settings=[],this.locked=!1,this.contexts=[],this.edit=new a.EventEmitter,this.props=new a.EventEmitter,this.delete=new a.EventEmitter,this.rules=new a.EventEmitter,this.rendererOverride=new a.EventEmitter,this.removeRendererOverride=new a.EventEmitter,this.nestedUpdate=new a.EventEmitter,this.heightChange=new a.EventEmitter,this.displayOverride=!1,this.hasOverride=!1,this.preview=!1,this.schedulePluginChange=new O.x,this.pluginChangeSub=this.schedulePluginChange.pipe((0,Qe.w)(s=>this.cpm.getPlugin(this.pluginName).pipe((0,Qe.w)(l=>l.handler.hasRendererOverride(this.settings).pipe((0,ve.U)(u=>[s,l,u])))))).subscribe(([s,l,u])=>{this.contentPlugin=l,this.displayOverride=l.handler.implementsRendererOverride(),this.hasOverride=!!u,s&&"panel"===this.pluginName&&this.panelHandler.toObject(this.settings).subscribe(p=>{this.panelPage=p})}),this.ancestory$=new O.x,this.panelIndex$=new O.x,this.paneIndex$=new O.x,this.paneAncestoryWithSelf=[],this.paneAncestoryWithSelfSub=(0,On.a)([this.ancestory$,this.panelIndex$,this.paneIndex$]).pipe((0,ve.U)(([s,l,u])=>[...s,l,u])).subscribe(s=>{this.paneAncestoryWithSelf=s})}set panelIndex(e){this.panelIndex$.next(e)}set paneIndex(e){this.paneIndex$.next(e)}set ancestory(e){this.ancestory$.next(e)}ngOnInit(){this.schedulePluginChange.next(!0),console.log("here 1")}ngOnChanges(e){this.schedulePluginChange.next(!1),console.log("here 2"),console.log(e)}onEditClick(){this.edit.emit()}onPropsClick(){this.props.emit()}onRulesClick(){this.rules.emit()}onDeleteClick(){this.delete.emit()}onPreviewClick(){this.preview=!0,void 0!==this.contentPaneHost&&this.renderPaneContent(),setTimeout(()=>this.heightChange.emit())}onOverrideClick(){this.rendererOverride.emit()}onRemoveOverrideClick(){this.removeRendererOverride.emit()}onNestedUpdate(e){this.nestedUpdate.emit(e)}onDisablePreviewClick(){this.preview=!1,void 0!==this.contentPaneHost&&this.contentPaneHost.viewContainerRef.clear(),setTimeout(()=>this.heightChange.emit())}onAfterCollapse(){this.heightChange.emit()}onAfterExpand(){this.heightChange.emit()}renderPaneContent(){const e=this.componentFactoryResolver.resolveComponentFactory(this.contentPlugin.renderComponent),r=this.contentPaneHost.viewContainerRef;r.clear(),r.createComponent(e).instance.settings=this.settings}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(Li),a.\u0275\u0275directiveInject(Ut.ContentPluginManager))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-editable-pane"]],viewQuery:function(e,r){if(1&e&&(a.\u0275\u0275viewQuery(UC,5),a.\u0275\u0275viewQuery(SL,5)),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.contentPaneHost=o.first),a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.contentEditor=o.first)}},inputs:{pluginName:"pluginName",settings:"settings",name:"name",label:"label",panelIndex:"panelIndex",paneIndex:"paneIndex",locked:"locked",rootContext:"rootContext",contexts:"contexts",ancestory:"ancestory"},outputs:{edit:"edit",props:"props",delete:"delete",rules:"rules",rendererOverride:"rendererOverride",removeRendererOverride:"removeRendererOverride",nestedUpdate:"nestedUpdate",heightChange:"heightChange"},features:[a.\u0275\u0275NgOnChangesFeature],decls:17,vars:6,consts:[["class","editable-pane-wrapper",4,"ngIf","ngIfElse"],["settingsTmpl",""],["nestedPanelTpl",""],["paneMenu","matMenu"],["type","button","mat-menu-item","",3,"disabled","click"],["type","button","mat-menu-item","",3,"click"],["mat-menu-item","","type","button",3,"disabled","click",4,"ngIf"],["mat-menu-item","","type","button",3,"click",4,"ngIf"],["type","button","mat-menu-item","",1,"delete",3,"click"],[1,"editable-pane-wrapper"],["fxLayout","row",1,"inner-pane-wrapper"],[1,"pane-menu-trigger-wrapper"],["mat-button","","type","button",3,"matMenuTriggerFor"],["fxFlex","",3,"afterCollapse","afterExpand"],[3,"hidden"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"preview-area",3,"ngClass"],["class","override","type","button",3,"click",4,"ngIf"],["classifiedsUiPaneContentHost",""],["type","button",1,"override",3,"click"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"nested-panel-wrapper"],[3,"panelPage","savable","nested","locked","contexts","rootContext","ancestory","nestedUpdate","delete","rules","props"],["contentEditor",""],["extraActionsArea",""],["mat-menu-item","","type","button",3,"disabled","click"],["mat-menu-item","","type","button",3,"click"]],template:function(e,r){if(1&e&&(a.\u0275\u0275template(0,kL,18,13,"div",0),a.\u0275\u0275template(1,FL,1,1,"ng-template",null,1,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275template(3,DL,5,7,"ng-template",null,2,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementStart(5,"mat-menu",null,3),a.\u0275\u0275elementStart(7,"button",4),a.\u0275\u0275listener("click",function(){return r.onEditClick()}),a.\u0275\u0275text(8,"Edit"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"button",4),a.\u0275\u0275listener("click",function(){return r.onPropsClick()}),a.\u0275\u0275text(10,"Props"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"button",5),a.\u0275\u0275listener("click",function(){return r.onRulesClick()}),a.\u0275\u0275text(12,"Rules"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(13,jL,2,1,"button",6),a.\u0275\u0275template(14,BL,2,0,"button",7),a.\u0275\u0275elementStart(15,"button",8),a.\u0275\u0275listener("click",function(){return r.onDeleteClick()}),a.\u0275\u0275text(16,"Delete"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){const o=a.\u0275\u0275reference(4);a.\u0275\u0275property("ngIf","panel"!=r.pluginName||r.locked)("ngIfElse",o),a.\u0275\u0275advance(7),a.\u0275\u0275property("disabled",r.locked),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",r.locked&&0!==r.settings.length),a.\u0275\u0275advance(4),a.\u0275\u0275property("ngIf",!r.preview),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.preview)}},directives:function(){return[kr.lW,qf.Hw,Vv.ib,Vv.yz,Nv,Ui.VK,Ui.OP,x.NgIf,ue,Ui.p6,$t,Vv.yK,x.NgTemplateOutlet,x.NgClass,$r,UC,x.NgForOf]},pipes:function(){return[Ct.AttributePipe]},styles:[".editable-pane-wrapper[_ngcontent-%COMP%]{margin-bottom:.25em;border-radius:4px;padding-left:.25em;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.nested-panel-wrapper[_ngcontent-%COMP%]{margin-bottom:.25em}.inner-pane-wrapper[_ngcontent-%COMP%]{padding:0}.pane-header[_ngcontent-%COMP%]{background-color:#ccc;padding:0}.mat-menu-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}button.delete[_ngcontent-%COMP%]{float:right}.preview-area[_ngcontent-%COMP%]{display:none;position:relative}.preview-area.visible[_ngcontent-%COMP%]{display:block;height:300px;overflow-y:scroll;border:1px solid black;padding:.5em}.panel-name[_ngcontent-%COMP%]{float:right;padding-right:.5em}.pane-menu-trigger-wrapper[_ngcontent-%COMP%]{display:flex}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}.mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0 1em 0 .25em}"]}),t})(),Nv=(()=>{class t{constructor(e,r,o,s,l,u,p,f,v,D,J,Y,he,Ue){this.siteName=e,this.cpm=r,this.spm=o,this.lpm=s,this.cxtm=l,this.fb=u,this.bs=p,this.dialog=f,this.panelHandler=v,this.tokenizerService=D,this.componentFactoryResolver=J,this.pageBuilderFacade=Y,this.paneStateContextResolver=he,this.panelsContextService=Ue,this.submitted=new a.EventEmitter,this.nestedUpdate=new a.EventEmitter,this.delete=new a.EventEmitter,this.rules=new a.EventEmitter,this.props=new a.EventEmitter,this.savable=!0,this.nested=!1,this.locked=!1,this.pageBuilder=!1,this.contexts=[],this.contentAdded=new O.x,this.contentAdddedSub=this.contentAdded.subscribe(([Oe,De])=>{this.resolvePaneContexts(Oe,De)}),this.dashboard=[],this.pageProperties=new Df,this.persistence=new Ec,this.layoutSetting=new zn,this.rowSettings=[],this.ancestory$=new h.X([]),this.onTouched=()=>{},this.contentForm=this.fb.group({name:this.fb.control(""),title:this.fb.control(""),layoutType:this.fb.control("split",d.kI.required),displayType:this.fb.control("page",d.kI.required),panels:this.fb.array([])}),this.options={gridType:En.Fit,displayGrid:Bf.Always,pushItems:!0,draggable:{enabled:!0},resizable:{enabled:!0},mobileBreakpoint:0,itemChangeCallback:(Oe,De)=>{},itemInitCallback:(Oe,De)=>{if(this.nested&&0!==Oe.y){const Xe=this.gridLayout.grid.findIndex(tt=>tt.x===Oe.x&&tt.y===Oe.y&&tt.cols===Oe.cols&&tt.rows===Oe.rows);0===this.panelPanes(Xe).length&&this.gridLayout.setItemContentHeight(Xe,200)}}},this.ancestorySub=this.ancestory$.pipe((0,z.h)(()=>!!this.layoutEditorRef)).subscribe(Oe=>{this.layoutEditorRef.instance.ancestory=Oe})}set ancestory(e){this.ancestory$.next(e)}get ancestory(){return this.ancestory$.value}get panels(){return this.contentForm.get("panels")}get layoutType(){return this.contentForm.get("layoutType")}get displayType(){return this.contentForm.get("displayType")}get columnSettings(){const e=this.panels.length;let r=[];for(let o=0;o<e;o++)r=[...r,new zn(this.panels.at(o).get("columnSetting").value)];return r}ngOnInit(){this.contentForm.valueChanges.pipe((0,z.h)(()=>this.nested),(0,Un.b)(500)).subscribe(()=>{this.nestedUpdate.emit(this.packageFormData())}),this.contentForm.get("layoutType").valueChanges.pipe((0,z.h)(e=>"gridless"===e),(0,Zn.g)(1)).subscribe(e=>{0===this.panels.length&&this.panels.push(this.fb.group({name:new d.NI(""),label:new d.NI(""),stylePlugin:new d.NI(""),styleTitle:new d.NI(""),settings:new d.Oe([]),panes:this.fb.array([]),columnSetting:this.fb.group({settings:this.fb.array([])})}))}),this.contentForm.valueChanges.pipe((0,z.h)(()=>!this.nested),(0,Un.b)(500)).subscribe(()=>{const e=this.packageFormData();this.pageBuilderFacade.setPage(e)})}ngAfterViewInit(){this.layoutType.valueChanges.pipe((0,z.h)(()=>!!this.layoutEditorHost)).subscribe(e=>{this.renderEditorLayout(e)}),this.layoutType.value&&this.renderEditorLayout(this.layoutType.value)}ngAfterContentInit(){setTimeout(()=>{this.panelPage||this.contentForm.get("layoutType").setValue("split")},1e3)}ngOnChanges(e){e.panelPage&&e.panelPage.previousValue!==e.panelPage.currentValue&&(this.panels.clear(),this.panelPageId=e.panelPage.currentValue.panelPageId,this.dashboard=e.panelPage.currentValue.gridItems.map(r=>Object.assign({},r)),this.layoutType.setValue(e.panelPage.currentValue.layoutType),this.layoutSetting=new zn(e.panelPage.currentValue.layoutSetting),this.rowSettings=e.panelPage.currentValue.rowSettings?e.panelPage.currentValue.rowSettings.map(r=>new zn(r)):[],this.persistence=e.panelPage.currentValue.persistence?new Ec(e.panelPage.currentValue.persistence):new Ec,this.nested?(this.pageProperties=new Df({name:e.panelPage.currentValue.name,title:e.panelPage.currentValue.title,path:"",readUserIds:[],cssFile:""}),this.contentForm.get("name").setValue(e.panelPage.currentValue.name),this.contentForm.get("title").setValue(e.panelPage.currentValue.title)):(this.pageProperties=new Df({name:e.panelPage.currentValue.name,title:e.panelPage.currentValue.title,path:e.panelPage.currentValue.path,readUserIds:e.panelPage.currentValue.entityPermissions.readUserIds,cssFile:e.panelPage.currentValue.cssFile}),this.contexts=e.panelPage.currentValue.contexts),e.panelPage.currentValue.panels.forEach((r,o)=>{this.panels.push(this.fb.group({name:new d.NI(r.name),label:new d.NI(r.label),stylePlugin:new d.NI(r.stylePlugin),styleTitle:new d.NI(""),settings:this.fb.array(void 0!==r.settings?r.settings.map(s=>this.convertToGroup(s)):[]),panes:this.fb.array([]),columnSetting:this.fb.group({settings:this.fb.array(r.columnSetting?r.columnSetting.settings.map(s=>this.convertToGroup(s)):[])})})),r.stylePlugin&&""!==r.stylePlugin&&this.spm.getPlugin(r.stylePlugin).subscribe(s=>{this.panels.at(o).get("styleTitle").setValue(s.title)}),this.nested&&this.panelPanes(this.panels.length-1).valueChanges.pipe((0,Un.b)(5),(0,Zn.g)(1)).subscribe((s=>()=>{if(void 0!==this.gridLayout){const l=this.paneContainers.find((u,p)=>p===s);this.gridLayout.setItemContentHeight(s,l.nativeElement.offsetHeight)}})(this.panels.length-1)),r.panes.forEach((s,l)=>{this.panels.at(o).get("panes").push(this.fb.group({contentPlugin:s.contentPlugin,name:new d.NI(s.name),label:new d.NI(s.label),locked:new d.NI(s.locked),linkedPageId:new d.NI(s.linkedPageId),rule:new d.NI(s.rule&&null!==s.rule?{...s.rule,rules:s.rule.rules&&Array.isArray(s.rule.rules)?s.rule.rules:[]}:{condition:"",rules:[]}),settings:new d.Oe(s.settings.map(u=>this.convertToGroup(u)))})),setTimeout(()=>this.resolvePaneContexts(o,l))})}),this.layoutEditorRef&&(this.layoutEditorRef.instance.layoutSetting=this.layoutSetting,this.layoutEditorRef.instance.rowSettings=this.rowSettings,this.layoutEditorRef.instance.columnSettings=this.columnSettings))}addContent(e){console.log(this.panels.at(e)),this.pageBuilderFacade.getPage$.pipe((0,Qe.w)(r=>this.panelsContextService.allActivePageContexts({panelPage:r})),(0,nn.q)(1)).subscribe(r=>{this.bs.open(B4,{data:{panelForm:this.panels.at(e),panelIndex:e,contexts:[...this.rootContext?[this.rootContext]:[],...this.contexts,...r]}})})}editPanelProps(e){const r=this.panels.at(e).get("name"),o=this.panels.at(e).get("label");this.dialog.open($4,{data:{props:new Qw({name:r.value,label:o.value})}}).afterClosed().subscribe(s=>{s&&(r.setValue(s.name),o.setValue(s.label))})}editPaneProps(e,r){const o=this.panelPane(e,r).get("name"),s=this.panelPane(e,r).get("label");this.dialog.open(H4,{data:{props:new Yw({name:o.value,label:s.value})}}).afterClosed().subscribe(l=>{l&&(o.setValue(l.name),s.setValue(l.label))})}applyStyle(e){this.bs.open(U4,{data:{panelForm:this.panels.controls[e],panelIndex:e,contexts:this.contexts}})}removeStyle(e){this.panels.controls[e].get("stylePlugin").setValue(""),this.panels.controls[e].get("styleTitle").setValue("")}onItemAdded(){console.log("item added"),this.panels.push(this.fb.group({name:new d.NI(""),label:new d.NI(""),stylePlugin:new d.NI(""),styleTitle:new d.NI(""),settings:new d.Oe([]),panes:this.fb.array([]),columnSetting:this.fb.group({settings:this.fb.array([])})})),this.nested&&void 0!==this.gridLayout&&setTimeout(()=>{this.paneContainers.forEach((e,r)=>{this.gridLayout.setItemContentHeight(r,e.nativeElement.offsetHeight)})}),this.panelPanes(this.panels.length-1).valueChanges.pipe((0,z.h)(()=>this.nested&&void 0!==this.gridLayout),(0,Un.b)(5),(0,Zn.g)(1)).subscribe((e=>()=>{const r=this.paneContainers.find((o,s)=>s===e);this.gridLayout.setItemContentHeight(e,r.nativeElement.offsetHeight)})(this.panels.length-1)),this.layoutEditorRef&&(this.layoutEditorRef.instance.columnSettings=this.columnSettings)}onItemRemoved(e){this.panels.removeAt(e),this.nested&&void 0!==this.gridLayout&&setTimeout(()=>{this.paneContainers.forEach((r,o)=>{this.gridLayout.setItemContentHeight(o,r.nativeElement.offsetHeight)})}),this.layoutEditorRef&&(this.layoutEditorRef.instance.columnSettings=this.columnSettings)}onDrop(e){console.log(e);const r=+e.container.data,o=+e.previousContainer.data;if(r===o){const s=e.currentIndex>e.previousIndex?1:-1,l=e.previousIndex,u=e.currentIndex,p=this.panelPanes(r).at(l);for(let f=l;f*s<u*s;f+=s){const v=this.panelPanes(r).at(f+s);this.panelPanes(r).setControl(f,v)}this.panelPanes(r).setControl(u,p)}else{const s=this.panelPanes(o).at(e.previousIndex);this.panelPanes(o).removeAt(e.previousIndex),this.panelPanes(r).insert(e.currentIndex,s)}}onOverrideRenderer(e,r){const o=new nr(this.panelPane(e,r).value);this.dialog.open(L4,{data:{panelFormGroup:this.panels.at(e),paneIndex:r,pane:o}})}onRemoveOverrideRenderer(e,r){const o=this.panelPane(e,r).get("settings");let s;o.controls.forEach((l,u)=>{"_renderer"===l.get("name").value&&(s=u)}),void 0!==s&&o.removeAt(s)}onNestedUpdate(e,r,o){const s=this.panelHandler.buildSettings(e),l=this.panelPane(r,o).get("settings");l.clear(),s.forEach(u=>l.push(this.convertToGroup(u)))}onPaneHeightChange(e){if(this.nested&&this.gridLayout){const r=this.paneContainers.find((o,s)=>s===e);this.gridLayout.setItemContentHeight(e,r.nativeElement.offsetHeight)}}onDeleteClick(){this.delete.emit()}onRulesClick(){this.rules.emit()}onPropertiesClick(){this.props.emit(),this.dialog.open(G4,{data:{props:this.pageProperties}}).afterClosed().subscribe(e=>{e&&(this.pageProperties=new Df({...e}),this.contentForm.get("name").setValue(e.name),this.contentForm.get("title").setValue(e.title))})}onRulesPane(e,r){const o=new nr(this.panelPane(e,r).value),s=""!==this.panelPane(e,r).get("rule").value?this.panelPane(e,r).get("rule").value:void 0,[l]=this.editablePanes.filter((u,p)=>u.name===o.name);this.pageBuilderFacade.getPage$.pipe((0,ee.b)(()=>{this.pageBuilderFacade.setSelectionPath([...this.ancestory,e,r])}),(0,Qe.w)(u=>this.panelsContextService.allActivePageContexts({panelPage:u})),(0,Qe.w)(u=>this.dialog.open(z4,{data:{rule:s,contexts:[...l.rootContext?[l.rootContext]:this.rootContext?[this.rootContext]:[],...this.contexts,...u]}}).afterClosed()),(0,nn.q)(1)).subscribe(u=>{this.panelPane(e,r).get("rule").setValue(u||s||void 0)})}onDeletePane(e,r){console.log(`delete nested pane: ${e} | ${r}`)}onAddContextClick(){const e=this.packageFormData();this.pageBuilderFacade.setPage(e),this.dialog.open(BC,{data:{}}).afterClosed().subscribe(r=>{r&&(this.contexts=[...this.contexts,r])})}onEditContext(e){const r=this.contexts.find(o=>o.name===e);if(console.log(r),r){const o=this.packageFormData();this.pageBuilderFacade.setPage(o),this.dialog.open(BC,{data:{context:r}}).afterClosed().subscribe(s=>{s&&(this.contexts=this.contexts.map(l=>l.name===e?new Pi(s):l))})}}onLayoutSettingChange(e){this.layoutSetting=new zn(e),this.nested&&this.nestedUpdate.emit(this.packageFormData()),this.layoutEditorRef&&(this.layoutEditorRef.instance.layoutSetting=this.layoutSetting)}onRowSettingsChange(e){this.rowSettings=e.map(r=>new zn(r)),this.nested&&this.nestedUpdate.emit(this.packageFormData()),this.layoutEditorRef&&(this.layoutEditorRef.instance.rowSettings=this.rowSettings)}onColumnSettingsChange(e){const r=this.panels.length;for(let o=0;o<r;o++){this.panels.at(o).get("columnSetting").get("settings").clear();for(let s=0;s<e[o].settings.length;s++)this.panels.at(o).get("columnSetting").get("settings").push(this.convertToGroup(e[o].settings[s]))}this.nested&&this.nestedUpdate.emit(this.packageFormData()),this.layoutEditorRef&&(this.layoutEditorRef.instance.columnSettings=this.columnSettings)}submit(){this.submitted.emit(this.packageFormData())}packageFormData(){const r=new Qn({id:this.panelPageId,title:this.pageProperties.title,name:this.pageProperties.name,site:this.siteName,path:this.pageProperties.path,cssFile:this.pageProperties.cssFile,displayType:this.displayType.value,layoutType:this.layoutType.value,gridItems:this.layoutEditorRef.instance.gridItems,contexts:this.contexts,panels:this.panels.value,layoutSetting:new zn(this.layoutSetting),rowSettings:this.rowSettings.map(o=>new zn(o)),persistence:this.persistence,entityPermissions:{readUserIds:this.pageProperties.readUserIds,writeUserIds:[],deleteUserIds:[]}});return console.log(r),r}syncNestedPanelPages(){console.log("sync nested"),this.editablePanes.forEach(e=>{if(void 0!==e.contentEditor){const r=this.panelHandler.buildSettings(e.contentEditor.packageFormData()),o=this.panelPane(e.panelIndex,e.paneIndex).get("settings");o.clear(),r.forEach(s=>o.push(this.convertToGroup(s)))}})}resolvePaneContexts(e,r){const o=new nr(this.panelPane(e,r).value),s=this.panelPanes(e).controls;this.cpm.getPlugin(o.contentPlugin).pipe((0,z.h)(l=>void 0!==l.handler&&l.handler.isDynamic(o.settings)),(0,Qe.w)(l=>l.handler.fetchDynamicData(o.settings,new Map([["tag",Tn()],["contexts",[...this.contexts]]])).pipe((0,ve.U)(u=>new Pi({name:"_root",adaptor:"data",data:0!==u.length?u.results[0]:{}})),(0,Qe.w)(u=>l.handler.getBindings(o.settings,"pane").pipe((0,ve.U)(p=>[u,p.map(f=>s.findIndex(v=>new nr(v.value).name===f.id))])))))).subscribe(([l,u])=>{this.editablePanes.forEach((p,f)=>{u.findIndex(v=>v===f)>-1&&(p.rootContext=l)})})}onPersistenceClick(){this.dialog.open(fM,{data:{persistence:this.persistence,contexts:this.contexts}}).afterClosed().subscribe(e=>{console.log("persistence closed",e),this.persistence=e||this.persistence})}panelPanes(e){return this.panels.at(e).get("panes")}panelPane(e,r){return this.panelPanes(e).at(r)}panelPanePlugin(e,r){return this.panelPane(e,r).get("contentPlugin").value}panelPaneSettings(e,r){return this.panelPane(e,r).get("settings").value}panelPaneName(e,r){return this.panelPane(e,r).get("name").value}panelPaneLabel(e,r){return this.panelPane(e,r).get("label").value}panelPaneLocked(e,r){if(this.locked)return this.locked;const o=this.panelPane(e,r).get("locked");return null!==o&&o.value}panelPaneIsNested(e,r){return"panel"===this.panelPanePlugin(e,r)}panelPanePanelPage(e,r){let o;return this.panelHandler.toObject(this.panelPaneSettings(e,r)).subscribe(s=>{o=s}),o}hasPanelStyle(e){return void 0!==this.panels.at(e).get("stylePlugin").value&&""!==this.panels.at(e).get("stylePlugin").value}panelStyleTitle(e){return this.panels.at(e).get("styleTitle").value}onPaneEdit(e,r){const o=new nr(this.panelPane(e,r).value),s=this.panelPanePlugin(e,r),[l]=this.editablePanes.filter((u,p)=>u.name===o.name);this.cpm.getPlugin(s).pipe((0,z.h)(u=>void 0!==u.editorComponent),(0,Qe.w)(u=>this.pageBuilderFacade.getPage$.pipe((0,Qe.w)(p=>this.panelsContextService.allActivePageContexts({panelPage:p}).pipe((0,ve.U)(f=>[u,f]),(0,nn.q)(1))),(0,nn.q)(1))),(0,Qe.w)(([u,p])=>u.handler?u.handler.editorOptions(o.settings).pipe((0,ve.U)(f=>[u,p,f])):(0,ke.of)([u,p,new Ut.ContentPluginEditorOptions]))).subscribe(([u,p,f])=>{this.dialog.open(u.editorComponent,{data:{panelFormGroup:this.panels.at(e),panelIndex:e,paneIndex:r,contexts:[...l.rootContext?[l.rootContext]:this.rootContext?[this.rootContext]:[],...this.contexts,...p],contentAdded:this.contentAdded,pane:o},...f.fullscreen?{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%"}:{}}).afterClosed().subscribe(()=>{this.resolvePaneContexts(e,r)})})}onPaneDelete(e,r){this.panelPanes(e).removeAt(r)}onFileChange(e,r){const o=e.addedFiles[0];this.cpm.getPlugins().pipe((0,ve.U)(s=>Array.from(s.values()).filter(l=>void 0!==l.handler).find(l=>l.handler.handlesType(o.type))),(0,z.h)(s=>void 0!==s)).subscribe(s=>{s.handler.handleFile(o).subscribe(l=>{this.panelPanes(r).push(this.fb.group({contentPlugin:s.id,name:new d.NI(""),label:new d.NI(""),settings:this.fb.array(l.map(u=>this.fb.group({name:new d.NI(u.name,d.kI.required),type:new d.NI(u.type,d.kI.required),displayName:new d.NI(u.displayName,d.kI.required),value:new d.NI(u.value,d.kI.required),computedValue:new d.NI(u.value,d.kI.required)})))}))})})}writeValue(e){e&&this.contentForm.setValue(e,{emitEvent:!1})}registerOnChange(e){this.contentForm.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.contentForm.disable():this.contentForm.enable()}validate(e){return this.contentForm.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}convertToGroup(e){const r=this.fb.group({name:new d.NI(e.name,d.kI.required),type:new d.NI(e.type,d.kI.required),displayName:new d.NI(e.displayName,d.kI.required),value:new d.NI(e.value,d.kI.required),computedValue:new d.NI(e.value,d.kI.required),attributes:new d.Oe([])});return e.attributes&&e.attributes.length>0&&e.attributes.forEach(o=>{r.get("attributes").push(this.convertToGroup(o))}),r}renderEditorLayout(e){console.log(`render editor layout ${e}`),this.lpm.getPlugin(e).subscribe(r=>{const o=this.componentFactoryResolver.resolveComponentFactory(r.editor),s=this.layoutEditorHost.viewContainerRef;s.clear(),this.layoutEditorRef=s.createComponent(o),this.layoutEditorRef.instance.savable=this.savable,this.layoutEditorRef.instance.nested=this.nested,this.layoutEditorRef.instance.ancestory=this.ancestory,this.layoutEditorRef.instance.editor=this,this.layoutEditorRef.instance.extraActionsAreaTmpl=this.extraActionsAreaTmpl,this.layoutEditorRef.instance.contextsMenuTpl=this.contextsMenuTpl,this.layoutEditorRef.instance.editablePaneTpl=this.editablePaneTpl,this.layoutEditorRef.instance.dashboard=this.dashboard,this.layoutEditorRef.instance.layoutSetting=this.layoutSetting,this.layoutEditorRef.instance.rowSettings=this.rowSettings,this.layoutEditorRef.instance.columnSettings=this.columnSettings})}updateEditorLayoutVars(){this.layoutEditorRef.instance.savable=this.savable,this.layoutEditorRef.instance.nested=this.nested,this.layoutEditorRef.instance.ancestory=this.ancestory,this.layoutEditorRef.instance.editor=this,this.layoutEditorRef.instance.extraActionsAreaTmpl=this.extraActionsAreaTmpl,this.layoutEditorRef.instance.contextsMenuTpl=this.contextsMenuTpl,this.layoutEditorRef.instance.editablePaneTpl=this.editablePaneTpl,this.layoutEditorRef.instance.dashboard=this.dashboard,this.layoutEditorRef.instance.layoutSetting=this.layoutSetting,this.layoutEditorRef.instance.rowSettings=this.rowSettings,this.layoutEditorRef.instance.columnSettings=this.columnSettings}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(ln.SITE_NAME),a.\u0275\u0275directiveInject(Ut.ContentPluginManager),a.\u0275\u0275directiveInject(iu),a.\u0275\u0275directiveInject(Ah),a.\u0275\u0275directiveInject(ol),a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(sl.ch),a.\u0275\u0275directiveInject(Ft.uw),a.\u0275\u0275directiveInject(Li),a.\u0275\u0275directiveInject(Dn),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(ia),a.\u0275\u0275directiveInject(Rv),a.\u0275\u0275directiveInject(Xw))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-content-editor"]],contentQueries:function(e,r,o){if(1&e&&a.\u0275\u0275contentQuery(o,LL,5),2&e){let s;a.\u0275\u0275queryRefresh(s=a.\u0275\u0275loadQuery())&&(r.extraActionsAreaTmpl=s.first)}},viewQuery:function(e,r){if(1&e&&(a.\u0275\u0275viewQuery(bC,5),a.\u0275\u0275viewQuery(CC,5),a.\u0275\u0275viewQuery(LC,5),a.\u0275\u0275viewQuery(UL,7),a.\u0275\u0275viewQuery(zL,7),a.\u0275\u0275viewQuery(GL,5),a.\u0275\u0275viewQuery(zC,5)),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.gridLayout=o.first),a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.splitLayout=o.first),a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.layoutEditorHost=o.first),a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.contextsMenuTpl=o.first),a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.editablePaneTpl=o.first),a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.paneContainers=o),a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.editablePanes=o)}},inputs:{panelPage:"panelPage",savable:"savable",nested:"nested",locked:"locked",pageBuilder:"pageBuilder",contexts:"contexts",rootContext:"rootContext",ancestory:"ancestory"},outputs:{submitted:"submitted",nestedUpdate:"nestedUpdate",delete:"delete",rules:"rules",props:"props"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}]),a.\u0275\u0275NgOnChangesFeature],decls:12,vars:3,consts:[["class","content-editor-wrapper",3,"formGroup","ngClass","ngSubmit",4,"ngIf","ngIfElse"],["nestedTpl",""],["editablePaneTpl",""],["contextsMenuTpl",""],["contextMenu","matMenu"],["type","button","mat-menu-item","",3,"click"],["type","button","mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"content-editor-wrapper",3,"formGroup","ngClass","ngSubmit"],["classifiedsUiLayoutEditorHost",""],[1,"content-editor-wrapper",3,"formGroup","ngClass"],[1,"editable-pane",3,"panelIndex","paneIndex","name","label","locked","contexts","pluginName","settings","ancestory","delete","rules","nestedUpdate","rendererOverride","removeRendererOverride","edit","props"],["class","custom-placeholder",4,"cdkDragPlaceholder"],[1,"custom-placeholder"],["type","button","mat-menu-item","",1,"context-button",3,"matMenuTriggerFor"]],template:function(e,r){if(1&e&&(a.\u0275\u0275template(0,HL,3,4,"form",0),a.\u0275\u0275template(1,KL,3,4,"ng-template",null,1,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275template(3,WL,2,9,"ng-template",null,2,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275template(5,JL,2,1,"ng-template",null,3,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementStart(7,"mat-menu",null,4),a.\u0275\u0275elementStart(9,"button",5),a.\u0275\u0275listener("click",function(){return r.onAddContextClick()}),a.\u0275\u0275text(10,"define variable"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(11,QL,2,1,"button",6),a.\u0275\u0275elementEnd()),2&e){const o=a.\u0275\u0275reference(2);a.\u0275\u0275property("ngIf",!r.nested&&!r.pageBuilder)("ngIfElse",o),a.\u0275\u0275advance(11),a.\u0275\u0275property("ngForOf",r.contexts)}},directives:[zC,Ui.OP,Ui.VK,x.NgIf,d._Y,d.JL,d.sg,x.NgClass,$r,LC,ou.Hk,Ui.p6,x.NgForOf],styles:[".content-editor-wrapper[_ngcontent-%COMP%]{height:100%}.panel-inner[_ngcontent-%COMP%]{padding:1em}.content-editor-wrapper[_ngcontent-%COMP%]     ngx-dropzone{height:100%;display:block;padding:0;border:none}.content-editor-wrapper.nested[_ngcontent-%COMP%]     .grid-item-header{border-bottom:1px solid white}.layout-type[_ngcontent-%COMP%], .display-type[_ngcontent-%COMP%]{float:right}.layout-type[_ngcontent-%COMP%]     .mat-form-field-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:1.5em}.layout-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper{display:none}.layout-type[_ngcontent-%COMP%]     .mat-form-field-infix, .display-type[_ngcontent-%COMP%]     .mat-form-field-infix{border-top:none;padding:0;margin:0}.layout-type[_ngcontent-%COMP%]     .mat-form-field, .display-type[_ngcontent-%COMP%]     .mat-form-field{width:85px}.layout-type[_ngcontent-%COMP%]     .mat-select-value, .display-type[_ngcontent-%COMP%]     .mat-select-value{text-align:right}.layout-type[_ngcontent-%COMP%]     .mat-form-field-underline, .display-type[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .main-controls{background-color:#ccc}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .layout-inner{background-color:#ccc;padding:.75em}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .editable-pane-wrapper{border:none;margin-bottom:0}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .pane-header{background-color:#fff}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .nested-panel-wrapper{padding:.75em;margin-bottom:0}.custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;transition:transform .25s cubic-bezier(0,0,.2,1)}.context-button[_ngcontent-%COMP%]{font-style:italic;font-family:serif;font-weight:bolder;font-size:medium}"]}),t})(),q4=(()=>{class t{constructor(e,r,o){this.data=e,this.fb=r,this.handler=o}ngOnInit(){void 0!==this.data.pane&&this.handler.toObject(this.data.pane.settings).subscribe(e=>{this.snippet=e})}onSubmit(e){if(void 0===this.data.paneIndex)this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"snippet",name:new d.NI(""),label:new d.NI(""),rule:new d.NI(""),settings:new d.Oe(this.buildSettings(e))}));else{const r=this.data.panelFormGroup.get("panes").at(this.data.paneIndex);r.get("settings").clear(),this.buildSettings(e).forEach(o=>{r.get("settings").push(o)})}}buildSettings(e){return[this.fb.group({name:new d.NI("contentType",d.kI.required),type:new d.NI(Ct.AttributeTypes.Text,d.kI.required),displayName:new d.NI("Content Type",d.kI.required),value:new d.NI(e.contentType,d.kI.required),computedValue:new d.NI(e.contentType,d.kI.required)}),this.fb.group({name:new d.NI("content",d.kI.required),type:new d.NI(Ct.AttributeTypes.Text,d.kI.required),displayName:new d.NI("Content",d.kI.required),value:new d.NI(e.content,d.kI.required),computedValue:new d.NI(e.content,d.kI.required)}),this.fb.group({name:new d.NI("jsScript",d.kI.required),type:new d.NI(Ct.AttributeTypes.Text,d.kI.required),displayName:new d.NI("jsScript",d.kI.required),value:new d.NI(e.jsScript),computedValue:new d.NI(e.jsScript)})]}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ft.WI),a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(uu))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-snippet-editor2"]],decls:1,vars:1,consts:[[3,"snippet","submitted"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"classifieds-ui-snippet-form",0),a.\u0275\u0275listener("submitted",function(s){return r.onSubmit(s)}),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("snippet",r.snippet)},directives:[nh],styles:[""]}),t})(),Oh=(()=>{class t{constructor(e,r,o,s,l,u,p){this.route=e,this.pageBuilderFacade=r,this.routerStore=o,this.asyncApiCallHelperSvc=s,this.crudDataHelperService=l,this.entityDefinitionService=u,this.paramMapSub=this.route.paramMap.pipe((0,ee.b)(()=>console.log("param map panelPageId")),(0,ve.U)(f=>f.get("panelPageId")),(0,z.h)(f=>void 0!==f),(0,Qe.w)(()=>this.route.data),(0,fa.M)(this.routerStore.pipe((0,At.Ys)(If(f=>f.router).selectCurrentRoute),(0,ve.U)(f=>f.params),(0,nn.q)(1))),(0,ee.b)(([f,v])=>{console.log("route page"),this.pageBuilderFacade.setPageInfo(new Ff({id:f.panelPageListItem.id,realPath:"/pages/panelpage/"+f.panelPageListItem.id,path:f.panelPageListItem.path,args:v})),this.panelPageId=f.panelPageListItem.id})).subscribe(),this.panelPageService=p.getEntityCollectionService("PanelPage")}ngOnInit(){const{selectCurrentRoute:e}=If(r=>r.router);this.route.paramMap.pipe((0,ee.b)(()=>console.log("param map page builder facade info")),(0,fa.M)(this.pageBuilderFacade.getPageInfo$),(0,z.h)(([r,o])=>void 0!==o&&void 0!==r.get("panelPageId")&&r.get("panelPageId")===o.id),(0,Qe.w)(([r,o])=>this.routerStore.pipe((0,At.Ys)(e),(0,ve.U)(s=>[o,s.params]),(0,nn.q)(1)))).subscribe(([r,o])=>{this.pageBuilderFacade.setPageInfo(new Ff({...r,args:o}))})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Nn.ActivatedRoute),a.\u0275\u0275directiveInject(ia),a.\u0275\u0275directiveInject(At.yh),a.\u0275\u0275directiveInject(ln.AsyncApiCallHelperService),a.\u0275\u0275directiveInject(Vf),a.\u0275\u0275directiveInject(mi),a.\u0275\u0275directiveInject(Jn))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-panel-page-router"]],decls:1,vars:1,consts:[[3,"id"]],template:function(e,r){1&e&&a.\u0275\u0275element(0,"classifieds-ui-panel-page",0),2&e&&a.\u0275\u0275property("id",r.panelPageId)},directives:[Ti],styles:[""]}),t})(),K4=(()=>{class t{constructor(e){this.panelPageService=e.getEntityCollectionService("PanelPage"),this.panelPageListItemService=e.getEntityCollectionService("PanelPageListItem")}ngOnInit(){console.log("here")}onSubmit(e){console.log("create panel page",e),e.id=Tn(),this.panelPageService.add(e).subscribe(()=>{console.log("panel page created")})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Jn))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-create-panel-page"]],decls:1,vars:0,consts:[[3,"submitted"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"classifieds-ui-content-editor",0),a.\u0275\u0275listener("submitted",function(s){return r.onSubmit(s)}),a.\u0275\u0275elementEnd())},directives:[Nv],styles:[""]}),t})(),Fh=(()=>{class t{constructor(e,r,o,s,l){this.route=e,this.pageBuilderFacade=r,this.routerStore=o,this.moduleLoader=s,this.panelPageService=l.getEntityCollectionService("PanelPage"),this.panelPageListItemService=l.getEntityCollectionService("PanelPageListItem")}ngOnInit(){this.route.paramMap.pipe((0,ve.U)(e=>e.get("panelPageId")),(0,z.h)(e=>void 0!==e),(0,jo.x)(),(0,Qe.w)(e=>this.panelPageService.getByKey(e)),(0,Qe.w)(e=>e?(0,rn.D)(e.contexts.filter(r=>"module"===r.plugin).map(r=>this.moduleLoader.loadModule(()=>Fc({type:"module",remoteEntry:r.data.remoteEntry,exposedModule:r.data.exposedModule}).then(o=>o[r.data.moduleName])))).pipe((0,Zn.g)(1),(0,ve.U)(()=>e),(0,tr.d)(e)):(0,ke.of)(e)),(0,Qe.w)(e=>this.routerStore.pipe((0,At.Ys)(If(r=>r.router).selectCurrentRoute),(0,ve.U)(r=>[e,r.params]),(0,nn.q)(1))),(0,ee.b)(([e,r])=>this.pageBuilderFacade.setPageInfo(new Ff({id:e.id,realPath:`/pages/panelpage/${e.id}`,path:e.path,args:r})))).subscribe(([e])=>{console.log(e),this.panelPage=e})}onSubmit(e){console.log("submitted"),this.panelPageService.update(new Qn({...e,id:this.panelPage.id})).subscribe(()=>{alert("panel page updated")})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Nn.ActivatedRoute),a.\u0275\u0275directiveInject(ia),a.\u0275\u0275directiveInject(At.yh),a.\u0275\u0275directiveInject(ln.ModuleLoaderService),a.\u0275\u0275directiveInject(Jn))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-edit-panel-page"]],decls:1,vars:1,consts:[[3,"panelPage","submitted"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"classifieds-ui-content-editor",0),a.\u0275\u0275listener("submitted",function(s){return r.onSubmit(s)}),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("panelPage",r.panelPage)},directives:[Nv],styles:[""]}),t})(),X4=(()=>{class t{constructor(e,r,o,s,l,u){this.bottomSheetRef=e,this.handler=r,this.fb=o,this.dialog=s,this.cpm=l,this.wpm=u}ngOnInit(){this.attributeWidgets=this.wpm.getPlugins()}onItemSelect(e){console.log(e),this.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"attribute",name:new d.NI(""),label:new d.NI(""),rule:new d.NI(""),settings:this.fb.array(this.handler.widgetSettings(e).map(l=>this.fb.group({name:new d.NI(l.name,d.kI.required),type:new d.NI(l.type,d.kI.required),displayName:new d.NI(l.displayName,d.kI.required),value:new d.NI(l.value,d.kI.required),computedValue:new d.NI(l.computedValue,d.kI.required)})))}));const r=this.panelFormGroup.get("panes"),o=r.length-1,s=new nr(r.at(o).value);this.cpm.getPlugin("attribute").subscribe(l=>{this.dialog.open(l.editorComponent,{data:{panelFormGroup:this.panelFormGroup,pane:s,paneIndex:o}})}),this.bottomSheetRef.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(sl.oL),a.\u0275\u0275directiveInject(cu),a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Ft.uw),a.\u0275\u0275directiveInject(Ut.ContentPluginManager),a.\u0275\u0275directiveInject(Ct.WidgetPluginManager))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-attribute-selector"]],inputs:{panelFormGroup:"panelFormGroup"},decls:4,vars:5,consts:[["mat-list-item","","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["mat-list-item","","mat-list-item","",3,"click"],["mat-line",""]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"mat-nav-list"),a.\u0275\u0275template(1,YL,3,1,"a",0),a.\u0275\u0275pipe(2,"keyvalue"),a.\u0275\u0275pipe(3,"async"),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(2,1,a.\u0275\u0275pipeBind1(3,3,r.attributeWidgets))))},directives:[Uo.Hk,Uo.Tg,x.NgForOf,Xn.X2],pipes:[x.KeyValuePipe,x.AsyncPipe],styles:[""]}),t})(),W4=(()=>{class t{constructor(e,r,o,s,l){this.data=e,this.dialogRef=o,this.fb=s,this.handler=l,this.attributes=[],this.attributeValues=[],this.attributesFormGroup=this.fb.group({name:new d.NI(""),label:new d.NI(""),attributes:new d.NI("")});const u=this.data.pane.settings.find(p=>"widget"===p.name);this.widget=r.find(p=>p.name===u.value)}get name(){return this.attributesFormGroup.get("name")}get label(){return this.attributesFormGroup.get("label")}ngOnInit(){const e=this.data.pane.settings.find(s=>"value"===s.name);this.attributes=[new Ct.Attribute({...this.widget.schema,widget:this.widget.name,label:"Value",name:"value"})];const r=this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("name").value,o=this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("label").value;this.attributesFormGroup.get("name").setValue(r),this.attributesFormGroup.get("label").setValue(o),void 0!==e?(this.attributeValues=this.handler.valueSettings(this.data.pane.settings),console.log(this.attributeValues)):this.attributeValues=[new Ct.AttributeValue({name:"value",type:this.widget.schema.type,displayName:"Value",value:"",computedValue:"",intValue:0,attributes:[]})]}submit(){const e=this.name.value,r=this.label.value;this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("name").setValue(e),this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("label").setValue(r);const o=new nr({name:e,label:r,contentPlugin:"attribute",settings:""===this.attributesFormGroup.get("attributes").value?[]:this.attributesFormGroup.get("attributes").value});0!==o.settings.length?this.handler.rendererSnippet(this.data.pane.settings).subscribe(s=>{const l=void 0!==s?this.handler.rendererOverrideSettings(s):[],u=this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("settings");u.clear(),[...this.handler.widgetSettings(this.widget),...o.settings,...l].forEach(p=>u.push(this.convertToGroup(p))),this.dialogRef.close()}):this.dialogRef.close()}convertToGroup(e){const r=this.fb.group({name:new d.NI(e.name,d.kI.required),type:new d.NI(e.type,d.kI.required),displayName:new d.NI(e.displayName,d.kI.required),value:new d.NI(e.value,d.kI.required),computedValue:new d.NI(e.value,d.kI.required),attributes:new d.Oe([])});return e.attributes&&e.attributes.length>0&&e.attributes.forEach(o=>{r.get("attributes").push(this.convertToGroup(o))}),r}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ft.WI),a.\u0275\u0275directiveInject(Ct.ATTRIBUTE_WIDGET),a.\u0275\u0275directiveInject(Ft.so),a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(cu))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-attribute-editor"]],decls:10,vars:3,consts:[[3,"formGroup","ngSubmit"],["fxLayout","column"],["matInput","","placeholder","Name","formControlName","name"],["matInput","","placeholder","Label","formControlName","label"],["formControlName","attributes",3,"attributes","attributeValues"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return r.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content",1),a.\u0275\u0275elementStart(2,"mat-form-field"),a.\u0275\u0275element(3,"input",2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"mat-form-field"),a.\u0275\u0275element(5,"input",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(6,"classifieds-ui-attributes-builder",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"mat-dialog-actions"),a.\u0275\u0275elementStart(8,"button",5),a.\u0275\u0275text(9,"Save"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.attributesFormGroup),a.\u0275\u0275advance(6),a.\u0275\u0275property("attributes",r.attributes)("attributeValues",r.attributeValues))},directives:[Xt.KE,Ct.AttributesBuilderComponent,kr.lW,d._Y,d.JL,d.sg,Ft.xY,ue,_n.Nt,d.Fj,d.JJ,d.u,Ft.H8,Ft.ZT],styles:[""]}),t})(),J4=(()=>{class t{constructor(e,r,o,s,l){this.widgets=e,this.handler=r,this.tokenizerService=o,this.fb=s,this.controlContainer=l,this.settings=[],this.appearance="legacy",this.attributes=[]}ngOnInit(){this.attributes=[new Ct.Attribute({...this.widgets.find(e=>e.name===this.settings.find(r=>"widget"===r.name).value).schema,name:"value",label:"Value"})],this.attributeValues=this.handler.valueSettings(this.settings),this.tokens=this.tokenizerService.generateTokens(this.attributeValues),this.handler.rendererSnippet(this.settings).subscribe(e=>{this.rendererOverride=e,void 0!==e&&(this.rendererSettings=this.handler.rendererOverrideSettings(e)[0].attributes)})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ct.ATTRIBUTE_WIDGET),a.\u0275\u0275directiveInject(cu),a.\u0275\u0275directiveInject(Dn),a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(d.gN,8))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-attribute-pane-renderer"]],inputs:{settings:"settings",appearance:"appearance",name:"name",label:"label",displayType:"displayType"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["overrideTpl",""],[4,"ngIf"],[3,"formGroup",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["settingsTmpl",""],[4,"ngFor","ngForOf"],[3,"formGroup"],["formControlName","settings",3,"attributes","attributeValues"],[3,"settings","tokens"]],template:function(e,r){if(1&e&&(a.\u0275\u0275template(0,u4,3,2,"div",0),a.\u0275\u0275template(1,c4,1,2,"ng-template",null,1,a.\u0275\u0275templateRefExtractor)),2&e){const o=a.\u0275\u0275reference(2);a.\u0275\u0275property("ngIf",!r.rendererOverride)("ngIfElse",o)}},directives:[Ct.AttributesBuilderComponent,jC,x.NgIf,x.NgTemplateOutlet,x.NgForOf,d.JL,d.sg,d.JJ,d.u],pipes:[Ct.AttributePipe],styles:[".override[_ngcontent-%COMP%]{position:absolute;top:.5em;right:.5em}"]}),t})(),Mc=(()=>{class t{constructor(e,r){this.filesService=e,this.attributeSerializer=r,this.types=["image/png","image/jpg","image/jpeg","image/gif"]}handleFile(e){return this.filesService.bulkUpload({files:[e]}).pipe((0,ve.U)(r=>this.buildSettings(r[0])))}handlesType(e){return void 0!==this.types.find(r=>r===e)}implementsRendererOverride(){return!1}hasRendererOverride(e){return(0,ke.of)(!1)}isDynamic(e){return!1}isData(e){return!1}buildDynamicItems(e,r){return(0,ke.of)([])}fetchDynamicData(e,r){return(0,ke.of)(new Fn)}getBindings(e,r,o){return(0,ke.of)([])}toObject(e){return(0,ke.of)(this.attributeSerializer.deserializeAsObject(e))}buildSettings(e){return e.fileName="placeholdername",this.attributeSerializer.serialize(e,"root").attributes}stateDefinition(e){return(0,ke.of)({mediaLoading:"y",mediaLoaded:"n",loadError:"n",loadDuration:"y"})}editorOptions(e){return(0,ke.of)(new Ut.ContentPluginEditorOptions)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Xm),a.\u0275\u0275inject(Ct.AttributeSerializerService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),Q4=(()=>{class t{constructor(e,r,o,s,l){this.data=e,this.dialogRef=r,this.fb=o,this.filesService=s,this.handler=l,this.mediaTypes=".png,.jpg,.jpeg,.gif"}ngOnInit(){void 0!==this.data.pane&&this.handler.toObject(this.data.pane.settings).pipe((0,Qe.w)(e=>this.filesService.convertToFiles([e]))).subscribe(e=>{this.media=e[0]})}onSelectMedia(e){this.media=e.addedFiles[0],this.handler.handleFile(this.media).subscribe(r=>{void 0===this.data.paneIndex&&this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"media",name:new d.NI(""),label:new d.NI(""),rule:new d.NI(""),settings:new d.Oe(r.map(o=>this.fb.group({name:new d.NI(o.name,d.kI.required),type:new d.NI(o.type,d.kI.required),displayName:new d.NI(o.displayName,d.kI.required),value:new d.NI(o.value,d.kI.required),computedValue:new d.NI(o.value,d.kI.required)})))})),this.dialogRef.close()})}onRemoveMedia(e){this.media=void 0}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ft.WI),a.\u0275\u0275directiveInject(Ft.so),a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Xm),a.\u0275\u0275directiveInject(Mc))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-media-editor"]],decls:4,vars:3,consts:[[3,"multiple","accept","change"],[3,"removable","file","removed",4,"ngIf"],[3,"removable","file","removed"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"ngx-dropzone",0),a.\u0275\u0275listener("change",function(s){return r.onSelectMedia(s)}),a.\u0275\u0275elementStart(1,"ngx-dropzone-label"),a.\u0275\u0275text(2,"Drag and Drop Media Here"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(3,d4,3,4,"ngx-dropzone-image-preview",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("multiple",!1)("accept",r.mediaTypes),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",r.media))},directives:[mh,tC,Zw,x.NgIf],styles:[""]}),t})(),Y4=(()=>{class t{constructor(e,r,o,s){this.mediaSettings=e,this.handler=r,this.attributeSerializer=o,this.settings=[],this.ancestory=[],this.state={},this.stateChange=new a.EventEmitter,this.panelPageStateService=s.getEntityCollectionService("PanelPageState")}ngOnInit(){console.log("media ancestory is"),console.log(this.ancestory),console.log("my state is:"),console.log(this.state),this.mediaBaseUrl=this.mediaSettings.imageUrl,this.handler.toObject(this.settings).subscribe(e=>{this.mediaFile=e})}ngAfterViewInit(){this.image.nativeElement.onload=()=>{console.log("image loaded"),this.stateChange.emit({mediaLoading:"n"})}}ngOnChanges(){this.mediaBaseUrl=this.mediaSettings.imageUrl,this.handler.toObject(this.settings).subscribe(e=>{this.mediaFile=e})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Km),a.\u0275\u0275directiveInject(Mc),a.\u0275\u0275directiveInject(Ct.AttributeSerializerService),a.\u0275\u0275directiveInject(Jn))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-media-pane-renderer"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(f4,7),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.image=o.first)}},inputs:{settings:"settings",ancestory:"ancestory",state:"state"},outputs:{stateChange:"stateChange"},features:[a.\u0275\u0275NgOnChangesFeature],decls:2,vars:2,consts:[[3,"src"],["img",""]],template:function(e,r){1&e&&a.\u0275\u0275element(0,"img",0,1),2&e&&a.\u0275\u0275propertyInterpolate2("src","",r.mediaBaseUrl,"/",r.mediaFile.path,"",a.\u0275\u0275sanitizeUrl)},styles:["img[_ngcontent-%COMP%]{max-width:100%}"]}),t})(),Yf=(()=>{class t{constructor(e,r,o,s,l,u,p,f,v){this.siteName=e,this.snippetHandler=r,this.pageBuilderFacade=o,this.store=s,this.tokenizerService=l,this.panelHandler=u,this.urlGeneratorService=p,this.attributeSerializer=f,this.rulesResolver=v}handleFile(e){return(0,ke.of)([])}handlesType(e){return!1}implementsRendererOverride(){return!0}hasRendererOverride(e){return(0,ke.of)(!1)}isDynamic(e){return["snippet","pane"].indexOf(this.getRenderType(e))>-1}isData(e){return!1}fetchDynamicData(e,r){const o=new O.x;return this.toObject(e).pipe((0,Qe.w)(s=>this.urlGeneratorService.getUrl(s.url,s.params,r).pipe((0,ve.U)(l=>[s,l])))).subscribe(([s,l])=>{this.pageBuilderFacade.loadRestData(`${r.get("tag")}`,new lo({...s,url:l})),this.store.pipe((0,At.Ys)(ph(`${r.get("tag")}`)),(0,z.h)(u=>void 0!==u)).subscribe(u=>{o.next(u),o.complete()})}),o}buildDynamicItems(e,r){const o=new O.x;return console.log("build dynamic items rest"),this.toObject(e).pipe((0,Qe.w)(s=>this.urlGeneratorService.getUrl(s.url,s.params,r).pipe((0,ve.U)(l=>[s,l])))).subscribe(([s,l])=>{console.log("Load in rest data"),this.pageBuilderFacade.loadRestData(`${r.get("tag")}`,new lo({...s,url:l})),this.store.pipe((0,At.Ys)(ph(`${r.get("tag")}`)),(0,z.h)(u=>void 0!==u),(0,Qe.w)(u=>this.getBindings(e,"pane").pipe((0,ve.U)(p=>[u,p]))),(0,Qe.w)(([u,p])=>Rn(()=>0!==u.results.length&&p.length>0,new g.y(f=>{(0,rn.D)(u.results.map(v=>(0,ov.D)(p).pipe((0,ve.U)(D=>r.get("panes").find(J=>J.name===D.id)),(0,Qe.w)(D=>Rn(()=>D.rule&&null!==D.rule&&""!==D.rule.condition,this.rulesResolver.evaluate(D.rule,[...r.get("contexts"),...void 0!==D.contexts?D.contexts:[],new Pi({name:"_root",adaptor:"data",data:v})]).pipe((0,ve.U)(J=>[D,J])),(0,ke.of)(!1).pipe((0,ve.U)(J=>[D,J])))),(0,z.h)(([D,J])=>J),(0,ve.U)(([D,J])=>D.name),(0,tr.d)(p[0].id),(0,nn.q)(1)))).pipe((0,ve.U)(v=>[u,v])).subscribe(v=>{f.next(v),f.complete()})}),new g.y(f=>{f.next([u]),f.complete()}))),(0,ve.U)(([u,p])=>u.results.map("pane"===s.renderer.type?(f,v)=>{const D=r.get("panes").find(Y=>Y.name===p[v]),J=Tn();return new nr({...D,rule:void 0,label:J,contexts:[...r.get("contexts"),new Pi({name:"_root",adaptor:"data",data:f})]})}:f=>new nr({contentPlugin:"snippet",name:Tn(),label:void 0,contexts:[...r.get("contexts"),new Pi({name:"_root",adaptor:"data",data:f})],settings:this.snippetHandler.buildSettings({...s.renderer.data,content:s.renderer.data.content})}))),(0,ve.U)(u=>new Bi({stylePlugin:void 0,settings:[],panes:u,columnSetting:new zn})),(0,ve.U)(u=>this.panelHandler.buildSettings(new Qn({id:void 0,layoutType:"grid",displayType:"page",site:this.siteName,gridItems:[],layoutSetting:new zn,rowSettings:[],panels:[u]})))).subscribe(u=>{o.next(u.find(p=>"panels"===p.name).attributes[0].attributes.find(p=>"panes"===p.name).attributes),o.complete()})}),o}buildSelectOptionItems(e,r){return this.toObject(e).pipe((0,Qe.w)(o=>this.urlGeneratorService.getUrl(o.url,o.params,r).pipe((0,ve.U)(s=>[o,s]))),(0,ve.U)(([o,s])=>new lo({...o,url:s}))).subscribe(o=>{this.pageBuilderFacade.loadRestData(`${r.get("tag")}`,o)}),this.store.pipe((0,At.Ys)(ph(`${r.get("tag")}`)),(0,z.h)(o=>void 0!==o),(0,ve.U)(o=>[o,o.results.map(s=>this.tokenizerService.generateGenericTokens(s))]),(0,ve.U)(([o,s])=>[o,s,new dw(JSON.parse(r.get("snippet").content))]),(0,ve.U)(([o,s,l])=>s.map((u,p)=>new cw({dataItem:o.results[p],value:this.attributeSerializer.serialize("[.]"===l.value?o.results[p]:this.tokenizerService.replaceTokens(l.value,u),"value"),label:this.tokenizerService.replaceTokens(l.label,u)}))))}getBindings(e,r,o){return"context"===r?this.toObject(e).pipe((0,ve.U)(s=>s.params.reduce((l,u)=>[...l,..."form"===u.mapping.type?[new Ut.ContentBinding({id:`form__${u.mapping.value.split(".",2)[0].trim()}`,type:"context"})]:[]],[]))):this.toObject(e).pipe((0,Qe.w)(s=>Rn(()=>s.renderer.type===r,(0,ke.of)(s.renderer.bindings),(0,ke.of)([]))))}toObject(e){return(0,ke.of)(this.attributeSerializer.deserializeAsObject(e))}buildSettings(e){return this.attributeSerializer.serialize(e,"root").attributes}getRenderType(e){const r=[e.find(o=>"renderer"===o.name)].map(o=>o.attributes.find(s=>"type"===s.name));return r.length>0?r[0].value:void 0}stateDefinition(e){return(0,ke.of)({autocomplete:{input:""}})}editorOptions(e){return(0,ke.of)(new Ut.ContentPluginEditorOptions)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ln.SITE_NAME),a.\u0275\u0275inject(uu),a.\u0275\u0275inject(ia),a.\u0275\u0275inject(At.yh),a.\u0275\u0275inject(Dn),a.\u0275\u0275inject(Li),a.\u0275\u0275inject(il),a.\u0275\u0275inject(Ct.AttributeSerializerService),a.\u0275\u0275inject(av))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),Z4=(()=>{class t{constructor(e,r){this.fb=e,this.tokenizerService=r,this.panes=[],this.submitted=new a.EventEmitter,this.contexts=[],this.forms=[],this.snippetValidation=!0,this.restForm=this.fb.group({source:this.fb.control(""),renderer:this.fb.group({type:"snippet",query:this.fb.control(""),trackBy:this.fb.control(""),data:this.fb.control(""),bindings:this.fb.array([]),select:this.fb.group({value:this.fb.control(""),label:this.fb.control(""),id:this.fb.control(""),multiple:this.fb.control(""),limit:this.fb.control("")})})})}set rest(e){if(void 0!==e){this._rest=e;const r={value:"",label:"",id:"",multiple:"",limit:""};this.restForm.setValue({renderer:{trackBy:"",query:"",...e.renderer,data:e.renderer.data?{...e.renderer.data,jsScript:e.renderer.data.jsScript?e.renderer.data.jsScript:""}:{content:"",contentType:"",jsScript:""},select:["pane","snippet"].findIndex(o=>o===e.renderer.type)>-1?r:JSON.parse(e.renderer.data.content),bindings:[]},source:{url:"",params:[],method:"",body:""}}),"pane"===e.renderer.type&&(this.bindings.clear(),e.renderer.bindings.forEach(o=>{"pane"===o.type&&this.bindings.push(this.fb.group({id:this.fb.control(o.id,d.kI.required),type:this.fb.control(o.type,d.kI.required)}))})),"pane"===e.renderer.type?this.restForm.get("renderer").get("data").disable():this.restForm.get("renderer").get("data").enable(),setTimeout(()=>{this.restSource={url:e.url,params:e.params,method:e.method?e.method:"",body:e.body?{...e.body,jsScript:""}:""},this.sourceForm.refreshData$.next(void 0)})}}get rendererType(){return this.restForm.get("renderer").get("type")}get isSelectable(){return this.restForm.get("renderer").get("type").value&&"snippet"!==this.restForm.get("renderer").get("type").value&&"pane"!==this.restForm.get("renderer").get("type").value}get bindings(){return this.restForm.get("renderer").get("bindings")}get valid(){return this.restForm.valid}ngOnInit(){console.log(this.contexts),this.restForm.get("renderer").get("type").valueChanges.subscribe(e=>{"pane"===this.rendererType.value?this.restForm.get("renderer").get("data").disable():this.restForm.get("renderer").get("data").enable(),this.restForm.get("renderer").get("data").setValue({contentType:"",content:"",jsScript:""})}),this.restForm.get("renderer").get("select").valueChanges.subscribe(e=>{this.restForm.get("renderer").get("data").setValue({contentType:"application/json",content:JSON.stringify({value:e.value,label:e.label,id:e.id,multiple:e.multiple,limit:e.limit}),jsScript:""})})}ngAfterViewInit(){}onDataChange(e){this.tokens=this.tokenizerService.generateGenericTokens(e[0])}addPane(){this.bindings.push(this.fb.group({type:this.fb.control("pane",d.kI.required),id:this.fb.control("",d.kI.required)}))}submit(){const e=new lo({...this.restForm.value,url:this.restForm.value.source.url,params:this.restForm.value.source.params,method:this.restForm.value.source.method,body:this.restForm.value.source.body});this.submitted.emit(e)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Dn))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-rest-form"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(Kf,7),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.sourceForm=o.first)}},inputs:{panes:"panes",contexts:"contexts",rest:"rest"},outputs:{submitted:"submitted"},decls:34,vars:9,consts:[[1,"rest-form",3,"formGroup","ngSubmit"],["direction","vertical",1,"content-inner"],["as-split-area","","size","50"],["formControlName","source",3,"contexts","restSource","dataChange"],["size","50","formGroupName","renderer"],["matInput","","formControlName","query","placeholder","Query"],["matInput","","formControlName","trackBy","placeholder","Track By"],["required","","formControlName","type"],["label","Output"],["value","snippet"],["value","pane"],["label","Input"],["value","select"],["value","radiogroup"],["value","checkboxgroup"],["value","autocomplete"],["formControlName","data","splitDirection","horizontal","rows","10","cols","40",3,"hidden","rootForm","tokens"],["formArrayName","bindings",4,"ngIf"],["formGroupName","select",4,"ngIf"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],["formArrayName","bindings"],["type","button",3,"click"],[4,"ngFor","ngForOf"],[3,"formGroupName"],["required","","formControlName","id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formGroupName","select"],["matInput","","formControlName","id","placeholder","Id"],["matInput","","formControlName","value","placeholder","Value"],["matInput","","formControlName","label","placeholder","Label"],["formControlName","multiple"],["matInput","","formControlName","limit","placeholder","Limit"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return r.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content"),a.\u0275\u0275elementStart(2,"as-split",1),a.\u0275\u0275elementStart(3,"div",2),a.\u0275\u0275elementStart(4,"classifieds-ui-rest-source-form",3),a.\u0275\u0275listener("dataChange",function(s){return r.onDataChange(s)}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"as-split-area",4),a.\u0275\u0275elementStart(6,"mat-form-field"),a.\u0275\u0275element(7,"input",5),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"mat-form-field"),a.\u0275\u0275element(9,"input",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"mat-form-field"),a.\u0275\u0275elementStart(11,"mat-label"),a.\u0275\u0275text(12,"Type"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(13,"mat-select",7),a.\u0275\u0275elementStart(14,"mat-optgroup",8),a.\u0275\u0275elementStart(15,"mat-option",9),a.\u0275\u0275text(16,"Snippet"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(17,"mat-option",10),a.\u0275\u0275text(18,"Pane"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(19,"mat-optgroup",11),a.\u0275\u0275elementStart(20,"mat-option",12),a.\u0275\u0275text(21,"Select"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(22,"mat-option",13),a.\u0275\u0275text(23,"Radio Group"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(24,"mat-option",14),a.\u0275\u0275text(25,"Checkbox Group"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(26,"mat-option",15),a.\u0275\u0275text(27,"Autocomplete"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(28,"classifieds-ui-snippet-form",16),a.\u0275\u0275template(29,h4,5,1,"div",17),a.\u0275\u0275template(30,g4,12,0,"div",18),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(31,"mat-dialog-actions"),a.\u0275\u0275elementStart(32,"button",19),a.\u0275\u0275text(33,"Save"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.restForm),a.\u0275\u0275advance(4),a.\u0275\u0275property("contexts",r.contexts)("restSource",r.restSource),a.\u0275\u0275advance(24),a.\u0275\u0275property("hidden","snippet"!=r.rendererType.value)("rootForm",!1)("tokens",r.tokens),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","pane"==r.rendererType.value),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.isSelectable),a.\u0275\u0275advance(2),a.\u0275\u0275property("disabled",!r.valid))},directives:[Cf,Kf,Xt.KE,Dr.gD,Xn.Nv,Xn.ey,nh,so.oG,kr.lW,d._Y,d.JL,d.sg,Ft.xY,xf,d.JJ,d.u,d.x0,_n.Nt,d.Fj,Xt.hX,d.Q7,x.NgIf,d.CE,x.NgForOf,Ft.H8,Ft.ZT],styles:[".rest-form[_ngcontent-%COMP%]     .content-inner{height:auto}"]}),t})(),eU=(()=>{class t{constructor(e,r,o,s){this.data=e,this.dialogRef=r,this.fb=o,this.handler=s,this.panes=[],this.contexts=[],this.contexts=this.data.contexts}ngOnInit(){this.panes=this.data.panelFormGroup.get("panes").controls.reduce((e,r)=>r.get("name").value?[...e,r.get("name").value]:[...e],[]),void 0!==this.data.pane&&this.handler.toObject(this.data.pane.settings).subscribe(e=>{this.rest=e})}submitted(e){const r=this.data.panelFormGroup.get("panes");if(void 0===this.data.paneIndex)r.push(this.fb.group({contentPlugin:"rest",name:new d.NI(""),label:new d.NI(""),rule:new d.NI(""),settings:this.fb.array(this.handler.buildSettings(e).map(o=>this.convertToGroup(o)))})),this.data.contentAdded.next([this.data.panelIndex,r.length-1]);else{const o=r.at(this.data.paneIndex);o.get("settings").clear(),this.handler.buildSettings(e).forEach(s=>{o.get("settings").push(this.convertToGroup(s))})}this.dialogRef.close()}convertToGroup(e){const r=this.fb.group({name:new d.NI(e.name,d.kI.required),type:new d.NI(e.type,d.kI.required),displayName:new d.NI(e.displayName,d.kI.required),value:new d.NI(e.value,d.kI.required),computedValue:new d.NI(e.value,d.kI.required),attributes:new d.Oe([])});return e.attributes&&e.attributes.length>0&&e.attributes.forEach(o=>{r.get("attributes").push(this.convertToGroup(o))}),r}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ft.WI),a.\u0275\u0275directiveInject(Ft.so),a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Yf))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-rest-editor"]],decls:1,vars:3,consts:[[3,"panes","rest","contexts","submitted"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"classifieds-ui-rest-form",0),a.\u0275\u0275listener("submitted",function(s){return r.submitted(s)}),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("panes",r.panes)("rest",r.rest)("contexts",r.contexts)},directives:[Z4],styles:[""]}),t})(),tU=(()=>{class t{constructor(e,r,o){this.fb=e,this.attributeSerializer=r,this.tokenizerService=o,this.searchChange=new a.EventEmitter,this.selectionForm=this.fb.group({attributes:this.fb.array([])}),this.onTouched=()=>{},this.displayAuto=s=>o.replaceTokens(this.selectMapping.label,this.tokenizerService.generateGenericTokens(s.dataItem))}set values(e){this.options=e,this.buildOptions()}get attributesArray(){return this.selectionForm.get("attributes")}ngOnInit(){this.attributesArray.push(this.fb.group({name:new d.NI("value",d.kI.required),type:new d.NI(Ct.AttributeTypes.Array,d.kI.required),displayName:new d.NI("Value",d.kI.required),value:new d.NI(""),attributes:["checkboxgroup"].findIndex(e=>e===this.renderType)>-1?this.fb.array([]):new d.NI("")})),"autocomplete"===this.renderType&&(this.attributesArray.at(0).addControl("_proxy",this.fb.control("")),this.attributesArray.at(0).get("_proxy").valueChanges.pipe((0,jo.x)(),(0,Un.b)(500)).subscribe(e=>{this.searchChange.emit(e)}))}onOptionSelected(e){this.attributesArray.at(0).get("attributes").setValue(e.option.value.value),this.attributesArray.at(0).get("attributes").updateValueAndValidity()}writeValue(e){e&&this.attributesArray.setValue(e,{emitEvent:!1})}registerOnChange(e){this.attributesArray.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.attributesArray.disable():this.attributesArray.enable()}validate(e){return this.selectionForm.valid?null:{invalidForm:{valid:!1,message:"selection is invalid"}}}buildOptions(){if("checkboxgroup"===this.renderType&&void 0!==this.options){const e=this.attributesArray.controls[0].get("attributes");e.clear(),this.options.forEach(r=>{const o=this.attributeSerializer.convertToGroup(r.value);o.addControl("_store",new d.NI(!1)),e.push(o)})}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Ct.AttributeSerializerService),a.\u0275\u0275directiveInject(Dn))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-selection"]],inputs:{name:"name",label:"label",values:"values",renderType:"renderType",selectMapping:"selectMapping"},outputs:{searchChange:"searchChange"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}])],decls:9,vars:6,consts:[[3,"formGroup"],["formArrayName","attributes"],["formGroupName","0"],[3,"ngSwitch"],[4,"ngSwitchCase"],["formControlName","attributes"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngFor","ngForOf"],[3,"formGroupName"],["formControlName","_store"],["matInput","","formControlName","_proxy",3,"placeholder","matAutocomplete"],[3,"displayWith","optionSelected"],["autocomplete","matAutocomplete"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"div",1),a.\u0275\u0275elementStart(2,"div",2),a.\u0275\u0275elementStart(3,"div"),a.\u0275\u0275elementContainerStart(4,3),a.\u0275\u0275template(5,v4,6,2,"ng-container",4),a.\u0275\u0275template(6,b4,6,2,"ng-container",4),a.\u0275\u0275template(7,C4,4,1,"ng-container",4),a.\u0275\u0275template(8,S4,6,4,"ng-container",4),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.selectionForm),a.\u0275\u0275advance(4),a.\u0275\u0275property("ngSwitch",r.renderType),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngSwitchCase","select"),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngSwitchCase","radiogroup"),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngSwitchCase","checkboxgroup"),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngSwitchCase","autocomplete"))},directives:[Xt.KE,Dr.gD,Xn.ey,dl.U0,so.oG,lu.XC,d.JL,d.sg,d.CE,d.x0,x.NgSwitch,x.NgSwitchCase,Xt.hX,d.JJ,d.u,x.NgForOf,dl.VQ,_n.Nt,d.Fj,lu.ZL],styles:[""]}),t})(),nU=(()=>{class t{constructor(e,r){this.restHandler=e,this.controlContainer=r,this.settings=[],this.contexts=[],this.state={},this.stateChange=new a.EventEmitter,this.tag=Tn(),this.searchChange$=new O.x}get renderType(){return this.restHandler.getRenderType(this.settings)}ngOnInit(){this.restHandler.toObject(this.settings).pipe((0,ee.b)(e=>{this.snippet=e.renderer.data,this.selectMapping=new dw(JSON.parse(this.snippet.content))}),(0,z.h)(()=>"autocomplete"!==this.renderType),(0,Qe.w)(e=>this.restHandler.buildSelectOptionItems(this.settings,new Map([["tag",this.tag],["snippet",e.renderer.data],["contexts",this.contexts]])))).subscribe(e=>{this.options=e}),this.searchChange$.pipe((0,ee.b)(e=>{this.stateChange.emit({autocomplete:{input:e}})}),(0,Qe.w)(e=>this.restHandler.buildSelectOptionItems(this.settings,new Map([["tag",Tn()],["snippet",this.snippet],["contexts",this.contexts]])))).subscribe(e=>{this.options=e})}onSearchChange(e){this.searchChange$.next(e)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Yf),a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-rest-pane-renderer"]],inputs:{settings:"settings",name:"name",label:"label",displayType:"displayType",contexts:"contexts",state:"state"},outputs:{stateChange:"stateChange"},decls:2,vars:6,consts:[[3,"formGroup"],["formControlName","settings",3,"name","label","renderType","values","selectMapping","searchChange"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"classifieds-ui-selection",1),a.\u0275\u0275listener("searchChange",function(s){return r.onSearchChange(s)}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.controlContainer.control),a.\u0275\u0275advance(1),a.\u0275\u0275property("name",r.name)("label",r.label)("renderType",r.renderType)("values",r.options)("selectMapping",r.selectMapping))},directives:[tU,d.JL,d.sg,d.JJ,d.u],styles:[""]}),t})(),Mh=(()=>{class t{constructor(e,r,o,s,l,u){this.siteName=e,this.tokenizerService=r,this.panelHandler=o,this.mediaHandler=s,this.attributeSerializer=l,this.inlineContextResolver=u}handleFile(e){return(0,ke.of)()}handlesType(e){return!1}implementsRendererOverride(){return!1}hasRendererOverride(e){return(0,ke.of)(!1)}isDynamic(e){return!0}isData(e){return!1}fetchDynamicData(e,r){return(0,ke.of)(new Fn)}buildDynamicItems(e,r){return this.toObject(e).pipe((0,ve.U)(o=>[o,r.get("contexts").find(s=>s.name===o.context)]),(0,Qe.w)(([o,s])=>this.extractDataArray(s,o.query).pipe((0,ve.U)(l=>[o,s,l]))),(0,Qe.w)(([o,s,l])=>this.transformDataArray(l,o.plugin)),(0,ve.U)(o=>new Bi({stylePlugin:void 0,settings:[],panes:o,columnSetting:new zn})),(0,ve.U)(o=>this.panelHandler.buildSettings(new Qn({id:void 0,layoutType:"grid",displayType:"page",site:this.siteName,gridItems:[],layoutSetting:new zn,rowSettings:[],panels:[o]}))),(0,ve.U)(o=>o.find(s=>"panels"===s.name).attributes[0].attributes.find(s=>"panes"===s.name).attributes))}getBindings(e,r,o){return"context"===r?this.toObject(e).pipe((0,ve.U)(s=>[new Ut.ContentBinding({id:s.context,type:"context"})])):(0,ke.of)([])}toObject(e){return(0,ke.of)(this.attributeSerializer.deserializeAsObject(e))}buildSettings(e){return this.attributeSerializer.serialize(e,"root").attributes}extractDataArray(e,r){return this.inlineContextResolver.resolve(e).pipe((0,ve.U)(o=>{const s=r.split("."),l=s.length;if(void 0===e)return(0,ke.of)([]);let u=Array.isArray(o)?o[0]:o;for(let p=0;p<l;p++)""!==s[p]&&(u=u[s[p]]);return u}))}transformDataArray(e,r){return"media"===r?(0,ke.of)(e.map(o=>new jy(o)).map(o=>new nr({contentPlugin:"media",name:void 0,label:void 0,settings:this.mediaHandler.buildSettings(o)}))):(0,ke.of)()}stateDefinition(e){return(0,ke.of)({})}editorOptions(e){return(0,ke.of)(new Ut.ContentPluginEditorOptions)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ln.SITE_NAME),a.\u0275\u0275inject(Dn),a.\u0275\u0275inject(Li),a.\u0275\u0275inject(Mc),a.\u0275\u0275inject(Ct.AttributeSerializerService),a.\u0275\u0275inject(xc))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();class rU{constructor(n){n&&(this.context=n.context,this.query=n.query,this.plugin=n.plugin)}}let iU=(()=>{class t{constructor(e){this.fb=e,this.contexts=[],this.submitted=new a.EventEmitter,this.sliceForm=this.fb.group({context:this.fb.control("",d.kI.required),query:this.fb.control("",d.kI.required),plugin:this.fb.control("",d.kI.required)})}ngOnInit(){}submit(){const e=new rU(this.sliceForm.value);this.submitted.emit(e)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-slice-form"]],inputs:{contexts:"contexts"},outputs:{submitted:"submitted"},decls:20,vars:3,consts:[[1,"slice-form",3,"formGroup","ngSubmit"],["required","","formControlName","context"],["value","_root"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Query","formControlName","query","required",""],["required","","formControlName","plugin"],["value","media"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],[3,"value"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return r.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content"),a.\u0275\u0275elementStart(2,"mat-form-field"),a.\u0275\u0275elementStart(3,"mat-label"),a.\u0275\u0275text(4,"Type"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"mat-select",1),a.\u0275\u0275elementStart(6,"mat-option",2),a.\u0275\u0275text(7,"_root"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(8,E4,2,2,"mat-option",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"mat-form-field"),a.\u0275\u0275element(10,"input",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"mat-form-field"),a.\u0275\u0275elementStart(12,"mat-label"),a.\u0275\u0275text(13,"Plugin"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(14,"mat-select",5),a.\u0275\u0275elementStart(15,"mat-option",6),a.\u0275\u0275text(16,"Media"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(17,"mat-dialog-actions"),a.\u0275\u0275elementStart(18,"button",7),a.\u0275\u0275text(19,"Save"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.sliceForm),a.\u0275\u0275advance(8),a.\u0275\u0275property("ngForOf",r.contexts),a.\u0275\u0275advance(10),a.\u0275\u0275property("disabled",!r.sliceForm.valid))},directives:[Xt.KE,Dr.gD,Xn.ey,kr.lW,d._Y,d.JL,d.sg,Ft.xY,Xt.hX,d.Q7,d.JJ,d.u,x.NgForOf,_n.Nt,d.Fj,Ft.H8,Ft.ZT],styles:[""]}),t})(),aU=(()=>{class t{constructor(e,r,o,s){this.data=e,this.dialogRef=r,this.fb=o,this.handler=s,this.contexts=[],this.contexts=this.data.contexts}ngOnInit(){}submitted(e){this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"slice",name:new d.NI(""),label:new d.NI(""),rule:new d.NI(""),settings:this.fb.array(this.handler.buildSettings(e).map(r=>this.convertToGroup(r)))})),this.dialogRef.close()}convertToGroup(e){const r=this.fb.group({name:new d.NI(e.name,d.kI.required),type:new d.NI(e.type,d.kI.required),displayName:new d.NI(e.displayName,d.kI.required),value:new d.NI(e.value,d.kI.required),computedValue:new d.NI(e.value,d.kI.required),attributes:new d.Oe([])});return e.attributes&&e.attributes.length>0&&e.attributes.forEach(o=>{r.get("attributes").push(this.convertToGroup(o))}),r}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ft.WI),a.\u0275\u0275directiveInject(Ft.so),a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Mh))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-slice-editor"]],decls:1,vars:1,consts:[[3,"contexts","submitted"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"classifieds-ui-slice-form",0),a.\u0275\u0275listener("submitted",function(s){return r.submitted(s)}),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("contexts",r.contexts)},directives:[iU],styles:[""]}),t})(),oU=(()=>{class t{constructor(e,r){this.fb=e,this.controlContainer=r}ngOnInit(){this.controlContainer.control.addControl("adaptor",this.fb.control("rest",d.kI.required)),this.controlContainer.control.addControl("rest",this.fb.control(""))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-context-editor"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(Kf,7),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.restSourceFormComp=o.first)}},decls:2,vars:1,consts:[[3,"formGroup"],["formControlName","rest"]],template:function(e,r){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-rest-source-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&a.\u0275\u0275property("formGroup",r.controlContainer.control)},directives:[Kf,d.JL,d.sg,d.JJ,d.u],styles:[""]}),t})(),sU=(()=>{class t{constructor(e,r,o,s){this.data=e,this.dialogRef=r,this.fb=o,this.attributeSerializer=s,this.contexts=[],this.panes=[],this.formGroup=this.fb.group({labels:this.fb.array([this.buildLabelGroup()])}),this.contexts=this.data.contexts}get labels(){return this.formGroup.get("labels")}ngOnInit(){this.panes=new Bi(this.data.panelFormGroup.value).panes}submit(){this.data.panelFormGroup.get("settings").clear(),this.attributeSerializer.serialize(this.formGroup.value,"root").attributes.forEach(e=>{console.log("label mappings"),console.log(this.attributeSerializer.convertToGroup(e)),this.data.panelFormGroup.get("settings").push(this.attributeSerializer.convertToGroup(e))})}onRemoveMapping(e){this.labels.removeAt(e)}onAddMapping(){this.labels.push(this.buildLabelGroup())}buildLabelGroup(){return this.fb.group({mapping:this.fb.control("")})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ft.WI),a.\u0275\u0275directiveInject(Ft.so),a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Ct.AttributeSerializerService))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-tabs-panel-editor"]],decls:7,vars:3,consts:[[3,"formGroup","ngSubmit"],["formArrayName","labels"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],[3,"formGroupName"],["formControlName","mapping",3,"panes"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return r.submit()}),a.\u0275\u0275elementStart(1,"div",1),a.\u0275\u0275template(2,A4,4,2,"div",2),a.\u0275\u0275elementStart(3,"button",3),a.\u0275\u0275listener("click",function(){return r.onAddMapping()}),a.\u0275\u0275text(4,"Add"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"button",4),a.\u0275\u0275text(6,"Save"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.formGroup),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",r.labels.controls),a.\u0275\u0275advance(3),a.\u0275\u0275property("disabled",!r.formGroup.valid))},directives:[HM,kr.lW,d._Y,d.JL,d.sg,d.CE,x.NgForOf,d.x0,d.JJ,d.u,Ft.ZT],encapsulation:2}),t})(),lU=(()=>{class t{constructor(e){this.attributeSerializer=e,this.settings=[],this.panes=[],this.originMappings=[],this.labelMappingsEnabled=!1}ngOnInit(){console.log("tabs panels contexts"),console.log(this.panes);const e=this.attributeSerializer.deserialize(new Ct.AttributeValue({name:"",displayName:"",computedValue:"",type:Ct.AttributeTypes.Complex,value:"",intValue:0,attributes:this.settings}));this.labelMappingsEnabled=!!(e&&void 0!==e.labels&&Array.isArray(e.labels)&&e.labels.length>0)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ct.AttributeSerializerService))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-tabs-panel-renderer"]],inputs:{settings:"settings",panes:"panes",originPanes:"originPanes",originMappings:"originMappings"},decls:2,vars:2,consts:[["mat-align-tabs","start",4,"ngIf"],["mat-align-tabs","start"],[4,"for"],["mat-tab-label",""],[3,"pluginName","settings","contexts"],["label","The Label",4,"ngFor","ngForOf"],["label","The Label"]],template:function(e,r){1&e&&(a.\u0275\u0275template(0,T4,2,1,"mat-tab-group",0),a.\u0275\u0275template(1,V4,2,1,"mat-tab-group",0)),2&e&&(a.\u0275\u0275property("ngIf",r.labelMappingsEnabled),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!r.labelMappingsEnabled))},directives:[Lo.SP,Lo.uX,Jf,x.NgIf,ln.ForDirective,Lo.uD,x.NgForOf],styles:[""]}),t})(),GC=(()=>{class t{constructor(e,r){this.fb=e,this.controlContainer=r,this.panelPages=[],this.panelPage$=new h.X(new Qn),this.context$=new h.X(void 0),this.formGroup=this.fb.group({state:this.fb.control("",[d.kI.required])}),this.stateCtrl=this.fb.control(""),this.stateCtrlSub=this.stateCtrl.valueChanges.pipe((0,Un.b)(250),(0,jo.x)(),(0,z.h)(o=>{try{return JSON.parse(o),!0}catch{return!1}}),(0,ve.U)(o=>JSON.parse(o))).subscribe(o=>{console.log("write state"),console.log(o),this.formGroup.get("state").setValue(o)}),this.onTouched=()=>{}}set panelPage(e){this.panelPage$.next(e)}set context(e){this.context$.next(e)}ngOnInit(){this.panelPage$.subscribe(e=>{this.panelPages=[e]}),this.context$.subscribe(e=>{this.stateCtrl.setValue(e?JSON.stringify(e.data.state):"")})}writeValue(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}registerOnChange(e){this.formGroup.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.formGroup.disable():this.formGroup.enable()}validate(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"source is invalid"}}}flattenSelector(e){const r=[];return null!=e.panel&&r.push(e.panel),null!=e.pane&&r.push(e.pane),null!=e.nested&&"object"==typeof e.nested&&this.flattenSelector(e.nested).forEach(o=>r.push(o)),r}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-page-state-form"]],inputs:{panelPage:"panelPage",context:"context"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}])],decls:3,vars:2,consts:[[3,"formGroup"],["cols","40","rows","20","required","",3,"formControl"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275text(1," <"),a.\u0275\u0275element(2,"textarea",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.formGroup),a.\u0275\u0275advance(2),a.\u0275\u0275property("formControl",r.stateCtrl))},directives:[d.JL,d.sg,d.Fj,d.Q7,d.JJ,d.oH],styles:[""]}),t})(),uU=(()=>{class t{constructor(e,r,o){this.fb=e,this.pageBuilderFacade=r,this.controlContainer=o}ngOnInit(){this.controlContainer.control.addControl("adaptor",this.fb.control("data",d.kI.required)),this.controlContainer.control.addControl("data",this.fb.control("")),this.pageBuilderFacade.getPage$.pipe((0,nn.q)(1)).subscribe(e=>{this.panelPage=e})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(ia),a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-page-state-editor"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(GC,7),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.restSourceFormComp=o.first)}},inputs:{context:"context"},decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","data",3,"panelPage","context"]],template:function(e,r){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-page-state-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.controlContainer.control),a.\u0275\u0275advance(1),a.\u0275\u0275property("panelPage",r.panelPage)("context",r.context))},directives:[GC,d.JL,d.sg,d.JJ,d.u],styles:[""]}),t})(),cU=(()=>{class t{constructor(e,r){this.fb=e,this.attributeSerializer=r,this.settings$=new h.X(void 0),this.formGroup=this.fb.group({name:this.fb.control("",[d.kI.required]),field:this.fb.control("",[d.kI.required])}),this.settingsSub=this.settings$.pipe((0,ve.U)(o=>o?new hv(this.attributeSerializer.deserializeAsObject(o)):void 0)).subscribe(o=>{o?(this.formGroup.get("name").setValue(o.name),this.formGroup.get("field").setValue(o.field)):(this.formGroup.get("name").setValue(""),this.formGroup.get("field").setValue(""))}),this.onTouched=()=>{}}set settings(e){this.settings$.next(e)}ngOnInit(){}writeValue(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}registerOnChange(e){this.formGroup.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.formGroup.disable():this.formGroup.enable()}validate(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Ct.AttributeSerializerService))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-form-datasource-form"]],inputs:{settings:"settings"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}])],decls:11,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","name","required",""],["matInput","","formControlName","field","required",""]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"div"),a.\u0275\u0275elementStart(2,"mat-form-field"),a.\u0275\u0275elementStart(3,"mat-label"),a.\u0275\u0275text(4,"Name"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(5,"input",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"div"),a.\u0275\u0275elementStart(7,"mat-form-field"),a.\u0275\u0275elementStart(8,"mat-label"),a.\u0275\u0275text(9,"Field"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(10,"input",2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("formGroup",r.formGroup)},directives:[Xt.KE,d.JL,d.sg,Xt.hX,_n.Nt,d.Fj,d.JJ,d.u,d.Q7],styles:[""]}),t})(),dU=(()=>{class t{constructor(e){this.controlContainer=e,this.settings=[]}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-form-datasource"]],inputs:{settings:"settings"},decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","settings",3,"settings"]],template:function(e,r){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-form-datasource-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.controlContainer.control),a.\u0275\u0275advance(1),a.\u0275\u0275property("settings",r.settings))},directives:[cU,d.JL,d.sg,d.JJ,d.u],encapsulation:2}),t})();const fU=t=>new Ut.ContentPlugin({id:"snippet",title:"Snippet",selectionComponent:void 0,editorComponent:q4,renderComponent:jC,handler:t}),pU=t=>new Ut.ContentPlugin({id:"attribute",title:"Attribute",selectionComponent:X4,editorComponent:W4,renderComponent:J4,handler:t}),mU=t=>new Ut.ContentPlugin({id:"media",title:"Media",selectionComponent:void 0,editorComponent:Q4,renderComponent:Y4,handler:t}),hU=t=>new Ut.ContentPlugin({id:"rest",title:"REST",selectionComponent:void 0,editorComponent:eU,renderComponent:nU,handler:t}),gU=t=>new Ut.ContentPlugin({id:"slice",title:"Slice",selectionComponent:void 0,editorComponent:aU,renderComponent:void 0,handler:t}),yU=t=>new gs({id:"page",name:"page",title:"Page",global:!0,group:"pages",baseObject:{path:""},resolver:t}),vU=t=>{const n={dataset:new Fn};return new gs({id:"rest",name:"rest",title:"Rest",baseObject:n,resolver:t,editorComponent:oU})},_U=t=>{const n={dataset:new Fn};return new gs({id:"form",name:"form",title:"Form",baseObject:n,resolver:t})},bU=t=>{const n=new Ea({state:new Ct.AttributeValue});return new gs({id:"panestate",name:"panestate",title:"Pane State",internal:!0,baseObject:n,resolver:t})},wU=t=>{const n=new Ea({state:new Ct.AttributeValue});return new gs({id:"pagestate",name:"pagestate",title:"Page State",internal:!0,baseObject:n,resolver:t,editorComponent:uU})},CU=t=>new Mf({id:"tabs",name:"tabs",title:"Tabs",handler:t,editorComponent:sU,renderComponent:lU}),Ov=t=>n=>{if(0===("/"+n.map(e=>e.path).join("/")).indexOf(t.path)){const e=t.path.substr(1).split("/").length;return{consumed:n,posParams:n.reduce((r,o,s)=>0===s?{...r,panelPageId:new Nn.UrlSegment(t.id,{})}:s>e-1?{...r,["arg"+(s-e)]:new Nn.UrlSegment(o.path,{})}:{...r},{})}}return null},Fv=t=>n=>0===("/"+n.map(e=>e.path).join("/")).indexOf(t.path)&&n.map(e=>e.path).join("/").indexOf("/manage")>-1?(t.path.substr(1).split("/"),{consumed:n,posParams:n.reduce((r,o,s)=>0===s?{...r,panelPageId:new Nn.UrlSegment(t.id,{})}:{...r},{})}):null;let PU=(()=>{class t{constructor(e,r,o,s){this.tokenizerService=e,this.panelResolverService=r,this.styleResolverService=o,this.paneDatasource=s,this.settings=[],this.panes=[],this.originMappings=[],this.resolvedContext={}}ngOnInit(){this.paneDatasource.pageChange$.pipe((0,kv.T)(1),(0,Qe.w)(e=>this.panelResolverService.resolvePanes({panes:this.originPanes.map(r=>new nr({...r,metadata:new Map([...r.metadata?r.metadata:[],["page",e],["limit",this.paneDatasource.pageSize]])})),contexts:this.contexts,resolvedContext:this.resolvedContext})),(0,Qe.w)(({resolvedPanes:e,originMappings:r})=>this.styleResolverService.alterResolvedPanes({panel:this.panel,resolvedPanes:e,originMappings:r}))).subscribe(({resolvedPanes:e,originMappings:r})=>{this.originMappings=r,this.paneDatasource.panes=e}),this.paneDatasource.panes=this.panes,this.trackByTpl="[._root.id]"}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Dn),a.\u0275\u0275directiveInject(Tc),a.\u0275\u0275directiveInject(Ww),a.\u0275\u0275directiveInject(fh))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-virtual-list-panel-renderer"]],inputs:{settings:"settings",panes:"panes",originPanes:"originPanes",originMappings:"originMappings",contexts:"contexts",resolvedContext:"resolvedContext",panel:"panel"},features:[a.\u0275\u0275ProvidersFeature([fh])],decls:2,vars:2,consts:[[1,"panes-viewport",3,"itemSize"],["class","pane-item",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"pane-item"],[3,"pluginName","settings","contexts","resolvedContext"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"cdk-virtual-scroll-viewport",0),a.\u0275\u0275template(1,R4,2,4,"div",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("itemSize",75),a.\u0275\u0275advance(1),a.\u0275\u0275property("cdkVirtualForOf",r.paneDatasource))},directives:[Oc.N7,Jf,Oc.xd,Oc.x0],styles:["[_nghost-%COMP%]{position:relative}.panes-viewport[_ngcontent-%COMP%]{height:100%;width:100%}"]}),t})(),TU=(()=>{class t{constructor(e){this.router=e}ngOnInit(){}onClick(){this.router.navigateByUrl(this.href)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Nn.Router))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-page-router-link"]],inputs:{href:"href",text:"text"},decls:2,vars:1,consts:[[3,"click"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"a",0),a.\u0275\u0275listener("click",function(){return r.onClick()}),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(r.text))},styles:["[_nghost-%COMP%]:hover{cursor:pointer}"]}),t})();const $C=new a.InjectionToken("PagesSettings");class kU{constructor(n){this.disableRouting=!1,n&&(this.disableRouting=n.disableRouting)}}let VU=(()=>{class t{constructor(e,r,o,s){this.siteName=e,this.pagesSettings=r,this.router=o,this.routesLoaded=!1,this.panelPageListItemsService=s.getEntityCollectionService("PanelPageListItem")}canActivate(e,r){return new Promise(this.pagesSettings.disableRouting?o=>o(!0):o=>{let s=r.url;-1!==s.indexOf("?")&&(s=r.url.substr(0,s.indexOf("?")));const l="path="+s.substr(1).split("/").reduce((u,p,f)=>[...u,0===f?`/${p}`:`${u[f-1]}/${p}`],[]).map(u=>this.encodePathComponent(u)).join("&path=")+`&site=${encodeURIComponent(`{"term":{"site.keyword":{"value":"${this.siteName}"}}}`)}`;setTimeout(()=>{}),(0,rn.D)([Rn(()=>!this.routesLoaded,this.panelPageListItemsService.getWithQuery(`site=${encodeURIComponent(`{"term":{"site.keyword":{"value":"${this.siteName}"}}}`)}&path={"wildcard":{"path.keyword":{"value":"*"}}}`).pipe((0,ee.b)(()=>console.log("loaded page list items")),(0,ve.U)(u=>u.filter(p=>void 0!==p.path&&""!==p.path)),(0,ve.U)(u=>u.map(p=>new Qn(p)).sort((p,f)=>p.path.split("/").length===f.path.split("/").length?p.path.split("/")[p.path.split("/").length-1]>f.path.split("/")[f.path.split("/").length-1]?-1:1:p.path.split("/").length>f.path.split("/").length?-1:1)),(0,ee.b)(u=>u.sort((p,f)=>p.path.length>f.path.length?1:-1)),(0,ee.b)(u=>{const p=this.router.config;u.forEach(f=>{p.unshift({matcher:Fv(f),component:Fh}),p.unshift({matcher:Ov(f),component:Oh,data:{panelPageListItem:f}}),console.log(`panels matcher: ${f.path}`)}),this.routesLoaded=!0}),(0,ve.U)(()=>[])),(0,ke.of)([])),this.panelPageListItemsService.getWithQuery(l).pipe((0,wr.K)(u=>(0,ke.of)([])),(0,ee.b)(()=>console.log("loaded specific matched")),(0,ve.U)(u=>u.reduce((p,f)=>void 0===p||p.path.split("/").length<f.path.split("/").length?f:p,void 0)),(0,ve.U)(u=>{const p=r.url.substr(1).split("/").slice(u.path.split("/").length-1).join("/");return[u,p]}))]).pipe((0,ve.U)(([u,[p,f]])=>[p,f])).subscribe(([u,p])=>{const f=`${u.path}${""===p?"":`/${p}`}?${xa.stringify(e.queryParams)}`,v=this.router.parseUrl(f);console.log(`panels garud navigate: ${u.path}${""===p?"":`/${p}`}?${xa.stringify(e.queryParams)}`),o(v)})})}encodePathComponent(e){return`{"term":{"path.keyword":{"value":"${e}"}}}`}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ln.SITE_NAME),a.\u0275\u0275inject($C),a.\u0275\u0275inject(Nn.Router),a.\u0275\u0275inject(Jn))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),HC=(()=>{class t{constructor(e){this.pageBuilderFacade=e}resolve(e,r){return this.pageBuilderFacade.getPageInfo$}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ia))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),qC=(()=>{class t{constructor(e,r,o,s){this.pageBuilderFacade=e,this.store=r,this.urlGeneratorService=o,this.routerStore=s}resolve(e,r){const o=new lo(r);return(o.params&&Array.isArray(o.params)&&o.params.length>0?this.changePipeline(o.params):(0,ke.of)([])).pipe((0,Qe.w)(()=>o.params&&Array.isArray(o.params)&&o.params.length>0?this.rebuildParams(o.params):(0,ke.of)([])),(0,ve.U)(s=>[s,new Map([["tag",Tn()]])]),(0,Qe.w)(([s,l])=>this.urlGeneratorService.getUrl(o.url,s,l).pipe((0,ve.U)(u=>[u,l]))),(0,Qe.w)(([s,l])=>(this.pageBuilderFacade.loadRestData(`${l.get("tag")}`,new lo({...o,url:s})),this.store.pipe((0,At.Ys)(ph(`${l.get("tag")}`)),(0,z.h)(u=>void 0!==u),(0,ve.U)(u=>u.results),(0,nn.q)(1)))))}changePipeline(e){const r=e.reduce((o,s)=>{switch(s.mapping.type){case"route":return[...o,this.routeArgChange(s.mapping.value)];case"querystring":return[...o,this.queryStringChange(s.mapping.value)];case"form":return[...o,this.formChange(s.mapping.value)];default:return[...o]}},[]);return(0,N.T)(...r)}routeArgChange(e){return this.pageBuilderFacade.getPageInfo$.pipe((0,ve.U)(()=>{}))}queryStringChange(e){return new O.x}formChange(e){const[r,o]=e.split(".",2);return this.pageBuilderFacade.getForm$(r).pipe((0,ee.b)(()=>console.log("form change")),(0,ve.U)(()=>{}))}rebuildParams(e){return this.pageBuilderFacade.getPageInfo$.pipe((0,ve.U)(r=>r?e:this.testParams(e)))}testParams(e){const r=[],o=e.length;for(let s=0;s<o;s++)r.push(new Jr("route"===e[s].mapping.type?{...e[s],mapping:{type:"static",value:e[s].mapping.testValue,context:void 0,testValue:void 0}}:e[s]));return r}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ia),a.\u0275\u0275inject(At.yh),a.\u0275\u0275inject(il),a.\u0275\u0275inject(At.yh))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),KC=(()=>{class t{constructor(e){this.pageBuilderFacade=e}resolve(e,r){return this.pageBuilderFacade.getForm$(r)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ia))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),RU=(()=>{class t extends nD{constructor(e,r){super(),this.tokenizerService=e,this.paneDatasource=r,this.trackByMapping=(o,s)=>this.tokenizerService.replaceTokens(this.trackByTpl,this.tokenizerService.generateGenericTokens(s.contexts[0].data))}get displayedColumns(){const e=this.panes.findIndex(r=>r.contexts.findIndex(o=>"_root"===o.name)>-1);return e>-1?Object.keys(this.panes[e].contexts.find(r=>"_root"===r.name).data):[]}ngOnInit(){console.log(this.panes),this.paneDatasource.panes=this.panes}rowData(e,r){return console.log(`name: ${e}`),`${r.contexts.find(o=>"_root"===o.name).data[e]}`}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Dn),a.\u0275\u0275directiveInject(fh))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["lib-table-panel-renderer"]],features:[a.\u0275\u0275ProvidersFeature([fh]),a.\u0275\u0275InheritDefinitionFeature],decls:4,vars:4,consts:[["mat-table","","matSort","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"table",0),a.\u0275\u0275template(1,F4,3,1,"ng-container",1),a.\u0275\u0275template(2,M4,1,0,"tr",2),a.\u0275\u0275template(3,D4,1,0,"tr",3),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("dataSource",r.paneDatasource),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",r.displayedColumns),a.\u0275\u0275advance(1),a.\u0275\u0275property("matHeaderRowDef",r.displayedColumns),a.\u0275\u0275advance(1),a.\u0275\u0275property("matRowDefColumns",r.displayedColumns))},directives:[$o.BZ,MC.nU,$o.XQ,$o.Gk,MC.YE,x.NgForOf,$o.w1,$o.fO,$o.ge,$o.Dz,$o.ev,$o.as,$o.nj],styles:[""]}),t})(),NU=(()=>{class t{constructor(e){this.attributeSerializer=e}handleFile(e){return(0,ke.of)()}handlesType(e){return!1}implementsRendererOverride(){return!1}hasRendererOverride(e){return(0,ke.of)(!1)}isDynamic(e){return!1}isData(e){return!1}buildDynamicItems(e,r){return(0,ke.of)([])}fetchDynamicData(e,r){return(0,ke.of)(new Fn)}getBindings(e,r){return(0,ke.of)([])}toObject(e){return(0,ke.of)(this.attributeSerializer.deserializeAsObject(e))}buildSettings(e){return this.attributeSerializer.serialize(e,"root").attributes}fromPanes(e){return e.map(r=>new nr(this.attributeSerializer.deserialize(r)))}wrapPanel(e){return new Bi({stylePlugin:void 0,settings:[],panes:e,columnSetting:new zn})}stateDefinition(e){return(0,ke.of)({})}editorOptions(e){return(0,ke.of)(new Ut.ContentPluginEditorOptions)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Ct.AttributeSerializerService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Mv=(()=>{class t{constructor(e,r,o,s){this.panelHandler=e,this.attributeSerializer=r,this.panelsLoaderService=o,this.panelsSelectorService=s}alterResolvedPanes({settings:e,resolvedPanes:r,originMappings:o}){const s=this.attributeSerializer.deserialize(new Ct.AttributeValue({name:"",displayName:"",computedValue:"",type:Ct.AttributeTypes.Complex,value:"",intValue:0,attributes:e})),l=s&&void 0!==s.labels&&Array.isArray(s.labels)?s.labels.map(p=>new dh(p.mapping)):[];let u=[];return 0===l.length?(0,ke.of)({resolvedPanes:r,originMappings:o}):(u=r.length!==l.length?r.map((p,f)=>new dh({...f<l.length?l[f]:l[l.length-1],pane:f})).map(p=>this.flattenSelector(p)):l.map(p=>this.flattenSelector(p)),(0,rn.D)(r.map((p,f)=>this.panelsLoaderService.reducePanes([],p,0)[0])).pipe((0,ve.U)(p=>p.reduce((f,[v,D])=>[...f,D],[])),(0,ve.U)(p=>{const f=u.map(Ue=>this.selectWithTarget(Ue)),v=u.map(Ue=>this.selectWithoutTarget(Ue)),D=f.map((Ue,Oe)=>this.panelsSelectorService.rebuildPage(p[u[Oe][0]],Ue.slice(1))),J=v.map((Ue,Oe)=>this.panelsSelectorService.rebuildPage(p[u[Oe][0]],Ue.slice(1))),Y=[],he=r.length;for(let Ue=0;Ue<he;Ue++)Y.push(new nr({...r[Ue],settings:this.panelHandler.buildSettings(D[Ue])})),Y.push(new nr({...r[Ue],settings:this.panelHandler.buildSettings(J[Ue])}));return{resolvedPanes:Y,originMappings:o}})))}stateDefinition(e){return(0,ke.of)({})}flattenSelector(e){const r=[];return null!=e.panel&&r.push(e.panel),null!=e.pane&&r.push(e.pane),null!=e.nested&&"object"==typeof e.nested&&this.flattenSelector(e.nested).forEach(o=>r.push(o)),r}selectWithTarget(e){return e.map(r=>r+1)}selectWithoutTarget(e){return e.map((r,o)=>o===e.length-1?-1*(r+1):0)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(NU),a.\u0275\u0275inject(Ct.AttributeSerializerService),a.\u0275\u0275inject(Kw),a.\u0275\u0275inject(rD))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),XC=(()=>{class t{constructor(e,r,o,s){this.entityServices=e,this.pageBuilderFacade=r,this.panelStateConverterService=o,this.attributeSerializer=s,this.resolverCache$=new Map}get emptyPaneState(){return new Ea({state:this.attributeSerializer.serialize({displayAssociatedPane:""},"root")})}get entities$(){return this.entityServices.getEntityCollectionService("PanelPageState").entities$.pipe((0,ee.b)(e=>{console.log("entities in store"),console.log(e)}))}get panelPage$(){return(0,On.a)([this.pageBuilderFacade.getPageInfo$,this.entityServices.getEntityCollectionService("PanelPage").entities$]).pipe((0,ve.U)(([e,r])=>e&&void 0!==e.id&&""!==e.id&&null!==e.id&&-1!==r.findIndex(o=>o.id===e.id)?r.find(o=>o.id===e.id):void 0))}get fakePageInfo(){return new Ff({id:"948d6e7b-12ab-11ec-8ecd-661fdd19e6df",path:"",realPath:"",args:new Map})}resolve(e,r){const o=r&&r.selectionMethod&&0!==r.selectionMethod.length&&r.id&&null!==r.id&&""!==r.id?`ps[id=${r.id}]${r.selectionMethod.map(s=>`${s}`).join("")}`:void 0;if(o&&this.resolverCache$.has(o))return this.resolverCache$.get(o);{const s=this.resolve$(e,r);return o&&this.resolverCache$.set(o,s),s}}resolve$(e,r){return(0,On.a)([this.panelPage$,this.entities$]).pipe((0,ve.U)(([o,s])=>[o,o&&-1!==s.findIndex(l=>l.id===o.id)?s.find(l=>l.id===o.id):new Da]),(0,Qe.w)(([o,s])=>this.pageBuilderFacade.getSelectionPath$.pipe((0,ve.U)(l=>r&&r.selectionPath?r.selectionPath:l),(0,ee.b)(l=>l.join(",")),(0,ve.U)(l=>l.map((u,p)=>`${(p+1)%2==0?"panes":(0===p?"":"nestedPage.")+"panels"}[${u}]`)),(0,ve.U)(l=>0===l.length?void 0:"$."+l.join(".")),(0,ve.U)(l=>[o,s,l]))),(0,ee.b)(([o,s,l])=>{console.log("page state context resolver"),console.log(o),console.log("query: "+l)}),(0,Qe.w)(([o,s,l])=>Rn(()=>!!o&&!s,this.panelStateConverterService.convertPageToState(o).pipe((0,ve.U)(u=>new Da({...u,panels:u.panels.map(p=>new ul({...p,panes:p.panes.map(f=>new Ea({...f,state:this.attributeSerializer.serialize({displayAssociatedPane:"y"},"root")}))}))})),(0,ve.U)(u=>[u,l])),(0,ke.of)([s,l]))),(0,ee.b)(([o,s])=>{console.log("rebuilt state from realtime page"),console.log(o)}),(0,ve.U)(([o,s])=>s?(0,ra.JSONPath)({path:s,json:o}):this.emptyPaneState),(0,ve.U)(o=>o&&Array.isArray(o)&&0!==o.length?o[0]:this.emptyPaneState),(0,ee.b)(o=>{console.log("json path match"),console.log(o)}),(0,ve.U)(o=>this.attributeSerializer.deserializeAsObject(o.state)),(0,ee.b)(o=>{console.log("final state"),console.log(o)}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Jn),a.\u0275\u0275inject(ia),a.\u0275\u0275inject(iD),a.\u0275\u0275inject(Ct.AttributeSerializerService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();const OU=[{path:"pages",children:[{path:"create-panel-page",component:K4},{path:"panelpage/:panelPageId/manage",component:Fh}]}];let FU=(()=>{class t{constructor(e,r,o,s,l,u,p,f,v,D,J,Y,he,Ue,Oe,De,Xe,tt,ct,bt,Tt,Mt,Wt,jn,In,Vt,Mn,Vr,yi){var n;u.registerMetadataMap(j4),[yU(Ue),vU(Oe),_U(De),bU(Xe),wU(tt)].forEach(za=>{s.register(za)}),e.forEach(za=>o.register(za)),r.forEach(za=>l.register(za)),p.register(((t,n,e)=>new ms({id:"form",title:"Form",usedContexts:({param:r})=>(0,ke.of)([`form__${r.mapping.value.substr(0,r.mapping.value.indexOf("."))}`]),evalParam:({param:r})=>{const s=r.mapping.value.substr(0,r.mapping.value.indexOf(".")),l=r.mapping.value.substr(r.mapping.value.indexOf(".")+1);return console.log(`form: ${s} || ${l}`),e.getForm$(s).pipe((0,nn.q)(1),(0,ve.U)(u=>u||new Go),(0,ve.U)(u=>n.serializeForm(u)),(0,ve.U)(u=>t.generateGenericTokens(u)),(0,ee.b)(u=>console.log(u)),(0,ve.U)(u=>u.has(`.${l}`)?t.replaceTokens(`[.${l}]`,u):""),(0,ee.b)(u=>{console.log("form value"),console.log(u)}))}}))(J,Y,he)),f.register((t=>new nM({id:"form",title:"Form",resolve:()=>t.getFormNames$.pipe((0,Qe.w)(n=>0===n.length?(0,ke.of)([]):(0,On.a)(n.map(e=>t.getForm$(e).pipe((0,ve.U)(r=>[e,r]))))),(0,ve.U)(n=>n.reduce((e,[r,o])=>({...e,[`form__${r}`]:o}),{}))),resolveSingle:()=>t.getFormNames$.pipe((0,Qe.w)(n=>(0,N.T)(...n.map(e=>t.getForm$(e).pipe((0,ve.U)(r=>[`form__${e}`,r]))))))}))(he)),ct.register((t=>new kf({id:"pages_form",title:"Pages Form",build:()=>{tu.prototype.serializePageForm=n=>new Promise(e=>{e(t.serializeForm(n))})}}))(Y)),ct.getPlugin("pages_form").subscribe(za=>za.build()),Wt.register((n=Y,new Ic({id:"panelpageform_serialize",title:"Panelpageform Serialize",create:({object:e})=>(0,ke.of)({success:!1,entity:n.serializeForm(new Go(e))}),read:({})=>(0,ke.of)({success:!1}),update:({})=>(0,ke.of)({success:!1}),delete:({})=>(0,ke.of)({success:!1})}))),Mn.register(((t,n,e)=>new Bo({id:"form",title:"Form",editor:dU,fetch:({settings:r})=>(0,ke.of)(new Fn).pipe((0,ve.U)(()=>new hv(t.deserializeAsObject(r))),(0,Qe.w)(o=>n.getForm$(o.name).pipe((0,ve.U)(s=>[o,s||new Go]),(0,tr.d)([o,new Go]),(0,nn.q)(1))),(0,ve.U)(([o,s])=>[o,e.serializeForm(s)]),(0,ve.U)(([o,s])=>new Fn({results:(0,ra.JSONPath)({path:`$.${o.field}.*`,json:s})}))),getBindings:({settings:r})=>(0,ke.of)([]).pipe((0,ve.U)(()=>new hv(t.deserializeAsObject(r))),(0,ve.U)(s=>[new Ut.ContentBinding({id:`form__${s.name}`,type:"context"})]))}))(Vr,he,Y))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Ut.CONTENT_PLUGIN),a.\u0275\u0275inject(ch),a.\u0275\u0275inject(Ut.ContentPluginManager),a.\u0275\u0275inject(ol),a.\u0275\u0275inject(iu),a.\u0275\u0275inject(mi),a.\u0275\u0275inject(rl),a.\u0275\u0275inject(yw),a.\u0275\u0275inject(fn.PluginConfigurationManager),a.\u0275\u0275inject(tM),a.\u0275\u0275inject(Dn),a.\u0275\u0275inject(yv),a.\u0275\u0275inject(ia),a.\u0275\u0275inject(HC),a.\u0275\u0275inject(qC),a.\u0275\u0275inject(KC),a.\u0275\u0275inject(Rv),a.\u0275\u0275inject(XC),a.\u0275\u0275inject(Cc),a.\u0275\u0275inject(F.HttpClient),a.\u0275\u0275inject(js),a.\u0275\u0275inject(pi),a.\u0275\u0275inject(ll),a.\u0275\u0275inject(mi),a.\u0275\u0275inject(Di),a.\u0275\u0275inject(hs),a.\u0275\u0275inject(Sa),a.\u0275\u0275inject(Ct.AttributeSerializerService),a.\u0275\u0275inject(Vf))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({providers:[VU,HC,qC,KC,Rv,XC,{provide:ln.EMBEDDABLE_COMPONENT,useValue:TU,multi:!0},{provide:ln.EMBEDDABLE_COMPONENT,useValue:Jb,multi:!0},{provide:ln.EMBEDDABLE_COMPONENT,useValue:Oh,multi:!0},{provide:uu,useClass:uu},{provide:cu,useClass:cu},{provide:Mc,useClass:Mc},{provide:Yf,useClass:Yf},{provide:Mh,useClass:Mh},{provide:Mv,useClass:Mv},{provide:Ut.CONTENT_PLUGIN,useFactory:fU,multi:!0,deps:[uu]},{provide:Ut.CONTENT_PLUGIN,useFactory:pU,multi:!0,deps:[cu]},{provide:Ut.CONTENT_PLUGIN,useFactory:mU,multi:!0,deps:[Mc]},{provide:Ut.CONTENT_PLUGIN,useFactory:hU,multi:!0,deps:[Yf]},{provide:Ut.CONTENT_PLUGIN,useFactory:gU,multi:!0,deps:[Mh]},{provide:ch,useValue:new Mf({id:"virtuallist",name:"virtuallist",title:"Virtual List",editorComponent:void 0,renderComponent:PU}),multi:!0},{provide:ch,useFactory:CU,multi:!0,deps:[Mv]},{provide:ch,useValue:new Mf({id:"table",name:"table",title:"Table",editorComponent:void 0,renderComponent:RU}),multi:!0}],imports:[[x.CommonModule,d.u5,d.UX,Wr.MaterialModule,Rs,Qm,Nn.RouterModule.forChild(OU),Iu,Ly.forChild(),hh,gC,ln.UtilsModule,_f,Sc,Ct.AttributesModule,Rb,EC,I3,fv,PC,Uy,wc,pw,al,Vh]]}),t})();class MU extends oM{}class DU{constructor(n,e,r){this.siteName=n,this.es=e,this.router=r,this.routesLoaded=!1}get panelPageListItemsService(){return this.es.getEntityCollectionService("PanelPageListItem")}isLoaded(){return this.routesLoaded}load(){return this.panelPageListItemsService.getWithQuery(`site=${encodeURIComponent(`{"term":{"site.keyword":{"value":"${this.siteName}"}}}`)}&path=${encodeURIComponent('{"wildcard":{"path.keyword":{"value":"*"}}}')}`).pipe((0,ve.U)(n=>n.filter(e=>void 0!==e.path&&""!==e.path)),(0,ve.U)(n=>n.map(e=>new Qn(e)).sort((e,r)=>e.path.split("/").length===r.path.split("/").length?e.path.split("/")[e.path.split("/").length-1]>r.path.split("/")[r.path.split("/").length-1]?-1:1:e.path.split("/").length>r.path.split("/").length?-1:1)),(0,ee.b)(n=>n.sort((e,r)=>e.path.length>r.path.length?1:-1)),(0,ee.b)(n=>{n.forEach(e=>{this.router.config.unshift({matcher:Ov(e),component:Oh,data:{panelPageListItem:e}}),this.router.config.unshift({matcher:Fv(e),component:Fh,data:{panelPageListItem:e}})}),this.routesLoaded=!0}),(0,ee.b)(()=>console.log("panels routes loaded")),(0,ve.U)(()=>!0))}}class jU{constructor(n,e,r){this.siteName=n,this.es=e,this.router=r}get panelPageListItemsService(){return this.es.getEntityCollectionService("PanelPageListItem")}match(n){let e=n.url;-1!==e.indexOf("?")&&(e=n.url.substr(0,e.indexOf("?")));const r="path="+e.substr(1).split("/").reduce((o,s,l)=>[...o,0===l?`/${s}`:`${o[l-1]}/${s}`],[]).map(o=>this.encodePathComponent(o)).join("&path=")+`&site=${encodeURIComponent(`{"term":{"site.keyword":{"value":"${this.siteName}"}}}`)}`;return this.panelPageListItemsService.getWithQuery(r).pipe((0,wr.K)(o=>(0,ke.of)([])),(0,ve.U)(o=>o.reduce((s,l)=>void 0===s||s.path.split("/").length<l.path.split("/").length?l:s,void 0)),(0,ve.U)(o=>!!o||n.url.indexOf("pages")>-1))}encodePathComponent(n){return`{"term":{"path.keyword":{"value":"${n}"}}}`}}class BU{constructor(n,e,r){this.siteName=n,this.es=e,this.router=r}get panelPageListItemsService(){return this.es.getEntityCollectionService("PanelPageListItem")}redirect(n,e){if(e.url.indexOf("pages")>-1)console.log(`redirect: ${e.url}`),this.router.navigateByUrl(e.url);else{let r=e.url;-1!==r.indexOf("?")&&(r=e.url.substr(0,r.indexOf("?")));const o="path="+r.substr(1).split("/").reduce((s,l,u)=>[...s,0===u?`/${l}`:`${s[u-1]}/${l}`],[]).map(s=>this.encodePathComponent(s)).join("&path=")+`&site=${encodeURIComponent(`{"term":{"site.keyword":{"value":"${this.siteName}"}}}`)}`;this.panelPageListItemsService.getWithQuery(o).pipe((0,ve.U)(s=>s.reduce((l,u)=>void 0===l||l.path.split("/").length<u.path.split("/").length?u:l,void 0)),(0,ve.U)(s=>{const l=e.url.substr(1).split("/").slice(s.path.split("/").length-1).join("/");return[s,l]})).subscribe(([s,l])=>{this.router.navigate(["reload"])})}}encodePathComponent(n){return`{"term":{"path.keyword":{"value":"${n}"}}}`}}let UU=(()=>{class t{constructor(e,r,o,s){e.register(((t,n,e)=>{const r=new DU(t,n,e),o=new jU(t,n,e),s=new BU(t,n,e);return new MU({id:"panels",title:"Panels",loadingStrategy:r,matchingStrategy:o,redirectHandler:s})})(o,s,r))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(vw),a.\u0275\u0275inject(Nn.Router),a.\u0275\u0275inject(ln.SITE_NAME),a.\u0275\u0275inject(Jn))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule]]}),t})();function jv(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]])}return e}var Zf=S(4437);const GU=["content"];function $U(t,n){if(1&t&&a.\u0275\u0275element(0,"formly-field",2),2&t){const e=n.$implicit;a.\u0275\u0275property("form",e.form)("options",e.options)("model",e.model)("field",e)}}const QC=["*"],HU=["container"];function qU(t,n){}const KU=["fieldComponent"];function XU(t,n){1&t&&a.\u0275\u0275element(0,"formly-field",1),2&t&&a.\u0275\u0275property("field",n.$implicit)}function JU(t,n,e){if(n.id)return n.id;let r=n.type;return!r&&n.template&&(r="template"),rp(r)&&(r=r.prototype.constructor.name),[t,r,n.key,e].join("_")}function vs(t){if(!t.key)return[];if(!t._keyPath||t._keyPath.key!==t.key){let n=[];if("string"==typeof t.key){const e=-1===t.key.indexOf("[")?t.key:t.key.replace(/\[(\w+)\]/g,".$1");n=-1!==e.indexOf(".")?e.split("."):[e]}else n=Array.isArray(t.key)?t.key.slice(0):[`${t.key}`];t._keyPath={key:t.key,path:n}}return t._keyPath.path.slice(0)}const Bv=["required","pattern","minLength","maxLength","min","max"];function ep(t,n){let e=vs(t);if(0===e.length)return;let r=t;for(;r.parent;)r=r.parent,e=[...vs(r),...e];if(void 0===n&&t.resetOnHide){const o=e.pop();delete e.reduce((l,u)=>l[u]||{},r.model)[o]}else!function QU(t,n,e){for(let r=0;r<n.length-1;r++){const o=n[r];(!t[o]||!pl(t[o]))&&(t[o]=/^\d+$/.test(n[r+1])?[]:{}),t=t[o]}t[n[n.length-1]]=ki(e)}(r.model,e,n)}function tp(t){let n=t.parent.model;for(const e of vs(t)){if(!n)return n;n=n[e]}return n}function Dc(t,...n){return n.forEach(e=>{for(let r in e)fl(t[r])||YU(t[r])?t[r]=ki(e[r]):ZU(t[r],e[r])&&Dc(t[r],e[r])}),t}function fl(t){return null==t}function np(t){return void 0===t}function YU(t){return""===t}function rp(t){return"function"==typeof t}function ZU(t,n){return pl(t)&&pl(n)&&Object.getPrototypeOf(t)===Object.getPrototypeOf(n)&&!(Array.isArray(t)||Array.isArray(n))}function pl(t){return null!=t&&"object"==typeof t}function ki(t){if(!pl(t)||(0,Zf.b)(t)||t instanceof a.TemplateRef||t.changingThisBreaksApplicationSecurity||-1!==["RegExp","FileList","File","Blob"].indexOf(t.constructor.name))return t;if(t instanceof Set)return new Set(t);if(t instanceof Map)return new Map(t);if(t._isAMomentObject&&rp(t.clone))return t.clone();if(t instanceof d.TO)return null;if(t instanceof Date)return new Date(t.getTime());if(Array.isArray(t))return t.slice(0).map(r=>ki(r));const n=Object.getPrototypeOf(t);let e=Object.create(n);return e=Object.setPrototypeOf(e,n),Object.keys(t).reduce((r,o)=>{const s=Object.getOwnPropertyDescriptor(t,o);return s.get?Object.defineProperty(r,o,s):r[o]=ki(t[o]),r},e)}function Gr(t,n,e){Object.defineProperty(t,n,{enumerable:!1,writable:!0,configurable:!0}),t[n]=e}function uo(t,n,e){t._observers||Gr(t,"_observers",{}),t._observers[n]||(t._observers[n]=[]);let r=t._observers[n];return-1===r.indexOf(e)&&(r.push(e),e({currentValue:t[n],firstChange:!0}),1===r.length&&(Gr(t,`___$${n}`,t[n]),Object.defineProperty(t,n,{configurable:!0,get:()=>t[`___$${n}`],set:o=>{if(o!==t[`___$${n}`]){const s=t[`___$${n}`];t[`___$${n}`]=o,r.forEach(l=>l({previousValue:s,currentValue:o,firstChange:!1}))}}}))),()=>r.splice(r.indexOf(e),1)}const jc=new a.InjectionToken("FORMLY_CONFIG");class Yr{constructor(){this.types={},this.validators={},this.wrappers={},this.messages={},this.templateManipulators={preWrapper:[],postWrapper:[]},this.extras={checkExpressionOn:"changeDetectionCheck",lazyRender:!1,showError:function(n){return n.formControl&&n.formControl.invalid&&(n.formControl.touched||n.options.parentForm&&n.options.parentForm.submitted||!(!n.field.validation||!n.field.validation.show))}},this.extensions={}}addConfig(n){n.types&&n.types.forEach(e=>this.setType(e)),n.validators&&n.validators.forEach(e=>this.setValidator(e)),n.wrappers&&n.wrappers.forEach(e=>this.setWrapper(e)),n.manipulators&&(console.warn("NgxFormly: passing 'manipulators' config is deprecated, use custom extension instead."),n.manipulators.forEach(e=>this.setManipulator(e))),n.validationMessages&&n.validationMessages.forEach(e=>this.addValidatorMessage(e.name,e.message)),n.extensions&&n.extensions.forEach(e=>this.extensions[e.name]=e.extension),n.extras&&(this.extras=Object.assign({},this.extras,n.extras))}setType(n){Array.isArray(n)?n.forEach(e=>this.setType(e)):(this.types[n.name]||(this.types[n.name]={name:n.name}),["component","extends","defaultOptions","wrappers"].forEach(e=>{n.hasOwnProperty(e)&&(this.types[n.name][e]=n[e])}))}getType(n){if(!this.types[n])throw new Error(`[Formly Error] The type "${n}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return this.mergeExtendedType(n),this.types[n]}getMergedField(n={}){const e=this.getType(n.type);e.defaultOptions&&Dc(n,e.defaultOptions);const r=e.extends&&this.getType(e.extends).defaultOptions;r&&Dc(n,r),n&&n.optionsTypes&&n.optionsTypes.forEach(s=>{const l=this.getType(s).defaultOptions;l&&Dc(n,l)});const o=this.resolveFieldTypeRef(n);o&&o.instance&&o.instance.defaultOptions&&Dc(n,o.instance.defaultOptions),!n.wrappers&&e.wrappers&&(n.wrappers=[...e.wrappers])}resolveFieldTypeRef(n={}){if(!n.type)return null;const e=this.getType(n.type);if(!e.component||e._componentRef)return e._componentRef;const{_resolver:r,_injector:o}=n.parent.options,s=r.resolveComponentFactory(e.component).create(o);return Gr(e,"_componentRef",s),s.destroy(),e._componentRef}setWrapper(n){this.wrappers[n.name]=n,n.types&&n.types.forEach(e=>{this.setTypeWrapper(e,n.name)})}getWrapper(n){if(!this.wrappers[n])throw new Error(`[Formly Error] The wrapper "${n}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return this.wrappers[n]}setTypeWrapper(n,e){this.types[n]||(this.types[n]={}),this.types[n].wrappers||(this.types[n].wrappers=[]),-1===this.types[n].wrappers.indexOf(e)&&this.types[n].wrappers.push(e)}setValidator(n){this.validators[n.name]=n}getValidator(n){if(!this.validators[n])throw new Error(`[Formly Error] The validator "${n}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return this.validators[n]}addValidatorMessage(n,e){this.messages[n]=e}getValidatorMessage(n){return this.messages[n]}setManipulator(n){(new n.class)[n.method](this)}mergeExtendedType(n){if(!this.types[n].extends)return;const e=this.getType(this.types[n].extends);this.types[n].component||(this.types[n].component=e.component),this.types[n].wrappers||(this.types[n].wrappers=e.wrappers)}}Yr.\u0275fac=function(n){return new(n||Yr)},Yr.\u0275prov=a.\u0275\u0275defineInjectable({token:Yr,factory:Yr.\u0275fac,providedIn:"root"}),Yr.ngInjectableDef=(0,a.defineInjectable)({factory:function(){return new Yr},token:Yr,providedIn:"root"});class Aa{constructor(n,e,r){this.formlyConfig=n,this.componentFactoryResolver=e,this.injector=r}buildForm(n,e=[],r,o){if(!this.formlyConfig.extensions.core)throw new Error("NgxFormly: missing `forRoot()` call. use `forRoot()` when registering the `FormlyModule`.");const s={fieldGroup:e,model:r,formControl:n,options:this._setOptions(o)};!function WU(t,n){const e=t._updateTreeValidity.bind(t);t._updateTreeValidity=()=>{},n(),t._updateTreeValidity=e}(n,()=>{this._buildForm(s),s.options._checkField(s,!0)})}_buildForm(n){this.getExtensions().forEach(e=>e.prePopulate&&e.prePopulate(n)),this.getExtensions().forEach(e=>e.onPopulate&&e.onPopulate(n)),n.fieldGroup&&n.fieldGroup.forEach(e=>this._buildForm(e)),this.getExtensions().forEach(e=>e.postPopulate&&e.postPopulate(n))}getExtensions(){return Object.keys(this.formlyConfig.extensions).map(n=>this.formlyConfig.extensions[n])}_setOptions(n){return(n=n||{}).formState=n.formState||{},n.showError||(n.showError=this.formlyConfig.extras.showError),n.fieldChanges||Gr(n,"fieldChanges",new O.x),n._resolver||Gr(n,"_resolver",this.componentFactoryResolver),n._injector||Gr(n,"_injector",this.injector),n._hiddenFieldsForCheck||(n._hiddenFieldsForCheck=[]),n._markForCheck||(n._markForCheck=e=>{e._componentRefs&&e._componentRefs.forEach(r=>{r.injector.get(a.ChangeDetectorRef).markForCheck()}),e.fieldGroup&&e.fieldGroup.forEach(r=>n._markForCheck(r))}),n._buildField||(n._buildField=e=>(this._setOptions(e.options),this._buildForm(e),e.options._checkField(e,!0),e)),n}}function Lv(t,n=!1){const e=t.formControl,r=e._fields?e._fields.indexOf(t):-1;-1!==r&&e._fields.splice(r,1);const o=e.parent;if(!o)return;const s={emitEvent:n};if(o instanceof d.Oe){const l=o.controls.findIndex(u=>u===e);-1!==l&&Bh(o,s,()=>o.removeAt(l))}else if(o instanceof d.cw){const l=vs(t),u=l[l.length-1];o.get([u])===e&&Bh(o,s,()=>o.removeControl(u))}e.setParent(null)}function YC(t){if(t.formControl)return t.formControl;if(!1===t.shareFormControl)return null;const n=t.parent.formControl;return n?n.get(vs(t)):null}function Uv(t,n,e=!1){(n=n||t.formControl)._fields||Gr(n,"_fields",[]),-1===n._fields.indexOf(t)&&n._fields.push(t),!t.formControl&&n&&(Gr(t,"formControl",n),n.setValidators(null),n.setAsyncValidators(null),t.templateOptions.disabled=!!t.templateOptions.disabled,uo(t.templateOptions,"disabled",({firstChange:u,currentValue:p})=>{u||(p?t.formControl.disable():t.formControl.enable())}),n.registerOnDisabledChange&&n.registerOnDisabledChange(u=>{t.templateOptions.___$disabled=u,t.options&&t.options._markForCheck(t)}));let r=t.parent.formControl;if(!r||!t.key)return;const o=vs(t),s=tp(t);(!fl(n.value)||!fl(s))&&n.value!==s&&n instanceof d.NI&&n.patchValue(s);for(let u=0;u<o.length-1;u++){const p=o[u];r.get([p])||Bh(r,{emitEvent:e},()=>r.setControl(p,new d.cw({}))),r=r.get([p])}const l=o[o.length-1];!t._hide&&r.get([l])!==n&&Bh(r,{emitEvent:e},()=>r.setControl(l,n))}function jh(t,n=!1){const e=t.status,r=t.value;t.updateValueAndValidity({emitEvent:!1,onlySelf:n}),e!==t.status&&t.statusChanges.emit(t.status),r!==t.value&&t.valueChanges.emit(t.value)}function Bh(t,n,e){t instanceof d.cw&&!t.__patchForEachChild&&(Gr(t,"__patchForEachChild",!0),t._forEachChild=o=>{Object.keys(t.controls).forEach(s=>t.controls[s]&&o(t.controls[s],s))});const r=t.updateValueAndValidity.bind(t);!1===n.emitEvent&&(t.updateValueAndValidity=o=>{r(Object.assign({},o||{},{emitEvent:!1}))}),e(),!1===n.emitEvent&&(t.updateValueAndValidity=r)}function ZC(t){t._fields&&delete t._fields,t.setValidators(null),t.setAsyncValidators(null),(t instanceof d.cw||t instanceof d.Oe)&&Object.keys(t.controls).forEach(n=>ZC(t.controls[n]))}Aa.\u0275fac=function(n){return new(n||Aa)(a.\u0275\u0275inject(Yr),a.\u0275\u0275inject(a.ComponentFactoryResolver),a.\u0275\u0275inject(a.Injector))},Aa.\u0275prov=a.\u0275\u0275defineInjectable({token:Aa,factory:Aa.\u0275fac,providedIn:"root"}),Aa.ngInjectableDef=(0,a.defineInjectable)({factory:function(){return new Aa((0,a.inject)(Yr),(0,a.inject)(a.ComponentFactoryResolver),(0,a.inject)(a.INJECTOR))},token:Aa,providedIn:"root"});let ex=(()=>{class t{constructor(e,r,o,s,l){this.formlyBuilder=e,this.formlyConfig=r,this.ngZone=o,this.parentFormGroup=l,this.modelChange=new a.EventEmitter,this.immutable=!1,this._modelChangeValue={},this.modelChangeSubs=[],this.modelChange$=new O.x,this.modelChangeSub=this.modelChange$.pipe((0,Qe.w)(()=>this.ngZone.onStable.asObservable().pipe((0,nn.q)(1)))).subscribe(()=>this.ngZone.runGuarded(()=>{this.checkExpressionChange(),this.modelChange.emit(this._modelChangeValue=ki(this.model))})),null!==s&&console.warn("NgxFormly: passing 'immutable' attribute to 'formly-form' component is deprecated since v5.5, enable immutable mode through NgModule declaration instead."),this.immutable=null!==s||!!r.extras.immutable}set model(e){this._model=this.immutable?ki(e):e}get model(){return this._model||(this._model={}),this._model}set fields(e){this._fields=this.immutable?ki(e):e}get fields(){return this._fields||[]}set options(e){this._options=this.immutable?ki(e):e}get options(){return this._options}set content(e){if(e){let r=!1,o=e.nativeElement.nextSibling;for(;o&&!r;)(o.nodeType===Node.ELEMENT_NODE||o.nodeType===Node.TEXT_NODE&&o.textContent&&""!==o.textContent.trim())&&(r=!0),o=o.nextSibling;r&&console.warn("NgxFormly: content projection for 'formly-form' component is deprecated since v5.5, you should avoid passing content inside the 'formly-form' tag.")}}ngDoCheck(){"changeDetectionCheck"===this.formlyConfig.extras.checkExpressionOn&&this.checkExpressionChange()}ngOnChanges(e){e.model&&this.field&&(this.field.model=this.model),e.fields&&this.form&&ZC(this.form),(e.fields||e.form||e.model&&this._modelChangeValue!==e.model.currentValue)&&(this.form=this.form||new d.cw({}),this.setOptions(),this.options.updateInitialValue(),this.clearModelSubscriptions(),this.formlyBuilder.buildForm(this.form,this.fields,this.model,this.options),this.trackModelChanges(this.fields))}ngOnDestroy(){this.modelChangeSub.unsubscribe(),this.clearModelSubscriptions()}changeModel({value:r,field:o}){ep(o,r),this.modelChange$.next()}setOptions(){this.options||(this.options={}),this.options.resetModel||(this.options.resetModel=e=>{e=ki(fl(e)?this.options._initialModel:e),this.model&&(Object.keys(this.model).forEach(r=>delete this.model[r]),Object.assign(this.model,e||{})),this.options._buildForm(),this.options.parentForm&&this.options.parentForm.control===this.form?this.options.parentForm.resetForm(this.model):this.form.reset(this.model)}),!this.options.parentForm&&this.parentFormGroup&&(Gr(this.options,"parentForm",this.parentFormGroup),uo(this.options.parentForm,"submitted",({firstChange:e})=>{e||(this.checkExpressionChange(),this.options._markForCheck({fieldGroup:this.fields,model:this.model,formControl:this.form,options:this.options}))})),this.options.updateInitialValue||(this.options.updateInitialValue=()=>this.options._initialModel=ki(this.model)),this.options._buildForm||(this.options._buildForm=(e=!1)=>{this.clearModelSubscriptions(),this.formlyBuilder.buildForm(this.form,this.fields,this.model,this.options),this.trackModelChanges(this.fields),e&&this.modelChange.emit(this._modelChangeValue=ki(this.model))}),this.options._trackModelChanges||(this.options._trackModelChanges=(e=!1)=>{this.clearModelSubscriptions(),this.trackModelChanges(this.fields),e&&this.modelChange.emit(this._modelChangeValue=ki(this.model))})}checkExpressionChange(){this.options&&this.options._checkField&&this.options._checkField({fieldGroup:this.fields,model:this.model,formControl:this.form,options:this.options})}trackModelChanges(e,r=[]){e.forEach(o=>{if(o.key&&!o.fieldGroup&&o.formControl){const s=o.formControl;let l=s.valueChanges.pipe((0,jo.x)((v,D)=>!(v!==D||Array.isArray(v)||pl(v))));const{updateOn:u,debounce:p}=o.modelOptions;(!u||"change"===u)&&p&&p.default>0&&(l=s.valueChanges.pipe((0,Un.b)(p.default))),this.modelChangeSubs.push(l.subscribe(v=>{s instanceof d.NI&&s._fields&&s._fields.length>1&&s.patchValue(v,{emitEvent:!1,onlySelf:!0}),o.parsers&&o.parsers.length>0&&o.parsers.forEach(D=>v=D(v)),this.changeModel({key:[...r,...vs(o)].join("."),value:v,field:o})}));const f=s.valueChanges.observers;f&&f.length>1&&f.unshift(f.pop())}o.fieldGroup&&o.fieldGroup.length>0&&this.trackModelChanges(o.fieldGroup,o.key?[...r,...vs(o)]:r)})}clearModelSubscriptions(){this.modelChangeSubs.forEach(e=>e.unsubscribe()),this.modelChangeSubs=[]}get field(){return this.fields&&this.fields[0]&&this.fields[0].parent}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Aa),a.\u0275\u0275directiveInject(Yr),a.\u0275\u0275directiveInject(a.NgZone),a.\u0275\u0275injectAttribute("immutable"),a.\u0275\u0275directiveInject(d.sg,8))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["formly-form"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(GU,5),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.content=o.first)}},inputs:{model:"model",fields:"fields",options:"options",form:"form"},outputs:{modelChange:"modelChange"},features:[a.\u0275\u0275ProvidersFeature([Aa]),a.\u0275\u0275NgOnChangesFeature],ngContentSelectors:QC,decls:4,vars:1,consts:[["hide-deprecation","",3,"form","options","model","field",4,"ngFor","ngForOf"],["content",""],["hide-deprecation","",3,"form","options","model","field"]],template:function(e,r){1&e&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275template(0,$U,1,4,"formly-field",0),a.\u0275\u0275elementContainerStart(1,null,1),a.\u0275\u0275projection(3),a.\u0275\u0275elementContainerEnd()),2&e&&a.\u0275\u0275property("ngForOf",r.fields)},directives:function(){return[x.NgForOf,zv]},encapsulation:2}),t})(),zv=(()=>{class t{constructor(e,r,o,s,l){this.formlyConfig=e,this.renderer=r,this.resolver=o,this.elementRef=s,this.warnDeprecation=!1,this.modelChange=new a.EventEmitter,this.hostObservers=[],this.componentRefs=[],this.hooksObservers=[],this.detectFieldBuild=!1,this.warnDeprecation=null===l}set model(e){this.warnDeprecation&&console.warn(`NgxFormly: passing 'model' input to '${this.constructor.name}' component is not required anymore, you may remove it!`)}set form(e){this.warnDeprecation&&console.warn(`NgxFormly: passing 'form' input to '${this.constructor.name}' component is not required anymore, you may remove it!`)}set options(e){this.warnDeprecation&&console.warn(`NgxFormly: passing 'options' input to '${this.constructor.name}' component is not required anymore, you may remove it!`)}ngAfterContentInit(){this.triggerHook("afterContentInit")}ngAfterContentChecked(){this.triggerHook("afterContentChecked")}ngAfterViewInit(){this.triggerHook("afterViewInit")}ngAfterViewChecked(){this.triggerHook("afterViewChecked")}ngDoCheck(){this.triggerHook("doCheck"),this.detectFieldBuild&&this.field&&this.field.options&&this.render()}ngOnInit(){this.triggerHook("onInit")}ngOnChanges(e){this.triggerHook("onChanges",e)}ngOnDestroy(){this.resetRefs(this.field),this.hostObservers.forEach(e=>e()),this.hooksObservers.forEach(e=>e()),this.triggerHook("onDestroy")}renderField(e,r,o=[]){if(this.containerRef===e&&(this.resetRefs(this.field),this.containerRef.clear(),o=this.field?this.field.wrappers:[]),o&&o.length>0){const[s,...l]=o,{component:u}=this.formlyConfig.getWrapper(s),p=e.createComponent(this.resolver.resolveComponentFactory(u));this.attachComponentRef(p,r),uo(p.instance,"fieldComponent",({firstChange:f,previousValue:v,currentValue:D})=>{if(D){if(v&&v._lContainer===D._lContainer)return;const J=v?v.detach():null;J&&!J.destroyed?D.insert(J):this.renderField(D,r,l),!f&&p.changeDetectorRef.detectChanges()}})}else if(r&&r.type){const{component:s}=this.formlyConfig.getType(r.type),l=e.createComponent(this.resolver.resolveComponentFactory(s));this.attachComponentRef(l,r)}}triggerHook(e,r){if(this.field&&this.field.hooks&&this.field.hooks[e]&&(!r||r.field)){const o=this.field.hooks[e](this.field);if((0,Zf.b)(o)&&-1!==["onInit","afterContentInit","afterViewInit"].indexOf(e)){const s=o.subscribe();this.hooksObservers.push(()=>s.unsubscribe())}}this.field&&this.field.lifecycle&&this.field.lifecycle[e]&&this.field.lifecycle[e](this.field.form,this.field,this.field.model,this.field.options),"onChanges"===e&&r.field&&(this.resetRefs(r.field.previousValue),this.render())}attachComponentRef(e,r){this.componentRefs.push(e),r._componentRefs.push(e),Object.assign(e.instance,{field:r})}render(){if(this.field){if(!this.field.options)return void(this.detectFieldBuild=!0);this.detectFieldBuild=!1,this.hostObservers.forEach(e=>e()),this.hostObservers=[uo(this.field,"hide",({firstChange:e,currentValue:r})=>{(!e||e&&r)&&this.renderer.setStyle(this.elementRef.nativeElement,"display",r?"none":""),this.formlyConfig.extras.lazyRender?r?(this.containerRef.clear(),this.field.className&&this.renderer.removeAttribute(this.elementRef.nativeElement,"class")):(this.renderField(this.containerRef,this.field),this.field.className&&this.renderer.setAttribute(this.elementRef.nativeElement,"class",this.field.className)):e&&this.renderField(this.containerRef,this.field)}),uo(this.field,"className",({firstChange:e,currentValue:r})=>{(!e||e&&r)&&(!this.formlyConfig.extras.lazyRender||!0!==this.field.hide)&&this.renderer.setAttribute(this.elementRef.nativeElement,"class",r)})]}}resetRefs(e){e&&(e._componentRefs?e._componentRefs=e._componentRefs.filter(r=>-1===this.componentRefs.indexOf(r)):Gr(this.field,"_componentRefs",[])),this.componentRefs=[]}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Yr),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275injectAttribute("hide-deprecation"))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["formly-field"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(HU,7,a.ViewContainerRef),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.containerRef=o.first)}},inputs:{model:"model",form:"form",options:"options",field:"field"},outputs:{modelChange:"modelChange"},features:[a.\u0275\u0275NgOnChangesFeature],decls:2,vars:0,consts:[["container",""]],template:function(e,r){1&e&&a.\u0275\u0275template(0,qU,0,0,"ng-template",null,0,a.\u0275\u0275templateRefExtractor)},encapsulation:2}),t})(),co=(()=>{class t{constructor(e,r,o){this.renderer=e,this.elementRef=r,this.uiAttributesCache={},this.uiAttributes=null,this.uiEvents={listeners:[],events:["click","keyup","keydown","keypress","focus","blur","change"],callback:(s,l)=>{switch(s){case"focus":return this.onFocus(l);case"blur":return this.onBlur(l);case"change":return this.onChange(l);default:return this.to[s](this.field,l)}}},this.document=o}get to(){return this.field.templateOptions||{}}get fieldAttrElements(){return this.field&&this.field._elementRefs||[]}ngOnChanges(e){e.field&&(this.field.name&&this.setAttribute("name",this.field.name),this.uiEvents.listeners.forEach(r=>r()),this.uiEvents.events.forEach(r=>{(this.to&&this.to[r]||-1!==["focus","blur","change"].indexOf(r))&&this.uiEvents.listeners.push(this.renderer.listen(this.elementRef.nativeElement,r,o=>this.uiEvents.callback(r,o)))}),this.to&&this.to.attributes&&uo(this.to,"attributes",({currentValue:r,previousValue:o})=>{o&&Object.keys(o).forEach(s=>this.removeAttribute(s)),r&&Object.keys(r).forEach(s=>{null!=r[s]&&this.setAttribute(s,r[s])})}),this.detachElementRef(e.field.previousValue),this.attachElementRef(e.field.currentValue),1===this.fieldAttrElements.length&&(!this.id&&this.field.id&&this.setAttribute("id",this.field.id),uo(this.field,"focus",({currentValue:r})=>{this.toggleFocus(r)}))),e.id&&this.setAttribute("id",this.id)}ngDoCheck(){if(!this.uiAttributes){const e=this.elementRef.nativeElement;this.uiAttributes=[...Bv,"tabindex","placeholder","readonly","disabled","step"].filter(r=>!e.hasAttribute||!e.hasAttribute(r))}this.uiAttributes.forEach(e=>{const r=this.to[e];this.uiAttributesCache[e]!==r&&(!this.to.attributes||!this.to.attributes.hasOwnProperty(e.toLowerCase()))&&(this.uiAttributesCache[e]=r,r||0===r?this.setAttribute(e,!0===r?e:`${r}`):this.removeAttribute(e))})}ngOnDestroy(){this.uiEvents.listeners.forEach(e=>e()),this.detachElementRef(this.field)}toggleFocus(e){const r=this.fieldAttrElements?this.fieldAttrElements[0]:null;if(!r||!r.nativeElement.focus)return;const o=!!this.document.activeElement&&this.fieldAttrElements.some(({nativeElement:s})=>this.document.activeElement===s||s.contains(this.document.activeElement));e&&!o?Promise.resolve().then(()=>r.nativeElement.focus()):!e&&o&&Promise.resolve().then(()=>r.nativeElement.blur())}onFocus(e){this.field.___$focus=!0,this.to.focus&&this.to.focus(this.field,e)}onBlur(e){this.field.___$focus=!1,this.to.blur&&this.to.blur(this.field,e)}onHostChange(e){e instanceof Event||this.onChange(e)}onChange(e){this.to.change&&this.to.change(this.field,e),this.field.formControl&&this.field.formControl.markAsDirty()}attachElementRef(e){!e||(e._elementRefs&&-1===e._elementRefs.indexOf(this.elementRef)?e._elementRefs.push(this.elementRef):Gr(e,"_elementRefs",[this.elementRef]))}detachElementRef(e){const r=e&&e._elementRefs?this.fieldAttrElements.indexOf(this.elementRef):-1;-1!==r&&this.field._elementRefs.splice(r,1)}setAttribute(e,r){this.renderer.setAttribute(this.elementRef.nativeElement,e,r)}removeAttribute(e){this.renderer.removeAttribute(this.elementRef.nativeElement,e)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(x.DOCUMENT))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["","formlyAttributes",""]],hostBindings:function(e,r){1&e&&a.\u0275\u0275listener("change",function(s){return r.onHostChange(s)})},inputs:{field:["formlyAttributes","field"],id:"id"},features:[a.\u0275\u0275NgOnChangesFeature]}),t})(),ip=(()=>{class t{get model(){return this.field.model}set model(e){console.warn(`NgxFormly: passing 'model' input to '${this.constructor.name}' component is not required anymore, you may remove it!`)}get form(){return this.field.parent.formControl}set form(e){console.warn(`NgxFormly: passing 'form' input to '${this.constructor.name}' component is not required anymore, you may remove it!`)}get options(){return this.field.options}set options(e){console.warn(`NgxFormly: passing 'options' input to '${this.constructor.name}' component is not required anymore, you may remove it!`)}get key(){return this.field.key}get formControl(){return this.field.formControl}get to(){return this.field.templateOptions||{}}get showError(){return this.options.showError(this)}get id(){return this.field.id}get formState(){return this.options.formState||{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,inputs:{model:"model",form:"form",options:"options",field:"field"}}),t})(),tz=(()=>{class t extends ip{constructor(e){super(),this.defaultOptions={defaultValue:[]},e instanceof Aa&&console.warn(`NgxFormly: passing 'FormlyFormBuilder' to '${this.constructor.name}' type is not required anymore, you may remove it!`)}get formControl(){return this.field.formControl}onPopulate(e){!e.formControl&&e.key&&Uv(e,YC(e)||new d.Oe([],{updateOn:e.modelOptions.updateOn})),e.fieldGroup=e.fieldGroup||[];const r=e.model?e.model.length:0;if(e.fieldGroup.length>r)for(let o=e.fieldGroup.length-1;o>=r;--o)Lv(e.fieldGroup[o],!0),e.fieldGroup.splice(o,1);for(let o=e.fieldGroup.length;o<r;o++){const s=Object.assign({},ki(e.fieldArray),{key:`${o}`});e.fieldGroup.push(s)}}add(e,r,{markAsDirty:o}={markAsDirty:!0}){e=fl(e)?this.field.fieldGroup.length:e,this.model||ep(this.field,[]),this.model.splice(e,0,r?ki(r):void 0),this._build(),o&&this.formControl.markAsDirty()}remove(e,{markAsDirty:r}={markAsDirty:!0}){this.model.splice(e,1),Lv(this.field.fieldGroup[e],!0),this.field.fieldGroup.splice(e,1),this.field.fieldGroup.forEach((o,s)=>o.key=`${s}`),this._build(),r&&this.formControl.markAsDirty()}_build(){this.options._buildField(this.field),this.options._trackModelChanges(!0)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(jc,8))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["fieldArray"]],features:[a.\u0275\u0275InheritDefinitionFeature]}),t})(),tx=(()=>{class t extends ip{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=a.\u0275\u0275getInheritedFactory(t)))(r||t)}}(),t.\u0275dir=a.\u0275\u0275defineDirective({type:t,viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(KU,5,a.ViewContainerRef),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.fieldComponent=o.first)}},features:[a.\u0275\u0275InheritDefinitionFeature]}),t})(),nz=(()=>{class t extends ip{constructor(){super(...arguments),this.defaultOptions={defaultValue:{}}}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=a.\u0275\u0275getInheritedFactory(t)))(r||t)}}(),t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["formly-group"]],hostVars:2,hostBindings:function(e,r){2&e&&a.\u0275\u0275classMap(r.field.fieldGroupClassName||"")},features:[a.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:QC,decls:2,vars:1,consts:[[3,"field",4,"ngFor","ngForOf"],[3,"field"]],template:function(e,r){1&e&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275template(0,XU,1,1,"formly-field",0),a.\u0275\u0275projection(1)),2&e&&a.\u0275\u0275property("ngForOf",r.field.fieldGroup)},directives:[x.NgForOf,zv],encapsulation:2}),t})(),rz=(()=>{class t{constructor(e){this.formlyConfig=e}ngOnChanges(){const e=Bv.map(r=>`templateOptions.${r}`);this.errorMessage$=(0,N.T)(this.field.formControl.statusChanges,this.field.options?this.field.options.fieldChanges.pipe((0,z.h)(({field:r,type:o,property:s})=>r===this.field&&"expressionChanges"===o&&(-1!==s.indexOf("validation")||-1!==e.indexOf(s)))):(0,ke.of)(null)).pipe((0,Wf.O)(null),(0,Qe.w)(()=>(0,Zf.b)(this.errorMessage)?this.errorMessage:(0,ke.of)(this.errorMessage)))}get errorMessage(){const e=this.field.formControl;for(let r in e.errors)if(e.errors.hasOwnProperty(r)){let o=this.formlyConfig.getValidatorMessage(r);if(pl(e.errors[r])){if(e.errors[r].errorPath)return;e.errors[r].message&&(o=e.errors[r].message)}return this.field.validation&&this.field.validation.messages&&this.field.validation.messages[r]&&(o=this.field.validation.messages[r]),this.field.validators&&this.field.validators[r]&&this.field.validators[r].message&&(o=this.field.validators[r].message),this.field.asyncValidators&&this.field.asyncValidators[r]&&this.field.asyncValidators[r].message&&(o=this.field.asyncValidators[r].message),"function"==typeof o?o(e.errors[r],this.field):o}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Yr))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["formly-validation-message"]],inputs:{field:"field"},features:[a.\u0275\u0275NgOnChangesFeature],decls:2,vars:3,template:function(e,r){1&e&&(a.\u0275\u0275text(0),a.\u0275\u0275pipe(1,"async")),2&e&&a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(1,1,r.errorMessage$))},pipes:[x.AsyncPipe],encapsulation:2,changeDetection:0}),t})(),iz=(()=>{class t extends ip{constructor(e){super(),this.sanitizer=e,this.innerHtml={content:null,template:null}}get template(){return this.field&&this.field.template!==this.innerHtml.template&&(this.innerHtml={template:this.field.template,content:this.to.safeHtml?this.sanitizer.bypassSecurityTrustHtml(this.field.template):this.field.template}),this.innerHtml.content}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(P.H7))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["formly-template"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[[3,"innerHtml"]],template:function(e,r){1&e&&a.\u0275\u0275element(0,"div",0),2&e&&a.\u0275\u0275property("innerHtml",r.template,a.\u0275\u0275sanitizeHtml)},encapsulation:2}),t})();function nx(t,n,e){return t instanceof Function?t.apply(n,e):!!t}class oz{prePopulate(n){if(n.parent||n.options._checkField)return;let e=!1;n.options._checkField=(r,o)=>{e||(e=!0,this.checkField(r,o),e=!1)}}postPopulate(n){if(n.parent&&!n._expressionProperties){if(Gr(n,"_expressionProperties",{}),n.expressionProperties)for(const e in n.expressionProperties){const r=n.expressionProperties[e];if("string"==typeof r||rp(r))n._expressionProperties[e]={expression:this._evalExpression(e,r,"templateOptions.disabled"===e&&n.parent.expressionProperties&&n.parent.expressionProperties.hasOwnProperty("templateOptions.disabled")?()=>n.parent.templateOptions.disabled:void 0)},"templateOptions.disabled"===e&&Object.defineProperty(n._expressionProperties[e],"expressionValue",{get:()=>n.templateOptions.disabled,set:()=>{},enumerable:!0,configurable:!0});else if(r instanceof g.y){const o=()=>r.subscribe(p=>{this.setExprValue(n,e,p),n.options&&n.options._markForCheck&&n.options._markForCheck(n)});let s=o();const l=n.hooks.onInit;n.hooks.onInit=()=>(null===s&&(s=o()),l&&l(n));const u=n.hooks.onDestroy;n.hooks.onDestroy=()=>{u&&u(n),s.unsubscribe(),s=null}}}n.hideExpression?(delete n.hide,n.hideExpression=this._evalExpression("hide",n.hideExpression,()=>{let e=n.parent;for(;e.parent&&!e.hide;)e=e.parent;return e.hide})):uo(n,"hide",({currentValue:e,firstChange:r})=>{n._hide=e,(!r||r&&!0===e)&&n.options._hiddenFieldsForCheck.push(n)})}}_evalExpression(n,e,r){return(...o)=>{try{return"string"==typeof e&&(e=function az(t,n){try{return-1!==t.indexOf("this.field")&&console.warn("NgxFormly: using 'this.field' in expressionProperties is deprecated since v5.1, use 'field' instead."),Function(...n,`return ${t};`)}catch(e){console.error(e)}}(e,["model","formState","field"])),"function"!=typeof e&&(e=()=>!!e),r&&r()||e(...o)}catch(s){throw s.message=`[Formly Error] [Expression "${n}"] ${s.message}`,s}}}_evalExpressionPath(n,e){if(n._expressionProperties[e]&&n._expressionProperties[e].expressionPaths)return n._expressionProperties[e].expressionPaths;let r=[];return-1===e.indexOf("[")?r=e.split("."):e.split(/[[\]]{1,2}/).filter(o=>o).forEach(o=>{const s=o.match(/['|"](.*?)['|"]/);s?r.push(s[1]):r.push(...o.split(".").filter(l=>l))}),n._expressionProperties[e]&&(n._expressionProperties[e].expressionPaths=r),r}checkField(n,e=!1){const r=this._checkField(n,e);n.options._hiddenFieldsForCheck.sort(o=>o.hide?-1:1).forEach(o=>this.toggleFormControl(o,!!o.hide,!e)),n.options._hiddenFieldsForCheck=[],r&&(this.checkField(n),n.options&&n.options._markForCheck&&n.options._markForCheck(n))}_checkField(n,e=!1){let r=!1;return n.fieldGroup.forEach(o=>{!o.options||(this.checkFieldExpressionChange(o,e)&&(r=!0),this.checkFieldVisibilityChange(o,e)&&(n.options._hiddenFieldsForCheck.push(o),r=!0),o.fieldGroup&&o.fieldGroup.length>0&&this._checkField(o,e)&&(r=!0))}),r}checkFieldExpressionChange(n,e){if(!n||!n._expressionProperties)return!1;let r=!1;const o=n._expressionProperties;for(const s in o){let l=nx(o[s].expression,{field:n},[n.model,n.options.formState,n,e]);"templateOptions.disabled"===s&&(l=!!l),(e||o[s].expressionValue!==l&&(!pl(l)&&!rp(l)||rp(l)&&""+o[s].expressionValue!=""+l||(0,Zf.b)(l)||JSON.stringify(l)!==JSON.stringify(o[s].expressionValue)))&&(r=!0,o[s].expressionValue=l,this.setExprValue(n,s,l))}return r}checkFieldVisibilityChange(n,e){if(!n||fl(n.hideExpression))return!1;const r=!!nx(n.hideExpression,{field:n},[n.model,n.options.formState,n,e]);let o=!1;return(r!==n.hide||e)&&(o=!0,n.hide=r,n.templateOptions.hidden=r),o}setDisabledState(n,e){n.fieldGroup&&n.fieldGroup.filter(r=>!r.expressionProperties||!r.expressionProperties.hasOwnProperty("templateOptions.disabled")).forEach(r=>this.setDisabledState(r,e)),n.key&&n.templateOptions.disabled!==e&&(n.templateOptions.disabled=e)}toggleFormControl(n,e,r){if(n.fieldGroup&&n.fieldGroup.filter(o=>!o.hideExpression).forEach(o=>this.toggleFormControl(o,e,r)),n.formControl&&n.key){Gr(n,"_hide",!(!e&&!n.hide));const o=n.formControl;o._fields&&o._fields.length>1&&jh(o),!0!==e||o._fields&&!o._fields.every(s=>!!s._hide)?!1===e&&(n.resetOnHide&&n.parent&&!np(n.defaultValue)&&np(tp(n))&&ep(n,n.defaultValue),Uv(n,void 0,!0),n.resetOnHide&&n.fieldArray&&(n.fieldGroup||[]).length!==(n.model||[]).length&&n.options._buildForm(!0)):(Lv(n,!0),r&&n.resetOnHide&&(n.formControl.reset({value:void 0,disabled:n.formControl.disabled}),n.fieldGroup&&(ep(n,void 0),n.formControl instanceof d.Oe&&(n.fieldGroup.length=0))))}n.options.fieldChanges&&n.options.fieldChanges.next({field:n,type:"hidden",value:e})}setExprValue(n,e,r){try{let o=n;const s=this._evalExpressionPath(n,e),l=s.length-1;for(let u=0;u<l;u++)o=o[s[u]];o[s[l]]=r}catch(o){throw o.message=`[Formly Error] [Expression "${e}"] ${o.message}`,o}if("templateOptions.disabled"===e&&n.key&&this.setDisabledState(n,r),0===e.indexOf("model.")){const o=e.replace(/^model\./,""),s=n.key&&e===o?n.formControl:n.parent.formControl.get(o);s&&(!fl(s.value)||!fl(r))&&s.value!==r&&s.patchValue(r)}this.emitExpressionChanges(n,e,r)}emitExpressionChanges(n,e,r){!n.options.fieldChanges||n.options.fieldChanges.next({field:n,type:"expressionChanges",property:e,value:r})}}class sz{constructor(n){this.formlyConfig=n}onPopulate(n){this.initFieldValidation(n,"validators"),this.initFieldValidation(n,"asyncValidators")}initFieldValidation(n,e){const r=[];if("validators"===e&&!(n.hasOwnProperty("fieldGroup")&&!n.key)&&r.push(this.getPredefinedFieldValidation(n)),n[e])for(const o in n[e])"validation"===o&&!Array.isArray(n[e].validation)&&(n[e].validation=[n[e].validation],console.warn(`NgxFormly(${n.key}): passing a non array value to the 'validation' is deprecated, pass an array instead`)),"validation"===o?r.push(...n[e].validation.map(s=>this.wrapNgValidatorFn(n,s))):r.push(this.wrapNgValidatorFn(n,n[e][o],o));Gr(n,"_"+e,r)}getPredefinedFieldValidation(n){let e=[];return Bv.forEach(r=>uo(n.templateOptions,r,({currentValue:o,firstChange:s})=>{e=e.filter(l=>l!==r),null!=o&&!1!==o&&e.push(r),!s&&n.formControl&&jh(n.formControl)})),r=>0===e.length?null:d.kI.compose(e.map(o=>()=>{const s=n.templateOptions[o];switch(o){case"required":return d.kI.required(r);case"pattern":return d.kI.pattern(s)(r);case"minLength":return d.kI.minLength(s)(r);case"maxLength":return d.kI.maxLength(s)(r);case"min":return d.kI.min(s)(r);case"max":return d.kI.max(s)(r)}}))(r)}wrapNgValidatorFn(n,e,r){let o=null;if("string"==typeof e&&(o=ki(this.formlyConfig.getValidator(e))),"object"==typeof e&&e.name&&(o=ki(this.formlyConfig.getValidator(e.name)),e.options&&(o.options=e.options)),"object"==typeof e&&e.expression){const{expression:s}=e,l=jv(e,["expression"]);o={name:r,validation:s,options:Object.keys(l).length>0?l:null}}return"function"==typeof e&&(o={name:r,validation:e}),s=>{const l=o.validation(s,n,o.options);return function ez(t){return!!t&&"function"==typeof t.then}(l)?l.then(u=>this.handleAsyncResult(n,r?!!u:u,o)):(0,Zf.b)(l)?l.pipe((0,ve.U)(u=>this.handleAsyncResult(n,r?!!u:u,o))):this.handleResult(n,r?!!l:l,o)}}handleAsyncResult(n,e,r){return n.options&&n.options._markForCheck&&n.options._markForCheck(n),this.handleResult(n,e,r)}handleResult(n,e,{name:r,options:o}){"boolean"==typeof e&&(e=e?null:{[r]:o||!0});const s=n.formControl;return s._childrenErrors&&s._childrenErrors[r]&&s._childrenErrors[r](),pl(e)&&Object.keys(e).forEach(l=>{const u=e[l].errorPath?e[l].errorPath:(o||{}).errorPath,p=u?n.formControl.get(u):null;if(p){const v=jv(e[l],["errorPath"]);p.setErrors(Object.assign({},p.errors||{},{[l]:v})),!s._childrenErrors&&Gr(s,"_childrenErrors",{}),s._childrenErrors[l]=()=>{const he=jv(p.errors||{},["symbol"==typeof l?l:l+""]);p.setErrors(0===Object.keys(he).length?null:he)}}}),e}}class lz{constructor(n){this.config=n}prePopulate(n){this.root||(this.root=n)}onPopulate(n){!n.parent||(n.fieldGroup&&!n.key?Gr(n,"formControl",n.parent.formControl):this.addFormControl(n))}postPopulate(n){this.root===n&&(this.root=null,this.setValidators(n))}addFormControl(n){let e=YC(n);if(!e){const r={updateOn:n.modelOptions.updateOn},o=n.key?tp(n):n.defaultValue,s=this.config?this.config.resolveFieldTypeRef(n):null;if(s&&s.componentType&&s.componentType.createControl){const l=s.componentType;console.warn(`NgxFormly: '${l.name}::createControl' is deprecated since v5.0, use 'prePopulate' hook instead.`),e=l.createControl(o,n)}else e=n.fieldGroup?new d.cw({},r):new d.NI(o,r)}Uv(n,e)}setValidators(n,e=!1){let r=!1;if(!1===e&&n.key&&n.templateOptions&&n.templateOptions.disabled&&(e=!0),(n.fieldGroup||[]).forEach(o=>this.setValidators(o,e)&&(r=!0)),n.key||!n.parent||!n.key&&!n.fieldGroup){const{formControl:o}=n;if(n.templateOptions=n.templateOptions||{},n.key&&o&&o instanceof d.NI&&(e&&o.enabled&&(o.disable({emitEvent:!1,onlySelf:!0}),r=!0),!e&&o.disabled&&(o.enable({emitEvent:!1,onlySelf:!0}),r=!0)),o&&(null===o.validator||null===o.asyncValidator)&&(o.setValidators(()=>{const s=d.kI.compose(this.mergeValidators(n,"_validators"));return s?s(o):null}),o.setAsyncValidators(()=>{const s=d.kI.composeAsync(this.mergeValidators(n,"_asyncValidators"));return s?s(o):(0,ke.of)(null)}),r=!0),r){jh(o,!0);let s=o.parent;for(let l=1;l<vs(n).length;l++)s&&(jh(s,!0),s=s.parent)}}return r}mergeValidators(n,e){const r=[],o=n.formControl;return o&&o._fields&&o._fields.length>1?o._fields.filter(s=>!s._hide).forEach(s=>r.push(...s[e])):n[e]&&r.push(...n[e]),n.fieldGroup&&n.fieldGroup.filter(s=>!s.key&&s.fieldGroup).forEach(s=>r.push(...this.mergeValidators(s,e))),r}}class uz{constructor(n){this.formlyConfig=n,this.formId=0}prePopulate(n){if(this.getFieldComponentInstance(n).prePopulate(),n.parent)return;const e=n.options&&n.options.fieldTransform||this.formlyConfig.extras.fieldTransform;(Array.isArray(e)?e:[e]).forEach(r=>{if(r&&(console.warn("NgxFormly: fieldTransform is deprecated since v5.0, use custom extension instead."),!r(n.fieldGroup,n.model,n.formControl,n.options)))throw new Error("fieldTransform must return an array of fields")})}onPopulate(n){this.initFieldOptions(n),this.getFieldComponentInstance(n).onPopulate(),n.fieldGroup&&n.fieldGroup.forEach((e,r)=>{Object.defineProperty(e,"parent",{get:()=>n,configurable:!0}),Object.defineProperty(e,"index",{get:()=>r,configurable:!0}),this.formId++})}postPopulate(n){this.getFieldComponentInstance(n).postPopulate()}initFieldOptions(n){const e=n.parent;if(e){if(Object.defineProperty(n,"form",{get:()=>e.formControl,configurable:!0}),Object.defineProperty(n,"options",{get:()=>e.options,configurable:!0}),Object.defineProperty(n,"model",{get:()=>n.key&&n.fieldGroup?tp(n):e.model,configurable:!0}),Dc(n,{id:JU(`formly_${this.formId}`,n,n.index),hooks:{},modelOptions:{},validation:{messages:{}},templateOptions:n.type&&n.key?{label:"",placeholder:"",focus:!1,disabled:!1}:{}}),this.formlyConfig.extras.resetFieldOnHide&&!1!==n.resetOnHide&&(n.resetOnHide=!0),n.lifecycle&&console.warn("NgxFormly: 'lifecycle' is deprecated since v5.0, use 'hooks' instead."),"formly-template"!==n.type&&(n.template||n.expressionProperties&&n.expressionProperties.template)&&(n.type&&console.warn("NgxFormly: passing 'type' property is not allowed when 'template' is set."),n.type="formly-template"),!n.type&&n.fieldGroup&&(n.type="formly-group"),n.type&&this.formlyConfig.getMergedField(n),n.parent){let r=!np(n.key)&&!np(n.defaultValue)&&np(tp(n))&&(!n.resetOnHide||!(n.hide||n.hideExpression));if(r&&n.resetOnHide){let o=n.parent;for(;o&&!o.hideExpression&&!o.hide;)o=o.parent;r=!o||!(o.hideExpression||o.hide)}r&&ep(n,n.defaultValue)}this.initFieldWrappers(n)}}initFieldWrappers(n){n.wrappers=n.wrappers||[];const e=Object.assign({preWrapper:[],postWrapper:[]},n.templateOptions.templateManipulators||{});n.wrappers=[...this.formlyConfig.templateManipulators.preWrapper.map(r=>r(n)),...e.preWrapper.map(r=>r(n)),...n.wrappers,...this.formlyConfig.templateManipulators.postWrapper.map(r=>r(n)),...e.postWrapper.map(r=>r(n))].filter((r,o,s)=>r&&o===s.indexOf(r))}getFieldComponentInstance(n){const e=this.formlyConfig.resolveFieldTypeRef(n),r=e?e.instance:{};return{prePopulate:()=>r.prePopulate&&r.prePopulate(n),onPopulate:()=>r.onPopulate&&r.onPopulate(n),postPopulate:()=>r.postPopulate&&r.postPopulate(n)}}}function rx(t){return{types:[{name:"formly-group",component:nz},{name:"formly-template",component:iz}],extensions:[{name:"core",extension:new uz(t)},{name:"field-validation",extension:new sz(t)},{name:"field-form",extension:new lz(t)},{name:"field-expression",extension:new oz}]}}let Ba=(()=>{class t{constructor(e,r=[]){!r||r.forEach(o=>e.addConfig(o))}static forRoot(e={}){return{ngModule:t,providers:[{provide:jc,multi:!0,useFactory:rx,deps:[Yr]},{provide:jc,useValue:e,multi:!0},{provide:a.ANALYZE_FOR_ENTRY_COMPONENTS,useValue:e,multi:!0},Yr,Aa]}}static forChild(e={}){return{ngModule:t,providers:[{provide:jc,multi:!0,useFactory:rx,deps:[Yr]},{provide:jc,useValue:e,multi:!0},{provide:a.ANALYZE_FOR_ENTRY_COMPONENTS,useValue:e,multi:!0},Aa]}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Yr),a.\u0275\u0275inject(jc,8))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule]]}),t})();var ix=S(4218);const cz=["matPrefix"],dz=["matSuffix"],fz=["fieldComponent"];function pz(t,n){1&t&&(a.\u0275\u0275elementStart(0,"span",8),a.\u0275\u0275text(1,"*"),a.\u0275\u0275elementEnd())}function mz(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-label"),a.\u0275\u0275text(1),a.\u0275\u0275template(2,pz,2,0,"span",7),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",e.to.label," "),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.to.required&&!0!==e.to.hideRequiredMarker)}}function hz(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function gz(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0,9),a.\u0275\u0275template(1,hz,1,0,"ng-container",10),a.\u0275\u0275elementContainerEnd()),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",e.to.prefix?e.to.prefix:e.to._matPrefix)}}function yz(t,n){1&t&&a.\u0275\u0275elementContainer(0)}function vz(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0,11),a.\u0275\u0275template(1,yz,1,0,"ng-container",10),a.\u0275\u0275elementContainerEnd()),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngTemplateOutlet",e.to.suffix?e.to.suffix:e.to._matSuffix)}}function _z(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-hint",12),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275property("id",null),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e.to.description)}}class bz{constructor(n){this.field=n}isErrorState(n,e){return this.field&&this.field.showError}}let Ia=(()=>{class t extends ip{constructor(){super(...arguments),this.errorStateMatcher=new bz(this),this.stateChanges=new O.x,this._errorState=!1}get formFieldControl(){return this._control||this}set formFieldControl(e){this._control=e,this.formField&&e!==this.formField._control&&(this.formField._control=e)}ngOnInit(){this.formField&&(this.formField._control=this.formFieldControl)}ngAfterViewInit(){(this.matPrefix||this.matSuffix)&&setTimeout(()=>{Gr(this.to,"_matPrefix",this.matPrefix),Gr(this.to,"_matSuffix",this.matSuffix),this.options._markForCheck(this.field)})}ngOnDestroy(){this.formField&&delete this.formField._control,this.stateChanges.complete()}setDescribedByIds(e){}onContainerClick(e){this.field.focus=!0,this.stateChanges.next()}get errorState(){const e=this.options.showError(this);return e!==this._errorState&&(this._errorState=e,this.stateChanges.next()),e}get controlType(){return this.to.type?this.to.type:this.field.type instanceof a.Type?this.field.type.constructor.name:this.field.type}get focused(){return!!this.field.focus&&!this.disabled}get disabled(){return!!this.to.disabled}get required(){return!!this.to.required}get placeholder(){return this.to.placeholder||""}get shouldPlaceholderFloat(){return this.shouldLabelFloat}get value(){return this.formControl.value}set value(e){this.formControl.patchValue(e)}get ngControl(){return this.formControl}get empty(){return null==this.value||""===this.value}get shouldLabelFloat(){return this.focused||!this.empty}get formField(){return this.field?this.field.__formField__:null}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=a.\u0275\u0275getInheritedFactory(t)))(r||t)}}(),t.\u0275dir=a.\u0275\u0275defineDirective({type:t,viewQuery:function(e,r){if(1&e&&(a.\u0275\u0275viewQuery(cz,5),a.\u0275\u0275viewQuery(dz,5)),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.matPrefix=o.first),a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.matSuffix=o.first)}},features:[a.\u0275\u0275InheritDefinitionFeature]}),t})(),wz=(()=>{class t extends tx{constructor(e,r,o,s){super(),this.config=e,this.renderer=r,this.elementRef=o,this.focusMonitor=s,this.stateChanges=new O.x,this._errorState=!1,this.initialGapCalculated=!1}ngOnInit(){this.formField._control=this,Gr(this.field,"__formField__",this.formField);const e=this.config.resolveFieldTypeRef(this.formlyField);e&&!(e.instance instanceof Ia)&&console.warn(`Component '${e.componentType.name}' must extend 'FieldType' from '@ngx-formly/material/form-field'.`),this.formlyField.hide&&"outline"===this.formlyField.templateOptions.appearance&&(this.initialGapCalculated=!0),this.focusMonitor.monitor(this.elementRef,!0).subscribe(r=>{!r&&this.field.focus&&(this.field.focus=!1),this.stateChanges.next()})}ngAfterContentChecked(){!this.initialGapCalculated||this.formlyField.hide||(this.formField.updateOutlineGap(),this.initialGapCalculated=!0)}ngAfterViewInit(){if("outline"!==this.formField.appearance&&!0===this.to.hideFieldUnderline){const e=this.formField._elementRef.nativeElement.querySelector(".mat-form-field-underline");e&&this.renderer.removeChild(e.parentNode,e)}}ngOnDestroy(){delete this.formlyField.__formField__,this.stateChanges.complete(),this.focusMonitor.stopMonitoring(this.elementRef)}setDescribedByIds(e){}onContainerClick(e){this.formlyField.focus=!0,this.stateChanges.next()}get errorState(){const e=this.options.showError(this);return e!==this._errorState&&(this._errorState=e,this.stateChanges.next()),e}get controlType(){return this.to.type}get focused(){return!!this.formlyField.focus&&!this.disabled}get disabled(){return!!this.to.disabled}get required(){return!!this.to.required}get placeholder(){return this.to.placeholder||""}get shouldPlaceholderFloat(){return this.shouldLabelFloat}get value(){return this.formControl.value}get ngControl(){return this.formControl}get empty(){return!this.formControl.value}get shouldLabelFloat(){return this.focused||!this.empty}get formlyField(){return this.field}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Yr),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(ix.tE))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["formly-wrapper-mat-form-field"]],viewQuery:function(e,r){if(1&e&&(a.\u0275\u0275viewQuery(fz,7,a.ViewContainerRef),a.\u0275\u0275viewQuery(Xt.KE,7)),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.fieldComponent=o.first),a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.formField=o.first)}},features:[a.\u0275\u0275ProvidersFeature([{provide:Xt.Eo,useExisting:t}]),a.\u0275\u0275InheritDefinitionFeature],decls:9,vars:9,consts:[[3,"hideRequiredMarker","floatLabel","appearance","color"],["fieldComponent",""],[4,"ngIf"],["matPrefix","",4,"ngIf"],["matSuffix","",4,"ngIf"],[3,"field"],[3,"id",4,"ngIf"],["aria-hidden","true","class","mat-form-field-required-marker",4,"ngIf"],["aria-hidden","true",1,"mat-form-field-required-marker"],["matPrefix",""],[4,"ngTemplateOutlet"],["matSuffix",""],[3,"id"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"mat-form-field",0),a.\u0275\u0275elementContainer(1,null,1),a.\u0275\u0275template(3,mz,3,2,"mat-label",2),a.\u0275\u0275template(4,gz,2,1,"ng-container",3),a.\u0275\u0275template(5,vz,2,1,"ng-container",4),a.\u0275\u0275elementStart(6,"mat-error"),a.\u0275\u0275element(7,"formly-validation-message",5),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(8,_z,2,2,"mat-hint",6),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("hideRequiredMarker",!0)("floatLabel",r.to.floatLabel)("appearance",r.to.appearance)("color",r.to.color),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",r.to.label&&!0!==r.to.hideLabel),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.to.prefix||r.to._matPrefix),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.to.suffix||r.to._matSuffix),a.\u0275\u0275advance(2),a.\u0275\u0275property("field",r.field),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.to.description))},directives:[Xt.KE,x.NgIf,Xt.hX,Xt.qo,x.NgTemplateOutlet,Xt.R9,Xt.TO,rz,Xt.bx],styles:["formly-wrapper-mat-form-field .mat-form-field{width:100%}"],encapsulation:2}),t})(),fo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,d.UX,Xt.lN,Ba.forChild({wrappers:[{name:"form-field",component:wz}]})]]}),t})();function Cz(t,n){if(1&t&&a.\u0275\u0275element(0,"input",2),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275property("id",e.id)("type",e.type||"text")("readonly",e.to.readonly)("required",e.to.required)("errorStateMatcher",e.errorStateMatcher)("formControl",e.formControl)("formlyAttributes",e.field)("tabindex",e.to.tabindex)("placeholder",e.to.placeholder)}}function xz(t,n){if(1&t&&a.\u0275\u0275element(0,"input",3),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275property("id",e.id)("readonly",e.to.readonly)("required",e.to.required)("errorStateMatcher",e.errorStateMatcher)("formControl",e.formControl)("formlyAttributes",e.field)("tabIndex",e.to.tabindex)("placeholder",e.to.placeholder)}}let Sz=(()=>{class t extends Ia{get type(){return this.to.type||"text"}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=a.\u0275\u0275getInheritedFactory(t)))(r||t)}}(),t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["formly-field-mat-input"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(_n.Nt,5),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.formFieldControl=o.first)}},features:[a.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[["matInput","",3,"id","type","readonly","required","errorStateMatcher","formControl","formlyAttributes","tabindex","placeholder",4,"ngIf","ngIfElse"],["numberTmp",""],["matInput","",3,"id","type","readonly","required","errorStateMatcher","formControl","formlyAttributes","tabindex","placeholder"],["matInput","","type","number",3,"id","readonly","required","errorStateMatcher","formControl","formlyAttributes","tabIndex","placeholder"]],template:function(e,r){if(1&e&&(a.\u0275\u0275template(0,Cz,1,9,"input",0),a.\u0275\u0275template(1,xz,1,8,"ng-template",null,1,a.\u0275\u0275templateRefExtractor)),2&e){const o=a.\u0275\u0275reference(2);a.\u0275\u0275property("ngIf","number"!==r.type)("ngIfElse",o)}},directives:[x.NgIf,_n.Nt,d.Fj,d.Q7,d.JJ,d.oH,co,d.wV],encapsulation:2}),t})(),Ez=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,d.UX,_n.c,fo,Ba.forChild({types:[{name:"input",component:Sz,wrappers:["form-field"]}]})]]}),t})();var Az=S(5804);let Iz=(()=>{class t extends Ia{constructor(){super(...arguments),this.defaultOptions={templateOptions:{cols:1,rows:1}}}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=a.\u0275\u0275getInheritedFactory(t)))(r||t)}}(),t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["formly-field-mat-textarea"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(_n.Nt,7),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.formFieldControl=o.first)}},features:[a.\u0275\u0275ProvidersFeature([{provide:_n.Jk,useExisting:t}]),a.\u0275\u0275InheritDefinitionFeature],decls:2,vars:15,consts:[["matInput","",3,"id","readonly","required","formControl","errorStateMatcher","cols","rows","formlyAttributes","placeholder","tabindex","cdkTextareaAutosize","cdkAutosizeMinRows","cdkAutosizeMaxRows"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"textarea",0),a.\u0275\u0275text(1,"    "),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275classProp("cdk-textarea-autosize",r.to.autosize),a.\u0275\u0275property("id",r.id)("readonly",r.to.readonly)("required",r.to.required)("formControl",r.formControl)("errorStateMatcher",r.errorStateMatcher)("cols",r.to.cols)("rows",r.to.rows)("formlyAttributes",r.field)("placeholder",r.to.placeholder)("tabindex",r.to.tabindex)("cdkTextareaAutosize",r.to.autosize)("cdkAutosizeMinRows",r.to.autosizeMinRows)("cdkAutosizeMaxRows",r.to.autosizeMaxRows))},directives:[_n.Nt,d.Fj,Az.IC,d.Q7,d.JJ,d.oH,co],encapsulation:2}),t})(),Pz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,d.UX,_n.c,fo,Ba.forChild({types:[{name:"textarea",component:Iz,wrappers:["form-field"]}]})]]}),t})(),Lh=(()=>{class t{transform(e,r){return e instanceof g.y||(e=(0,ke.of)(e)),e.pipe((0,ve.U)(o=>this.toOptions(o,r||{})))}toOptions(e,r){const o=[],s={},l=r.templateOptions||{};return l._flatOptions=!0,e.map(u=>{this.getGroupProp(u,l)?(l._flatOptions=!1,s[this.getGroupProp(u,l)]||(s[this.getGroupProp(u,l)]=[],o.push({label:this.getGroupProp(u,l),group:s[this.getGroupProp(u,l)]})),s[this.getGroupProp(u,l)].push(this.toOption(u,l))):o.push(this.toOption(u,l))}),o}toOption(e,r){return{label:this.getLabelProp(e,r),value:this.getValueProp(e,r),disabled:this.getDisabledProp(e,r)||!1}}getLabelProp(e,r){return"function"==typeof r.labelProp?r.labelProp(e):this.shouldUseLegacyOption(e,r)?(console.warn("NgxFormly: legacy select option '{key, value}' is deprecated since v5.5, use '{value, label}' instead."),e.value):e[r.labelProp||"label"]}getValueProp(e,r){return"function"==typeof r.valueProp?r.valueProp(e):this.shouldUseLegacyOption(e,r)?e.key:e[r.valueProp||"value"]}getDisabledProp(e,r){return"function"==typeof r.disabledProp?r.disabledProp(e):e[r.disabledProp||"disabled"]}getGroupProp(e,r){return"function"==typeof r.groupProp?r.groupProp(e):e[r.groupProp||"group"]}shouldUseLegacyOption(e,r){return!r.valueProp&&!r.labelProp&&null!=e&&"object"==typeof e&&"key"in e&&"value"in e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=a.\u0275\u0275definePipe({name:"formlySelectOptions",type:t,pure:!0}),t})(),Uh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({}),t})();function Tz(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-radio-button",2),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit,r=n.index,o=a.\u0275\u0275nextContext();a.\u0275\u0275property("id",o.id+"_"+r)("color",o.to.color)("labelPosition",o.to.labelPosition)("disabled",e.disabled)("value",e.value),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",e.label," ")}}let kz=(()=>{class t extends Ia{constructor(){super(...arguments),this.defaultOptions={templateOptions:{hideFieldUnderline:!0,floatLabel:"always",options:[],tabindex:-1}}}ngAfterViewInit(){this.focusObserver=uo(this.field,"focus",({currentValue:e})=>{-1===this.to.tabindex&&e&&this.radioGroup._radios.length>0&&setTimeout(()=>{(this.radioGroup.selected?this.radioGroup.selected:this.radioGroup._radios.first)._elementRef.nativeElement.focus({preventScroll:!0})})})}onContainerClick(){}ngOnDestroy(){this.focusObserver&&this.focusObserver()}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=a.\u0275\u0275getInheritedFactory(t)))(r||t)}}(),t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["formly-field-mat-radio"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(dl.VQ,7),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.radioGroup=o.first)}},features:[a.\u0275\u0275InheritDefinitionFeature],decls:4,vars:10,consts:[[3,"formControl","formlyAttributes","required","tabindex"],[3,"id","color","labelPosition","disabled","value",4,"ngFor","ngForOf"],[3,"id","color","labelPosition","disabled","value"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"mat-radio-group",0),a.\u0275\u0275template(1,Tz,2,6,"mat-radio-button",1),a.\u0275\u0275pipe(2,"async"),a.\u0275\u0275pipe(3,"formlySelectOptions"),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formControl",r.formControl)("formlyAttributes",r.field)("required",r.to.required)("tabindex",r.to.tabindex),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(2,5,a.\u0275\u0275pipeBind2(3,7,r.to.options,r.field))))},directives:[dl.VQ,d.JJ,d.oH,co,d.Q7,x.NgForOf,dl.U0],pipes:[x.AsyncPipe,Lh],encapsulation:2}),t})(),Vz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,d.UX,dl.Fk,fo,Uh,Ba.forChild({types:[{name:"radio",component:kz,wrappers:["form-field"]}]})]]}),t})();function Rz(t,n){1&t&&(a.\u0275\u0275elementStart(0,"span",2),a.\u0275\u0275text(1,"*"),a.\u0275\u0275elementEnd())}let Nz=(()=>{class t extends Ia{constructor(e,r){super(),this.renderer=e,this.focusMonitor=r,this.defaultOptions={templateOptions:{hideFieldUnderline:!0,indeterminate:!0,floatLabel:"always",hideLabel:!0,align:"start",color:"accent"}}}onContainerClick(e){this.checkbox.focus(),super.onContainerClick(e)}ngAfterViewInit(){this.checkbox&&this.focusMonitor.monitor(this.checkbox._inputElement,!0).subscribe(e=>{e?this.to.focus&&this.to.focus(this.field):this.to.blur&&this.to.blur(this.field)})}ngAfterViewChecked(){if(this.required!==this._required&&this.checkbox&&this.checkbox._inputElement){this._required=this.required;const e=this.checkbox._inputElement.nativeElement;this.required?this.renderer.setAttribute(e,"required","required"):this.renderer.removeAttribute(e,"required")}}ngOnDestroy(){this.checkbox&&this.focusMonitor.stopMonitoring(this.checkbox._inputElement)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(ix.tE))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["formly-field-mat-checkbox"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(so.oG,7),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.checkbox=o.first)}},features:[a.\u0275\u0275InheritDefinitionFeature],decls:3,vars:9,consts:[[3,"formControl","id","formlyAttributes","tabIndex","indeterminate","color","labelPosition"],["aria-hidden","true","class","mat-form-field-required-marker",4,"ngIf"],["aria-hidden","true",1,"mat-form-field-required-marker"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"mat-checkbox",0),a.\u0275\u0275text(1),a.\u0275\u0275template(2,Rz,2,0,"span",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formControl",r.formControl)("id",r.id)("formlyAttributes",r.field)("tabIndex",r.to.tabindex)("indeterminate",r.to.indeterminate&&null===r.formControl.value)("color",r.to.color)("labelPosition",r.to.align||r.to.labelPosition),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",r.to.label," "),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.to.required&&!0!==r.to.hideRequiredMarker))},directives:[so.oG,d.JJ,d.oH,co,x.NgIf],encapsulation:2}),t})(),Oz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,d.UX,so.p9,fo,Ba.forChild({types:[{name:"checkbox",component:Nz,wrappers:["form-field"]}]})]]}),t})();function Fz(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"mat-checkbox",1),a.\u0275\u0275listener("change",function(o){const l=a.\u0275\u0275restoreView(e).$implicit;return a.\u0275\u0275nextContext().onChange(l.value,o.checked)}),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()}if(2&t){const e=n.$implicit,r=n.index,o=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("id",o.id+"_"+r)("formlyAttributes",o.field)("tabIndex",o.to.tabindex)("color",o.to.color)("labelPosition",o.to.labelPosition)("checked",o.isChecked(e))("disabled",o.formControl.disabled||e.disabled),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",e.label," ")}}let Mz=(()=>{class t extends Ia{constructor(){super(...arguments),this.defaultOptions={templateOptions:{hideFieldUnderline:!0,floatLabel:"always",options:[],color:"accent"}}}onChange(e,r){this.formControl.markAsDirty(),this.formControl.patchValue("array"===this.to.type?r?[...this.formControl.value||[],e]:[...this.formControl.value||[]].filter(o=>o!==e):Object.assign({},this.formControl.value,{[e]:r})),this.formControl.markAsTouched()}onContainerClick(){}isChecked(e){const r=this.formControl.value;return r&&("array"===this.to.type?-1!==r.indexOf(e.value):r[e.value])}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=a.\u0275\u0275getInheritedFactory(t)))(r||t)}}(),t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["formly-field-mat-multicheckbox"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(so.oG,5),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.checkboxes=o)}},hostVars:1,hostBindings:function(e,r){2&e&&a.\u0275\u0275hostProperty("id",r.id)},features:[a.\u0275\u0275InheritDefinitionFeature],decls:3,vars:6,consts:[[4,"ngFor","ngForOf"],[3,"id","formlyAttributes","tabIndex","color","labelPosition","checked","disabled","change"]],template:function(e,r){1&e&&(a.\u0275\u0275template(0,Fz,3,8,"ng-container",0),a.\u0275\u0275pipe(1,"async"),a.\u0275\u0275pipe(2,"formlySelectOptions")),2&e&&a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(1,1,a.\u0275\u0275pipeBind2(2,3,r.to.options,r.field)))},directives:[x.NgForOf,so.oG,co],pipes:[x.AsyncPipe,Lh],encapsulation:2}),t})(),Dz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,d.UX,so.p9,fo,Uh,Ba.forChild({types:[{name:"multicheckbox",component:Mz,wrappers:["form-field"]}]})]]}),t})();function jz(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"mat-option",3),a.\u0275\u0275listener("click",function(){const s=a.\u0275\u0275restoreView(e).selectOptions;return a.\u0275\u0275nextContext().toggleSelectAll(s)}),a.\u0275\u0275element(1,"mat-pseudo-checkbox",4),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()}if(2&t){const e=n.selectOptions,r=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("state",r.getSelectAllState(e)),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",r.to.selectAllOption," ")}}const Bz=function(t){return{selectOptions:t}};function Lz(t,n){if(1&t&&a.\u0275\u0275elementContainer(0,7),2&t){const e=a.\u0275\u0275nextContext().ngIf;a.\u0275\u0275nextContext();const r=a.\u0275\u0275reference(1);a.\u0275\u0275property("ngTemplateOutlet",r)("ngTemplateOutletContext",a.\u0275\u0275pureFunction1(2,Bz,e))}}function Uz(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-option",12),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275property("value",e.value)("disabled",e.disabled),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",e.label," ")}}function zz(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-optgroup",10),a.\u0275\u0275template(1,Uz,2,3,"mat-option",11),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275property("label",e.label),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",e.group)}}function Gz(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-option",12),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275property("value",e.value)("disabled",e.disabled),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e.label)}}function $z(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,zz,2,2,"mat-optgroup",8),a.\u0275\u0275template(2,Gz,2,3,"mat-option",9),a.\u0275\u0275elementContainerEnd()),2&t){const e=n.$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",e.group),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!e.group)}}function Hz(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,Lz,1,4,"ng-container",5),a.\u0275\u0275template(2,$z,3,2,"ng-container",6),a.\u0275\u0275elementContainerEnd()),2&t){const e=n.ngIf,r=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.to.multiple&&r.to.selectAllOption),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",e)}}let qz=(()=>{class t extends Ia{constructor(){super(...arguments),this.defaultOptions={templateOptions:{options:[],compareWith:(e,r)=>e===r}}}getSelectAllState(e){return this.empty||0===this.value.length?"":this.value.length!==this.getSelectAllValue(e).length?"indeterminate":"checked"}toggleSelectAll(e){const r=this.getSelectAllValue(e);this.formControl.setValue(this.value&&this.value.length===r.length?[]:r),this.formControl.markAsDirty()}change(e){this.to.change&&this.to.change(this.field,e)}_getAriaLabelledby(){return this.to.attributes&&this.to.attributes["aria-labelledby"]?this.to.attributes["aria-labelledby"]:this.formField&&this.formField._labelId?this.formField._labelId:void 0}_getAriaLabel(){return this.to.attributes?this.to.attributes["aria-label"]:void 0}getSelectAllValue(e){if(!this.selectAllValue||e!==this.selectAllValue.options){const r=[];e.forEach(o=>o.group?r.push(...o.group):r.push(o)),this.selectAllValue={options:e,value:r.filter(o=>!o.disabled).map(o=>o.value)}}return this.selectAllValue.value}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=a.\u0275\u0275getInheritedFactory(t)))(r||t)}}(),t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["formly-field-mat-select"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(Dr.gD,7),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.formFieldControl=o.first)}},features:[a.\u0275\u0275InheritDefinitionFeature],decls:6,vars:18,consts:[["selectAll",""],[3,"id","formControl","formlyAttributes","placeholder","tabIndex","required","compareWith","multiple","errorStateMatcher","aria-label","aria-labelledby","disableOptionCentering","selectionChange"],[4,"ngIf"],[3,"click"],[1,"mat-option-pseudo-checkbox",3,"state"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"label",4,"ngIf"],[3,"value","disabled",4,"ngIf"],[3,"label"],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value","disabled"]],template:function(e,r){1&e&&(a.\u0275\u0275template(0,jz,3,2,"ng-template",null,0,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementStart(2,"mat-select",1),a.\u0275\u0275listener("selectionChange",function(s){return r.change(s)}),a.\u0275\u0275template(3,Hz,3,2,"ng-container",2),a.\u0275\u0275pipe(4,"async"),a.\u0275\u0275pipe(5,"formlySelectOptions"),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(2),a.\u0275\u0275property("id",r.id)("formControl",r.formControl)("formlyAttributes",r.field)("placeholder",r.to.placeholder)("tabIndex",r.to.tabindex)("required",r.to.required)("compareWith",r.to.compareWith)("multiple",r.to.multiple)("errorStateMatcher",r.errorStateMatcher)("aria-label",r._getAriaLabel())("aria-labelledby",r._getAriaLabelledby())("disableOptionCentering",r.to.disableOptionCentering),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",a.\u0275\u0275pipeBind1(4,13,a.\u0275\u0275pipeBind2(5,15,r.to.options,r.field))))},directives:[Xn.ey,Xn.nP,Dr.gD,d.JJ,d.oH,co,d.Q7,x.NgIf,x.NgTemplateOutlet,x.NgForOf,Xn.Nv],pipes:[x.AsyncPipe,Lh],encapsulation:2}),t})(),Kz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,d.UX,Dr.LD,Xn.us,fo,Uh,Ba.forChild({types:[{name:"select",component:qz,wrappers:["form-field"]}]})]]}),t})(),Xz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[fo,Ez,Pz,Vz,Oz,Dz,Kz]]}),t})();var ml=S(2298);const Wz=["datepickerToggle"];function Jz(t,n){if(1&t&&a.\u0275\u0275element(0,"mat-datepicker-toggle",4),2&t){const e=a.\u0275\u0275nextContext(),r=a.\u0275\u0275reference(4);a.\u0275\u0275property("disabled",e.to.disabled)("for",r)}}let Qz=(()=>{class t extends Ia{constructor(e){super(),this.config=e,this.defaultOptions={templateOptions:{datepickerOptions:{startView:"month",datepickerTogglePosition:"suffix",dateInput:()=>{},dateChange:()=>{},monthSelected:()=>{},yearSelected:()=>{}}}}}ngAfterViewInit(){super.ngAfterViewInit(),this.config.getValidatorMessage("matDatepickerParse")&&uo(this.field.formControl,"errors",({currentValue:e})=>{if(e&&e.required&&e.matDatepickerParse){const r=Object.keys(e).sort(o=>"matDatepickerParse"===o?-1:0).reduce((o,s)=>Object.assign({},o,{[s]:e[s]}),{});this.field.formControl.___$errors=r}}),this.datepickerInput._formField=this.formField,setTimeout(()=>{switch(this.to.datepickerOptions.datepickerTogglePosition){case"suffix":this.to._matSuffix=this.datepickerToggle;break;case"prefix":this.to._matPrefix=this.datepickerToggle}this.options._markForCheck(this.field)})}ngOnDestroy(){this.fieldErrorsObserver&&this.fieldErrorsObserver()}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Yr))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["formly-field-mat-datepicker"]],viewQuery:function(e,r){if(1&e&&(a.\u0275\u0275viewQuery(_n.Nt,7),a.\u0275\u0275viewQuery(ml.hl,7),a.\u0275\u0275viewQuery(Wz,5)),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.formFieldControl=o.first),a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.datepickerInput=o.first),a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.datepickerToggle=o.first)}},features:[a.\u0275\u0275InheritDefinitionFeature],decls:5,vars:20,consts:[["matInput","",3,"id","errorStateMatcher","formControl","matDatepicker","matDatepickerFilter","max","min","formlyAttributes","placeholder","tabindex","readonly","required","dateInput","dateChange"],["datepickerToggle",""],[3,"color","dateClass","disabled","opened","panelClass","startAt","startView","touchUi","monthSelected","yearSelected"],["picker",""],[3,"disabled","for"]],template:function(e,r){if(1&e){const o=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"input",0),a.\u0275\u0275listener("dateInput",function(l){return r.to.datepickerOptions.dateInput(r.field,l)})("dateChange",function(l){return r.to.datepickerOptions.dateChange(r.field,l)}),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(1,Jz,1,2,"ng-template",null,1,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementStart(3,"mat-datepicker",2,3),a.\u0275\u0275listener("monthSelected",function(l){a.\u0275\u0275restoreView(o);const u=a.\u0275\u0275reference(4);return r.to.datepickerOptions.monthSelected(r.field,l,u)})("yearSelected",function(l){a.\u0275\u0275restoreView(o);const u=a.\u0275\u0275reference(4);return r.to.datepickerOptions.yearSelected(r.field,l,u)}),a.\u0275\u0275elementEnd()}if(2&e){const o=a.\u0275\u0275reference(4);a.\u0275\u0275property("id",r.id)("errorStateMatcher",r.errorStateMatcher)("formControl",r.formControl)("matDatepicker",o)("matDatepickerFilter",r.to.datepickerOptions.filter)("max",r.to.datepickerOptions.max)("min",r.to.datepickerOptions.min)("formlyAttributes",r.field)("placeholder",r.to.placeholder)("tabindex",r.to.tabindex)("readonly",r.to.readonly)("required",r.to.required),a.\u0275\u0275advance(3),a.\u0275\u0275property("color",r.to.color)("dateClass",r.to.datepickerOptions.dateClass)("disabled",r.to.datepickerOptions.disabled)("opened",r.to.datepickerOptions.opened)("panelClass",r.to.datepickerOptions.panelClass)("startAt",r.to.datepickerOptions.startAt)("startView",r.to.datepickerOptions.startView)("touchUi",r.to.datepickerOptions.touchUi)}},directives:[_n.Nt,d.Fj,ml.hl,d.JJ,d.oH,co,d.Q7,ml.nW,ml.Mq],encapsulation:2}),t})(),Yz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,d.UX,_n.c,ml.FA,fo,Ba.forChild({types:[{name:"datepicker",component:Qz,wrappers:["form-field"]}]})]]}),t})();function Zz(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"option",3),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngValue",null),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e.to.placeholder)}}function e6(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"option",7),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&t){const e=n.$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275property("ngValue",e.value)("disabled",e.disabled),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e.label)}}function t6(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,e6,3,3,"ng-container",6),a.\u0275\u0275elementContainerEnd()),2&t){const e=a.\u0275\u0275nextContext().ngIf;a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",e)}}function n6(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"option",7),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275property("ngValue",e.value)("disabled",e.disabled),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e.label)}}function r6(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"option",7),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275property("ngValue",e.value)("disabled",e.disabled),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",e.label," ")}}function a6(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"optgroup",10),a.\u0275\u0275template(1,r6,2,3,"option",11),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275property("label",e.label),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",e.group)}}function o6(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,n6,2,3,"option",8),a.\u0275\u0275template(2,a6,2,2,"ng-template",null,9,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementContainerEnd()),2&t){const e=n.$implicit,r=a.\u0275\u0275reference(3);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!e.group)("ngIfElse",r)}}function s6(t,n){if(1&t&&a.\u0275\u0275template(0,o6,4,2,"ng-container",6),2&t){const e=a.\u0275\u0275nextContext().ngIf;a.\u0275\u0275property("ngForOf",e)}}function l6(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,t6,2,1,"ng-container",4),a.\u0275\u0275template(2,s6,1,1,"ng-template",null,5,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementContainerEnd()),2&t){const e=a.\u0275\u0275reference(3),r=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.to._flatOptions)("ngIfElse",e)}}let u6=(()=>{class t extends Ia{constructor(){super(...arguments),this.defaultOptions={templateOptions:{options:[]}}}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=a.\u0275\u0275getInheritedFactory(t)))(r||t)}}(),t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["formly-field-mat-native-select"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(_n.Nt,7),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.formFieldControl=o.first)}},features:[a.\u0275\u0275InheritDefinitionFeature],decls:5,vars:13,consts:[["matNativeControl","",3,"id","readonly","required","errorStateMatcher","formControl","formlyAttributes"],[3,"ngValue",4,"ngIf"],[4,"ngIf"],[3,"ngValue"],[4,"ngIf","ngIfElse"],["grouplist",""],[4,"ngFor","ngForOf"],[3,"ngValue","disabled"],[3,"ngValue","disabled",4,"ngIf","ngIfElse"],["optgroup",""],[3,"label"],[3,"ngValue","disabled",4,"ngFor","ngForOf"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"select",0),a.\u0275\u0275template(1,Zz,2,2,"option",1),a.\u0275\u0275template(2,l6,4,2,"ng-container",2),a.\u0275\u0275pipe(3,"async"),a.\u0275\u0275pipe(4,"formlySelectOptions"),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("id",r.id)("readonly",r.to.readonly)("required",r.to.required)("errorStateMatcher",r.errorStateMatcher)("formControl",r.formControl)("formlyAttributes",r.field),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.to.placeholder),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",a.\u0275\u0275pipeBind1(3,8,a.\u0275\u0275pipeBind2(4,10,r.to.options,r.field))))},directives:[_n.Nt,d.EJ,d.Q7,d.JJ,d.oH,co,x.NgIf,d.YN,d.Kr,x.NgForOf],pipes:[x.AsyncPipe,Lh],encapsulation:2}),t})(),c6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,d.UX,_n.c,fo,Uh,Ba.forChild({types:[{name:"native-select",component:u6,wrappers:["form-field"]}]})]]}),t})();var ap=S(4714);let d6=(()=>{class t extends Ia{constructor(){super(...arguments),this.defaultOptions={templateOptions:{hideFieldUnderline:!0,floatLabel:"always",hideLabel:!0}}}onContainerClick(e){this.slideToggle.focus(),super.onContainerClick(e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=a.\u0275\u0275getInheritedFactory(t)))(r||t)}}(),t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["formly-field-mat-toggle"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(ap.Rr,5),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.slideToggle=o.first)}},features:[a.\u0275\u0275InheritDefinitionFeature],decls:2,vars:7,consts:[[3,"id","formControl","formlyAttributes","color","tabIndex","required"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"mat-slide-toggle",0),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("id",r.id)("formControl",r.formControl)("formlyAttributes",r.field)("color",r.to.color)("tabIndex",r.to.tabindex)("required",r.to.required),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",r.to.label," "))},directives:[ap.Rr,ap.SA,d.JJ,d.oH,co,d.Q7],encapsulation:2}),t})(),f6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,d.UX,ap.rP,fo,Ba.forChild({types:[{name:"toggle",component:d6,wrappers:["form-field"]}]})]]}),t})();var zh=S(5682);let p6=(()=>{class t extends Ia{constructor(){super(...arguments),this.defaultOptions={templateOptions:{hideFieldUnderline:!0,floatLabel:"always",thumbLabel:!1}}}onContainerClick(e){this.slider.focus(),super.onContainerClick(e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=a.\u0275\u0275getInheritedFactory(t)))(r||t)}}(),t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["formly-field-mat-slider"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(zh.pH,5),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.slider=o.first)}},features:[a.\u0275\u0275InheritDefinitionFeature],decls:1,vars:11,consts:[[3,"id","formControl","formlyAttributes","tabIndex","color","thumbLabel","step","max","min"]],template:function(e,r){1&e&&a.\u0275\u0275element(0,"mat-slider",0),2&e&&(a.\u0275\u0275styleProp("width","100%"),a.\u0275\u0275property("id",r.id)("formControl",r.formControl)("formlyAttributes",r.field)("tabIndex",r.to.tabindex)("color",r.to.color)("thumbLabel",r.to.thumbLabel)("step",r.to.step)("max",r.to.max)("min",r.to.min))},directives:[zh.pH,d.JJ,d.oH,co],encapsulation:2}),t})(),m6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,d.UX,zh.KP,fo,Ba.forChild({types:[{name:"slider",component:p6,wrappers:["form-field"]}]})]]}),t})();function h6(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-option",11),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275property("value",e),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e)}}function g6(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-option",4),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275property("value",e),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",e.label," ")}}function y6(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"a",1),a.\u0275\u0275listener("click",function(){const s=a.\u0275\u0275restoreView(e).$implicit;return a.\u0275\u0275nextContext().onItemSelect(s.key)}),a.\u0275\u0275elementStart(1,"span",2),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const e=n.$implicit;a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(e.value)}}function v6(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",3),a.\u0275\u0275element(1,"formly-field",4),a.\u0275\u0275elementStart(2,"div",5),a.\u0275\u0275elementStart(3,"button",6),a.\u0275\u0275listener("click",function(){const s=a.\u0275\u0275restoreView(e).index;return a.\u0275\u0275nextContext().remove(s)}),a.\u0275\u0275text(4,"Remove"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const e=n.$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275property("field",e)}}class Gv{constructor(n){n&&(this.type=n.type,this.key=n.key,this.value=null!=n.value?n.value:void 0,n.options&&"object"==typeof n.options&&(this.options=new _6(n.options)),n.rest&&"object"==typeof n.rest&&(this.rest=new lo(n.rest)),n.datasourceBinding&&"object"==typeof n.datasourceBinding&&(this.datasourceBinding=new Ut.ContentBinding(n.datasourceBinding)),n.datasourceOptions&&"object"==typeof n.datasourceOptions&&(this.datasourceOptions=new Ky(n.datasourceOptions)))}}class _6{constructor(n){n&&(this.label=n.label)}}class b6{constructor(n){n&&(this.valuesMapping=n.valuesMapping)}}let $v=(()=>{class t{constructor(e,r,o,s,l){this.urlGeneratorService=e,this.datasourceApi=r,this.tokenizerService=o,this.datasourceContentHandler=s,this.panelResolver=l}buildFieldConfig(e,r){return(0,ke.of)(e).pipe((0,Qe.w)(o=>Rn(()=>!!o.options,this.buildTemplateOptions(o,r).pipe((0,ve.U)(s=>[o,s])),(0,ke.of)([o,{}]))),(0,ve.U)(([o,s])=>({key:"value",type:o.type,templateOptions:s})))}buildTemplateOptions(e,r){return(0,ke.of)(e).pipe((0,ve.U)(o=>[o,{label:o.options.label,multiple:!!o.datasourceOptions&&o.datasourceOptions.multiple,options:[]}]),(0,Qe.w)(([o,s])=>Rn(()=>this.hasDataOptions(o),this.buildDataOptions(o,r).pipe((0,ve.U)(l=>[s,l])),(0,ke.of)([s,[]]))),(0,ve.U)(([o,s])=>({...o,options:s})))}buildDataOptions(e,r){return(0,ke.of)(e).pipe((0,Qe.w)(o=>{if((o.rest||o.datasourceBinding&&o.datasourceBinding.id&&""!==o.datasourceBinding.id)&&"autocomplete"!==o.type){if(o.datasourceBinding){const s=r.has("panes")?r.get("panes").find(l=>l.name===o.datasourceBinding.id):void 0;return this.panelResolver.dataPanes(r.get("panes")).pipe((0,Qe.w)(l=>s?this.datasourceContentHandler.fetchDynamicData(s.settings,new Map([...r,["dataPanes",l]])):(0,ke.of)([])),(0,ve.U)(l=>[o,l.results]))}return this.buildRestDataOptions(o).pipe((0,ve.U)(s=>[o,s]))}return(0,ke.of)([o,[]])}),(0,ve.U)(([o,s])=>[o,o.datasourceOptions&&""!==o.datasourceOptions.query?(0,ra.JSONPath)({path:o.datasourceOptions.query,json:s}):s]),(0,Qe.w)(([o,s])=>this.mapDataOptions(o,s)))}buildRestDataOptions(e){return(0,ke.of)(e).pipe((0,Qe.w)(r=>this.urlGeneratorService.getUrl(r.rest.url,r.rest.params,new Map([]))),(0,Qe.w)(r=>this.datasourceApi.getData(`${r}`)))}mapDataOptions(e,r){return(0,ke.of)([e,r]).pipe((0,ve.U)(([o,s])=>[o,s,s?s.map(l=>this.tokenizerService.generateGenericTokens(l)):[]]),(0,ve.U)(([o,s,l])=>l.map(u=>this.mapDataItem(o,u))))}mapDataItem(e,r){return{value:this.tokenizerService.replaceTokens(`${e.datasourceOptions.valueMapping}`,r),label:this.tokenizerService.replaceTokens(`${e.datasourceOptions.labelMapping}`,r),display:this.tokenizerService.replaceTokens(`${e.datasourceOptions.labelMapping}`,r)}}hasDataOptions(e){return!!e.rest&&e.rest.url&&""!==e.rest.url.trim()||e.datasourceBinding&&e.datasourceBinding.id&&""!==e.datasourceBinding.id}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(il),a.\u0275\u0275inject(Tf),a.\u0275\u0275inject(Dn),a.\u0275\u0275inject(ru),a.\u0275\u0275inject(Tc))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Bc=(()=>{class t{constructor(e,r,o,s){this.attributeSerializer=e,this.formlyHandlerHelper=r,this.datasourceHandler=o,this.dpm=s}handleFile(e){return(0,ke.of)([])}handlesType(e){return!1}implementsRendererOverride(){return!1}hasRendererOverride(e){return(0,ke.of)(!1)}isDynamic(e){return!1}isData(e){return!1}getBindings(e,r,o){return"pane"===r?this.toObject(e).pipe((0,Qe.w)(s=>Rn(()=>s.datasourceBinding&&s.datasourceBinding.id&&null!==s.datasourceBinding.id,(0,ke.of)([s.datasourceBinding]),(0,ke.of)([])))):(0,ke.of)([])}fetchDynamicData(e,r){return(0,ke.of)(new Fn)}buildDynamicItems(e,r){return(0,ke.of)([])}toObject(e){return(0,ke.of)(new Gv(this.attributeSerializer.deserializeAsObject(e)))}buildSettings(e){return this.attributeSerializer.serialize(e,"root").attributes}buildFieldConfig(e,r){return this.toObject(e).pipe((0,Qe.w)(o=>this.formlyHandlerHelper.buildFieldConfig(o,r)))}stateDefinition(e){return(0,ke.of)({autocomplete:{input:""},value:void 0})}editorOptions(e){return(0,ke.of)(new Ut.ContentPluginEditorOptions)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Ct.AttributeSerializerService),a.\u0275\u0275inject($v),a.\u0275\u0275inject(ru),a.\u0275\u0275inject(Sa))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),ax=(()=>{class t{constructor(e,r,o,s,l){this.data=e,this.dialogRef=r,this.fb=o,this.handler=s,this.attributeSerializer=l,this.rest=Xy,this.datasourceOptions=Pf,this.bindableOptions=[],this.formGroup=this.fb.group({type:this.fb.control("",[d.kI.required]),key:this.fb.control("",[d.kI.required]),value:this.fb.control(""),options:this.fb.group({label:this.fb.control("")}),rest:this.fb.control(""),datasourceOptions:this.fb.control(""),datasourceBinding:this.fb.group({id:this.fb.control(""),type:this.fb.control("pane")})})}get paneGroup(){return this.data.panelFormGroup.get("panes").at(this.data.paneIndex)}ngOnInit(){this.handler.toObject(this.data.pane.settings).subscribe(e=>{this.formGroup.get("type").setValue(e.type),this.formGroup.get("key").setValue(e.key),this.formGroup.get("value").setValue(e.value),this.formGroup.get("options").setValue(e.options?e.options:{label:""}),this.rest=e.rest?new lo({...e.rest,params:[]}):Xy,this.datasourceOptions=e.datasourceOptions?e.datasourceOptions:Pf,this.formGroup.get("datasourceBinding").get("id").setValue(e.datasourceBinding&&e.datasourceBinding.id&&null!==e.datasourceBinding.id?e.datasourceBinding.id:""),setTimeout(()=>this.rest=e.rest?e.rest:Xy)}),this.bindableOptions=this.data.panelFormGroup.get("panes").controls.reduce((e,r)=>r.get("name").value?[...e,r.get("name").value]:[...e],[])}submit(){console.log(this.formGroup.value);const e=new Gv(this.formGroup.value);console.log(e),this.paneGroup.get("name").setValue(e.key),this.paneGroup.get("label").setValue(e.key),this.paneGroup.get("settings").clear(),this.handler.buildSettings(e).map(o=>this.attributeSerializer.convertToGroup(o)).forEach(o=>this.paneGroup.get("settings").push(o)),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ft.WI),a.\u0275\u0275directiveInject(Ft.so),a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Bc),a.\u0275\u0275directiveInject(Ct.AttributeSerializerService))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-formly-field-editor"]],inputs:{bindableOptions:"bindableOptions"},decls:21,vars:3,consts:[[3,"formGroup","ngSubmit"],["fxLayout","column"],["matInput","","placeholder","Key","formControlName","key","required",""],["formGroupName","options"],["matInput","","placeholder","label","formControlName","label"],["matInput","","formControlName","value"],["formGroupName","datasourceBinding"],["required","","formControlName","id"],[3,"value",4,"ngFor","ngForOf"],["formControlName","datasourceOptions",3,"datasourceOptions"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close",""],[3,"value"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return r.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content",1),a.\u0275\u0275elementStart(2,"div"),a.\u0275\u0275elementStart(3,"mat-form-field"),a.\u0275\u0275element(4,"input",2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"mat-form-field",3),a.\u0275\u0275element(6,"input",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"div"),a.\u0275\u0275elementStart(8,"mat-form-field"),a.\u0275\u0275elementStart(9,"mat-label"),a.\u0275\u0275text(10,"Value"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(11,"input",5),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(12,"mat-form-field",6),a.\u0275\u0275elementStart(13,"mat-label"),a.\u0275\u0275text(14,"Datasource"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(15,"mat-select",7),a.\u0275\u0275template(16,h6,2,2,"mat-option",8),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(17,"classifieds-ui-datasource-options",9),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(18,"mat-dialog-actions"),a.\u0275\u0275elementStart(19,"button",10),a.\u0275\u0275text(20,"Save"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.formGroup),a.\u0275\u0275advance(16),a.\u0275\u0275property("ngForOf",r.bindableOptions),a.\u0275\u0275advance(1),a.\u0275\u0275property("datasourceOptions",r.datasourceOptions))},directives:[Xt.KE,Dr.gD,Xn.ey,lw,kr.lW,d._Y,d.JL,d.sg,Ft.xY,ue,_n.Nt,d.Fj,d.JJ,d.u,d.Q7,d.x0,Xt.hX,x.NgForOf,Ft.H8,Ft.ZT],styles:[""]}),t})(),ox=(()=>{class t extends Ia{ngOnInit(){super.ngOnInit(),this.filter=this.formControl.valueChanges.pipe((0,Wf.O)(""),(0,Qe.w)(e=>this.to.filter({term:e,field:this.field})))}ngAfterViewInit(){super.ngAfterViewInit(),this.autocomplete._formField=this.formField}displayAuto(e){return e&&null!==e?e.label:""}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=a.\u0275\u0275getInheritedFactory(t)))(r||t)}}(),t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-formly-autocomplete"]],viewQuery:function(e,r){if(1&e&&(a.\u0275\u0275viewQuery(_n.Nt,5),a.\u0275\u0275viewQuery(lu.ZL,5)),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.formFieldControl=o.first),a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.autocomplete=o.first)}},features:[a.\u0275\u0275InheritDefinitionFeature],decls:5,vars:9,consts:[["matInput","",3,"matAutocomplete","formControl","formlyAttributes","placeholder","errorStateMatcher"],[3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,r){if(1&e&&(a.\u0275\u0275element(0,"input",0),a.\u0275\u0275elementStart(1,"mat-autocomplete",1,2),a.\u0275\u0275template(3,g6,2,2,"mat-option",3),a.\u0275\u0275pipe(4,"async"),a.\u0275\u0275elementEnd()),2&e){const o=a.\u0275\u0275reference(2);a.\u0275\u0275property("matAutocomplete",o)("formControl",r.formControl)("formlyAttributes",r.field)("placeholder",r.to.placeholder)("errorStateMatcher",r.errorStateMatcher),a.\u0275\u0275advance(1),a.\u0275\u0275property("displayWith",r.displayAuto),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(4,7,r.filter))}},directives:[lu.XC,Xn.ey,_n.Nt,lu.ZL,d.Fj,d.JJ,d.oH,co,x.NgForOf],pipes:[x.AsyncPipe],encapsulation:2}),t})(),w6=(()=>{class t{constructor(e,r,o,s,l,u,p,f,v){this.fb=e,this.attributeSerializer=r,this.handler=o,this.formlyHandlerHelper=s,this.urlGeneratorService=l,this.datasourceApi=u,this.datasourceHandler=p,this.panelResolver=f,this.tokenizerService=v,this.contexts=[],this.searchChange=new a.EventEmitter,this.valueChange=new a.EventEmitter,this.settingsFormArray=this.fb.array([]),this.proxyGroup=this.fb.group({}),this.init$=new O.x,this.afterViewInit$=new O.x,this.resolvedContext$=new h.X(void 0),this.settings$=new h.X([]),this.panes$=new h.X([]),this.originPanes$=new h.X([]),this.bridgeSub=this.proxyGroup.valueChanges.pipe((0,Un.b)(500)).subscribe(D=>{this.valueChange.emit(D.value),this.settingsFormArray.clear();const J=this.attributeSerializer.convertToGroup(this.attributeSerializer.serialize(D.value,"value"));this.settingsFormArray.push(J)}),this.renderContentSub=(0,On.a)([this.settings$,this.resolvedContext$,this.afterViewInit$]).pipe((0,Qe.w)(([D,J])=>this.handler.toObject(D)),(0,Qe.w)(D=>this.resolveContexts().pipe((0,ve.U)(J=>[D,J])))).subscribe(([D,J])=>{if(void 0!==J&&(this.tokens=J),D.value&&null!==D.value&&""!==D.value){this.model={value:this.replaceTokens(D.value)};const Y=this.tokenizerService.discoverTokens(this.model.value,!0);0!==Y.length&&(this.model={value:this.tokenizerService.replaceTokens(D.value,new Map(Array.from(Y).map(he=>[he,""])))})}else this.model={}}),this.settingsSub=(0,On.a)([this.settings$,this.panes$,this.originPanes$,this.init$]).pipe((0,ve.U)(([D,J,Y])=>({settings:D,metadata:new Map([["panes",[...J&&Array.isArray(J)?J:[],...Y&&Array.isArray(Y)?Y:[]]],["contexts",this.contexts]])})),(0,Qe.w)(({settings:D,metadata:J})=>this.handler.buildFieldConfig(D,J).pipe((0,Qe.w)(Y=>this.handler.toObject(D).pipe((0,ve.U)(he=>[Y,he]))),(0,ve.U)(([Y,he])=>[{...Y,hooks:{afterViewInit:Ue=>{this.formlyHookAfterViewInit(Ue)}}},he]),(0,ve.U)(([Y,he])=>[{...Y,templateOptions:{...Y.templateOptions,..."autocomplete"===he.type?{filter:this.makeFilterFunction({i:he,metadata:J})}:{},change:(Ue,Oe)=>{}}},he]))),(0,ee.b)(([D,J])=>{this.fields=[{...D}]})).subscribe(),this.onTouched=()=>{},this.fields=[],this.model={}}set resolvedContext(e){this.resolvedContext$.next(e)}set settings(e){this.settings$.next(e)}set panes(e){this.panes$.next(e)}set originPanes(e){this.originPanes$.next(e)}ngOnInit(){this.init$.next(void 0)}ngAfterViewInit(){this.afterViewInit$.next(void 0)}writeValue(e){e&&setTimeout(()=>this.settingsFormArray.setValue(e,{emitEvent:!1}))}registerOnChange(e){this.settingsFormArray.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.settingsFormArray.disable():this.settingsFormArray.enable()}validate(e){return null}formlyHookAfterViewInit(e){"autocomplete"===e.type&&e._componentRefs.find(o=>o.instance instanceof ox).instance.formControl.valueChanges.pipe((0,Un.b)(1e3),(0,jo.x)(),(0,ee.b)(o=>this.searchChange.emit(o))).subscribe()}makeFilterFunction({i:e,metadata:r}){const o=r.get("panes").find(s=>s.name===e.datasourceBinding.id);return({term:s})=>(0,ke.of)([]).pipe((0,Qe.w)(u=>this.searchChange.pipe((0,z.h)(p=>p===s))),(0,Qe.w)(()=>Rn(()=>!!e.datasourceBinding,e.datasourceBinding?this.panelResolver.dataPanes(r.get("panes")).pipe((0,Qe.w)(u=>o?this.datasourceHandler.fetchDynamicData(o.settings,new Map([...r,["dataPanes",u],["inputparams",new Map([["term",new Jr({flags:[],mapping:new rh({value:s,type:"static",testValue:s,context:void 0})})]])]])):(0,ke.of)([])),(0,ve.U)(u=>u.results)):(0,ke.of)([]),e.datasourceBinding?(0,ke.of)([]):this.urlGeneratorService.getUrl(e.rest.url,e.rest.params,new Map([["contexts",this.contexts]])).pipe((0,Qe.w)(u=>this.datasourceApi.getData(`${u}`))))),(0,ve.U)(u=>e.datasourceOptions&&""!==e.datasourceOptions.query?(0,ra.JSONPath)({path:e.datasourceOptions.query,json:u}):u),(0,Qe.w)(u=>this.formlyHandlerHelper.mapDataOptions(e,u)))}replaceTokens(e){return void 0!==this.tokens&&this.tokens.forEach((r,o)=>{e=e.split(`[${o}]`).join(`${r}`)}),e}resolveContexts(){return new g.y(e=>{let r=new Map;if(this.resolvedContext$.value)for(const o in this.resolvedContext$.value)r=new Map([...r,...this.tokenizerService.generateGenericTokens(this.resolvedContext$.value[o],"_root"===o?"":o)]);e.next(r),e.complete()})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Ct.AttributeSerializerService),a.\u0275\u0275directiveInject(Bc),a.\u0275\u0275directiveInject($v),a.\u0275\u0275directiveInject(il),a.\u0275\u0275directiveInject(Tf),a.\u0275\u0275directiveInject(ru),a.\u0275\u0275directiveInject(Tc),a.\u0275\u0275directiveInject(Dn))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-formly-pane-field"]],inputs:{contexts:"contexts",tokens:"tokens",resolvedContext:"resolvedContext",settings:"settings",panes:"panes",originPanes:"originPanes"},outputs:{searchChange:"searchChange",valueChange:"valueChange"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}])],decls:2,vars:4,consts:[[3,"formGroup"],[3,"form","fields","model"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275element(1,"formly-form",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.proxyGroup),a.\u0275\u0275advance(1),a.\u0275\u0275property("form",r.proxyGroup)("fields",r.fields)("model",r.model))},directives:[ex,d.JL,d.sg],styles:[""]}),t})(),C6=(()=>{class t{constructor(e,r,o,s){this.fb=e,this.handler=r,this.attributeSerializer=o,this.controlContainer=s,this.settings=[],this.contexts=[],this.panes=[],this.originPanes=[],this.appearance="legacy",this.resolvedContext={},this.state={},this.stateChange=new a.EventEmitter,this.fields=[],this.model={}}ngOnInit(){this.handler.toObject(this.settings).subscribe(e=>{this.fields=[{key:e.key,type:e.type}]})}onSearchChange(e){this.input=e,this.state={value:this.value,autocomplete:{input:e}},this.stateChange.emit({value:this.value,autocomplete:{input:e}})}onValueChange(e){this.value=e,this.state={value:e,autocomplete:{input:this.input}},this.stateChange.emit({value:e,autocomplete:{input:this.input}})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Bc),a.\u0275\u0275directiveInject(Ct.AttributeSerializerService),a.\u0275\u0275directiveInject(d.gN,8))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-formly-field-renderer"]],inputs:{settings:"settings",contexts:"contexts",panes:"panes",originPanes:"originPanes",appearance:"appearance",name:"name",label:"label",displayType:"displayType",resolvedContext:"resolvedContext",state:"state",tokens:"tokens"},outputs:{stateChange:"stateChange"},decls:2,vars:7,consts:[[3,"formGroup"],["formControlName","settings",3,"settings","contexts","panes","originPanes","resolvedContext","tokens","searchChange","valueChange"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"classifieds-ui-formly-pane-field",1),a.\u0275\u0275listener("searchChange",function(s){return r.onSearchChange(s)})("valueChange",function(s){return r.onValueChange(s)}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.controlContainer.control),a.\u0275\u0275advance(1),a.\u0275\u0275property("settings",r.settings)("contexts",r.contexts)("panes",r.panes)("originPanes",r.originPanes)("resolvedContext",r.resolvedContext)("tokens",r.tokens))},directives:[w6,d.JL,d.sg,d.JJ,d.u],styles:[""]}),t})(),x6=(()=>{class t{constructor(e,r,o,s,l){this.bottomSheetRef=e,this.handler=r,this.attributeSerializer=o,this.fb=s,this.dialog=l,this.contexts=[],this.fields$=new h.X(new Map([["input","Input"],["textarea","Textarea"],["radio","Radio"],["checkbox","Checkbox"],["select","Select"],["native-select","Native Select"],["datepicker","Date picker"],["toggle","Toggle"],["slider","Slider"],["autocomplete","Autocomplete"]]))}ngOnInit(){}onItemSelect(e){const r=new Gv({type:e,key:""});this.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"formly_field",name:new d.NI(""),label:new d.NI(""),rule:new d.NI(""),settings:this.fb.array(this.handler.buildSettings(r).map(u=>this.attributeSerializer.convertToGroup(u)))}));const o=this.panelFormGroup.get("panes"),s=o.length-1,l=new nr(o.at(s).value);this.dialog.open(ax,{data:{panelFormGroup:this.panelFormGroup,pane:l,paneIndex:s,contexts:[]}}),this.bottomSheetRef.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(sl.oL),a.\u0275\u0275directiveInject(Bc),a.\u0275\u0275directiveInject(Ct.AttributeSerializerService),a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Ft.uw))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-formly-field-selector"]],inputs:{panelFormGroup:"panelFormGroup",contexts:"contexts"},decls:4,vars:5,consts:[["mat-list-item","","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["mat-list-item","","mat-list-item","",3,"click"],["mat-line",""]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"mat-nav-list"),a.\u0275\u0275template(1,y6,3,1,"a",0),a.\u0275\u0275pipe(2,"keyvalue"),a.\u0275\u0275pipe(3,"async"),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(2,1,a.\u0275\u0275pipeBind1(3,3,r.fields$))))},directives:[Uo.Hk,Uo.Tg,x.NgForOf,Xn.X2],pipes:[x.KeyValuePipe,x.AsyncPipe],styles:[""]}),t})(),S6=(()=>{class t extends tz{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=a.\u0275\u0275getInheritedFactory(t)))(r||t)}}(),t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-formly-repeat-section"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:4,vars:2,consts:[["class","row",4,"ngFor","ngForOf"],[2,"margin","30px 0"],["type","button",1,"btn","btn-primary",3,"click"],[1,"row"],[1,"col",3,"field"],[1,"col-sm-2","d-flex","align-items-center"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,r){1&e&&(a.\u0275\u0275template(0,v6,5,1,"div",0),a.\u0275\u0275elementStart(1,"div",1),a.\u0275\u0275elementStart(2,"button",2),a.\u0275\u0275listener("click",function(){return r.add()}),a.\u0275\u0275text(3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("ngForOf",r.field.fieldGroup),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(r.to.addText))},directives:[zv,x.NgForOf],styles:[""]}),t})(),E6=(()=>{class t{constructor(e,r,o,s,l,u,p,f,v,D,J,Y,he,Ue,Oe,De){this.fb=e,this.cpm=r,this.formlyHandlerHelper=o,this.paneStateService=s,this.pageBuilderFacade=l,this.formStateConverter=u,this.attributeSerializer=p,this.formService=f,this.formGroupConverter=v,this.urlGeneratorService=D,this.datasourceApi=J,this.datasourceHandler=Y,this.panelResolver=he,this.tokenizerService=Ue,this.controlContainer=De,this.originMappings=[],this.panes$=new h.X([]),this.panel$=new h.X(new Bi),this.originPanes$=new h.X([]),this.ancestory$=new h.X([]),this.contexts$=new h.X([]),this.resolvedContext$=new h.X(void 0),this.settings$=new h.X([]),this.init$=new O.x,this.fields=[],this.model={items:[]},this.proxyGroup=this.fb.group({}),this.panesSub=(0,On.a)([this.panes$,this.originPanes$]).pipe((0,Qe.w)(([Xe,tt])=>(0,rn.D)(Xe.filter(ct=>"formly_field"===ct.contentPlugin||"panel"===ct.contentPlugin).map(ct=>this.cpm.getPlugin(ct.contentPlugin).pipe((0,ve.U)(bt=>({pane:ct,plugin:bt,panes:Xe,originPanes:tt}))))).pipe((0,tr.d)([]))),(0,Qe.w)(Xe=>(0,rn.D)(Xe.map(({pane:tt,plugin:ct,panes:bt,originPanes:Tt})=>ct.handler.toObject(tt.settings).pipe((0,ve.U)(Mt=>({pane:tt,plugin:ct,i:Mt,panes:bt,originPanes:Tt}))))).pipe((0,tr.d)([]))),(0,Qe.w)(Xe=>(0,rn.D)(Xe.map(({pane:tt,plugin:ct,i:bt,panes:Tt,originPanes:Mt})=>"panel"===tt.contentPlugin?(0,ke.of)({pane:tt,plugin:ct,i:bt,panes:Tt,originPanes:Mt,f:{type:"panelpage",panelpage:bt}}):this.formlyHandlerHelper.buildFieldConfig(bt,new Map([["panes",[...Tt&&Array.isArray(Tt)?Tt:[],...Mt&&Array.isArray(Mt)?Mt:[]]],["contexts",this.contexts]])).pipe((0,ve.U)(Wt=>({pane:tt,plugin:ct,i:bt,f:Wt,panes:Tt,originPanes:Mt})),(0,nn.q)(1)))).pipe((0,tr.d)([]),(0,nn.q)(1))),(0,Qe.w)(Xe=>(0,On.a)([this.panel$,this.ancestory$,this.contexts$]).pipe((0,ve.U)(([tt,ct,bt])=>({groups:Xe,panel:tt,ancestory:ct,contexts:bt})))),(0,ee.b)(({groups:Xe,panel:tt,ancestory:ct,contexts:bt})=>{this.fields=[{key:tt.name&&""!==tt.name?tt.name:"items",type:"repeat",templateOptions:{addText:"Add another"},fieldArray:{fieldGroup:Xe.map(({f:Tt,i:Mt,pane:Wt,panes:jn,originPanes:In},Vt)=>({key:Mt.key&&""!==Mt.key?Mt.key:Wt.name&&""!==Wt.name?Wt.name:Tt.key,wrappers:[...Tt.wrappers?Tt.wrappers:[],"imaginary-pane"],pane:Wt,panelAncestory:ct,indexPosition:Vt,fieldGroup:[{...Tt,panelAncestory:ct,indexPosition:Vt,templateOptions:{...Tt.templateOptions,..."autocomplete"===Mt.type?{filter:this.makeFilterFunction({i:Mt,metadata:new Map([["panes",[...jn&&Array.isArray(jn)?jn:[],...In&&Array.isArray(In)?In:[]]],["contexts",bt]])})}:{}}}]}))},hooks:{onInit:Tt=>Tt.formControl.valueChanges.pipe((0,jo.x)(),(0,ee.b)(Mt=>console.log(Mt)))}}]})).subscribe(),this.forwardStateToForm=(0,On.a)([this.pageBuilderFacade.getPageInfo$,this.panel$,this.ancestory$,this.init$]).pipe((0,ve.U)(([Xe,tt,ct])=>({p:Xe,panel:tt,ancestory:ct})),(0,Qe.w)(({p:Xe,panel:tt,ancestory:ct})=>this.panelPageStateService.collection$.pipe((0,At.Ys)(this.paneStateService.selectById({id:Xe.id})),(0,ve.U)(bt=>new Da(bt||{id:Xe.id,panels:[]})),(0,ee.b)(bt=>{const Tt="$."+ct.map((jn,In)=>`${(In+1)%2==0?"panes":(0===In?"":"nestedPage.")+"panels"}[${jn}]`).join("."),Mt=(0,ra.JSONPath)({path:Tt,json:bt})[0];new Qn({id:"",title:"",name:"",layoutType:"",displayType:"",gridItems:[],layoutSetting:void 0,rowSettings:void 0,panels:[new Bi({label:"",name:"",settings:void 0,stylePlugin:"",columnSetting:void 0,panes:tt.panes})]}),this.rebuildPanel({panel:tt,panelState:Mt}).subscribe(jn=>{console.log("rebuilt panel",jn),this.formStateConverter.convertPanelToForm({panel:Mt||new ul,panel2:jn,ancestory:ct}).subscribe(In=>{const Vt=this.controlContainer.control.get("panes");this.formGroupConverter.makeFormGroupFromPanel(jn,In).subscribe(Mn=>{Vt.clear();const Vr=Mn.get("panes"),yi=Vr.length;for(let hr=0;hr<yi;hr++)Vt.push(Vr.at(hr))})})})})))).subscribe(),this.populateDefaultValues=(0,On.a)([this.settings$.pipe((0,ve.U)(Xe=>Xe?new b6(this.attributeSerializer.deserializeAsObject(Xe)):void 0)),this.resolvedContext$,this.panel$]).pipe((0,ve.U)(([Xe,tt,ct])=>({s:Xe,rc:tt,p:ct})),(0,ve.U)(({s:Xe,rc:tt,p:ct})=>tt&&Xe&&Xe.valuesMapping&&""!==Xe.valuesMapping.trim()?{items:(0,ra.JSONPath)({path:`$.${Xe.valuesMapping}.*`,json:tt}),s:Xe,p:ct}:{items:[],p:ct}),(0,ee.b)(({items:Xe,p:tt})=>{const ct=Xe.length,bt=[],Tt=tt.name&&""!==tt.name?tt.name:"items";for(let Mt=0;Mt<ct;Mt++){const Wt={};Object.keys(Xe[Mt]).forEach(In=>Wt[In]={value:Xe[Mt][In]}),bt.push(Wt)}this.model={[Tt]:bt}})).subscribe(),this.panelPageStateService=Oe.getEntityCollectionService("PanelPageState")}set settings(e){this.settings$.next(e)}set panes(e){this.panes$.next(e)}set panel(e){this.panel$.next(e)}set originPanes(e){this.originPanes$.next(e)}set ancestory(e){this.ancestory$.next(e)}set contexts(e){this.contexts$.next(e)}set resolvedContext(e){this.resolvedContext$.next(e)}ngOnInit(){this.init$.next(void 0)}makeFilterFunction({i:e,metadata:r}){const o=r.get("panes").find(s=>s.name===e.datasourceBinding.id);return({term:s})=>(0,ke.of)([]).pipe((0,Qe.w)(()=>Rn(()=>!!e.datasourceBinding,e.datasourceBinding?this.panelResolver.dataPanes(r.get("panes")).pipe((0,Qe.w)(u=>o?this.datasourceHandler.fetchDynamicData(o.settings,new Map([...r,["dataPanes",u],["inputparams",new Map([["term",new Jr({flags:[],mapping:new rh({value:s,testValue:s,type:"static",context:void 0})})]])]])):(0,ke.of)([])),(0,ve.U)(u=>u.results)):(0,ke.of)([]),e.datasourceBinding?(0,ke.of)([]):this.urlGeneratorService.getUrl(e.rest.url,e.rest.params,r).pipe((0,Qe.w)(u=>this.datasourceApi.getData(`${u}`))))),(0,ve.U)(u=>e.datasourceOptions&&""!==e.datasourceOptions.query?(0,ra.JSONPath)({path:e.datasourceOptions.query,json:u}):u),(0,Qe.w)(u=>this.formlyHandlerHelper.mapDataOptions(e,u)))}rebuildPanel({panel:e,panelState:r}){return(0,rn.D)(r?r.panes.map((o,s)=>"panel"===e.panes[s].contentPlugin?this.rebuildFromPanelPage({panelPage:new Qn(this.attributeSerializer.deserializeAsObject(e.panes[s].settings)),pane:e.panes[s],panelPageState:r&&r.panes[s]?r.panes[s].nestedPage:void 0}):(0,ke.of)(e.panes[s])):[]).pipe((0,ve.U)(o=>new Qn({id:"",title:"",name:"",layoutType:"",displayType:"",gridItems:[],layoutSetting:void 0,rowSettings:void 0,panels:[new Bi({label:e.label,name:e.name,settings:void 0,stylePlugin:e.stylePlugin,columnSetting:void 0,panes:o})]})),(0,ve.U)(o=>new Bi({...e,panes:r?r.panes.map(()=>new nr({name:e.name,label:e.label,contentPlugin:"panel",nestedPage:o,settings:this.attributeSerializer.serialize(o,"root").attributes})):[]})),(0,tr.d)(new Bi(e)))}rebuildFromPanelPage({panelPageState:e,panelPage:r,pane:o}){return(0,rn.D)(r.panels.map((s,l)=>"formly_repeating"===s.stylePlugin?this.rebuildPanel({panel:s,panelState:e?e.panels[l]:void 0}):(0,ke.of)(s))).pipe((0,ve.U)(s=>new nr({...o,nestedPage:new Qn({...r,panels:s.map(l=>new Bi(l))})})),(0,tr.d)(new nr({...o,nestedPage:new Qn(r)})))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Ut.ContentPluginManager),a.\u0275\u0275directiveInject($v),a.\u0275\u0275directiveInject(gv),a.\u0275\u0275directiveInject(ia),a.\u0275\u0275directiveInject(fD),a.\u0275\u0275directiveInject(Ct.AttributeSerializerService),a.\u0275\u0275directiveInject(yv),a.\u0275\u0275directiveInject(pD),a.\u0275\u0275directiveInject(il),a.\u0275\u0275directiveInject(Tf),a.\u0275\u0275directiveInject(ru),a.\u0275\u0275directiveInject(Tc),a.\u0275\u0275directiveInject(Dn),a.\u0275\u0275directiveInject(Jn),a.\u0275\u0275directiveInject(d.gN,8))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-formly-repeating-renderer"]],inputs:{settings:"settings",panes:"panes",panel:"panel",originPanes:"originPanes",ancestory:"ancestory",contexts:"contexts",resolvedContext:"resolvedContext",originMappings:"originMappings"},decls:2,vars:4,consts:[[3,"formGroup"],[3,"form","fields","model"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275element(1,"formly-form",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.proxyGroup),a.\u0275\u0275advance(1),a.\u0275\u0275property("form",r.proxyGroup)("fields",r.fields)("model",r.model))},directives:[ex,d.JL,d.sg],styles:[""]}),t})(),A6=(()=>{class t{constructor(e,r,o,s){this.data=e,this.dialogRef=r,this.fb=o,this.attributeSerializer=s,this.contexts=[],this.formGroup=this.fb.group({valuesMapping:this.fb.control("")})}ngOnInit(){}submit(){this.data.panelFormGroup.get("settings").clear(),this.attributeSerializer.serialize(this.formGroup.value,"root").attributes.forEach(e=>{console.log("formly repeating editor form"),console.log(this.attributeSerializer.convertToGroup(e)),this.data.panelFormGroup.get("settings").push(this.attributeSerializer.convertToGroup(e))})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ft.WI),a.\u0275\u0275directiveInject(Ft.so),a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Ct.AttributeSerializerService))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-formly-repeating-editor"]],decls:8,vars:2,consts:[[3,"formGroup","ngSubmit"],["matInput","","formControlName","valuesMapping"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return r.submit()}),a.\u0275\u0275elementStart(1,"div"),a.\u0275\u0275elementStart(2,"mat-form-field"),a.\u0275\u0275elementStart(3,"mat-label"),a.\u0275\u0275text(4,"Values Mapping"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(5,"input",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"button",2),a.\u0275\u0275text(7,"Save"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.formGroup),a.\u0275\u0275advance(6),a.\u0275\u0275property("disabled",!r.formGroup.valid))},directives:[Xt.KE,kr.lW,d._Y,d.JL,d.sg,Xt.hX,_n.Nt,d.Fj,d.JJ,d.u,Ft.ZT],styles:[""]}),t})(),T6=(()=>{class t extends tx{constructor(e,r,o){super(),this.paneStateService=e,this.cpm=r,this.valueChange$=new O.x,this.valueChangeSub=this.valueChange$.pipe((0,Un.b)(1e3),(0,ve.U)(s=>({state:{value:s.value}})),(0,Qe.w)(({state:s})=>this.cpm.getPlugin(this.field.pane.contentPlugin).pipe((0,ve.U)(l=>({state:s,plugin:l})))),(0,Qe.w)(({state:s,plugin:l})=>this.paneStateService.mergeState({state:s,ancestory:this.panelStateAncestory,settings:this.field.pane.settings,plugin:l})),(0,ee.b)(({pageState:s})=>{this.panelPageStateService.upsert(s)})).subscribe(),this.panelPageStateService=o.getEntityCollectionService("PanelPageState")}get panelStateAncestory(){return[...this.field.panelAncestory,+this.field.parent.key,0,this.field.indexPosition]}ngOnInit(){this.formControl.valueChanges.subscribe(e=>{this.valueChange$.next(e)})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(gv),a.\u0275\u0275directiveInject(Ut.ContentPluginManager),a.\u0275\u0275directiveInject(Jn))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-formly-field-wrapper"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["fieldComponent",""]],template:function(e,r){1&e&&a.\u0275\u0275elementContainer(0,null,0)},styles:[""]}),t})(),k6=(()=>{class t extends Ia{constructor(){super(...arguments),this.ancestoryWithSelf=[]}ngOnInit(){super.ngOnInit(),this.panelPage=this.field.panelpage,this.ancestoryWithSelf=[...this.field.panelAncestory,+this.field.parent.parent.key,0,this.field.indexPosition]}ngAfterViewInit(){super.ngAfterViewInit()}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=a.\u0275\u0275getInheritedFactory(t)))(r||t)}}(),t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-formly-panel-page"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:1,vars:4,consts:[[3,"panelPage","nested","formControl","ancestory"]],template:function(e,r){1&e&&a.\u0275\u0275element(0,"classifieds-ui-panel-page",0),2&e&&a.\u0275\u0275property("panelPage",r.panelPage)("nested",!0)("formControl",r.formControl)("ancestory",r.ancestoryWithSelf)},directives:[Ti,d.JJ,d.oH],encapsulation:2}),t})(),V6=(()=>{class t{constructor(e,r,o){e.register((t=>new Ut.ContentPlugin({id:"formly_field",title:"Formly Field",selectionComponent:x6,editorComponent:ax,renderComponent:C6,handler:t}))(r)),o.register(new Mf({id:"formly_repeating",name:"formly_repeating",title:"Formly Repeating",editorComponent:A6,renderComponent:E6}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Ut.ContentPluginManager),a.\u0275\u0275inject(Bc),a.\u0275\u0275inject(iu))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({providers:[Bc],imports:[[x.CommonModule,d.UX,Wr.MaterialModule,Rs,Ba.forChild({types:[{name:"autocomplete",component:ox,wrappers:["form-field"]},{name:"repeat",component:S6},{name:"panelpage",component:k6}],wrappers:[{name:"imaginary-pane",component:T6}]}),Xz,Yz,c6,f6,m6,Ut.ContentModule,PC,al,sw,Vh]]}),t})(),sx=(()=>{class t{constructor(e,r){this.fb=e,this.controlContainer=r,this.context$=new h.X(void 0),this.formGroup=this.fb.group({value:this.fb.control("",[d.kI.required])}),this.stateCtrl=this.fb.control(""),this.stateCtrlSub=this.stateCtrl.valueChanges.pipe((0,Un.b)(250),(0,jo.x)(),(0,z.h)(o=>{try{return JSON.parse(o),!0}catch{return!1}}),(0,ve.U)(o=>JSON.parse(o))).subscribe(o=>{console.log("write state"),console.log(o),this.formGroup.get("value").setValue(o)}),this.onTouched=()=>{}}set context(e){this.context$.next(e)}ngOnInit(){this.context$.subscribe(e=>{this.stateCtrl.setValue(e?JSON.stringify(e.data.value):"")})}writeValue(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}registerOnChange(e){this.formGroup.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.formGroup.disable():this.formGroup.enable()}validate(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"source is invalid"}}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-context-state-form"]],inputs:{context:"context"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}])],decls:2,vars:2,consts:[[3,"formGroup"],["cols","40","rows","20","required","",3,"formControl"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275element(1,"textarea",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.formGroup),a.\u0275\u0275advance(1),a.\u0275\u0275property("formControl",r.stateCtrl))},directives:[d.JL,d.sg,d.Fj,d.Q7,d.JJ,d.oH],styles:[""]}),t})(),R6=(()=>{class t{constructor(e,r){this.fb=e,this.controlContainer=r}ngOnInit(){this.controlContainer.control.addControl("adaptor",this.fb.control("data",d.kI.required)),this.controlContainer.control.addControl("data",this.fb.control(""))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-context-state-editor"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(sx,7),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.contextStateFormComp=o.first)}},inputs:{context:"context"},decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","data",3,"context"]],template:function(e,r){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-context-state-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.controlContainer.control),a.\u0275\u0275advance(1),a.\u0275\u0275property("context",r.context))},directives:[sx,d.JL,d.sg,d.JJ,d.u],styles:[""]}),t})(),lx=(()=>{class t{constructor(e,r){this.attributeSerializer=e,this.es=r}get entityCollectionService(){return this.es.getEntityCollectionService("GlobalState")}resolve(e,r,o){console.log("hookup globalstate"),console.log(r);const u=o&&o.has("name")&&o.get("name")&&null!==o.get("name")&&""!==o.get("name")?o.get("name"):void 0;return u?this.entityCollectionService.collection$.pipe((0,At.Ys)((p=u,(0,At.P1)(p=>p.entities,f=>f[p]?f[p]:void 0))),(0,ve.U)(p=>p?this.attributeSerializer.deserialize(p.value):r.value?r.value:{}),(0,ve.U)(p=>p.root?p.root:p),(0,ee.b)(p=>{console.log("resolve globalstate"),console.log(p)})):(0,ke.of)(r.value?r.value:{}).pipe((0,ee.b)(p=>{console.log("resolve default globalstate"),console.log(p)}));var p}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Ct.AttributeSerializerService),a.\u0275\u0275inject(Jn))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();class N6{constructor(n){n&&(this.id=n.id,this.value=new Ct.AttributeValue(n.value))}}const M6={GlobalState:{entityName:"GlobalState"}};let D6=(()=>{class t{constructor(e,r,o,s,l,u,p){e.registerMetadataMap(M6),r.registerService("GlobalState",new ln.NoopDataService("GlobalState")),o.register((t=>{const n=new Ct.AttributeValue;return new gs({id:"state",name:"state",title:"State",baseObject:n,resolver:t,editorComponent:R6})})(p)),u.register(((t,n)=>new kf({id:"state",title:"State",build:()=>{tu.prototype.writeState=e=>new Promise(r=>{t.getEntityCollectionService("GlobalState").upsert(new N6({id:e.id,value:n.serialize(e.value,"root")})).pipe((0,ee.b)(s=>r(s))).subscribe()})}}))(s,l))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(mi),a.\u0275\u0275inject(Di),a.\u0275\u0275inject(ol),a.\u0275\u0275inject(Jn),a.\u0275\u0275inject(Ct.AttributeSerializerService),a.\u0275\u0275inject(Cc),a.\u0275\u0275inject(lx))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({providers:[lx],imports:[[x.CommonModule,d.u5,d.UX]]}),t})();var j6=S(4382);function aa(t){return new Promise((n,e)=>{t.oncomplete=t.onsuccess=()=>n(t.result),t.onabort=t.onerror=()=>e(t.error)})}let Hv;function po(){return Hv||(Hv=function z6(t,n){const e=function L6(){var n;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){var r=function(){return indexedDB.databases().finally(e)};n=setInterval(r,100),r()}).finally(function(){return clearInterval(n)}):Promise.resolve()}().then(()=>{const r=indexedDB.open(t);return r.onupgradeneeded=()=>r.result.createObjectStore(n),aa(r)});return(r,o)=>e.then(s=>o(s.transaction(n,r).objectStore(n)))}("keyval-store","keyval")),Hv}function ux(t,n,e=po()){return e("readwrite",r=>(r.put(n,t),aa(r.transaction)))}const q6=t=>new Ic({id:"idb_keyval",title:"Idb Keyval",create:({object:n,identity:e,params:r,parentObject:o})=>(0,ke.of)({success:!1}).pipe((0,Qe.w)(()=>e({object:n,parentObject:o}).pipe((0,ve.U)(({identity:s})=>({identity:s})))),(0,Qe.w)(({identity:s})=>r&&0!==Object.keys(r).length?(0,rn.D)(Object.keys(r).map(l=>t.paramValue(r[l],new Map).pipe((0,ve.U)(u=>({[l]:u}))))).pipe((0,ve.U)(l=>l.reduce((u,p)=>({...u,...p}),{})),(0,ve.U)(l=>({identity:s,options:l}))):(0,ke.of)({identity:s,options:{}})),(0,ve.U)(({identity:s,options:l})=>({name:l.prefix+s})),(0,Qe.w)(({name:s})=>new g.y(l=>{ux(s,n).then(u=>{console.log("idb write suceeded"),console.log(u),l.next({success:!0}),l.complete()}).catch(u=>{console.log("idb write failed"),console.log(u),l.next({success:!1}),l.complete()})}))),read:({})=>(0,ke.of)({success:!1}),update:({object:n,identity:e,params:r,parentObject:o})=>(0,ke.of)({success:!1}).pipe((0,Qe.w)(()=>e({object:n,parentObject:o}).pipe((0,ve.U)(({identity:s})=>({identity:s})))),(0,Qe.w)(({identity:s})=>r&&0!==Object.keys(r).length?(0,rn.D)(Object.keys(r).map(l=>t.paramValue(r[l],new Map).pipe((0,ve.U)(u=>({[l]:u}))))).pipe((0,ve.U)(l=>l.reduce((u,p)=>({...u,...p}),{})),(0,ve.U)(l=>({identity:s,options:l}))):(0,ke.of)({identity:s,options:{}})),(0,ve.U)(({identity:s,options:l})=>({name:l.prefix+s})),(0,Qe.w)(({name:s})=>new g.y(l=>{ux(s,n).then(u=>{console.log("idb write suceeded"),console.log(u),l.next({success:!0}),l.complete()}).catch(u=>{console.log("idb write failed"),console.log(u),l.next({success:!1}),l.complete()})}))),delete:({})=>(0,ke.of)({success:!1}),query:({params:n,rule:e,identity:r})=>t.paramValues(new Map(Object.keys(n).map(o=>[o,n[o]]))).pipe((0,Qe.w)(o=>new g.y(s=>{(function H6(t=po()){return t("readonly",n=>{if(n.getAllKeys)return aa(n.getAllKeys());const e=[];return function qv(t,n){return t.openCursor().onsuccess=function(){!this.result||(n(this.result),this.result.continue())},aa(t.transaction)}(n,r=>e.push(r.key)).then(()=>e)})})().then(l=>l.filter(u=>0===`${u}`.indexOf(o.get("prefix")))).then(l=>function $6(t,n=po()){return n("readonly",e=>Promise.all(t.map(r=>aa(e.get(r)))))}(l)).then(l=>{s.next({entities:l,success:!0}),s.complete()})})),(0,Qe.w)(o=>e?new g.y(s=>{const l=new Ac.Engine;l.addOperator("startsWith",(u,p)=>"string"==typeof p&&"string"==typeof u&&0===p.indexOf(u)),l.addOperator("term||wildcard",(u,p)=>{const f=JSON.parse(decodeURIComponent(p)),v=(0,ra.JSONPath)({path:"$.term.*.value.@string()",json:f,flatten:!0});return void 0!==f.wildcard||f.term&&0!==v.lengh&&v[0]===u}),l.addRule(e),l.addFact("identity",(u,p)=>new g.y(f=>{p.factValue("entity").then(v=>r({object:v}).pipe((0,ve.U)(({identity:D})=>D)).toPromise()).then(v=>{f.next(v),f.complete()})}).toPromise(),{cache:!1}),(0,ke.of)(...o.entities).pipe((0,Za.b)(u=>new g.y(p=>{l.removeFact("entity"),l.addFact("entity",u,{cache:!1}),l.run().then(f=>{p.next([u,f.events.findIndex(v=>"visible"===v.type)>-1]),p.complete()})})),(0,z.h)(([u,p])=>p),(0,ve.U)(([u])=>u),function B6(t,n){return(0,Ao.e)((0,j6.U)(t,n,arguments.length>=2,!1,!0))}((u,p)=>[...u,p],[]),(0,tr.d)([])).subscribe(u=>{s.next({...o,entities:u}),s.complete()})}):(0,ke.of)(o)))}),K6=({data:t,key:n})=>e=>()=>new g.y(r=>{(0,x.isPlatformBrowser)(e)?function G6(t,n=po()){return n("readwrite",e=>(t.forEach(r=>e.put(r[1],r[0])),aa(e.transaction)))}(t.map(s=>[n({data:s}),s])).then(()=>{console.log("data loaded into idb"),r.next(),r.complete()}).catch(()=>{console.log("data load into idb failure"),r.next(),r.complete()}):(r.next(),r.complete())});let X6=(()=>{class t{constructor(e,r){e.register(q6(r))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ll),a.\u0275\u0275inject(hs))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[Rf]]}),t})(),W6=(()=>{class t{constructor(e,r,o,s){this.authFacade=r,this.router=o,this.title="Ipe",this.menuClicked=new a.EventEmitter,(0,x.isPlatformBrowser)(e)&&(bridge=s)}ngOnInit(){this.authFacade.getUser$.subscribe(e=>{this.isAuthenticated=!!e})}login(){this.authFacade.login()}menuClick(){this.menuClicked.emit()}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.PLATFORM_ID),a.\u0275\u0275directiveInject(hi),a.\u0275\u0275directiveInject(Nn.Router),a.\u0275\u0275directiveInject(tu))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["app-root"]],outputs:{menuClicked:"menuClicked"},decls:3,vars:0,consts:[["fxLayout","column","fxFill",""],[1,"outlet-wrapper"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"div",1),a.\u0275\u0275element(2,"router-outlet"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())},directives:[ue,An,Nn.RouterOutlet],styles:[".outlet-wrapper[_ngcontent-%COMP%]{height:100%}"]}),t})();var J6=S(5242);const mo_production=!1,mo_site="ipe",mo_apiGatewaySettings={endpointUrl:"https://81j44yaaab.execute-api.us-east-1.amazonaws.com"},mo_mediaSettings={endpointUrl:"https://81j44yaaab.execute-api.us-east-1.amazonaws.com/media",cloudinaryUrl:"https://api.cloudinary.com/v1_1/dj4vvkgzw",uploadPreset:"i0hm4opm",imageUrl:"https://d12b7acm1cy55s.cloudfront.net",bucket:"classifieds-ui-dev",prefix:"media/"},mo_cognitoSettings={identityPoolId:"us-east-1:6f5cdc41-35b0-41ca-9f6b-7eca11320942",region:"us-east-1",userPoolId:"us-east-1_z8PhK3D8V"},mo_panelsSettings={openSearchDomain:"search-classifieds-ui-dev-eldczuhq3vesgpjnr3vie6cagq",s3Bucket:"classifieds-ui-dev",objectsRootUrl:"https://rollthecloudinc.github.io/ipe-objects"},mo_alienaliasSettings={openSearchDomain:"search-classifieds-ui-dev-eldczuhq3vesgpjnr3vie6cagq"},mo_rumSettings={appId:"",guestRoleArn:"",identityPoolId:"",region:""},mo_clientSettings={authority:"https://classifieds-ui-dev.auth.us-east-1.amazoncognito.com",client_id:"3lkidn79q4jq8nahkecsguleij",redirect_uri:"https://demo.druidcloud.dev/auth-callback",silent_redirect_uri:"https://demo.druidcloud.dev/silent-refresh.html",response_type:"code",scope:"openid profile aws.cognito.signin.user.admin ads_api/ads_api taxonomy_api/taxonomy_api chat/chat media_api/media_api profiles_api/profiles_api",filterProtocolClaims:!0,loadUserInfo:!0,automaticSilentRenew:!0,stateStore:void 0,userStore:void 0,metadata:{issuer:"https://cognito-idp.us-east-1.amazonaws.com/us-east-1_z8PhK3D8V",authorization_endpoint:"https://classifieds-ui-dev.auth.us-east-1.amazoncognito.com/oauth2/authorize",userinfo_endpoint:"https://classifieds-ui-dev.auth.us-east-1.amazoncognito.com/oauth2/userInfo",end_session_endpoint:"https://classifieds-ui-dev.auth.us-east-1.amazoncognito.com/logout",token_endpoint:"https://classifieds-ui-dev.auth.us-east-1.amazoncognito.com/oauth2/token",jwks_uri:"https://cognito-idp.us-east-1.amazonaws.com/us-east-1_z8PhK3D8V"},signingKeys:[{alg:"RS256",e:"AQAB",kid:"LFfHKQ51C81E+ByYd/wucwrvfiEnYJQtJvb4GHbalFQ=",kty:"RSA",n:"gijyjUXIzkAPofeaM7JCAsuLHLc_GP3of-NT8ARjSTTMif-wqJeNww4MJkvRYzfL6mL_owVZgD37O4Dd81jBLY6iEyi6hxHYTUuXR7mYkQ2008Fp3m45wztUKWeeNgzsvuR01STkkwmuf7afkQXJUlHts8eT47Dqc4mrKA3vcHYG4vJXmvtjQT-IirkA-yU36TXyd1TPOetdwlmFOcSYfL4CW7ZZfVg1dCvT1T50mO1AaQDMcA8S3fVfROGW36hjiB8r9q5zQrrfBLTMPSVpn85LscVLbYUxJL9yLygiD4UTCXw7Y1hiE2tDL2nmy6PHumylNf8yj5I7N56Kz4cwtQ",use:"sig"},{alg:"RS256",e:"AQAB",kid:"UNTk4hVhUrq0k8uAGvDYs/w0g/iW+b9PweObMbM6S/w=",kty:"RSA",n:"g7Z-JKiovH7ZnwK1o8hsiLf4GfxA9w11RsQK3yQWG3xR__qKbkvxKxhn3Xt5QsUSo8nhiwWtsjUTyVxRO7WJlCjSHGztvYhoYIlwSL8Mqtf3Plg6CrJoDhq7CZDe_TNeQczfBI8k1w5U6n4h5G-e4Fa41nH-qXrDh2L7onTFKSzZDJRCELmh64ur5RmU6kuhwrejwS4YXuz4gKQRcTuDu9AXH7A7cNO5EF_sVRy8hkFtKCPO-mgwJ5S_e5_Y5gleJRpMZnzWmBv_-GpwO5V9XzxBr5s1O9HqyBMXR1pKU_YykeP7PvukEDpyr8UXu-2drzq-oHzXHDInNHjYPLx3BQ",use:"sig"}]},Q6={router:function bF(t,n){const e=n;switch(e.type){case zy:case $y:case Gy:return{state:e.payload.routerState,navigationId:e.payload.event.id};default:return t}}},Y6=[];class cx{constructor(n){n&&(this.query=n.query)}}let Z6=(()=>{class t{constructor(e,r){this.fb=e,this.attributeSerializer=r,this.settings$=new h.X(void 0),this.formGroup=this.fb.group({query:this.fb.control("",[d.kI.required])}),this.settingsSub=this.settings$.pipe((0,ve.U)(o=>o?new cx(this.attributeSerializer.deserializeAsObject(o)):void 0)).subscribe(o=>{o?this.formGroup.get("query").setValue(o.query):this.formGroup.get("query").setValue("")}),this.onTouched=()=>{}}set settings(e){this.settings$.next(e)}ngOnInit(){}writeValue(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}registerOnChange(e){this.formGroup.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.formGroup.disable():this.formGroup.enable()}validate(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Ct.AttributeSerializerService))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-select-source-form"]],inputs:{settings:"settings"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}])],decls:5,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","query","required",""]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"mat-form-field"),a.\u0275\u0275elementStart(2,"mat-label"),a.\u0275\u0275text(3,"Query"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(4,"input",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("formGroup",r.formGroup)},directives:[Xt.KE,d.JL,d.sg,Xt.hX,_n.Nt,d.Fj,d.JJ,d.u,d.Q7],styles:[""]}),t})(),e5=(()=>{class t{constructor(e){this.controlContainer=e,this.settings=[]}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-transform-select"]],inputs:{settings:"settings"},decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","settings",3,"settings"]],template:function(e,r){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-select-source-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.controlContainer.control),a.\u0275\u0275advance(1),a.\u0275\u0275property("settings",r.settings))},directives:[Z6,d.JL,d.sg,d.JJ,d.u],encapsulation:2}),t})(),t5=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-transform-merge"]],decls:2,vars:0,template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"p"),a.\u0275\u0275text(1,"transform merge"),a.\u0275\u0275elementEnd())},styles:[""]}),t})();const n5=t=>new Bo({id:"select",title:"Select",editor:e5,fetch:({settings:n,dataset:e})=>Rn(()=>!!e,(0,ke.of)(e).pipe((0,ve.U)(()=>new cx(t.deserializeAsObject(n))),(0,ve.U)(r=>new Fn({results:(0,ra.JSONPath)({path:r.query,json:e.results})}))),(0,ke.of)(new Fn))});let i5=(()=>{class t{constructor(e,r){[n5(r),new Bo({id:"merge",title:"Merge",editor:t5,fetch:({})=>(0,ke.of)(new Fn)})].forEach(o=>e.register(o))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Sa),a.\u0275\u0275inject(Ct.AttributeSerializerService))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,d.u5,d.UX,Wr.MaterialModule,al]]}),t})(),a5=(()=>{class t{constructor(e,r){this.fb=e,this.attributeSerializer=r,this.contexts=[],this.settings$=new h.X(void 0),this.paramValues$=new h.X([]),this.formGroup=this.fb.group({entityName:this.fb.control(""),queryString:this.fb.control(""),params:this.fb.control([])}),this.settingsSub=this.settings$.pipe((0,ve.U)(o=>o?this.attributeSerializer.deserializeAsObject(o):void 0)).subscribe(o=>{o?(this.formGroup.get("entityName").setValue(o.entityName),this.formGroup.get("queryString").setValue(o.queryString)):(this.formGroup.get("entityName").setValue(""),this.formGroup.get("queryString").setValue(""))}),this.queryStringChangeSub=this.formGroup.get("queryString").valueChanges.pipe((0,Un.b)(500)).subscribe(o=>{const s=xa.parse("?"+o);this.paramsParsed=s}),this.onTouched=()=>{}}set settings(e){this.settings$.next(e)}ngOnInit(){}writeValue(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}registerOnChange(e){this.formGroup.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.formGroup.disable():this.formGroup.enable()}validate(e){return this.formGroup.valid?null:this.formGroup.errors}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Ct.AttributeSerializerService))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-entity-datasource-form"]],inputs:{contexts:"contexts",settings:"settings"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}])],decls:8,vars:4,consts:[[3,"formGroup"],["matInput","","placeholder","Name","formControlName","entityName","required",""],["matInput","","placeholder","Query String","formControlName","queryString"],["formControlName","params",3,"params","paramValues","contexts"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"div"),a.\u0275\u0275elementStart(2,"mat-form-field"),a.\u0275\u0275element(3,"input",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"div"),a.\u0275\u0275elementStart(5,"mat-form-field"),a.\u0275\u0275element(6,"input",2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(7,"classifieds-ui-params-form",3),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.formGroup),a.\u0275\u0275advance(7),a.\u0275\u0275property("params",r.paramsParsed)("paramValues",r.paramValues$.value)("contexts",r.contexts))},directives:[Xt.KE,ih,d.JL,d.sg,_n.Nt,d.Fj,d.JJ,d.u,d.Q7],styles:[""]}),t})(),dx=(()=>{class t{constructor(e){this.controlContainer=e,this.settings=[],this.contexts=[]}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-entity-datasource"]],inputs:{settings:"settings",contexts:"contexts"},decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"settings","contexts"]],template:function(e,r){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-entity-datasource-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.controlContainer.control),a.\u0275\u0275advance(1),a.\u0275\u0275property("settings",r.settings)("contexts",r.contexts))},directives:[a5,d.JL,d.sg,d.JJ,d.u],encapsulation:2}),t})();class fx{constructor(n){this.params=[],n&&(this.entityName=n.entityName,this.queryString=n.queryString?n.queryString:"",n.params&&Array.isArray(n.params)&&(this.params=n.params.map(e=>new Jr(e))))}}let l5=(()=>{class t{constructor(e,r,o,s,l,u){e.register(((t,n,e,r)=>new Bo({id:"entity",title:"Entity",editor:dx,fetch:({settings:o,metadata:s})=>(0,ke.of)(new Fn).pipe((0,ve.U)(()=>n.deserializeAsObject(o)),(0,ve.U)(l=>new fx(l)),(0,Qe.w)(l=>e.getUrl("?"+l.queryString,l.params,s).pipe((0,ve.U)(u=>({e:l,queryString:u})))),(0,ve.U)(({e:l,queryString:u})=>({e:l,queryString:u.substr(1)})),(0,Qe.w)(({e:l,queryString:u})=>u&&""!==u?r.getEntityCollectionService(l.entityName).getWithQuery(u):r.getEntityCollectionService(l.entityName).getAll()),(0,ve.U)(l=>new Fn({results:l}))),editorOptions:()=>(0,ke.of)(new ah({fullscreen:!0})),getBindings:({settings:o})=>(0,ke.of)([]).pipe((0,ve.U)(()=>n.deserializeAsObject(o)),(0,ve.U)(l=>new fx(l)),(0,Qe.w)(l=>t.extractContexts(l.params)),(0,ve.U)(l=>l.map(u=>new Ut.ContentBinding({id:u,type:"context"}))))}))(o,s,l,u)),r.register(new ww({id:"entity",title:"Entity",editor:dx,send:t=>(0,ke.of)(new nv({}))}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Sa),a.\u0275\u0275inject(oh),a.\u0275\u0275inject(tv),a.\u0275\u0275inject(Ct.AttributeSerializerService),a.\u0275\u0275inject(il),a.\u0275\u0275inject(Jn))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,d.UX,d.u5,Wr.MaterialModule,Sc,wc]]}),t})(),u5=(()=>{class t{constructor(e){this.fb=e,this.contexts=[],this.settings$=new h.X(void 0),this.datasource$=new h.X(void 0),this.formGroup=this.fb.group({}),this.onTouched=()=>{}}set settings(e){this.settings$.next(e)}ngOnInit(){}writeValue(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}registerOnChange(e){this.formGroup.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.formGroup.disable():this.formGroup.enable()}validate(e){return this.formGroup.valid?null:this.formGroup.errors}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-loop-datasource-form"]],inputs:{contexts:"contexts",settings:"settings"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}])],decls:1,vars:1,consts:[[3,"formGroup"]],template:function(e,r){1&e&&a.\u0275\u0275element(0,"div",0),2&e&&a.\u0275\u0275property("formGroup",r.formGroup)},directives:[d.JL,d.sg],styles:[""]}),t})(),c5=(()=>{class t{constructor(e){this.controlContainer=e,this.settings=[],this.contexts=[]}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-loop-datasource"]],inputs:{settings:"settings",contexts:"contexts"},decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"settings","contexts"]],template:function(e,r){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-loop-datasource-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.controlContainer.control),a.\u0275\u0275advance(1),a.\u0275\u0275property("settings",r.settings)("contexts",r.contexts))},directives:[u5,d.JL,d.sg,d.JJ,d.u],encapsulation:2}),t})();class d5{constructor(n){}}const f5=(t,n)=>new Bo({id:"loop",title:"loop",editor:c5,fetch:({settings:e,dataset:r,datasource:o,metadata:s,datasources:l})=>(0,ke.of)(new Fn).pipe((0,ve.U)(()=>t.deserializeAsObject(e)),(0,ve.U)(u=>u?new d5(u):void 0),(0,Qe.w)(u=>(0,rn.D)(r?r.results.map(p=>n.evalDatasource({datasource:new eu({plugin:"data",renderer:o.renderer,settings:t.serialize({data:JSON.stringify(r.results)},"root").attributes}),datasources:l,metadata:new Map([...s?Array.from(s).filter(([f])=>"contexts"!==f):[],["contexts",[...s.has("contexts")&&Array.isArray(s.get("contexts"))?s.get("contexts").filter(f=>"_root"!==f.name):[],new Pi({name:"_root",adaptor:"data",data:p})]]])}).pipe((0,nn.q)(1))):[]).pipe((0,ve.U)(p=>new Fn({results:p.reduce((f,v)=>[...f,...v.results],[])})),(0,tr.d)(new Fn({results:[]})))))});let p5=(()=>{class t{constructor(e,r,o){[f5(r,o)].forEach(s=>e.register(s))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Sa),a.\u0275\u0275inject(Ct.AttributeSerializerService),a.\u0275\u0275inject(fw))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,d.UX,Wr.MaterialModule,Sc,al]]}),t})();function m5(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-option",6),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275property("value",e.value.id),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e.value.title)}}function h5(t,n){}function g5(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275element(1,"druid-ordain-validation-validator",4),a.\u0275\u0275elementStart(2,"button",3),a.\u0275\u0275listener("click",function(){const s=a.\u0275\u0275restoreView(e).index;return a.\u0275\u0275nextContext().deleteValidator$.next(s)}),a.\u0275\u0275text(3,"Delete"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const e=n.index,r=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("formControlName",e)("validation",r.validation$.value.validators[e])}}class _s extends fn.Plugin{constructor(n){super(n),n&&(this.editor=n.editor,this.errorMessage=n.errorMessage,this.builder=n.builder)}}class y5{constructor(n){n&&(this.name=n.name,this.validator=n.validator,this.overrideErrorMessage=n.overrideErrorMessage,n.paramSettings&&"string"!=typeof n.paramSettings&&(this.paramSettings=new v5(n.paramSettings)))}}class v5{constructor(n){this.params=[],n&&(this.paramsString=n.paramsString,n.params&&Array.isArray(n.params)&&(this.params=n.params.map(e=>new Jr(e))))}}class op{constructor(n){n&&Array.isArray(n.validators)&&(this.validators=n.validators.map(e=>new y5(e)))}}let px=(()=>{class t{constructor(e){this.viewContainerRef=e}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(a.ViewContainerRef))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["","druidValidationRendererHost",""]]}),t})(),_5=(()=>{class t{constructor(e){this.fb=e,this.contexts=[],this.settings$=new h.X(void 0),this.afterViewInit$=new O.x,this.paramValues$=new h.X([]),this.formGroup=this.fb.group({paramsString:this.fb.control(""),params:this.fb.control([])}),this.paramsStringChangeSub=this.formGroup.get("paramsString").valueChanges.pipe((0,Un.b)(500)).subscribe(r=>{const o=xa.parse("?"+r);this.paramsParsed=o}),this.settingsSub=this.settings$.pipe((0,ee.b)(r=>{r&&this.formGroup.get("paramsString").setValue(r.paramsString?r.paramsString:"")})).subscribe(),this.settingsParamsSub=(0,On.a)([this.settings$,this.formGroup.get("paramsString").valueChanges]).pipe((0,z.h)(([r])=>void 0!==r),(0,Zn.g)(1),(0,ee.b)(([r])=>this.paramValues$.next(r.params))).subscribe(),this.onTouched=()=>{}}set settings(e){this.settings$.next(e)}writeValue(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}registerOnChange(e){this.formGroup.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.formGroup.disable():this.formGroup.enable()}validate(e){return this.formGroup.valid?null:this.formGroup.errors}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-ordain-validation-params-editor-form"]],inputs:{contexts:"contexts",settings:"settings"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}])],decls:6,vars:4,consts:[[3,"formGroup"],[1,"params-container"],["matInput","","placeholder","Params","formControlName","paramsString"],["formControlName","params",3,"params","paramValues","contexts"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"div",1),a.\u0275\u0275elementStart(2,"div"),a.\u0275\u0275elementStart(3,"mat-form-field"),a.\u0275\u0275element(4,"input",2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(5,"classifieds-ui-params-form",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.formGroup),a.\u0275\u0275advance(5),a.\u0275\u0275property("params",r.paramsParsed)("paramValues",r.paramValues$.value)("contexts",r.contexts))},directives:[Xt.KE,ih,d.JL,d.sg,_n.Nt,d.Fj,d.JJ,d.u],styles:[""]}),t})(),bs=(()=>{class t{constructor(e){this.controlContainer=e,this.settings=[],this.contexts=[]}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-ordain-validation-params-editor"]],inputs:{settings:"settings",contexts:"contexts"},decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","paramSettings",3,"settings","contexts"]],template:function(e,r){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"druid-ordain-validation-params-editor-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.controlContainer.control),a.\u0275\u0275advance(1),a.\u0275\u0275property("settings",r.settings)("contexts",r.contexts))},directives:[_5,d.JL,d.sg,d.JJ,d.u],encapsulation:2}),t})();class b5{constructor(n,e){this.pluginManager=n,this.formsValidationUtils=e}loadPlugins(n,e=[]){return(0,ke.of)(!1).pipe((0,ee.b)(()=>this.pluginManager.register(this.makeRequired())),(0,ee.b)(()=>this.pluginManager.register(this.makeRequiredTrue())),(0,ee.b)(()=>{this.pluginManager.register(this.makeMin()),this.pluginManager.register(this.makeMax()),this.pluginManager.register(this.makeMinLength()),this.pluginManager.register(this.makeMaxLength())}),(0,ve.U)(()=>this.pluginManager.register(this.makeEmail())),(0,ve.U)(()=>this.pluginManager.register(this.makePattern())),(0,ve.U)(()=>this.pluginManager.register(this.nullValidator())),(0,ve.U)(()=>!0))}makeRequired(){return new _s({id:"required",title:"Required",errorMessage:"Field is required",editor:bs,builder:({serialized:n})=>(0,ke.of)(e=>(0,ke.of)(d.kI.required(this.formsValidationUtils.rebuildControl({c:e,serialized:n}))))})}makeRequiredTrue(){return new _s({id:"required_true",title:"Required True",errorMessage:"Field is required",editor:bs,builder:({serialized:n})=>(0,ke.of)(e=>(0,ke.of)(d.kI.requiredTrue(this.formsValidationUtils.rebuildControl({c:e,serialized:n}))))})}makeEmail(){return new _s({id:"email",title:"Email",errorMessage:"Invalid email",editor:bs,builder:({serialized:n})=>(0,ke.of)(e=>(0,ke.of)(d.kI.email(this.formsValidationUtils.rebuildControl({c:e,serialized:n}))))})}nullValidator(){return new _s({id:"null",title:"Null",errorMessage:"nota",editor:bs,builder:({serialized:n})=>(0,ke.of)(e=>(0,ke.of)(d.kI.nullValidator(this.formsValidationUtils.rebuildControl({c:e,serialized:n}))))})}makeMin(){return new _s({id:"min",title:"Min",errorMessage:"Field min [.min]",editor:bs,builder:({v:n,serialized:e})=>(0,ke.of)(r=>this.formsValidationUtils.resolveParams({v:n}).pipe((0,ve.U)(o=>d.kI.min(+o.min)(this.formsValidationUtils.rebuildControl({c:r,serialized:e})))))})}makeMax(){return new _s({id:"max",title:"Max",errorMessage:"Field max [.max]",editor:bs,builder:({v:n,serialized:e})=>(0,ke.of)(r=>this.formsValidationUtils.resolveParams({v:n}).pipe((0,ve.U)(o=>d.kI.max(+o.max)(this.formsValidationUtils.rebuildControl({c:r,serialized:e})))))})}makeMinLength(){return new _s({id:"min_length",title:"Min Length",errorMessage:"minimum of [.min] characters",editor:bs,builder:({v:n,serialized:e})=>(0,ke.of)(r=>this.formsValidationUtils.resolveParams({v:n}).pipe((0,ve.U)(o=>d.kI.minLength(+o.minLength)(this.formsValidationUtils.rebuildControl({c:r,serialized:e})))))})}makeMaxLength(){return new _s({id:"max_length",title:"Max Length",errorMessage:"Maximum of [.max] characters",editor:bs,builder:({v:n,serialized:e})=>(0,ke.of)(r=>this.formsValidationUtils.resolveParams({v:n}).pipe((0,ve.U)(o=>d.kI.maxLength(+o.maxLength)(this.formsValidationUtils.rebuildControl({c:r,serialized:e})))))})}makePattern(){return new _s({id:"pattern",title:"Pattern",errorMessage:"Must match pattern",editor:bs,builder:({v:n,serialized:e})=>(0,ke.of)(r=>this.formsValidationUtils.resolveParams({v:n}).pipe((0,ve.U)(o=>d.kI.pattern(new RegExp(o.pattern))(this.formsValidationUtils.rebuildControl({c:r,serialized:e})))))})}}let w5=(()=>{class t{constructor(e,r){this.paramEvaluatorService=e,this.attributesSerializerService=r}resolveParams({v:e}){return(0,ke.of)({}).pipe((0,ve.U)(()=>({paramNames:e.paramSettings.paramsString?e.paramSettings.paramsString.split("&").filter(r=>-1!==r.indexOf("=:")).map(r=>r.split("=",2)[1].substr(1)):[]})),(0,Qe.w)(({paramNames:r})=>this.paramEvaluatorService.paramValues(e.paramSettings.params.reduce((o,s,l)=>new Map([...o,[r[l],s]]),new Map)).pipe((0,ve.U)(o=>Array.from(o).reduce((s,[l,u])=>({...s,[l]:u}),{})))))}rebuildControl({c:e,serialized:r}){return r?new d.NI(this.attributesSerializerService.deserializeAsObject(e.value).value):e}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(hs),a.\u0275\u0275inject(Ct.AttributeSerializerService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),oa=(()=>{class t extends fn.BasePluginManager{constructor(e,r,o){super(r,o),this.addDiscovery(new b5(this,e))}pluginDef(){return(0,ke.of)(new fn.PluginDef({name:"validation"}))}discovery(){super.discovery()}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(w5),a.\u0275\u0275inject(fn.PluginConfigurationManager),a.\u0275\u0275inject(ln.ModuleLoaderService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),C5=(()=>{class t{constructor(e,r,o){this.fb=e,this.vpm=r,this.componentFactoryResolver=o,this.contexts=[],this.settings$=new h.X(void 0),this.formGroup=this.fb.group({name:this.fb.control("",[d.kI.required]),validator:this.fb.control("",[d.kI.required]),overrideErrorMessage:this.fb.control(""),paramSettings:this.fb.control("")}),this.validationPlugins$=this.vpm.getPlugins(),this.componentRef$=new h.X(void 0),this.afterViewInit$=new O.x,this.onInit$=new O.x,this.validation$=new h.X(void 0),this.validatorChangeSub=this.formGroup.get("validator").valueChanges.pipe((0,ee.b)(s=>{console.log("validator change",s)})).subscribe(),this.validatorSub=(0,On.a)([this.formGroup.get("validator").valueChanges,this.afterViewInit$]).pipe((0,ve.U)(([s])=>s),(0,Qe.w)(s=>s&&""!==s?this.vpm.getPlugin(s):(0,ke.of)(void 0)),(0,ee.b)(s=>{s&&this.renderValidation(s)})).subscribe(),this.validationSub=this.validation$.pipe((0,ee.b)(s=>{s?(this.formGroup.get("name").setValue(s.name),this.formGroup.get("validator").setValue(s.validator),this.formGroup.get("overrideErrorMessage").setValue(s.overrideErrorMessage),setTimeout(()=>this.formGroup.get("paramSettings").setValue(s.paramSettings))):(this.formGroup.get("name").setValue(""),this.formGroup.get("overrideErrorMessage").setValue(""),this.formGroup.get("validator").setValue(""))})).subscribe(),this.contextForwardingSub=this.componentRef$.pipe((0,z.h)(s=>!!s)).subscribe(s=>{s.instance.contexts=this.contexts,s.instance.settings=this.validation$.value?this.validation$.value.paramSettings:void 0}),this.onTouched=()=>{}}set validation(e){this.validation$.next(e)}ngOnInit(){this.onInit$.next(void 0),this.onInit$.complete()}ngAfterViewInit(){this.afterViewInit$.next(void 0),this.afterViewInit$.complete()}writeValue(e){e&&this.formGroup.setValue({...e,settings:e.settings?e.settings:""},{emitEvent:!1})}registerOnChange(e){this.formGroup.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.formGroup.disable():this.formGroup.enable()}validate(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}renderValidation(e){const r=this.componentFactoryResolver.resolveComponentFactory(e.editor),o=this.validationHost.viewContainerRef;o.clear(),this.componentRef$.next(o.createComponent(r))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(oa),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-ordain-validation-validator"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(px,7),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.validationHost=o.first)}},inputs:{contexts:"contexts",validation:"validation"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}])],decls:19,vars:6,consts:[[3,"formGroup"],["matInput","","type","text","formControlName","name"],["required","","formControlName","validator"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","text","formControlName","overrideErrorMessage"],["druidValidationRendererHost",""],[3,"value"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"div"),a.\u0275\u0275elementStart(2,"mat-form-field"),a.\u0275\u0275elementStart(3,"mat-label"),a.\u0275\u0275text(4,"Name"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(5,"input",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"mat-form-field"),a.\u0275\u0275elementStart(7,"mat-label"),a.\u0275\u0275text(8,"Validator"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"mat-select",2),a.\u0275\u0275template(10,m5,2,2,"mat-option",3),a.\u0275\u0275pipe(11,"keyvalue"),a.\u0275\u0275pipe(12,"async"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(13,"mat-form-field"),a.\u0275\u0275elementStart(14,"mat-label"),a.\u0275\u0275text(15,"Error Message"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(16,"input",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerStart(17),a.\u0275\u0275template(18,h5,0,0,"ng-template",5),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.formGroup),a.\u0275\u0275advance(10),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(11,2,a.\u0275\u0275pipeBind1(12,4,r.validationPlugins$))))},directives:[Xt.KE,Dr.gD,Xn.ey,d.JL,d.sg,Xt.hX,_n.Nt,d.Fj,d.JJ,d.u,d.Q7,x.NgForOf,px],pipes:[x.KeyValuePipe,x.AsyncPipe],styles:[""]}),t})(),x5=(()=>{class t{constructor(e){this.fb=e,this.formGroup=this.fb.group({validators:this.fb.array([])}),this.addValidator$=new O.x,this.deleteValidator$=new O.x,this.afterViewInit$=new O.x,this.validation$=new h.X(new op({validators:[]})),this.addValidatorSub=this.addValidator$.pipe((0,ee.b)(()=>{this.validators.push(this.fb.control(""))})).subscribe(),this.deleteValidatorSub=this.deleteValidator$.pipe((0,ee.b)(r=>{this.validation$.value.validators.splice(r,1),this.validators.removeAt(r)})).subscribe(),this.validationSub=(0,On.a)([this.validation$,this.afterViewInit$]).pipe((0,ve.U)(([r])=>r),(0,z.h)(r=>0!==r.validators.length),(0,ee.b)(r=>{this.validators.clear(),r.validators.forEach((o,s)=>{this.validators.push(this.fb.control(""))})})).subscribe(),this.onTouched=()=>{}}set validation(e){this.validation$.next(e)}get validators(){return this.formGroup.get("validators")}ngAfterViewInit(){this.afterViewInit$.next(void 0),this.afterViewInit$.complete()}writeValue(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}registerOnChange(e){this.formGroup.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.formGroup.disable():this.formGroup.enable()}validate(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-ordain-validation-editor"]],inputs:{validation:"validation"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}])],decls:5,vars:2,consts:[[3,"formGroup"],["formArrayName","validators"],[4,"ngFor","ngForOf"],["type","button",3,"click"],[3,"formControlName","validation"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"div",1),a.\u0275\u0275template(2,g5,4,2,"div",2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"button",3),a.\u0275\u0275listener("click",function(){return r.addValidator$.next(void 0)}),a.\u0275\u0275text(4,"Add Validator"),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.formGroup),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",r.validators.controls))},directives:[C5,d.JL,d.sg,d.CE,x.NgForOf,d.JJ,d.u],styles:[""]}),t})(),S5=(()=>{class t{constructor(e,r){this.vpm=e,this.tokenizerService=r,this.validators$=new h.X([]),this.errors$=new h.X(null),this.message$=new h.X("Field is invalid"),this.resolvedContext$=new h.X(void 0),this.messageSub=(0,On.a)([this.validators$,this.errors$,this.resolvedContext$]).pipe((0,z.h)(([o,s])=>null!==s&&0!==Object.keys(s).length),(0,ve.U)(([o,s])=>{const[l]=Object.keys(s),u=o.find(p=>p.validator===l);return{k:l,v:u,e:s[l]}}),(0,Qe.w)(({k:o,v:s,e:l})=>this.vpm.getPlugin(s.validator).pipe((0,ve.U)(u=>({k:o,v:s,p:u,e:l})))),(0,Qe.w)(({k:o,v:s,p:l,e:u})=>this.resolveContexts({errors:u}).pipe((0,ve.U)(p=>({k:o,v:s,p:l,t:p})))),(0,ee.b)(({p:o,t:s,v:l})=>{const u=this.replaceTokens({message:l.overrideErrorMessage&&""!==l.overrideErrorMessage?l.overrideErrorMessage:o.errorMessage,tokens:s});this.message$.next(u)})).subscribe()}set validators(e){this.validators$.next(e)}set errors(e){this.errors$.next(e)}set resolvedContext(e){this.resolvedContext$.next(e)}replaceTokens({message:e,tokens:r}){return void 0!==r&&r.forEach((o,s)=>{e=e.split(`[${s}]`).join(`${o}`)}),e}resolveContexts({errors:e}){return new g.y(r=>{let o=new Map(this.tokenizerService.generateGenericTokens(e,""));if(this.resolvedContext$.value)for(const s in this.resolvedContext$.value)o=new Map([...o,...this.tokenizerService.generateGenericTokens(this.resolvedContext$.value[s],"_root"===s?"":s)]);r.next(o),r.complete()})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(oa),a.\u0275\u0275directiveInject(Dn))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-ordain-default-validation-error"]],inputs:{validators:"validators",errors:"errors",resolvedContext:"resolvedContext"},decls:1,vars:1,template:function(e,r){1&e&&a.\u0275\u0275text(0),2&e&&a.\u0275\u0275textInterpolate(r.message$.value)},styles:[""]}),t})(),mx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,d.u5,d.UX,Wr.MaterialModule,wc]]}),t})();function E5(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-error"),a.\u0275\u0275element(1,"druid-ordain-default-validation-error",2),a.\u0275\u0275elementEnd()),2&t){const e=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("validators",null==e.formSettings$.value||null==e.formSettings$.value.validation?null:e.formSettings$.value.validation.validators)("errors",e.formControl.errors)("resolvedContext",e.resolvedContext$.value)}}function A5(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-option",2),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275property("value",e.value),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e.label)}}function I5(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275element(1,"classifieds-ui-render-pane",4),a.\u0275\u0275elementStart(2,"button",3),a.\u0275\u0275listener("click",function(){const s=a.\u0275\u0275restoreView(e).index;return a.\u0275\u0275nextContext().remove$.next(s)}),a.\u0275\u0275text(3,"Remove"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const e=n.$implicit,r=n.index,o=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("formControlName",r)("pluginName",e.contentPlugin)("settings",e.settings)("name",e.name)("label",e.label)("contexts",e.contexts)("panes",o.panes)("resolvedContext",e.resolvedContext)("indexPosition",r)("ancestory",o.ancestory)}}function P5(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-option",9),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275property("value",e),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e)}}function T5(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-radio-button",2),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275property("value",e.value),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e.label)}}function k5(t,n){if(1&t&&(a.\u0275\u0275elementStart(0,"mat-option",4),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&t){const e=n.$implicit;a.\u0275\u0275property("value",e),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(e.label)}}function V5(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone-image-preview",4),a.\u0275\u0275listener("removed",function(){a.\u0275\u0275restoreView(e);const o=a.\u0275\u0275nextContext().$implicit;return a.\u0275\u0275nextContext().onRemove(o)}),a.\u0275\u0275elementStart(1,"ngx-dropzone-label"),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const e=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275property("file",e)("removable",!0),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate2("",e.name," (",e.type,")")}}function R5(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone-video-preview",4),a.\u0275\u0275listener("removed",function(){a.\u0275\u0275restoreView(e);const o=a.\u0275\u0275nextContext().$implicit;return a.\u0275\u0275nextContext().onRemove(o)}),a.\u0275\u0275elementStart(1,"ngx-dropzone-label"),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const e=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275property("file",e)("removable",!0),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate2("",e.name," (",e.type,")")}}function N5(t,n){if(1&t){const e=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ngx-dropzone-preview",5),a.\u0275\u0275listener("removed",function(){a.\u0275\u0275restoreView(e);const o=a.\u0275\u0275nextContext().$implicit;return a.\u0275\u0275nextContext().onRemove(o)}),a.\u0275\u0275elementStart(1,"ngx-dropzone-label"),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&t){const e=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275property("removable",!0),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate2("",e.name," (",e.type,")")}}function O5(t,n){if(1&t&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,V5,3,4,"ngx-dropzone-image-preview",2),a.\u0275\u0275template(2,R5,3,4,"ngx-dropzone-video-preview",2),a.\u0275\u0275template(3,N5,3,3,"ngx-dropzone-preview",3),a.\u0275\u0275elementContainerEnd()),2&t){const e=n.$implicit,r=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.isType(e,"image")),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.isType(e,"video")),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!r.isType(e,"image")&&!r.isType(e,"video"))}}class Kv{constructor(n){n&&(this.value=n.value?n.value:"",n.datasourceBinding&&"object"==typeof n.datasourceBinding&&(this.datasourceBinding=new Ut.ContentBinding(n.datasourceBinding)),n.datasourceOptions&&"object"==typeof n.datasourceOptions&&(this.datasourceOptions=new Ky(n.datasourceOptions)),n.validation&&(this.validation=new op(n.validation)))}}class F5{constructor(n){n&&(this.valuesMapping=n.valuesMapping)}}let La=(()=>{class t{constructor(e,r,o,s){this.tokenizerService=e,this.datasourceContentHandler=r,this.panelResolver=o,this.attributeSerializer=s}resolveElementOptions(e,r){return(0,ke.of)(e).pipe((0,Qe.w)(o=>{if(o.datasourceBinding&&o.datasourceBinding.id&&""!==o.datasourceBinding.id){const s=r.has("panes")?r.get("panes").find(l=>l.name===o.datasourceBinding.id):void 0;return this.panelResolver.dataPanes(r.get("panes")).pipe((0,Qe.w)(l=>s?this.datasourceContentHandler.fetchDynamicData(s.settings,new Map([...r,["dataPanes",l]])):(0,ke.of)([])),(0,ve.U)(l=>[o,l.results]))}return(0,ke.of)([o,[]])}),(0,ve.U)(([o,s])=>[o,o.datasourceOptions&&""!==o.datasourceOptions.query?(0,ra.JSONPath)({path:o.datasourceOptions.query,json:s}):s]),(0,Qe.w)(([o,s])=>this.mapDataOptions(o,s)))}mapDataOptions(e,r){return(0,ke.of)([e,r]).pipe((0,ve.U)(([o,s])=>[o,s,s?s.map(l=>this.tokenizerService.generateGenericTokens(l)):[]]),(0,ve.U)(([o,s,l])=>l.map(u=>this.mapDataItem(o,u))))}mapDataItem(e,r){return new cw({value:this.tokenizerService.replaceTokens(`${e.datasourceOptions.valueMapping}`,r),label:this.tokenizerService.replaceTokens(`${e.datasourceOptions.labelMapping}`,r),dataItem:void 0})}hasDataOptions(e){return e.datasourceBinding&&e.datasourceBinding.id&&""!==e.datasourceBinding.id}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Dn),a.\u0275\u0275inject(ru),a.\u0275\u0275inject(Tc),a.\u0275\u0275inject(Ct.AttributeSerializerService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ua=(()=>{class t{constructor(e){this.tokenizerService=e,this.cachedResolvedContexts=[],this.scheduleResolution$=new O.x,this.scheduleResolutionSub=this.scheduleResolution$.pipe((0,ee.b)(({resolvedContext:r,index:o})=>{let s=new Map;if(r)for(const l in r)r[l]instanceof Go||(s=new Map([...s,...this.tokenizerService.generateGenericTokens(r[l],"_root"===l?"":l)]));this.cachedResolvedContexts[o].resolution$.next(s)})).subscribe()}resolveContexts({resolvedContext:e}){let r=this.cachedResolvedContexts.findIndex(({rContext:o})=>0===(0,rv.getDiff)(o,e).length);return-1===r?(console.log("resolved context no cache",e),r=this.cachedResolvedContexts.length,this.cachedResolvedContexts.push({rContext:e,resolution$:new Jy.t}),this.scheduleResolution$.next({resolvedContext:e,index:r})):console.log("resolved context cache hit",e),this.cachedResolvedContexts[r].resolution$.pipe((0,nn.q)(1))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Dn))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ho=(()=>{class t{constructor(e,r,o,s,l,u){this.attributeSerializer=e,this.optionsResolver=r,this.tokenizerService=o,this.formsContextHelper=s,this.vpm=l,this.controlContainer=u,this.formControl=new d.NI(""),this.formControlValueChangesSub=this.formControl.valueChanges.pipe((0,ee.b)(p=>console.log("serialized form value",this.attributeSerializer.serialize(p,"value"))),(0,ee.b)(p=>this.controlContainer.control.get("settings").setValue([this.attributeSerializer.serialize(p,"value")]))).subscribe(),this.formSettings$=new h.X(void 0),this.settings$=new h.X([]),this.options$=new h.X([]),this.init$=new O.x,this.afterViewInit$=new O.x,this.panes$=new h.X([]),this.originPanes$=new h.X([]),this.contexts$=new h.X([]),this.resolvedContext$=new h.X(void 0),this.value$=new O.x,this.settingsSub=this.settings$.pipe((0,ve.U)(p=>p?this.settingsToObject(this.attributeSerializer.deserializeAsObject(p)):void 0),(0,ee.b)(p=>this.formSettings$.next(p))).subscribe(),this.loadOptionsSub=(0,On.a)([this.formSettings$,this.panes$,this.originPanes$,this.contexts$,this.init$]).pipe((0,ve.U)(([p,f,v,D])=>({settings:p,metadata:new Map([["panes",[...f&&Array.isArray(f)?f:[],...v&&Array.isArray(v)?v:[]]],["contexts",D]])})),(0,Qe.w)(({settings:p,metadata:f})=>this.optionsResolver.resolveElementOptions(p,f)),(0,ee.b)(p=>this.options$.next(p))).subscribe(),this.renderContentSub=(0,On.a)([this.formSettings$,this.resolvedContext$,this.afterViewInit$]).pipe((0,ve.U)(([p,f])=>({settings:p,resolvedContext:f})),(0,Qe.w)(({settings:p,resolvedContext:f})=>this.formsContextHelper.resolveContexts({resolvedContext:f}).pipe((0,ve.U)(v=>({settings:p,tokens:v})))),(0,Qe.w)(({settings:p,tokens:f})=>(0,rn.D)(p.validation&&p.validation.validators?p.validation.validators.map(v=>this.vpm.getPlugin(v.validator).pipe((0,Qe.w)(D=>D.builder({v,serialized:!1}).pipe((0,ve.U)(J=>({v,vf:J})))))):[]).pipe((0,ve.U)(v=>({settings:p,tokens:f,validators:v})),(0,tr.d)({settings:p,tokens:f,validators:[]}))),(0,Qe.w)(({settings:p,tokens:f,validators:v})=>(0,rn.D)(p.validation&&p.validation.validators?p.validation.validators.map(D=>this.vpm.getPlugin(D.validator).pipe((0,Qe.w)(J=>J.builder({v:D,serialized:!0}).pipe((0,ve.U)(Y=>({v:D,vf:Y})))))):[]).pipe((0,ve.U)(D=>({settings:p,tokens:f,validators:v,validatorsSerialized:D})),(0,tr.d)({settings:p,tokens:f,validators:v,validatorsSerialized:[]}))),(0,ee.b)(({settings:p,tokens:f,validators:v,validatorsSerialized:D})=>{if(this.formControl.setAsyncValidators(v.map(({vf:J})=>J)),this.controlContainer.control.get("settings").setAsyncValidators(D.map(({vf:J})=>J)),this.formControl.updateValueAndValidity(),this.controlContainer.control.updateValueAndValidity(),void 0!==f&&(this.tokens=f),p.value&&null!==p.value&&""!==p.value){(-1!==p.value.indexOf(".$i.")||-1!==p.value.indexOf(".$j.")||-1!==p.value.indexOf(".$k."))&&console.log(p.value,this.ancestory);const J=p.value.split("$i"),Y=J.map((De,Xe)=>this.ancestory[1*Xe+(3+(0===Xe?0:3))]),he=J.reduce((De,Xe,tt)=>[...De,0===tt?"":tt-1<Y.length?`${Y[tt-1]}`:"",Xe],[]).join("");console.log("path",he);const Ue=this.replaceTokens(he);this.formControl.setValue(Ue);const Oe=this.tokenizerService.discoverTokens(Ue,!0);if(0!==Oe.length)if(Oe[0].trim().lastIndexOf(".id")===Oe[0].trim().length-3){const De=Tn();this.formControl.setValue(De),this.value$.next(De)}else{const De=Array.from(f).filter(([Xe])=>0===Xe.indexOf(he.substr(1,he.length-2)));if(0!==De.length){const Xe=De.reduce((tt,[ct,bt])=>({...tt,[ct.substr(ct.lastIndexOf(".")+1)]:bt}),{});this.formControl.setValue(Xe),this.value$.next(Xe)}else{const Xe=this.tokenizerService.replaceTokens(p.value,new Map(Array.from(Oe).map(tt=>[tt,""])));this.formControl.setValue(Xe),this.value$.next(Xe)}}else this.value$.next(Ue)}else this.formControl.setValue("")}),(0,nn.q)(1)).subscribe()}set settings(e){this.settings$.next(e)}set panes(e){this.panes$.next(e)}set originPanes(e){this.originPanes$.next(e)}set contexts(e){this.contexts$.next(e)}set resolvedContext(e){this.resolvedContext$.next(e)}ngOnInit(){this.init$.next(void 0)}ngAfterViewInit(){this.afterViewInit$.next(void 0)}settingsToObject(e){return new Kv(e)}replaceTokens(e){return void 0!==this.tokens&&this.tokens.forEach((r,o)=>{e=e.split(`[${o}]`).join(`${r}`)}),e}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ct.AttributeSerializerService),a.\u0275\u0275directiveInject(La),a.\u0275\u0275directiveInject(Dn),a.\u0275\u0275directiveInject(Ua),a.\u0275\u0275directiveInject(oa),a.\u0275\u0275directiveInject(d.gN))},t.\u0275dir=a.\u0275\u0275defineDirective({type:t,selectors:[["","druid-forms-form-element-base",""]],inputs:{tokens:"tokens",settings:"settings",panes:"panes",originPanes:"originPanes",contexts:"contexts",resolvedContext:"resolvedContext",ancestory:"ancestory"}}),t})(),M5=(()=>{class t extends ho{constructor(e,r,o,s,l,u){super(e,r,o,s,l,u)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ct.AttributeSerializerService),a.\u0275\u0275directiveInject(La),a.\u0275\u0275directiveInject(Dn),a.\u0275\u0275directiveInject(Ua),a.\u0275\u0275directiveInject(oa),a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-forms-form-input"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[["matInput","",3,"formControl"],[4,"ngIf"],[3,"validators","errors","resolvedContext"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"mat-form-field"),a.\u0275\u0275element(1,"input",0),a.\u0275\u0275template(2,E5,2,3,"mat-error",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("formControl",r.formControl),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.formControl.invalid))},directives:[Xt.KE,S5,_n.Nt,d.Fj,d.JJ,d.oH,x.NgIf,Xt.TO],styles:[""]}),t})(),D5=(()=>{class t extends ho{constructor(e,r,o,s,l,u){super(e,r,o,s,l,u)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ct.AttributeSerializerService),a.\u0275\u0275directiveInject(La),a.\u0275\u0275directiveInject(Dn),a.\u0275\u0275directiveInject(Ua),a.\u0275\u0275directiveInject(oa),a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-forms-form-select"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:4,vars:4,consts:[[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"mat-form-field"),a.\u0275\u0275elementStart(1,"mat-select",0),a.\u0275\u0275template(2,A5,2,2,"mat-option",1),a.\u0275\u0275pipe(3,"async"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("formControl",r.formControl),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(3,2,r.options$)))},directives:[Xt.KE,Dr.gD,Xn.ey,d.JJ,d.oH,x.NgForOf],pipes:[x.AsyncPipe],styles:[""]}),t})(),j5=(()=>{class t{constructor(e,r,o){this.attributeSerializer=e,this.fb=r,this.controlContainer=o,this.panes=[],this.originMappings=[],this.ancestory=[],this.add$=new O.x,this.remove$=new O.x,this.panes$=new h.X([]),this.settings$=new O.x,this.resolvedContext$=new O.x,this.panel$=new O.x,this.afterViewInit$=new O.x,this.addSub=this.add$.pipe((0,ve.U)(()=>new nr(this.panes[0])),(0,ee.b)(()=>this.panesFormArray.push(this.fb.control(""))),(0,ee.b)(s=>this.panes.push(s))).subscribe(),this.removeSub=this.remove$.pipe((0,ee.b)(s=>this.panesFormArray.removeAt(s)),(0,ee.b)(s=>this.panes.splice(s,1))).subscribe(),this.populateDefaultValues=(0,On.a)([this.settings$.pipe((0,ve.U)(s=>s?new F5(this.attributeSerializer.deserializeAsObject(s)):void 0)),this.resolvedContext$,this.panel$,this.afterViewInit$]).pipe((0,ve.U)(([s,l,u])=>({s,rc:l,p:u})),(0,ee.b)(({s})=>console.log(s.valuesMapping,this.ancestory)),(0,ve.U)(({s,rc:l,p:u})=>{if(l&&s&&s.valuesMapping&&""!==s.valuesMapping.trim()){const p=s.valuesMapping.split("[$i]"),f=p.map((J,Y)=>this.ancestory[1*Y+3]),v=p.reduce((J,Y,he)=>[...J,0===he?"":he-1<f.length?`[${f[he-1]}]`:"",Y],[]).join("");return console.log("path",v),{items:(0,ra.JSONPath)({path:`$.${v}.*`,json:l}),s,p:u}}return{items:[],p:u}}),(0,ee.b)(({items:s})=>{const l=s.length-this.panesFormArray.length;for(let u=0;u<l;u++)this.add$.next(void 0)})).subscribe()}set settings(e){this.settings$.next(e)}set resolvedContext(e){this.resolvedContext$.next(e)}set panel(e){this.panel$.next(e)}get panesFormArray(){return this.controlContainer.control.get("panes")}ngOnInit(){}ngAfterViewInit(){this.afterViewInit$.next(void 0)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ct.AttributeSerializerService),a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-form-section"]],inputs:{panes:"panes",originPanes:"originPanes",originMappings:"originMappings",ancestory:"ancestory",settings:"settings",resolvedContext:"resolvedContext",panel:"panel"},decls:5,vars:2,consts:[[3,"formGroup"],["formArrayName","panes"],[4,"ngFor","ngForOf"],["type","button",3,"click"],[3,"formControlName","pluginName","settings","name","label","contexts","panes","resolvedContext","indexPosition","ancestory"]],template:function(e,r){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275elementContainerStart(1,1),a.\u0275\u0275template(2,I5,4,10,"div",2),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementStart(3,"button",3),a.\u0275\u0275listener("click",function(){return r.add$.next(void 0)}),a.\u0275\u0275text(4,"Add Item"),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.controlContainer.control),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",r.panes))},directives:[Jf,d.JL,d.sg,d.CE,x.NgForOf,d.JJ,d.u],styles:[""]}),t})(),B5=(()=>{class t extends ho{constructor(e,r,o,s,l,u){super(e,r,o,s,l,u),this.cols=20,this.rows=20}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ct.AttributeSerializerService),a.\u0275\u0275directiveInject(La),a.\u0275\u0275directiveInject(Dn),a.\u0275\u0275directiveInject(Ua),a.\u0275\u0275directiveInject(oa),a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-forms-form-textarea"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:1,vars:3,consts:[[3,"formControl","cols","rows"]],template:function(e,r){1&e&&a.\u0275\u0275element(0,"textarea",0),2&e&&a.\u0275\u0275property("formControl",r.formControl)("cols",r.cols)("rows",r.rows)},directives:[d.Fj,d.JJ,d.oH],styles:[""]}),t})(),L5=(()=>{class t{constructor(e){this.attributeSerializer=e}handleFile(e){return(0,ke.of)([])}handlesType(e){return!1}implementsRendererOverride(){return!1}hasRendererOverride(e){return(0,ke.of)(!1)}isDynamic(e){return!1}isData(e){return!1}getBindings(e,r,o){return"pane"===r?this.toObject(e).pipe((0,Qe.w)(s=>Rn(()=>s.datasourceBinding&&s.datasourceBinding.id&&null!==s.datasourceBinding.id,(0,ke.of)([s.datasourceBinding]),(0,ke.of)([])))):(0,ke.of)([])}fetchDynamicData(e,r){return(0,ke.of)(new Fn)}buildDynamicItems(e,r){return(0,ke.of)([])}toObject(e){return(0,ke.of)(new Kv(this.attributeSerializer.deserializeAsObject(e)))}buildSettings(e){return this.attributeSerializer.serialize(e,"root").attributes}stateDefinition(e){return(0,ke.of)({autocomplete:{input:""},value:void 0})}editorOptions(e){return(0,ke.of)(new Ut.ContentPluginEditorOptions)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Ct.AttributeSerializerService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),hx=(()=>{class t extends L5{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=a.\u0275\u0275getInheritedFactory(t)))(r||t)}}(),t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),go=(()=>{class t{constructor(e,r,o,s,l){this.data=e,this.dialogRef=r,this.fb=o,this.handler=s,this.attributeSerializer=l,this.datasourceOptions=Pf,this.validation=new op({validators:[]}),this.bindableOptions=[],this.formGroup=this.fb.group({value:this.fb.control(""),datasourceOptions:this.fb.control(""),validation:this.fb.control(""),datasourceBinding:this.fb.group({id:this.fb.control(""),type:this.fb.control("pane")})}),this.paneIndex=e.paneIndex,this.pane=e.pane}get paneGroup(){return this.data.panelFormGroup.get("panes").at(this.paneIndex)}ngOnInit(){this.data.pane?this.handler.toObject(this.data.pane.settings).subscribe(e=>{this.formGroup.get("value").setValue(e.value),this.datasourceOptions=e.datasourceOptions?e.datasourceOptions:Pf,this.validation=new op(e.validation?e.validation:{validators:[]}),this.formGroup.get("datasourceBinding").get("id").setValue(e.datasourceBinding&&e.datasourceBinding.id&&null!==e.datasourceBinding.id?e.datasourceBinding.id:"")}):(this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:this.data.plugin.id,name:new d.NI(""),label:new d.NI(""),rule:new d.NI(""),settings:this.fb.array([])})),this.paneIndex=this.data.panelFormGroup.get("panes").length-1,this.pane=new nr(this.data.panelFormGroup.get("panes").at(this.paneIndex).value)),this.bindableOptions=this.data.panelFormGroup.get("panes").controls.reduce((e,r)=>r.get("name").value?[...e,r.get("name").value]:[...e],[])}submit(){console.log(this.formGroup.value);const e=new Kv(this.formGroup.value);console.log(e),this.paneGroup.get("settings").clear(),this.handler.buildSettings(e).map(o=>this.attributeSerializer.convertToGroup(o)).forEach(o=>this.paneGroup.get("settings").push(o)),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ft.WI),a.\u0275\u0275directiveInject(Ft.so),a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(hx),a.\u0275\u0275directiveInject(Ct.AttributeSerializerService))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-forms-form-element-editor"]],inputs:{bindableOptions:"bindableOptions"},decls:17,vars:4,consts:[[3,"formGroup","ngSubmit"],["fxLayout","column"],["matInput","","formControlName","value"],["formGroupName","datasourceBinding"],["required","","formControlName","id"],[3,"value",4,"ngFor","ngForOf"],["formControlName","datasourceOptions",3,"datasourceOptions"],["formControlName","validation",3,"validation"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close",""],[3,"value"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return r.submit()}),a.\u0275\u0275elementStart(1,"mat-dialog-content",1),a.\u0275\u0275elementStart(2,"div"),a.\u0275\u0275elementStart(3,"mat-form-field"),a.\u0275\u0275elementStart(4,"mat-label"),a.\u0275\u0275text(5,"Value"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(6,"input",2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"mat-form-field",3),a.\u0275\u0275elementStart(8,"mat-label"),a.\u0275\u0275text(9,"Datasource"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"mat-select",4),a.\u0275\u0275template(11,P5,2,2,"mat-option",5),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(12,"classifieds-ui-datasource-options",6),a.\u0275\u0275element(13,"druid-ordain-validation-editor",7),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(14,"mat-dialog-actions"),a.\u0275\u0275elementStart(15,"button",8),a.\u0275\u0275text(16,"Save"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.formGroup),a.\u0275\u0275advance(11),a.\u0275\u0275property("ngForOf",r.bindableOptions),a.\u0275\u0275advance(1),a.\u0275\u0275property("datasourceOptions",r.datasourceOptions),a.\u0275\u0275advance(1),a.\u0275\u0275property("validation",r.validation))},directives:[Xt.KE,Dr.gD,Xn.ey,lw,x5,kr.lW,d._Y,d.JL,d.sg,Ft.xY,Xt.hX,_n.Nt,d.Fj,d.JJ,d.u,d.x0,d.Q7,x.NgForOf,Ft.H8,Ft.ZT],styles:[""]}),t})(),U5=(()=>{class t extends ho{constructor(e,r,o,s,l,u){super(e,r,o,s,l,u)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ct.AttributeSerializerService),a.\u0275\u0275directiveInject(La),a.\u0275\u0275directiveInject(Dn),a.\u0275\u0275directiveInject(Ua),a.\u0275\u0275directiveInject(oa),a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-forms-form-radiogroup"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:3,vars:4,consts:[[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"mat-radio-group",0),a.\u0275\u0275template(1,T5,2,2,"mat-radio-button",1),a.\u0275\u0275pipe(2,"async"),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formControl",r.formControl),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(2,2,r.options$)))},directives:[dl.U0,dl.VQ,d.JJ,d.oH,x.NgForOf],pipes:[x.AsyncPipe],styles:[""]}),t})(),z5=(()=>{class t extends ho{constructor(e,r,o,s,l,u){super(e,r,o,s,l,u)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ct.AttributeSerializerService),a.\u0275\u0275directiveInject(La),a.\u0275\u0275directiveInject(Dn),a.\u0275\u0275directiveInject(Ua),a.\u0275\u0275directiveInject(oa),a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-forms-form-slider"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[[3,"formControl"]],template:function(e,r){1&e&&a.\u0275\u0275element(0,"mat-slider",0),2&e&&a.\u0275\u0275property("formControl",r.formControl)},directives:[zh.pH,d.JJ,d.oH],styles:[""]}),t})(),G5=(()=>{class t extends ho{constructor(e,r,o,s,l,u){super(e,r,o,s,l,u)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ct.AttributeSerializerService),a.\u0275\u0275directiveInject(La),a.\u0275\u0275directiveInject(Dn),a.\u0275\u0275directiveInject(Ua),a.\u0275\u0275directiveInject(oa),a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-forms-form-toggle"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:2,vars:1,consts:[[3,"formControl"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"mat-slide-toggle",0),a.\u0275\u0275text(1,"Toggle Label"),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("formControl",r.formControl)},directives:[ap.Rr,d.JJ,d.oH],styles:[""]}),t})(),$5=(()=>{class t extends ho{constructor(e,r,o,s,l,u){super(e,r,o,s,l,u)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ct.AttributeSerializerService),a.\u0275\u0275directiveInject(La),a.\u0275\u0275directiveInject(Dn),a.\u0275\u0275directiveInject(Ua),a.\u0275\u0275directiveInject(oa),a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-forms-form-checkbox"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[[3,"formControl"]],template:function(e,r){1&e&&a.\u0275\u0275element(0,"mat-checkbox",0),2&e&&a.\u0275\u0275property("formControl",r.formControl)},directives:[so.oG,d.JJ,d.oH],styles:[""]}),t})(),H5=(()=>{class t extends ho{constructor(e,r,o,s,l,u){super(e,r,o,s,l,u)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ct.AttributeSerializerService),a.\u0275\u0275directiveInject(La),a.\u0275\u0275directiveInject(Dn),a.\u0275\u0275directiveInject(Ua),a.\u0275\u0275directiveInject(oa),a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-forms-form-datepicker"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:7,vars:3,consts:[["appearance","fill"],["matInput","",3,"matDatepicker","formControl"],["matSuffix","",3,"for"],["picker",""]],template:function(e,r){if(1&e&&(a.\u0275\u0275elementStart(0,"mat-form-field",0),a.\u0275\u0275elementStart(1,"mat-label"),a.\u0275\u0275text(2,"Choose a date"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(3,"input",1),a.\u0275\u0275element(4,"mat-datepicker-toggle",2),a.\u0275\u0275element(5,"mat-datepicker",null,3),a.\u0275\u0275elementEnd()),2&e){const o=a.\u0275\u0275reference(6);a.\u0275\u0275advance(3),a.\u0275\u0275property("matDatepicker",o)("formControl",r.formControl),a.\u0275\u0275advance(1),a.\u0275\u0275property("for",o)}},directives:[Xt.KE,ml.nW,ml.Mq,Xt.hX,_n.Nt,ml.hl,d.Fj,d.JJ,d.oH,Xt.R9],styles:[""]}),t})(),q5=(()=>{class t extends ho{constructor(e,r,o,s,l,u){super(e,r,o,s,l,u),this.proxyControl=new d.NI(""),this.optionSelected$=new O.x,this.proxyControlValueChangesSub=this.proxyControl.valueChanges.pipe((0,Un.b)(1e3),(0,jo.x)(),(0,fa.M)((0,On.a)([this.formSettings$,this.panes$,this.originPanes$,this.contexts$]).pipe((0,ve.U)(([p,f,v,D])=>({settings:p,panes:f,originPanes:v,contexts:D})))),(0,ve.U)(([p,{settings:f,panes:v,originPanes:D,contexts:J}])=>({term:p,settings:f,metadata:new Map([["panes",[...v&&Array.isArray(v)?v:[],...D&&Array.isArray(D)?D:[]]],["contexts",J],["inputparams",new Map([["term",new Jr({flags:[],mapping:new rh({value:p,testValue:p,type:"static",context:void 0})})]])]])})),(0,Qe.w)(({settings:p,metadata:f})=>this.optionsResolver.resolveElementOptions(p,f)),(0,ee.b)(p=>this.options$.next(p))).subscribe(),this.optionSelectedSub=this.optionSelected$.pipe((0,ee.b)(p=>this.formControl.setValue(p.option&&p.option.value?p.option.value.value:""))).subscribe(),this.displayAuto=p=>p.label}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ct.AttributeSerializerService),a.\u0275\u0275directiveInject(La),a.\u0275\u0275directiveInject(Dn),a.\u0275\u0275directiveInject(Ua),a.\u0275\u0275directiveInject(oa),a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-forms-form-autocomplete"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:8,vars:6,consts:[["matInput","",3,"matAutocomplete","formControl"],[3,"displayWith","optionSelected"],["autocomplete","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,r){if(1&e&&(a.\u0275\u0275elementStart(0,"mat-form-field"),a.\u0275\u0275elementStart(1,"mat-label"),a.\u0275\u0275text(2,"Autocomplete"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(3,"input",0),a.\u0275\u0275elementStart(4,"mat-autocomplete",1,2),a.\u0275\u0275listener("optionSelected",function(s){return r.optionSelected$.next(s)}),a.\u0275\u0275template(6,k5,2,2,"mat-option",3),a.\u0275\u0275pipe(7,"async"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){const o=a.\u0275\u0275reference(5);a.\u0275\u0275advance(3),a.\u0275\u0275property("matAutocomplete",o)("formControl",r.proxyControl),a.\u0275\u0275advance(1),a.\u0275\u0275property("displayWith",r.displayAuto),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(7,4,r.options$))}},directives:[Xt.KE,lu.XC,Xn.ey,Xt.hX,_n.Nt,lu.ZL,d.Fj,d.JJ,d.oH,x.NgForOf],pipes:[x.AsyncPipe],styles:[""]}),t})(),K5=(()=>{class t extends ho{constructor(e,r,o,s,l,u,p){super(e,r,s,l,u,p),this.files=[],this.select$=new O.x,this.selectSub=this.select$.pipe((0,ee.b)(f=>console.log(f)),(0,Ya.z)(f=>this.filesService.bulkUpload({files:[f.addedFiles[0]]}).pipe((0,ve.U)(v=>({mfs:v,e:f})))),(0,ee.b)(({mfs:f})=>this.formControl.setValue(f[0])),(0,ee.b)(({e:f})=>this.files.push(...f.addedFiles))).subscribe(),this.valueSub=this.value$.pipe((0,z.h)(f=>"object"==typeof f),(0,ve.U)(f=>new jy(f)),(0,ee.b)(f=>{console.log("populate value",f)}),(0,Qe.w)(f=>this.filesService.convertToFiles([f])),(0,ee.b)(f=>{console.log("populate as file",f),this.files=f})).subscribe(),this.filesService=o}onSelect(e){this.select$.next(e)}onRemove(e){console.log(e),this.formControl.setValue(""),this.files.splice(this.files.indexOf(e),1)}isType(e,r){switch(r){case"image":return this.filesService.isImage({file:e});case"video":return this.filesService.isVideo({file:e});default:return!1}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ct.AttributeSerializerService),a.\u0275\u0275directiveInject(La),a.\u0275\u0275directiveInject(Xm),a.\u0275\u0275directiveInject(Dn),a.\u0275\u0275directiveInject(Ua),a.\u0275\u0275directiveInject(oa),a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-forms-form-media"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:4,vars:1,consts:[[3,"change"],[4,"ngFor","ngForOf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed",4,"ngIf"],[3,"removable","removed",4,"ngIf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed"],[3,"removable","removed"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"ngx-dropzone",0),a.\u0275\u0275listener("change",function(s){return r.onSelect(s)}),a.\u0275\u0275elementStart(1,"ngx-dropzone-label"),a.\u0275\u0275text(2,"Drop it, baby!"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(3,O5,4,3,"ng-container",1),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",r.files))},directives:[mh,tC,xD,Rc,Zw,x.NgForOf,x.NgIf],styles:[""]}),t})(),X5=(()=>{class t extends ho{constructor(e,r,o,s,l,u){super(e,r,o,s,l,u)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ct.AttributeSerializerService),a.\u0275\u0275directiveInject(La),a.\u0275\u0275directiveInject(Dn),a.\u0275\u0275directiveInject(Ua),a.\u0275\u0275directiveInject(oa),a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-forms-form-hidden"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:0,vars:0,template:function(e,r){},encapsulation:2}),t})(),W5=(()=>{class t{constructor(e,r,o,s){this.data=e,this.dialogRef=r,this.fb=o,this.attributeSerializer=s,this.contexts=[],this.formGroup=this.fb.group({valuesMapping:this.fb.control("")})}ngOnInit(){}submit(){this.data.panelFormGroup.get("settings").clear(),this.attributeSerializer.serialize(this.formGroup.value,"root").attributes.forEach(e=>{console.log("formly repeating editor form"),console.log(this.attributeSerializer.convertToGroup(e)),this.data.panelFormGroup.get("settings").push(this.attributeSerializer.convertToGroup(e))})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ft.WI),a.\u0275\u0275directiveInject(Ft.so),a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(Ct.AttributeSerializerService))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-form-section-editor"]],decls:8,vars:2,consts:[[3,"formGroup","ngSubmit"],["matInput","","formControlName","valuesMapping"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return r.submit()}),a.\u0275\u0275elementStart(1,"div"),a.\u0275\u0275elementStart(2,"mat-form-field"),a.\u0275\u0275elementStart(3,"mat-label"),a.\u0275\u0275text(4,"Values Mapping"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(5,"input",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"button",2),a.\u0275\u0275text(7,"Save"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.formGroup),a.\u0275\u0275advance(6),a.\u0275\u0275property("disabled",!r.formGroup.valid))},directives:[Xt.KE,kr.lW,d._Y,d.JL,d.sg,Xt.hX,_n.Nt,d.Fj,d.JJ,d.u,Ft.ZT],styles:[""]}),t})();const J5=({handler:t})=>new Ut.ContentPlugin({id:"form_input",title:"Form Input",selectionComponent:void 0,editorComponent:go,renderComponent:M5,handler:t}),Q5=({handler:t})=>new Ut.ContentPlugin({id:"form_select",title:"Form Select",selectionComponent:void 0,editorComponent:go,renderComponent:D5,handler:t}),Y5=({handler:t})=>new Ut.ContentPlugin({id:"form_radiogroup",title:"Form Radiogroup",selectionComponent:void 0,editorComponent:go,renderComponent:U5,handler:t}),Z5=({handler:t})=>new Ut.ContentPlugin({id:"form_textarea",title:"Form Textarea",selectionComponent:void 0,editorComponent:go,renderComponent:B5,handler:t}),e8=({handler:t})=>new Ut.ContentPlugin({id:"form_slider",title:"Form Slider",selectionComponent:void 0,editorComponent:go,renderComponent:z5,handler:t}),t8=({handler:t})=>new Ut.ContentPlugin({id:"form_toggle",title:"Form Toggle",selectionComponent:void 0,editorComponent:go,renderComponent:G5,handler:t}),n8=({handler:t})=>new Ut.ContentPlugin({id:"form_checkbox",title:"Form Checkbox",selectionComponent:void 0,editorComponent:go,renderComponent:$5,handler:t}),r8=({handler:t})=>new Ut.ContentPlugin({id:"form_datepicker",title:"Form Datepicker",selectionComponent:void 0,editorComponent:go,renderComponent:H5,handler:t}),a8=({handler:t})=>new Ut.ContentPlugin({id:"form_autocomplete",title:"Form Autocomplete",selectionComponent:void 0,editorComponent:go,renderComponent:q5,handler:t}),o8=({handler:t})=>new Ut.ContentPlugin({id:"form_media",title:"Form Media",selectionComponent:void 0,editorComponent:go,renderComponent:K5,handler:t}),s8=({handler:t})=>new Ut.ContentPlugin({id:"form_hidden",title:"Form Hidden",selectionComponent:void 0,editorComponent:go,renderComponent:X5,handler:t});let u8=(()=>{class t{constructor(e,r,o){[J5({handler:o}),Q5({handler:o}),Z5({handler:o}),Y5({handler:o}),e8({handler:o}),t8({handler:o}),n8({handler:o}),r8({handler:o}),a8({handler:o}),o8({handler:o}),s8({handler:o})].forEach(s=>e.register(s)),[new Mf({id:"form_section",name:"form_section",title:"Form Section",editorComponent:W5,renderComponent:j5})].forEach(s=>r.register(s))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Ut.ContentPluginManager),a.\u0275\u0275inject(iu),a.\u0275\u0275inject(hx))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,d.u5,d.UX,Wr.MaterialModule,Vh,al,hh,mx]]}),t})();function c8(t){const n={};for(const e of t.keys()){const r=t.getAll(e);null!==r&&(n[e]=r)}return n}let gx=(()=>{class t{constructor(e,r){this.transferState=r,this.isCacheActive=!0,e.isStable.pipe((0,z.h)(o=>o),(0,nn.q)(1)).subscribe(()=>{this.isCacheActive=!1})}invalidateCacheEntry(e){Object.keys(this.transferState.store).forEach(r=>r.includes(e)?this.transferState.remove((0,P.Cb)(r)):null)}makeCacheKey(e,r,o){const s=o.keys().sort().map(u=>`${u}=${o.getAll(u)}`).join("&");return(0,P.Cb)(("GET"===e?"G.":"H.")+r+"?"+s)}intercept(e,r){if("GET"!==e.method&&"HEAD"!==e.method&&(this.isCacheActive=!1,this.invalidateCacheEntry(e.url)),!this.isCacheActive)return r.handle(e);const o=this.makeCacheKey(e.method,e.url,e.params);if(this.transferState.hasKey(o)){const s=this.transferState.get(o,{});return(0,ke.of)(new F.HttpResponse({body:s.body,headers:new F.HttpHeaders(s.headers),status:s.status,statusText:s.statusText,url:s.url}))}return r.handle(e).pipe((0,ee.b)(l=>{l instanceof F.HttpResponse&&this.transferState.set(o,{body:l.body,headers:c8(l.headers),status:l.status,statusText:l.statusText,url:l.url||""})}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(a.ApplicationRef),a.\u0275\u0275inject(P.ki))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),d8=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({providers:[gx,{provide:F.HTTP_INTERCEPTORS,useExisting:gx,multi:!0}],imports:[[P.Cu]]}),t})();const f8=new a.InjectionToken("AlienaliasSettings");class h8{constructor(n){n&&(this.openSearchDomain=n.openSearchDomain)}}var yx=S(7628);const _8=["mfeReactComponent"];let b8=(()=>{class t{constructor(){}ngOnChanges(e){this.render()}ngAfterViewInit(){this.render()}ngOnDestroy(){yx.unmountComponentAtNode(this.containerRef.nativeElement)}render(){const e=this.component();yx.render(e,this.containerRef.nativeElement)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-mfe-react"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(_8,5),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.containerRef=o.first)}},inputs:{component:"component"},features:[a.\u0275\u0275NgOnChangesFeature],decls:2,vars:0,consts:[["mfeReactComponent",""]],template:function(e,r){1&e&&a.\u0275\u0275element(0,"span",null,0)},encapsulation:2}),t})();const w8=["appContainer"];class Xv{constructor(n){n&&(this.type=n.type&&""!==n.type?n.type:"module",this.remoteEntry=n.remoteEntry,this.componentName=n.componentName,this.exposedModule=n.exposedModule,this.remoteName=n.remoteName&&""!==n.remoteName?n.remoteName:void 0)}}let vx=(()=>{class t{constructor(e){this.attributeSerializer=e}handleFile(e){return(0,ke.of)([])}handlesType(e){return!1}implementsRendererOverride(){return!1}hasRendererOverride(e){return(0,ke.of)(!1)}isDynamic(e){return!1}isData(e){return!1}getBindings(e,r,o){return(0,ke.of)([])}fetchDynamicData(e,r){return(0,ke.of)(new Fn)}buildDynamicItems(e,r){return(0,ke.of)([])}toObject(e){return(0,ke.of)(new Xv(this.attributeSerializer.deserializeAsObject(e)))}buildSettings(e){return this.attributeSerializer.serialize(e,"root").attributes}stateDefinition(e){return(0,ke.of)({autocomplete:{input:""},value:void 0})}editorOptions(e){return(0,ke.of)(new Ut.ContentPluginEditorOptions)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Ct.AttributeSerializerService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),C8=(()=>{class t{constructor(e,r,o,s,l){this.data=e,this.dialogRef=r,this.fb=o,this.handler=s,this.attributeSerializer=l,this.bindableOptions=[],this.formGroup=this.fb.group({type:this.fb.control("module",[d.kI.required]),remoteEntry:this.fb.control("",[d.kI.required]),exposedModule:this.fb.control("",[d.kI.required]),componentName:this.fb.control("",[d.kI.required]),remoteName:this.fb.control("")}),this.paneIndex=e.paneIndex,this.pane=e.pane}get paneGroup(){return this.data.panelFormGroup.get("panes").at(this.paneIndex)}ngOnInit(){this.data.pane?this.handler.toObject(this.data.pane.settings).subscribe(e=>{this.formGroup.get("type").setValue(e.type&&""!==e.type?e.type:"module"),this.formGroup.get("remoteEntry").setValue(e.remoteEntry),this.formGroup.get("exposedModule").setValue(e.exposedModule),this.formGroup.get("componentName").setValue(e.componentName),this.formGroup.get("remoteName").setValue(e.remoteName)}):(this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:this.data.plugin.id,name:new d.NI(""),label:new d.NI(""),rule:new d.NI(""),settings:this.fb.array([])})),this.paneIndex=this.data.panelFormGroup.get("panes").length-1,this.pane=new nr(this.data.panelFormGroup.get("panes").at(this.paneIndex).value)),this.bindableOptions=this.data.panelFormGroup.get("panes").controls.reduce((e,r)=>r.get("name").value?[...e,r.get("name").value]:[...e],[])}submit(){console.log(this.formGroup.value);const e=new Xv(this.formGroup.value);console.log(e),this.paneGroup.get("settings").clear(),this.handler.buildSettings(e).map(o=>this.attributeSerializer.convertToGroup(o)).forEach(o=>this.paneGroup.get("settings").push(o)),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ft.WI),a.\u0275\u0275directiveInject(Ft.so),a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(vx),a.\u0275\u0275directiveInject(Ct.AttributeSerializerService))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-outsider-outside-app-editor"]],inputs:{bindableOptions:"bindableOptions"},decls:32,vars:1,consts:[[3,"formGroup","ngSubmit"],["formControlName","type","required",""],["value","module"],["value","script"],["matInput","","formControlName","remoteEntry","required",""],["matInput","","formControlName","exposedModule","required",""],["matInput","","formControlName","componentName","required",""],["matInput","","formControlName","remoteName"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"form",0),a.\u0275\u0275listener("ngSubmit",function(){return r.submit()}),a.\u0275\u0275elementStart(1,"div"),a.\u0275\u0275elementStart(2,"mat-form-field"),a.\u0275\u0275elementStart(3,"mat-label"),a.\u0275\u0275text(4,"Remote Entry"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"mat-select",1),a.\u0275\u0275elementStart(6,"mat-option",2),a.\u0275\u0275text(7,"Module"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"mat-option",3),a.\u0275\u0275text(9,"Script"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"div"),a.\u0275\u0275elementStart(11,"mat-form-field"),a.\u0275\u0275elementStart(12,"mat-label"),a.\u0275\u0275text(13,"Remote Entry"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(14,"input",4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(15,"div"),a.\u0275\u0275elementStart(16,"mat-form-field"),a.\u0275\u0275elementStart(17,"mat-label"),a.\u0275\u0275text(18,"Exposed Module"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(19,"input",5),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(20,"div"),a.\u0275\u0275elementStart(21,"mat-form-field"),a.\u0275\u0275elementStart(22,"mat-label"),a.\u0275\u0275text(23,"Component Name"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(24,"input",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(25,"div"),a.\u0275\u0275elementStart(26,"mat-form-field"),a.\u0275\u0275elementStart(27,"mat-label"),a.\u0275\u0275text(28,"Remote Name"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(29,"input",7),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(30,"button",8),a.\u0275\u0275text(31,"Save"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("formGroup",r.formGroup)},directives:[Xt.KE,Dr.gD,Xn.ey,kr.lW,d._Y,d.JL,d.sg,Xt.hX,d.JJ,d.u,d.Q7,_n.Nt,d.Fj,Ft.ZT],styles:[""]}),t})(),x8=(()=>{class t{constructor(e){this.attributeSerializer=e,this.objectSettings$=new h.X(void 0),this.contexts$=new h.X([]),this.settings$=new h.X([]),this.settingsSub=this.settings$.pipe((0,ve.U)(r=>r?new Xv(this.attributeSerializer.deserializeAsObject(r)):void 0),(0,ee.b)(r=>this.objectSettings$.next(r))).subscribe(),this.renderAppSub=this.objectSettings$.pipe((0,kv.T)(1),(0,Qe.w)(r=>new g.y(o=>{Fc(r.type&&"script"!==r.type?{type:"module",remoteEntry:r.remoteEntry,exposedModule:r.exposedModule}:{type:"script",remoteEntry:r.remoteEntry,exposedModule:r.exposedModule,remoteName:r.remoteName}).then(s=>{o.next(s[r.componentName&&""!==r.componentName?r.componentName:"default"]),o.complete()})}).pipe((0,ve.U)(o=>({s:r,c:o})))),(0,ee.b)(({s:r,c:o})=>{this.viewContainer.clear(),r.type&&"script"!==r.type?this.viewContainer.createComponent(o):this.viewContainer.createComponent(b8).instance.component=o})).subscribe()}set settings(e){this.settings$.next(e)}set contexts(e){this.contexts$.next(e)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(Ct.AttributeSerializerService))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["druid-outsider-outside-app-renderer"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(w8,7,a.ViewContainerRef),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.viewContainer=o.first)}},inputs:{settings:"settings",contexts:"contexts"},decls:2,vars:0,consts:[["appContainer",""]],template:function(e,r){1&e&&a.\u0275\u0275elementContainer(0,null,0)},styles:[""]}),t})(),E8=(()=>{class t{constructor(e,r){e.register((({handler:t})=>new Ut.ContentPlugin({id:"outside_app",title:"Outside App",selectionComponent:void 0,editorComponent:C8,renderComponent:x8,handler:t}))({handler:r}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(Ut.ContentPluginManager),a.\u0275\u0275inject(vx))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[x.CommonModule,Wr.MaterialModule,d.UX]]}),t})(),_x=(()=>{class t{constructor(e,r){this.fb=e,this.controlContainer=r,this.context$=new h.X(void 0),this.formGroup=this.fb.group({remoteEntry:this.fb.control("",[d.kI.required]),exposedModule:this.fb.control("",[d.kI.required]),moduleName:this.fb.control("",[d.kI.required])}),this.onTouched=()=>{}}set context(e){this.context$.next(e)}ngOnInit(){this.context$.subscribe(e=>{this.formGroup.setValue(e?{remoteEntry:e.data.remoteEntry,exposedModule:e.data.exposedModule,moduleName:e.data.moduleName}:{remoteEntry:"",exposedModule:"",moduleName:""})})}writeValue(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}registerOnChange(e){this.formGroup.valueChanges.subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.formGroup.disable():this.formGroup.enable()}validate(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"source is invalid"}}}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-context-module-form"]],inputs:{context:"context"},features:[a.\u0275\u0275ProvidersFeature([{provide:d.JU,useExisting:(0,a.forwardRef)(()=>t),multi:!0},{provide:d.Cf,useExisting:(0,a.forwardRef)(()=>t),multi:!0}])],decls:16,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","remoteEntry","required",""],["matInput","","formControlName","exposedModule","required",""],["matInput","","formControlName","moduleName","required",""]],template:function(e,r){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"div"),a.\u0275\u0275elementStart(2,"mat-form-field"),a.\u0275\u0275elementStart(3,"mat-label"),a.\u0275\u0275text(4,"Remote Entry"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(5,"input",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"div"),a.\u0275\u0275elementStart(7,"mat-form-field"),a.\u0275\u0275elementStart(8,"mat-label"),a.\u0275\u0275text(9,"Exposed Module"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(10,"input",2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"div"),a.\u0275\u0275elementStart(12,"mat-form-field"),a.\u0275\u0275elementStart(13,"mat-label"),a.\u0275\u0275text(14,"Module Name"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(15,"input",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("formGroup",r.formGroup)},directives:[Xt.KE,d.JL,d.sg,Xt.hX,_n.Nt,d.Fj,d.JJ,d.u,d.Q7],styles:[""]}),t})(),A8=(()=>{class t{constructor(e,r){this.fb=e,this.controlContainer=r}ngOnInit(){this.controlContainer.control.addControl("adaptor",this.fb.control("data",d.kI.required)),this.controlContainer.control.addControl("data",this.fb.control(""))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275directiveInject(d.qu),a.\u0275\u0275directiveInject(d.gN))},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["classifieds-ui-context-module-editor"]],viewQuery:function(e,r){if(1&e&&a.\u0275\u0275viewQuery(_x,7),2&e){let o;a.\u0275\u0275queryRefresh(o=a.\u0275\u0275loadQuery())&&(r.contextModuleFormComp=o.first)}},inputs:{context:"context"},decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","data",3,"context"]],template:function(e,r){1&e&&(a.\u0275\u0275elementContainerStart(0,0),a.\u0275\u0275element(1,"classifieds-ui-context-module-form",1),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275property("formGroup",r.controlContainer.control),a.\u0275\u0275advance(1),a.\u0275\u0275property("context",r.context))},directives:[_x,d.JL,d.sg,d.JJ,d.u],styles:[""]}),t})(),I8=(()=>{class t{constructor(e,r,o){this.actions$=e,this.moduleLoaderService=r,this.es=o,this.setPage$=fi(()=>this.actions$.pipe(Fi(dv),(0,ee.b)(({page:s})=>{console.log("tractor beam capture page",s),s.contexts&&Array.isArray(s.contexts)&&s.contexts.forEach(l=>{if("module"===l.plugin)return this.moduleLoaderService.loadModule(()=>Fc({type:"module",remoteEntry:l.data.remoteEntry,exposedModule:l.data.exposedModule}).then(u=>u[l.data.moduleName])).subscribe()})})),{dispatch:!1}),this.setPageInfo$=fi(()=>this.actions$.pipe(Fi(cv),(0,ee.b)(({info:s})=>{console.log("tractor beam info",s)}),(0,Qe.w)(({info:s})=>this.es.getEntityCollectionService("PanelPage").getByKey(s.id)),(0,ee.b)(s=>{s.contexts&&Array.isArray(s.contexts)&&s.contexts.forEach(l=>{if("module"===l.plugin)return this.moduleLoaderService.loadModule(()=>Fc({type:"module",remoteEntry:l.data.remoteEntry,exposedModule:l.data.exposedModule}).then(u=>u[l.data.moduleName])).subscribe()})})),{dispatch:!1})}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ma),a.\u0275\u0275inject(ln.ModuleLoaderService),a.\u0275\u0275inject(Jn))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),bx=(()=>{class t{constructor(e){this.moduleLoaderService=e}resolve(e,r,o){return console.log("module resolver context",e,r,o),this.moduleLoaderService.loadModule(()=>Fc({type:"module",remoteEntry:r.remoteEntry,exposedModule:r.exposedModule}).then(s=>s[r.moduleName]))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ln.ModuleLoaderService))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),T8=(()=>{class t{constructor(e,r,o){this.moduleLoader=e,this.pageBuilderFacade=r,this.es=o}loadPlugins(){return this.pageBuilderFacade.getPageInfo$.pipe((0,ee.b)(()=>console.log("started loading external modules")),(0,Qe.w)(e=>(e&&e.id?this.es.getEntityCollectionService("PanelPage").getByKey(e.id):(0,ke.of)(void 0)).pipe((0,tr.d)(void 0))),(0,Qe.w)(e=>e?(0,rn.D)(e.contexts.filter(r=>"module"===r.plugin).map(r=>this.moduleLoader.loadModule(()=>Fc({type:"module",remoteEntry:r.data.remoteEntry,exposedModule:r.data.exposedModule}).then(o=>o[r.data.moduleName])))).pipe((0,Zn.g)(1),(0,tr.d)([])):(0,ke.of)([])),(0,ee.b)(()=>console.log("completed loading external modules")),(0,ve.U)(()=>!0),(0,nn.q)(1))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ln.ModuleLoaderService),a.\u0275\u0275inject(ia),a.\u0275\u0275inject(Jn))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),k8=(()=>{class t{constructor(e,r,o,s){r.addDiscovery(s),e.register((({moduleResolver:t})=>new gs({id:"module",name:"module",title:"Module",baseObject:{},resolver:t,editorComponent:A8}))({moduleResolver:o}))}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(ol),a.\u0275\u0275inject(Ut.ContentPluginManager),a.\u0275\u0275inject(bx),a.\u0275\u0275inject(T8))},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({providers:[bx],imports:[[x.CommonModule,d.u5,d.UX,Sc,Wr.MaterialModule,ga.forFeature([I8])]]}),t})();for(var hl,up,jx,ng,Wv=function(t,n,e,r){return new(e||(e=Promise))(function(s,l){function u(v){try{f(r.next(v))}catch(D){l(D)}}function p(v){try{f(r.throw(v))}catch(D){l(D)}}function f(v){v.done?s(v.value):function o(s){return s instanceof e?s:new e(function(l){l(s)})}(v.value).then(u,p)}f((r=r.apply(t,n||[])).next())})},Jv=function(t,n){var r,o,s,l,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return l={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function u(f){return function(v){return function p(f){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(s=2&f[0]?o.return:f[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,f[1])).done)return s;switch(o=0,s&&(f=[2&f[0],s.value]),f[0]){case 0:case 1:s=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,o=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===f[0]||2===f[0])){e=0;continue}if(3===f[0]&&(!s||f[1]>s[0]&&f[1]<s[3])){e.label=f[1];break}if(6===f[0]&&e.label<s[1]){e.label=s[1],s=f;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(f);break}s[2]&&e.ops.pop(),e.trys.pop();continue}f=n.call(t,e)}catch(v){f=[6,v],o=0}finally{r=s=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([f,v])}}},wx=function t(n){var e=this;this.getId=function(r){return Wv(e,void 0,void 0,function(){var o,s;return Jv(this,function(l){return o=JSON.stringify(r),s=this.getHttpRequest("AWSCognitoIdentityService.GetId",o),[2,this.fetchRequestHandler.handle(s).then(function(u){return u.response.body.getReader().read().then(function(f){return JSON.parse(String.fromCharCode.apply(null,f.value))})}).catch(function(){throw new Error("CWR: Failed to retrieve Cognito identity")})]})})},this.getOpenIdToken=function(r){return Wv(e,void 0,void 0,function(){var o,s;return Jv(this,function(l){return o=JSON.stringify(r),s=this.getHttpRequest("AWSCognitoIdentityService.GetOpenIdToken",o),[2,this.fetchRequestHandler.handle(s).then(function(u){return u.response.body.getReader().read().then(function(f){return JSON.parse(String.fromCharCode.apply(null,f.value))})}).catch(function(){throw new Error("CWR: Failed to retrieve Cognito OpenId token")})]})})},this.getCredentialsForIdentity=function(r){return Wv(e,void 0,void 0,function(){var o,s;return Jv(this,function(l){return o=JSON.stringify({IdentityId:r}),s=this.getHttpRequest("AWSCognitoIdentityService.GetCredentialsForIdentity",o),[2,this.fetchRequestHandler.handle(s).then(function(u){return u.response.body.getReader().read().then(function(f){var D=JSON.parse(String.fromCharCode.apply(null,f.value)),Y=D.Credentials;return{identityId:D.IdentityId,accessKeyId:Y.AccessKeyId,secretAccessKey:Y.SecretAccessKey,sessionToken:Y.SessionToken,expiration:new Date(1e3*Y.Expiration)}})}).catch(function(){throw new Error("CWR: Failed to retrieve credentials for Cognito identity")})]})})},this.getHttpRequest=function(r,o){return new er({method:"POST",headers:{"content-type":"application/x-amz-json-1.1","x-amz-target":r},protocol:"https:",hostname:e.hostname,body:o})},this.hostname="cognito-identity."+n.region+".amazonaws.com",this.fetchRequestHandler=n.fetchRequestHandler},Gh=function(){return Gh=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},Gh.apply(this,arguments)},H8=function t(n){var e=this;this.assumeRoleWithWebIdentity=function(r){return function(t,n,e,r){return new(e||(e=Promise))(function(s,l){function u(v){try{f(r.next(v))}catch(D){l(D)}}function p(v){try{f(r.throw(v))}catch(D){l(D)}}function f(v){v.done?s(v.value):function o(s){return s instanceof e?s:new e(function(l){l(s)})}(v.value).then(u,p)}f((r=r.apply(t,n||[])).next())})}(e,void 0,void 0,function(){var o,s,l;return function(t,n){var r,o,s,l,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return l={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function u(f){return function(v){return function p(f){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(s=2&f[0]?o.return:f[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,f[1])).done)return s;switch(o=0,s&&(f=[2&f[0],s.value]),f[0]){case 0:case 1:s=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,o=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===f[0]||2===f[0])){e=0;continue}if(3===f[0]&&(!s||f[1]>s[0]&&f[1]<s[3])){e.label=f[1];break}if(6===f[0]&&e.label<s[1]){e.label=s[1],s=f;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(f);break}s[2]&&e.ops.pop(),e.trys.pop();continue}f=n.call(t,e)}catch(v){f=[6,v],o=0}finally{r=s=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([f,v])}}}(this,function(u){return o=Gh(Gh({},r),{Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),s=new URLSearchParams(Object.entries(o)).toString(),l=new er({method:"POST",headers:{"content-type":"application/x-www-form-urlencoded",host:this.hostname},protocol:"https:",hostname:this.hostname,body:s}),[2,this.fetchRequestHandler.handle(l).then(function(p){return p.response.body.getReader().read().then(function(v){var J=String.fromCharCode.apply(null,v.value);return{accessKeyId:J.split("<AccessKeyId>")[1].split("</AccessKeyId>")[0],secretAccessKey:J.split("<SecretAccessKey>")[1].split("</SecretAccessKey>")[0],sessionToken:J.split("<SessionToken>")[1].split("</SessionToken>")[0],expiration:new Date(J.split("<Expiration>")[1].split("</Expiration>")[0])}})}).catch(function(){throw new Error("CWR: Failed to retrieve credentials from STS")})]})})},this.hostname="sts."+n.region+".amazonaws.com",this.fetchRequestHandler=n.fetchRequestHandler},$h="cwr_c",Hh=function(t,n,e,r){return new(e||(e=Promise))(function(s,l){function u(v){try{f(r.next(v))}catch(D){l(D)}}function p(v){try{f(r.throw(v))}catch(D){l(D)}}function f(v){v.done?s(v.value):function o(s){return s instanceof e?s:new e(function(l){l(s)})}(v.value).then(u,p)}f((r=r.apply(t,n||[])).next())})},qh=function(t,n){var r,o,s,l,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return l={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function u(f){return function(v){return function p(f){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(s=2&f[0]?o.return:f[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,f[1])).done)return s;switch(o=0,s&&(f=[2&f[0],s.value]),f[0]){case 0:case 1:s=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,o=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===f[0]||2===f[0])){e=0;continue}if(3===f[0]&&(!s||f[1]>s[0]&&f[1]<s[3])){e.label=f[1];break}if(6===f[0]&&e.label<s[1]){e.label=s[1],s=f;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(f);break}s[2]&&e.ops.pop(),e.trys.pop();continue}f=n.call(t,e)}catch(v){f=[6,v],o=0}finally{r=s=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([f,v])}}},q8=function(){function t(n){var e=this;this.ChainAnonymousCredentialsProvider=function(){return Hh(e,void 0,void 0,function(){return qh(this,function(o){return[2,this.AnonymousCredentialsProvider().catch(this.AnonymousStorageCredentialsProvider).catch(this.AnonymousCognitoCredentialsProvider)]})})},this.AnonymousCredentialsProvider=function(){return Hh(e,void 0,void 0,function(){var o=this;return qh(this,function(s){return[2,new Promise(function(l,u){if(o.renewCredentials())return u();l(o.credentials)})]})})},this.AnonymousStorageCredentialsProvider=function(){return Hh(e,void 0,void 0,function(){var o=this;return qh(this,function(s){return[2,new Promise(function(l,u){var p;try{p=JSON.parse(localStorage.getItem($h))}catch{return u()}if(p.expiration=new Date(p.expiration),o.credentials=p,o.renewCredentials())return u();o.credentials=p,l(p)})]})})},this.AnonymousCognitoCredentialsProvider=function(){return Hh(e,void 0,void 0,function(){var o=this;return qh(this,function(s){return[2,this.cognitoIdentityClient.getId({IdentityPoolId:this.config.identityPoolId}).then(function(l){return o.cognitoIdentityClient.getOpenIdToken(l)}).then(function(l){return o.stsClient.assumeRoleWithWebIdentity({RoleArn:o.config.guestRoleArn,RoleSessionName:"cwr",WebIdentityToken:l.Token})}).then(function(l){o.credentials=l;try{localStorage.setItem($h,JSON.stringify(l))}catch{}return l})]})})};var r=n.identityPoolId.split(":")[0];this.config=n,this.stsClient=new H8({fetchRequestHandler:new hf,region:r}),this.cognitoIdentityClient=new wx({fetchRequestHandler:new hf,region:r})}return t.prototype.renewCredentials=function(){if(!this.credentials||!this.credentials.expiration)return!0;var n=new Date(this.credentials.expiration.getTime()-3e4);return new Date>n},t}(),Kh=function(t,n,e,r){return new(e||(e=Promise))(function(s,l){function u(v){try{f(r.next(v))}catch(D){l(D)}}function p(v){try{f(r.throw(v))}catch(D){l(D)}}function f(v){v.done?s(v.value):function o(s){return s instanceof e?s:new e(function(l){l(s)})}(v.value).then(u,p)}f((r=r.apply(t,n||[])).next())})},Xh=function(t,n){var r,o,s,l,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return l={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function u(f){return function(v){return function p(f){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(s=2&f[0]?o.return:f[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,f[1])).done)return s;switch(o=0,s&&(f=[2&f[0],s.value]),f[0]){case 0:case 1:s=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,o=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===f[0]||2===f[0])){e=0;continue}if(3===f[0]&&(!s||f[1]>s[0]&&f[1]<s[3])){e.label=f[1];break}if(6===f[0]&&e.label<s[1]){e.label=s[1],s=f;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(f);break}s[2]&&e.ops.pop(),e.trys.pop();continue}f=n.call(t,e)}catch(v){f=[6,v],o=0}finally{r=s=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([f,v])}}},K8=function(){function t(n){var e=this;this.ChainAnonymousCredentialsProvider=function(){return Kh(e,void 0,void 0,function(){return Xh(this,function(o){return[2,this.AnonymousCredentialsProvider().catch(this.AnonymousStorageCredentialsProvider).catch(this.AnonymousCognitoCredentialsProvider)]})})},this.AnonymousCredentialsProvider=function(){return Kh(e,void 0,void 0,function(){var o=this;return Xh(this,function(s){return[2,new Promise(function(l,u){if(o.renewCredentials())return u();l(o.credentials)})]})})},this.AnonymousStorageCredentialsProvider=function(){return Kh(e,void 0,void 0,function(){var o=this;return Xh(this,function(s){return[2,new Promise(function(l,u){var p;try{p=JSON.parse(localStorage.getItem($h))}catch{u()}if(p.expiration=new Date(p.expiration),o.credentials=p,o.renewCredentials())return u();o.credentials=p,l(p)})]})})},this.AnonymousCognitoCredentialsProvider=function(){return Kh(e,void 0,void 0,function(){var o,s=this;return Xh(this,function(l){return o=function(t){return function(){return t.client.getCredentialsForIdentity(t.identityPoolId)}}({client:this.cognitoIdentityClient,identityPoolId:this.config.identityPoolId}),[2,o().then(function(u){s.credentials=u;try{localStorage.setItem($h,JSON.stringify(u))}catch{}return u})]})})};var r=n.identityPoolId.split(":")[0];this.config=n,this.cognitoIdentityClient=new wx({fetchRequestHandler:new hf,region:r})}return t.prototype.renewCredentials=function(){if(!this.credentials||!this.credentials.expiration)return!0;var n=new Date(this.credentials.expiration.getTime()-3e4);return new Date>n},t}(),X8=function(){function t(n){this.plugins=new Map,this.context=n}return t.prototype.addPlugin=function(n){var e=n.getPluginId();if(!e)throw new Error("InvalidPluginIdException");this.plugins.set(e,n),n.load(this.context)},t.prototype.updatePlugin=function(n,e){var r=this.plugins.get(n);r&&r.update instanceof Function&&r.update(e)},t.prototype.enable=function(){this.plugins.forEach(function(n){return n.enable()})},t.prototype.disable=function(){this.plugins.forEach(function(n){return n.disable()})},t.prototype.hasPlugin=function(n){return this.plugins.has(n)},t.prototype.record=function(n,e){var r=this.plugins.get(n);if(!(r&&r.record instanceof Function))throw new Error("AWS RUM Client record: Invalid plugin ID");r.record(e)},t}(),Wh="com.amazon.rum.http_event",Ex="com.amazon.rum.xray_trace_event",Qv="com.amazon.rum.performance_navigation_event",Jh=function(){return Jh=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},Jh.apply(this,arguments)},Ax="com.amazonaws.rum.dom-event",nG={enableMutationObserver:!1,events:[]},rG=function(){function t(n){this.pluginId=Ax,this.eventListenerMap=new Map,this.config=Jh(Jh({},nG),n),this.enabled=!1}return t.prototype.load=function(n){this.recordEvent=n.record,this.enable()},t.prototype.enable=function(){var n=this;"complete"===document.readyState?this.enabled||(this.addListeners(),this.config.enableMutationObserver&&this.observeDOMMutation(),this.enabled=!0):window.addEventListener("load",function(){return n.enable()})},t.prototype.disable=function(){!this.enabled||(this.removeListeners(),this.observer&&this.observer.disconnect(),this.enabled=!1)},t.prototype.getPluginId=function(){return this.pluginId},t.prototype.update=function(n){var e=this;n.forEach(function(r){e.addEventHandler(r),e.config.events.push(r)})},t.prototype.removeListeners=function(){var n=this;this.config.events.forEach(function(e){return n.removeEventHandler(e)})},t.prototype.addListeners=function(){var n=this;this.config.events.forEach(function(e){return n.addEventHandler(e)})},t.prototype.getEventListener=function(n){var e=this;return function(r){var o={version:"1.0.0",event:r.type,elementId:e.getElementId(r)};void 0!==n&&(o.cssLocator=n),e.recordEvent&&e.recordEvent("com.amazon.rum.dom_event",o)}},t.prototype.getElementId=function(n){return n.target?n.target instanceof Element&&n.target.id?n.target.id:n.target instanceof Node?n.target.nodeName:"":""},t.prototype.addEventHandler=function(n){var e=n.event,r=this.getEventListener(n.cssLocator),o=[],s=this.eventListenerMap.has(n)?this.eventListenerMap.get(n):[];if(n.cssLocator)document.querySelectorAll(n.cssLocator).forEach(function(p){o.push(p)});else if(n.elementId){var u=document.getElementById(n.elementId);u&&o.push(u)}else n.element&&o.push(n.element);o.forEach(function(p){p.addEventListener(e,r),s.push({element:p,eventListener:r})}),this.eventListenerMap.set(n,s)},t.prototype.removeEventHandler=function(n){var e=this.eventListenerMap.get(n);e&&(e.forEach(function(r){r.element.removeEventListener(n.event,r.eventListener)}),this.eventListenerMap.delete(n))},t.prototype.observeDOMMutation=function(){var n=this;this.observer=new MutationObserver(function(){n.removeListeners(),n.addListeners()}),this.observer.observe(document,{childList:!0,subtree:!0})},t}(),Ix=function(t){return t!==Object(t)&&null!=t},Yv=function(t,n){var e=function(t){var n={version:"1.0.0",type:"undefined",message:"undefined"};return void 0!==t.type&&(n.type=t.type),void 0!==t.message&&(n.message=t.message),void 0!==t.filename&&(n.filename=t.filename),void 0!==t.lineno&&(n.lineno=t.lineno),void 0!==t.colno&&(n.colno=t.colno),n}(t),r=t.error;return function(t){var n=typeof t;return("object"===n||"function"===n)&&!!t}(r)?function(t,n,e){n.name&&(t.type=n.name),n.message&&(t.message=n.message),n.fileName&&(t.filename=n.fileName),n.lineNumber&&(t.lineno=n.lineNumber),n.columnNumber&&(t.colno=n.columnNumber),e&&n.stack&&(t.stack=n.stack.length>e?n.stack.substring(0,e)+"...":n.stack)}(e,r,n):Ix(r)&&function(t,n){"unhandledrejection"!==t.type&&(t.type=n.toString()),t.message=n.toString()}(e,r),e},Qh=function(){return Qh=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},Qh.apply(this,arguments)},Px="com.amazonaws.rum.js-error",lG={stackTraceLength:200},uG=function(){function t(n){var e=this;this.eventHandler=function(r){e.recordEvent("com.amazon.rum.js_error_event",Yv(r,e.config.stackTraceLength))},this.promiseRejectEventHandler=function(r){e.eventHandler({type:r.type,error:r.reason})},this.pluginId=Px,this.enabled=!0,this.config=Qh(Qh({},lG),n)}return t.prototype.load=function(n){this.recordEvent=n.record,this.addEventHandler()},t.prototype.enable=function(){this.enabled||(this.addEventHandler(),this.enabled=!0)},t.prototype.disable=function(){!this.enabled||(this.removeEventHandler(),this.enabled=!1)},t.prototype.getPluginId=function(){return this.pluginId},t.prototype.record=function(n){n instanceof ErrorEvent?this.eventHandler(n):this.eventHandler({type:"error",error:n})},t.prototype.addEventHandler=function(){window.addEventListener("error",this.eventHandler),window.addEventListener("unhandledrejection",this.promiseRejectEventHandler)},t.prototype.removeEventHandler=function(){window.removeEventListener("error",this.eventHandler),window.removeEventListener("unhandledrejection",this.promiseRejectEventHandler)},t}(),Tx=function(t,n,e,r,o){var s=t+"=";s+=n||"",void 0!==o?s+="; Expires="+o.toUTCString():void 0!==r&&(s+="; Expires="+cG(r).toUTCString()),s+="; Domain="+e.domain,s+="; Path="+e.path,s+="; SameSite="+e.sameSite,s+=e.secure?"; Secure":"",document.cookie=s},cG=function(t){return new Date((new Date).getTime()+1e3*t)},kx=function(t){for(var e=0,r=document.cookie.split("; ");e<r.length;e++){var s=r[e].split("=");if(s[0]===t)return s[1]}return""},dG=S(7006),Lc="00000000-0000-0000-0000-000000000000",Yh="unknown",hG=function(){function t(n,e,r,o){this.appMonitorDetails=n,this.config=e,this.record=r,this.pageManager=o,this.session={sessionId:Lc,record:this.sample(),eventCount:0},this.initializeUser(),this.collectAttributes(),this.getSessionFromCookie()}return t.prototype.getSession=function(){return this.session.sessionId===Lc||this.useCookies()?(this.session.sessionId===Lc&&this.useCookies()||this.session.sessionId!==Lc&&new Date>this.sessionExpiry)&&this.createSession():this.session={sessionId:Lc,record:this.sample(),eventCount:0,page:this.session.page},this.session},t.prototype.getAttributes=function(){return this.attributes},t.prototype.getUserId=function(){return this.useCookies()?this.userId:Lc},t.prototype.incrementSessionEventCount=function(){this.session.eventCount++,this.renewSession()},t.prototype.initializeUser=function(){var n="";this.userExpiry=new Date,this.userExpiry.setDate(this.userExpiry.getDate()+this.config.userIdRetentionDays),this.config.userIdRetentionDays<=0?this.userId="00000000-0000-0000-0000-000000000000":this.useCookies()?(n=this.getUserIdCookie(),this.userId=n||Tn(),this.createOrRenewUserCookie(n,this.userExpiry)):this.userId=Tn()},t.prototype.createOrRenewSessionCookie=function(n,e){btoa&&Tx(this.sessionCookieName(),btoa(JSON.stringify(n)),this.config.cookieAttributes,void 0,e)},t.prototype.createOrRenewUserCookie=function(n,e){Tx("cwr_u",n,this.config.cookieAttributes,void 0,e)},t.prototype.getUserIdCookie=function(){return kx("cwr_u")},t.prototype.getSessionFromCookie=function(){if(this.useCookies()){var n=kx(this.sessionCookieName());if(n&&atob)try{this.session=JSON.parse(atob(n)),this.pageManager.resumeSession(this.session.page.pageId,this.session.page.interaction)}catch{}}},t.prototype.storeSessionAsCookie=function(){this.useCookies()&&this.config.userIdRetentionDays>0&&this.createOrRenewUserCookie(this.userId,this.userExpiry),this.useCookies()&&this.createOrRenewSessionCookie(this.session,this.sessionExpiry)},t.prototype.createSession=function(){this.session={sessionId:Tn(),record:this.sample(),eventCount:0},this.session.page=this.pageManager.getPage(),this.sessionExpiry=new Date((new Date).getTime()+1e3*this.config.sessionLengthSeconds),this.storeSessionAsCookie(),this.record(this.session,"com.amazon.rum.session_start_event",{version:"1.0.0"})},t.prototype.renewSession=function(){this.sessionExpiry=new Date((new Date).getTime()+1e3*this.config.sessionLengthSeconds),this.session.page=this.pageManager.getPage(),this.storeSessionAsCookie()},t.prototype.collectAttributes=function(){var n=new dG.UAParser(navigator.userAgent).getResult();this.attributes={browserLanguage:navigator.language,browserName:n.browser.name?n.browser.name:Yh,browserVersion:n.browser.version?n.browser.version:Yh,osName:n.os.name?n.os.name:Yh,osVersion:n.os.version?n.os.version:Yh,deviceType:n.device.type?n.device.type:"desktop",platformType:"web",domain:window.location.hostname}},t.prototype.useCookies=function(){return navigator.cookieEnabled&&this.config.allowCookies},t.prototype.sample=function(){return Math.random()<this.config.sessionSampleRate},t.prototype.sessionCookieName=function(){return this.config.cookieAttributes.unique?"cwr_s_"+this.appMonitorDetails.id:"cwr_s"},t}(),Vx=S(843),Zh=function(){function t(){this.enabled=!1}return t.prototype.enable=function(){if(!this.enabled){this.enabled=!0;for(var n=0,e=this.patches();n<e.length;n++){var r=e[n];Vx.wrap(r.nodule,r.name,r.wrapper())}}},t.prototype.disable=function(){if(this.enabled){this.enabled=!1;for(var n=0,e=this.patches();n<e.length;n++){var r=e[n];Vx.unwrap(r.nodule,r.name)}}},t}(),gG=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),yG=function(t){function n(e,r,o){var s=t.call(this)||this;return s.sendWrapper=function(){var l=s;return function(u){return function(){return l.recordXhr(this),this.addEventListener("loadend",l.endTracking),u.apply(this,arguments)}}},s.endTracking=function(l){var u=Date.now(),p=l.target;p.removeEventListener("loadend",s.endTracking),s.removeXhr(p,u)},s.fetch=function(l,u,p,f,v){var D=s;return l.apply(u,p).catch(function(J){throw J}).finally(D.decrementFetchCounter())},s.fetchWrapper=function(){var l=s;return function(u){return function(p,f){return l.fetchCounter+=1,l.fetch(u,this,arguments,p,f)}}},s.checkLoadStatus=function(){0===s.ongoingRequests.size&&0===s.fetchCounter&&(clearInterval(s.periodicCheckerId),clearTimeout(s.timeoutCheckerId),s.domMutationObserver.disconnect(),s.recordRouteChangeNavigationEvent(s.pageManager.getPage()),s.periodicCheckerId=void 0,s.timeoutCheckerId=void 0,s.isPageLoaded=!0)},s.declareTimeout=function(){clearInterval(s.periodicCheckerId),s.periodicCheckerId=void 0,s.timeoutCheckerId=void 0,s.domMutationObserver.disconnect(),s.isPageLoaded=!0},s.resetInterval=function(){s.latestEndTime=Date.now(),clearInterval(s.periodicCheckerId),s.periodicCheckerId=setInterval(s.checkLoadStatus,s.config.routeChangeComplete)},s.moveItemsFromBuffer=function(l){s.ongoingRequests.add(l)},s.updateLatestInteractionTime=function(l){s.latestInteractionTime=Date.now()},s.periodicCheckerId=void 0,s.timeoutCheckerId=void 0,s.domMutationObserver=new MutationObserver(s.resetInterval),s.ongoingRequests=new Set,s.requestBuffer=new Set,s.fetchCounter=0,s.isPageLoaded=!0,s.latestEndTime=0,s.latestInteractionTime=0,s.config=r,s.pageManager=e,s.record=o,s.enable(),document.addEventListener("mousedown",s.updateLatestInteractionTime),document.addEventListener("keydown",s.updateLatestInteractionTime),s}return gG(n,t),n.prototype.startTiming=function(){this.latestEndTime=Date.now(),this.periodicCheckerId&&clearInterval(this.periodicCheckerId),this.timeoutCheckerId&&clearTimeout(this.timeoutCheckerId),this.domMutationObserver.disconnect(),this.periodicCheckerId=setInterval(this.checkLoadStatus,this.config.routeChangeComplete),this.timeoutCheckerId=setTimeout(this.declareTimeout,this.config.routeChangeTimeout),this.domMutationObserver.observe(document,{subtree:!0,childList:!0,attributes:!1,characterData:!1}),this.isPageLoaded=!1,this.requestBuffer.forEach(this.moveItemsFromBuffer),this.requestBuffer.clear()},n.prototype.patches=function(){return[{nodule:XMLHttpRequest.prototype,name:"send",wrapper:this.sendWrapper},{nodule:window,name:"fetch",wrapper:this.fetchWrapper}]},n.prototype.recordXhr=function(e){this.pageManager.getPage()&&!1===this.isPageLoaded?this.ongoingRequests.add(e):this.requestBuffer.add(e)},n.prototype.removeXhr=function(e,r){this.pageManager.getPage()&&this.ongoingRequests.has(e)?(this.ongoingRequests.delete(e),this.latestEndTime=r):this.requestBuffer.has(e)&&this.requestBuffer.delete(e)},n.prototype.decrementFetchCounter=function(){this.isPageLoaded||(this.latestEndTime=Date.now()),this.fetchCounter-=1},n.prototype.recordRouteChangeNavigationEvent=function(e){this.record&&this.record(Qv,{version:"1.0.0",initiatorType:"route_change",navigationType:"navigate",startTime:e.start,duration:this.latestEndTime-e.start})},n}(Zh),vG=function(){function t(n,e){this.TIMEOUT=1e3,this.config=n,this.record=e,this.page=void 0,this.resumed=void 0,this.recordInteraction=!1,this.virtualPageLoadTimer=new yG(this,n,e)}return t.prototype.getPage=function(){return this.page},t.prototype.getAttributes=function(){return this.attributes},t.prototype.resumeSession=function(n,e){this.recordInteraction=!0,this.resumed={pageId:n,interaction:e,start:0}},t.prototype.recordPageView=function(n){var e;if(e="string"==typeof n?n:n.pageId,this.useCookies()&&(this.recordInteraction=!0),!this.page&&this.resumed)this.createResumedPage(e);else if(this.page){if(this.page.pageId===e)return;this.createNextPage(e)}else this.createLandingPage(e);this.collectAttributes("object"==typeof n?n:void 0),this.recordPageViewEvent()},t.prototype.createResumedPage=function(n){this.page={pageId:n,parentPageId:this.resumed.pageId,interaction:this.resumed.interaction+1,start:Date.now()},this.resumed=void 0},t.prototype.createNextPage=function(n){var e=Date.now(),r=this.virtualPageLoadTimer.latestInteractionTime;e-r<=this.TIMEOUT&&(e=r,this.virtualPageLoadTimer.startTiming()),this.page={pageId:n,parentPageId:this.page.pageId,interaction:this.page.interaction+1,start:e}},t.prototype.createLandingPage=function(n){this.page={pageId:n,interaction:0,start:Date.now()}},t.prototype.collectAttributes=function(n){var e=this;this.attributes={title:document.title,pageId:this.page.pageId},this.recordInteraction&&(this.attributes.interaction=this.page.interaction,void 0!==this.page.parentPageId&&(this.attributes.parentPageId=this.page.parentPageId)),n&&Object.keys(n).forEach(function(r){e.attributes[r]=n[r]})},t.prototype.createPageViewEvent=function(){var n={version:"1.0.0",pageId:this.page.pageId};return this.recordInteraction&&(n.interaction=this.page.interaction,n.pageInteractionId=this.page.pageId+"-"+this.page.interaction,void 0!==this.page.parentPageId&&(n.parentPageInteractionId=this.page.parentPageId+"-"+(this.page.interaction-1))),n},t.prototype.recordPageViewEvent=function(){this.record("com.amazon.rum.page_view_event",this.createPageViewEvent())},t.prototype.useCookies=function(){return navigator.cookieEnabled&&this.config.allowCookies},t}(),eg=function(){return eg=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},eg.apply(this,arguments)},_G=function(){function t(n,e){var r=this;this.events=[],this.recordPageView=function(o){r.isCurrentUrlAllowed()&&r.pageManager.recordPageView(o)},this.recordEvent=function(o,s){if(r.enabled&&r.isCurrentUrlAllowed()){var l=r.sessionManager.getSession();r.sessionManager.incrementSessionEventCount(),r.canRecord(l)&&r.addRecordToCache(o,s)}},this.getSession=function(){if(r.isCurrentUrlAllowed())return r.sessionManager.getSession()},this.recordSessionInitEvent=function(o,s,l){!r.enabled||(r.sessionManager.incrementSessionEventCount(),r.canRecord(o)&&r.addRecordToCache(s,l))},this.canRecord=function(o){return o.record&&(o.eventCount<=r.config.sessionEventLimit||r.config.sessionEventLimit<=0)},this.addRecordToCache=function(o,s){if(r.enabled){r.events.length===r.config.eventCacheSize&&r.events.shift();var l=eg(eg({version:"1.0.0"},r.sessionManager.getAttributes()),r.pageManager.getAttributes());r.events.push({details:JSON.stringify(s),id:Tn(),metadata:JSON.stringify(l),timestamp:new Date,type:o})}},this.appMonitorDetails=n,this.config=e,this.enabled=!0,this.pageManager=new vG(e,this.recordEvent),this.sessionManager=new hG(n,e,this.recordSessionInitEvent,this.pageManager)}return t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.hasEvents=function(){return 0!==this.events.length},t.prototype.getEventBatch=function(){var n=[];return 0===this.events.length||(this.events.length<=this.config.batchLimit?(n=this.events,this.events=[]):n=this.events.splice(0,this.config.batchLimit)),n},t.prototype.getAppMonitorDetails=function(){return this.appMonitorDetails},t.prototype.getUserDetails=function(){return{userId:this.sessionManager.getUserId(),sessionId:this.sessionManager.getSession().sessionId}},t.prototype.isCurrentUrlAllowed=function(){var n=document.location.toString();return!(this.config.pagesToExclude.length>0&&this.config.pagesToExclude.some(function(e){return e.test(n)}))&&(!(this.config.pagesToInclude.length&&!this.config.pagesToInclude.some(function(e){return e.test(n)}))||void 0)},t}(),zi=(()=>{return(t=zi||(zi={})).OTHER="other",t.STYLESHEET="stylesheet",t.DOCUMENT="document",t.SCRIPT="script",t.IMAGE="image",t.FONT="font",zi;var t})(),bG=[{name:zi.STYLESHEET,list:["css","less"]},{name:zi.DOCUMENT,list:["htm","html","ts","doc","docx","pdf","xls","xlsx"]},{name:zi.SCRIPT,list:["js"]},{name:zi.IMAGE,list:["ai","bmp","gif","ico","jpeg","jpg","png","ps","psd","svg","tif","tiff"]},{name:zi.FONT,list:["fnt","fon","otf","ttf","woff"]}],Rx=function(t){for(var n=t.length-1;n>0;n--){var e=Math.floor(Math.random()*(n+1)),r=t[n];t[n]=t[e],t[e]=r}},Zv=function(t){var n=t.substring(t.lastIndexOf("/")+1),e=n.substring(n.lastIndexOf(".")+1).split(/[?#]/)[0],r=zi.OTHER;return bG.forEach(function(o){o.list.indexOf(e)>-1&&(r=o.name)}),r},Uc=function(t){var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/);return e&&e[4]?e[4]:""},Nx=function(t){var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/);return e&&e[2]?e[2]:""},e0=function(t,n,e,r){return new(e||(e=Promise))(function(s,l){function u(v){try{f(r.next(v))}catch(D){l(D)}}function p(v){try{f(r.throw(v))}catch(D){l(D)}}function f(v){v.done?s(v.value):function o(s){return s instanceof e?s:new e(function(l){l(s)})}(v.value).then(u,p)}f((r=r.apply(t,n||[])).next())})},t0=function(t,n){var r,o,s,l,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return l={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function u(f){return function(v){return function p(f){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(s=2&f[0]?o.return:f[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,f[1])).done)return s;switch(o=0,s&&(f=[2&f[0],s.value]),f[0]){case 0:case 1:s=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,o=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===f[0]||2===f[0])){e=0;continue}if(3===f[0]&&(!s||f[1]>s[0]&&f[1]<s[3])){e.label=f[1];break}if(6===f[0]&&e.label<s[1]){e.label=s[1],s=f;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(f);break}s[2]&&e.ops.pop(),e.trys.pop();continue}f=n.call(t,e)}catch(v){f=[6,v],o=0}finally{r=s=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([f,v])}}},SG={expiresIn:60},EG=function t(n){var e=this;this.sendFetch=function(r){return e0(e,void 0,void 0,function(){var o,s,l,u,p,f,D,J;return t0(this,function(Y){switch(Y.label){case 0:return o=Uc(this.config.endpoint),s=JSON.stringify(Fx(r)),u=er.bind,D={method:"POST"},J={"content-type":"application/json"},p="X-Amz-Content-Sha256",[4,Mx(s)];case 1:return l=new(u.apply(er,[void 0,(D.headers=(J[p]=Y.sent(),J.host=o,J),D.protocol=Nx(this.config.endpoint),D.hostname=o,D.path="/appmonitors/"+r.AppMonitorDetails.id+"/",D.body=s,D)])),[4,this.awsSigV4.sign(l)];case 2:return f=Y.sent(),[2,this.config.fetchRequestHandler.handle(f)]}})})},this.sendBeacon=function(r){return e0(e,void 0,void 0,function(){var o,s,l,u,p,f,D,J;return t0(this,function(Y){switch(Y.label){case 0:return o=Uc(this.config.endpoint),s=JSON.stringify(Fx(r)),u=er.bind,D={method:"POST"},J={"content-type":"text/plain;charset=UTF-8"},p="X-Amz-Content-Sha256",[4,Mx(s)];case 1:return l=new(u.apply(er,[void 0,(D.headers=(J[p]=Y.sent(),J.host=o,J),D.protocol=Nx(this.config.endpoint),D.hostname=o,D.path="/appmonitors/"+r.AppMonitorDetails.id,D.body=s,D)])),[4,this.awsSigV4.presign(l,SG)];case 2:return f=Y.sent(),[2,this.config.beaconRequestHandler.handle(f)]}})})},this.config=n,this.awsSigV4=new cf({applyChecksum:!0,credentials:n.credentials,region:n.region,service:"rum",uriEscapePath:!0,sha256:sh.Sha256})},Fx=function(t){var n=[];return t.RumEvents.forEach(function(r){return n.push(AG(r))}),{BatchId:t.BatchId,AppMonitorDetails:t.AppMonitorDetails,UserDetails:t.UserDetails,RumEvents:n}},AG=function(t){return{id:t.id,timestamp:Math.round(t.timestamp.getTime()/1e3),type:t.type,metadata:t.metadata,details:t.details}},Mx=function(t){return e0(void 0,void 0,void 0,function(){var n,e;return t0(this,function(r){switch(r.label){case 0:return(n=new sh.Sha256).update(t),e=wa,[4,n.digest()];case 1:return[2,e.apply(void 0,[r.sent()]).toLowerCase()]}})})},IG=function(){function t(){}return t.prototype.handle=function(n){var e=this.sendBeacon(n);return new Promise(function(r,o){e?r({response:new Oo({statusCode:200})}):o()})},t.prototype.sendBeacon=function(n){var e=n.path;if(n.query){var r=Ny(n.query);r&&(e+="?"+r)}var o=n.port;return navigator.sendBeacon(n.protocol+"//"+n.hostname+(o?":"+o:"")+e,n.body)},t}(),PG=function(t){return void 0===t&&(t=0),new Promise(function(n,e){t&&setTimeout(function(){var r=new Error("Request did not complete within "+t+" ms");r.name="TimeoutError",e(r)},t)})},TG=function(){function t(n){var e=void 0===n?{}:n,r=e.fetchFunction;this.requestTimeout=e.requestTimeout,this.fetchFunction=r}return t.prototype.destroy=function(){},t.prototype.handle=function(n,e){var o=(void 0===e?{}:e).abortSignal,s=this.requestTimeout;if(null==o?void 0:o.aborted){var l=new Error("Request aborted");return l.name="AbortError",Promise.reject(l)}var u=n.path;if(n.query){var p=Ny(n.query);p&&(u+="?"+p)}var f=n.port,v=n.method,D=n.protocol+"//"+n.hostname+(f?":"+f:"")+u,Y={body:"GET"===v||"HEAD"===v?void 0:n.body,headers:new Headers(n.headers),method:v};"undefined"!=typeof AbortController&&(Y.signal=o);var he=new Request(D,Y),Ue=[this.fetchFunction.apply(window,[he]).then(function(Oe){for(var Xe={},tt=0,ct=Oe.headers.entries();tt<ct.length;tt++){var bt=ct[tt];Xe[bt[0]]=bt[1]}return void 0!==Oe.body?{response:new Oo({headers:Xe,statusCode:Oe.status,body:Oe.body})}:Oe.blob().then(function(Mt){return{response:new Oo({headers:Xe,statusCode:Oe.status,body:Mt})}})}),PG(s)];return o&&Ue.push(new Promise(function(Oe,De){o.onabort=function(){var Xe=new Error("Request aborted");Xe.name="AbortError",De(Xe)}})),Promise.race(Ue)},t}(),sp=function(t,n,e,r){return new(e||(e=Promise))(function(s,l){function u(v){try{f(r.next(v))}catch(D){l(D)}}function p(v){try{f(r.throw(v))}catch(D){l(D)}}function f(v){v.done?s(v.value):function o(s){return s instanceof e?s:new e(function(l){l(s)})}(v.value).then(u,p)}f((r=r.apply(t,n||[])).next())})},lp=function(t,n){var r,o,s,l,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return l={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function u(f){return function(v){return function p(f){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(s=2&f[0]?o.return:f[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,f[1])).done)return s;switch(o=0,s&&(f=[2&f[0],s.value]),f[0]){case 0:case 1:s=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,o=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===f[0]||2===f[0])){e=0;continue}if(3===f[0]&&(!s||f[1]>s[0]&&f[1]<s[3])){e.label=f[1];break}if(6===f[0]&&e.label<s[1]){e.label=s[1],s=f;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(f);break}s[2]&&e.ops.pop(),e.trys.pop();continue}f=n.call(t,e)}catch(v){f=[6,v],o=0}finally{r=s=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([f,v])}}},Dx="CWR: Cannot dispatch; no AWS credentials.",kG=function(){function t(n,e,r,o){var s=this;this.dispatchFetch=function(){return sp(s,void 0,void 0,function(){return lp(this,function(l){return[2,this.dispatch(this.rum.sendFetch)]})})},this.dispatchBeacon=function(){return sp(s,void 0,void 0,function(){return lp(this,function(l){return[2,this.dispatch(this.rum.sendBeacon)]})})},this.dispatchFetchFailSilent=function(){return sp(s,void 0,void 0,function(){return lp(this,function(l){return[2,this.dispatchFetch().catch(function(){})]})})},this.dispatchBeaconFailSilent=function(){return sp(s,void 0,void 0,function(){return lp(this,function(l){return[2,this.dispatchBeacon().catch(function(){})]})})},this.defaultClientBuilder=function(l,u,p){return new EG({fetchRequestHandler:new TG({fetchFunction:s.config.fetchFunction}),beaconRequestHandler:new IG,endpoint:l,region:u,credentials:p})},this.region=n,this.endpoint=e,this.eventCache=r,this.enabled=!0,this.buildClient=o.clientBuilder||this.defaultClientBuilder,this.config=o,this.startDispatchTimer(),this.rum={sendFetch:function(){return Promise.reject(new Error(Dx))},sendBeacon:function(){return Promise.reject(new Error(Dx))}}}return t.prototype.enable=function(){this.enabled=!0,this.startDispatchTimer()},t.prototype.disable=function(){this.stopDispatchTimer(),this.enabled=!1},t.prototype.setAwsCredentials=function(n){this.rum=this.buildClient(this.endpoint,this.region,n),"function"==typeof n&&n()},t.prototype.startDispatchTimer=function(){document.addEventListener("visibilitychange",this.dispatchBeaconFailSilent),document.addEventListener("pagehide",this.dispatchBeaconFailSilent),!(this.config.dispatchInterval<=0||this.dispatchTimerId)&&(this.dispatchTimerId=window.setInterval(this.dispatchFetchFailSilent,this.config.dispatchInterval))},t.prototype.stopDispatchTimer=function(){document.removeEventListener("visibilitychange",this.dispatchBeaconFailSilent),document.removeEventListener("pagehide",this.dispatchBeaconFailSilent),this.dispatchTimerId&&(window.clearInterval(this.dispatchTimerId),this.dispatchTimerId=void 0)},t.prototype.dispatch=function(n){return sp(this,void 0,void 0,function(){var e;return lp(this,function(r){return this.enabled&&this.eventCache.hasEvents()?(e={BatchId:Tn(),AppMonitorDetails:this.eventCache.getAppMonitorDetails(),UserDetails:this.eventCache.getUserDetails(),RumEvents:this.eventCache.getEventBatch()},[2,n(e)]):[2]})})},t}(),zc="navigation",n0="load",RG=function(){function t(){var n=this;this.eventListener=function(){0===performance.getEntriesByType(zc).length?n.performanceNavigationEventHandlerTimingLevel1():new PerformanceObserver(function(r){r.getEntries().forEach(function(o){o.entryType===zc&&n.performanceNavigationEventHandlerTimingLevel2(o)})}).observe({entryTypes:[zc]})},this.performanceNavigationEventHandlerTimingLevel1=function(){setTimeout(function(){var r=performance.timing,o=r.navigationStart;n.recordEvent&&n.recordEvent(Qv,{version:"1.0.0",initiatorType:"navigation",startTime:0,unloadEventStart:r.unloadEventStart>0?r.unloadEventStart-o:0,promptForUnload:r.unloadEventEnd-r.unloadEventStart,redirectStart:r.redirectStart>0?r.redirectStart-o:0,redirectTime:r.redirectEnd-r.redirectStart,fetchStart:r.fetchStart>0?r.fetchStart-o:0,domainLookupStart:r.domainLookupStart>0?r.domainLookupStart-o:0,dns:r.domainLookupEnd-r.domainLookupStart,connectStart:r.connectStart>0?r.connectStart-o:0,connect:r.connectEnd-r.connectStart,secureConnectionStart:r.secureConnectionStart>0?r.secureConnectionStart-o:0,tlsTime:r.secureConnectionStart>0?r.connectEnd-r.secureConnectionStart:0,requestStart:r.requestStart>0?r.requestStart-o:0,timeToFirstByte:r.responseStart-r.requestStart,responseStart:r.responseStart>0?r.responseStart-o:0,responseTime:r.responseStart>0?r.responseEnd-r.responseStart:0,domInteractive:r.domInteractive>0?r.domInteractive-o:0,domContentLoadedEventStart:r.domContentLoadedEventStart>0?r.domContentLoadedEventStart-o:0,domContentLoaded:r.domContentLoadedEventEnd-r.domContentLoadedEventStart,domComplete:r.domComplete>0?r.domComplete-o:0,domProcessingTime:r.loadEventStart-r.responseEnd,loadEventStart:r.loadEventStart>0?r.loadEventStart-o:0,loadEventTime:r.loadEventEnd-r.loadEventStart,duration:r.loadEventEnd-r.navigationStart,navigationTimingLevel:1})},0)},this.performanceNavigationEventHandlerTimingLevel2=function(e){n.recordEvent&&n.recordEvent(Qv,{version:"1.0.0",initiatorType:e.initiatorType,navigationType:e.type,startTime:e.startTime,unloadEventStart:e.unloadEventStart,promptForUnload:e.unloadEventEnd-e.unloadEventStart,redirectCount:e.redirectCount,redirectStart:e.redirectStart,redirectTime:e.redirectEnd-e.redirectStart,workerStart:e.workerStart,workerTime:e.workerStart>0?e.fetchStart-e.workerStart:0,fetchStart:e.fetchStart,domainLookupStart:e.domainLookupStart,dns:e.domainLookupEnd-e.domainLookupStart,nextHopProtocol:e.nextHopProtocol,connectStart:e.connectStart,connect:e.connectEnd-e.connectStart,secureConnectionStart:e.secureConnectionStart,tlsTime:e.secureConnectionStart>0?e.connectEnd-e.secureConnectionStart:0,requestStart:e.requestStart,timeToFirstByte:e.responseStart-e.requestStart,responseStart:e.responseStart,responseTime:e.responseStart>0?e.responseEnd-e.responseStart:0,domInteractive:e.domInteractive,domContentLoadedEventStart:e.domContentLoadedEventStart,domContentLoaded:e.domContentLoadedEventEnd-e.domContentLoadedEventStart,domComplete:e.domComplete,domProcessingTime:e.loadEventStart-e.responseEnd,loadEventStart:e.loadEventStart,loadEventTime:e.loadEventEnd-e.loadEventStart,duration:e.duration,headerSize:e.transferSize-e.encodedBodySize,transferSize:e.transferSize,compressionRatio:e.encodedBodySize>0?e.decodedBodySize/e.encodedBodySize:0,navigationTimingLevel:2})},this.pluginId="com.amazonaws.rum.navigation",this.enabled=!0}return t.prototype.load=function(n){if(this.recordEvent=n.record,this.enabled)if(this.hasTheWindowLoadEventFired()){var e=window.performance.getEntriesByType(zc)[0];this.performanceNavigationEventHandlerTimingLevel2(e)}else window.addEventListener(n0,this.eventListener)},t.prototype.enable=function(){this.enabled||(this.enabled=!0,window.addEventListener(n0,this.eventListener))},t.prototype.disable=function(){!this.enabled||(this.enabled=!1,this.eventListener&&window.removeEventListener(n0,this.eventListener))},t.prototype.hasTheWindowLoadEventFired=function(){if(window.performance&&window.performance.getEntriesByType(zc).length){var n=window.performance.getEntriesByType(zc)[0];return Boolean(n.loadEventEnd)}return!1},t.prototype.getPluginId=function(){return this.pluginId},t}(),tg=function(){return tg=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},tg.apply(this,arguments)},r0="resource",a0="load",OG={eventLimit:10,recordAllTypes:[zi.DOCUMENT,zi.SCRIPT],sampleTypes:[zi.STYLESHEET,zi.IMAGE,zi.FONT,zi.OTHER]},FG=function(){function t(n){var e=this;this.resourceEventListener=function(r){var o=[],s=[],l=0;new PerformanceObserver(function(f){f.getEntries().filter(function(v){return v.entryType===r0}).forEach(function(v){var D=Zv(v.name);e.config.recordAllTypes.includes(D)?o.push(v):e.config.sampleTypes.includes(D)&&s.push(v)})}).observe({entryTypes:[r0]});var p=performance.getEntriesByType(r0);for(void 0!==p&&p.length>0&&p.forEach(function(f){var v=Zv(f.name);e.config.recordAllTypes.includes(v)?o.push(f):e.config.sampleTypes.includes(v)&&s.push(f)}),Rx(o);o.length>0&&l<e.config.eventLimit;)e.recordResourceEvent(o.pop()),l++;for(Rx(s);s.length>0&&l<e.config.eventLimit;)e.recordResourceEvent(s.pop()),l++},this.recordResourceEvent=function(r){if(e.recordEvent&&Uc(r.name)!==Uc(e.context.config.endpoint)){var o={version:"1.0.0",initiatorType:r.initiatorType,duration:r.duration,fileType:Zv(r.name),transferSize:r.transferSize};e.context.config.recordResourceUrl&&(o.targetUrl=r.name),e.recordEvent("com.amazon.rum.performance_resource_event",o)}},this.pluginId="com.amazonaws.rum.resource",this.enabled=!0,this.config=tg(tg({},OG),n)}return t.prototype.load=function(n){this.context=n,this.recordEvent=n.record,window.addEventListener(a0,this.resourceEventListener)},t.prototype.enable=function(){this.enabled||(this.enabled=!0,window.addEventListener(a0,this.resourceEventListener))},t.prototype.disable=function(){!this.enabled||(this.enabled=!1,this.resourceEventListener&&window.removeEventListener(a0,this.resourceEventListener))},t.prototype.getPluginId=function(){return this.pluginId},t}(),ws=function(t,n){return{name:t,value:void 0===n?-1:n,delta:0,entries:[],id:"v1-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},rg=function(t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){if("first-input"===t&&!("PerformanceEventTiming"in self))return;var e=new PerformanceObserver(function(r){return r.getEntries().map(n)});return e.observe({type:t,buffered:!0}),e}}catch{}},ig=function(t,n){var e=function r(o){"pagehide"!==o.type&&"hidden"!==document.visibilityState||(t(o),n&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0)},cp=function(t){addEventListener("pageshow",function(n){n.persisted&&t(n)},!0)},du="function"==typeof WeakSet?new WeakSet:new Set,gl=function(t,n,e){var r;return function(){n.value>=0&&(e||du.has(n)||"hidden"===document.visibilityState)&&(n.delta=n.value-(r||0),(n.delta||void 0===r)&&(r=n.value,t(n)))}},dp=-1,Bx=function(){return"hidden"===document.visibilityState?0:1/0},Lx=function(){ig(function(t){dp=t.timeStamp},!0)},o0=function(){return dp<0&&(dp=Bx(),Lx(),cp(function(){setTimeout(function(){dp=Bx(),Lx()},0)})),{get timeStamp(){return dp}}},fp={passive:!0,capture:!0},DG=new Date,Ux=function(t,n){hl||(hl=n,up=t,jx=new Date,Gx(removeEventListener),zx())},zx=function(){if(up>=0&&up<jx-DG){var t={entryType:"first-input",name:hl.type,target:hl.target,cancelable:hl.cancelable,startTime:hl.timeStamp,processingStart:hl.timeStamp+up};ng.forEach(function(n){n(t)}),ng=[]}},jG=function(t){if(t.cancelable){var n=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;"pointerdown"==t.type?(e=n,r=t,o=function(){Ux(e,r),l()},s=function(){l()},l=function(){removeEventListener("pointerup",o,fp),removeEventListener("pointercancel",s,fp)},addEventListener("pointerup",o,fp),addEventListener("pointercancel",s,fp)):Ux(n,t)}var e,r,o,s,l},Gx=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach(function(n){return t(n,jG,fp)})},zG=function(){function t(){this.pluginId="com.amazonaws.rum.web-vitals"}return t.prototype.load=function(n){var e=this;this.recordEvent=n.record,function(t,n){var e,r=o0(),o=ws("LCP"),s=function(p){var f=p.startTime;f<r.timeStamp&&(o.value=f,o.entries.push(p)),e()},l=rg("largest-contentful-paint",s);if(l){e=gl(t,o,n);var u=function(){du.has(o)||(l.takeRecords().map(s),l.disconnect(),du.add(o),e())};["keydown","click"].forEach(function(p){addEventListener(p,u,{once:!0,capture:!0})}),ig(u,!0),cp(function(p){o=ws("LCP"),e=gl(t,o,n),requestAnimationFrame(function(){requestAnimationFrame(function(){o.value=performance.now()-p.timeStamp,du.add(o),e()})})})}}(function(r){return e.getWebVitalData(r,"com.amazon.rum.largest_contentful_paint_event")}),function(t,n){var e,r=o0(),o=ws("FID"),s=function(u){u.startTime<r.timeStamp&&(o.value=u.processingStart-u.startTime,o.entries.push(u),du.add(o),e())},l=rg("first-input",s);e=gl(t,o,n),l&&ig(function(){l.takeRecords().map(s),l.disconnect()},!0),l&&cp(function(){o=ws("FID"),e=gl(t,o,n),ng=[],up=-1,hl=null,Gx(addEventListener),ng.push(s),zx()})}(function(r){return e.getWebVitalData(r,"com.amazon.rum.first_input_delay_event")}),function(t,n){var e,r=ws("CLS",0),o=function(l){l.hadRecentInput||(r.value+=l.value,r.entries.push(l),e())},s=rg("layout-shift",o);s&&(e=gl(t,r,n),ig(function(){s.takeRecords().map(o),e()}),cp(function(){r=ws("CLS",0),e=gl(t,r,n)}))}(function(r){return e.getWebVitalData(r,"com.amazon.rum.cumulative_layout_shift_event")})},t.prototype.enable=function(){},t.prototype.disable=function(){},t.prototype.getPluginId=function(){return this.pluginId},t.prototype.configure=function(n){},t.prototype.getWebVitalData=function(n,e){this.recordEvent(e,{version:"1.0.0",value:n.value})},t}(),$x=function(t){if(crypto)return crypto.getRandomValues(t);if(msCrypto)return msCrypto.getRandomValues(t);throw new Error("No crypto library found.")},Hx=[],ag=0;ag<256;ag++)Hx[ag]=(ag+256).toString(16).substr(1);var t,s0="X-Amzn-Trace-Id",qx={logicalServiceName:"rum.aws.amazon.com",urlsToInclude:[/.*/],urlsToExclude:[/cognito\-identity\.([^\.]*\.)?amazonaws\.com/,/sts\.([^\.]*\.)?amazonaws\.com/],stackTraceLength:200,recordAllRequests:!1,addXRayTraceIdHeader:!1},Kx=function(t,n){var e=n.urlsToInclude.some(function(o){return o.test(t)}),r=n.urlsToExclude.some(function(o){return o.test(t)});return e&&!r},fu=function(){return Date.now()/1e3},Xx=function(t,n,e){var r={version:"1.0.0",name:t,origin:"AWS::RUM::AppMonitor",id:Qx(),start_time:n,trace_id:qG(),end_time:void 0,subsegments:[],in_progress:!1};return e&&(r.http=e),r},Wx=function(t,n,e){var r={id:Qx(),name:t,start_time:n,end_time:void 0,in_progress:!1,namespace:t.endsWith("amazonaws.com")?"aws":"remote"};return e&&(r.http=e),r},Jx=function(t){return(t.hostname?t.hostname:Uc(t.url?t.url:t.toString()))||window.location.hostname},l0=function(t,n){return"Root="+t+";Parent="+n+";Sampled=1"},qG=function(){return"1-"+KG()+"-"+XG()},Qx=function(){var t=new Uint8Array(8);return $x(t),Yx(t)},KG=function(){return Math.floor(Date.now()/1e3).toString(16)},XG=function(){var t=new Uint8Array(12);return $x(t),Yx(t)},Yx=function(t){for(var n="",e=0;e<t.length;e++)n+=Hx[t[e]];return n},WG=(t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(n,e)},function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),JG=function(t){function n(e){var r=t.call(this,e)||this;return r.name="XMLHttpRequest error",r}return WG(n,t),n}(Error),QG=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),og=function(){return og=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},og.apply(this,arguments)},ZG=function(t){function n(e){var r=t.call(this)||this;return r.addXRayTraceIdHeader=function(){return r.config.addXRayTraceIdHeader},r.isTracingEnabled=function(){return r.context.config.enableXRay},r.isSessionRecorded=function(){var o;return(null===(o=r.context.getSession())||void 0===o?void 0:o.record)||!1},r.handleXhrLoadEvent=function(o){var s=o.target,l=r.xhrMap.get(s);if(l){var u=fu();l.trace.end_time=u,l.trace.subsegments[0].end_time=u,l.trace.subsegments[0].http.response={status:s.status};var p=parseInt(s.getResponseHeader("Content-Length"),10);isNaN(p)||(l.trace.subsegments[0].http.response.content_length=parseInt(s.getResponseHeader("Content-Length"),10)),r.recordTraceEvent(l.trace),r.recordHttpEventWithResponse(l,s)}},r.handleXhrErrorEvent=function(o){var s=o.target,l=r.xhrMap.get(s),p=s.statusText?s.status.toString()+": "+s.statusText:s.status.toString();if(l){var f=fu();l.trace.end_time=f,l.trace.subsegments[0].end_time=f,l.trace.subsegments[0].error=!0,l.trace.subsegments[0].cause={exceptions:[{type:"XMLHttpRequest error",message:p}]},r.recordTraceEvent(l.trace),r.recordHttpEventWithError(l,new JG(p))}},r.handleXhrAbortEvent=function(o){var l=r.xhrMap.get(o.target),u="XMLHttpRequest abort";if(l){var p=fu();l.trace.end_time=p,l.trace.subsegments[0].end_time=p,l.trace.subsegments[0].error=!0,l.trace.subsegments[0].cause={exceptions:[{type:u}]},r.recordTraceEvent(l.trace),r.recordHttpEventWithError(l,u)}},r.handleXhrTimeoutEvent=function(o){var l=r.xhrMap.get(o.target),u="XMLHttpRequest timeout";if(l){var p=fu();l.trace.end_time=p,l.trace.subsegments[0].end_time=p,l.trace.subsegments[0].error=!0,l.trace.subsegments[0].cause={exceptions:[{type:u}]},r.recordTraceEvent(l.trace),r.recordHttpEventWithError(l,u)}},r.initializeTrace=function(o){var s=fu();o.trace=Xx(r.config.logicalServiceName,s),o.trace.subsegments.push(Wx(Jx(o.url),s,{request:{method:o.method,traced:!0}}))},r.sendWrapper=function(){var o=r;return function(s){return function(){var l=o.xhrMap.get(this);return l&&(this.addEventListener("load",o.handleXhrLoadEvent),this.addEventListener("error",o.handleXhrErrorEvent),this.addEventListener("abort",o.handleXhrAbortEvent),this.addEventListener("timeout",o.handleXhrTimeoutEvent),o.initializeTrace(l),o.isTracingEnabled()&&o.addXRayTraceIdHeader()&&o.isSessionRecorded()&&this.setRequestHeader(s0,l0(l.trace.trace_id,l.trace.subsegments[0].id))),s.apply(this,arguments)}}},r.openWrapper=function(){var o=r;return function(s){return function(l,u,p){return Kx(u,o.config)&&o.xhrMap.set(this,{url:u,method:l,async:p}),s.apply(this,arguments)}}},r.pluginId="com.amazonaws.rum.xhr",r.config=og(og({},qx),e),r.xhrMap=new Map,r}return QG(n,t),n.prototype.load=function(e){this.context=e,this.enable()},n.prototype.getPluginId=function(){return this.pluginId},n.prototype.patches=function(){return[{nodule:XMLHttpRequest.prototype,name:"send",wrapper:this.sendWrapper},{nodule:XMLHttpRequest.prototype,name:"open",wrapper:this.openWrapper}]},n.prototype.statusOk=function(e){return e>=200&&e<300},n.prototype.recordHttpEventWithResponse=function(e,r){(this.config.recordAllRequests||!this.statusOk(r.status))&&this.context.record(Wh,{version:"1.0.0",request:{method:e.method},response:{status:r.status,statusText:r.statusText}})},n.prototype.recordHttpEventWithError=function(e,r){var o={version:"1.0.0",request:{method:e.method}};o.error=Yv({type:"error",error:r},this.config.stackTraceLength),this.context.record(Wh,o)},n.prototype.recordTraceEvent=function(e){this.isTracingEnabled()&&this.isSessionRecorded()&&this.context.record(Ex,e)},n}(Zh),e$=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),sg=function(){return sg=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},sg.apply(this,arguments)},n$=function(t){function n(e){var r=t.call(this)||this;return r.isTracingEnabled=function(){return r.context.config.enableXRay},r.isSessionRecorded=function(){var o;return(null===(o=r.context.getSession())||void 0===o?void 0:o.record)||!1},r.beginTrace=function(o,s,l){var u=fu(),p=function(t,n){var e={request:{}};return e.request.method=(null==t?void 0:t.method)?t.method:"GET",e.request.traced=!0,e}(s),f=Xx(r.config.logicalServiceName,u),v=Wx(Jx(o),u,p);return f.subsegments.push(v),r.config.addXRayTraceIdHeader&&r.addXRayTraceIdHeader(o,s,l,f),f},r.addXRayTraceIdHeader=function(o,s,l,u){if(o.headers)return function(t,n,e){t.set(s0,l0(n,e))}(o.headers,u.trace_id,u.subsegments[0].id);s||[].push.call(l,s={}),function(t,n,e){t.headers||(t.headers={}),t.headers[s0]=l0(n,e)}(s,u.trace_id,u.subsegments[0].id)},r.endTrace=function(o,s,l){if(o){var u=fu();if(o.subsegments[0].end_time=u,o.end_time=u,s){o.subsegments[0].http.response={status:s.status};var p=parseInt(s.headers.get("Content-Length"),10);isNaN(p)||(o.subsegments[0].http.response.content_length=p)}l&&(o.subsegments[0].error=!0,l instanceof Object?r.appendErrorCauseFromObject(o.subsegments[0],l):Ix(l)&&r.appendErrorCauseFromPrimitive(o.subsegments[0],l.toString())),r.context.record(Ex,o)}},r.createHttpEvent=function(o,s){return{version:"1.0.0",request:{method:(null==s?void 0:s.method)?s.method:"GET"}}},r.recordHttpEventWithResponse=function(o,s){(r.config.recordAllRequests||!s.ok)&&(o.response={status:s.status,statusText:s.statusText},r.context.record(Wh,o))},r.recordHttpEventWithError=function(o,s){o.error=Yv({type:"error",error:s},r.config.stackTraceLength),r.context.record(Wh,o)},r.fetch=function(o,s,l,u,p){var v,f=r.createHttpEvent(u,p);return Kx("string"==typeof u?u:u.url,r.config)?(r.isTracingEnabled()&&r.isSessionRecorded()&&(v=r.beginTrace(u,p,l)),o.apply(s,l).then(function(J){return r.endTrace(v,J,void 0),r.recordHttpEventWithResponse(f,J),J}).catch(function(J){throw r.endTrace(v,void 0,J),r.recordHttpEventWithError(f,J),J})):o.apply(s,l)},r.fetchWrapper=function(){var o=r;return function(s){return function(l,u){return o.fetch(s,this,arguments,l,u)}}},r.pluginId="com.amazonaws.rum.fetch",r.config=sg(sg({},qx),e),r}return e$(n,t),n.prototype.load=function(e){this.context=e,this.enable()},n.prototype.getPluginId=function(){return this.pluginId},n.prototype.patches=function(){return[{nodule:window,name:"fetch",wrapper:this.fetchWrapper}]},n.prototype.appendErrorCauseFromPrimitive=function(e,r){e.cause={exceptions:[{type:r}]}},n.prototype.appendErrorCauseFromObject=function(e,r){e.cause={exceptions:[{type:r.name,message:r.message}]}},n}(Zh),r$=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),a$=function(t){function n(){var e=t.call(this)||this;return e.pushState=function(){var r=e;return function(o){return function(s,l,u){var p=o.apply(this,arguments);return r.recordPageView(),p}}},e.replaceState=function(){var r=e;return function(o){return function(s,l,u){var p=o.apply(this,arguments);return r.recordPageView(),p}}},e.popstateListener=function(r){e.recordPageView()},e.recordPageView=function(){e.context.recordPageView(e.createIdForCurrentPage())},e.pluginId="com.amazonaws.rum.page-view",e.enable(),e}return r$(n,t),n.prototype.load=function(e){this.context=e,this.addListener(),this.recordPageView()},n.prototype.getPluginId=function(){return this.pluginId},n.prototype.patches=function(){return[{nodule:History.prototype,name:"pushState",wrapper:this.pushState},{nodule:History.prototype,name:"replaceState",wrapper:this.replaceState}]},n.prototype.addListener=function(){window.addEventListener("popstate",this.popstateListener)},n.prototype.createIdForCurrentPage=function(){var e=window.location.pathname,r=window.location.hash;switch(this.context.config.pageIdFormat){case mu.PATH_AND_HASH:return e&&r?e+r:e||r||"";case mu.HASH:return r||"";default:return e||""}},n}(Zh),Gc=function(){return Gc=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},Gc.apply(this,arguments)},$c=function(t,n,e){if(e||2===arguments.length)for(var s,r=0,o=n.length;r<o;r++)(s||!(r in n))&&(s||(s=Array.prototype.slice.call(n,0,r)),s[r]=n[r]);return t.concat(s||Array.prototype.slice.call(n))},pu=(()=>(function(t){t.ERRORS="errors",t.PERFORMANCE="performance",t.INTERACTION="interaction",t.HTTP="http"}(pu||(pu={})),pu))(),mu=(()=>(function(t){t.PATH="PATH",t.HASH="HASH",t.PATH_AND_HASH="PATH_AND_HASH"}(mu||(mu={})),mu))();!function(){function t(n,e,r,o){void 0===o&&(o={}),void 0===r&&(r="us-west-2");var s=Gc(Gc({},{unique:!1,domain:window.location.hostname,path:"/",sameSite:"Strict",secure:!0}),o.cookieAttributes);delete o.cookieAttributes,this.config=Gc(Gc({fetchFunction:fetch},function(t){return{allowCookies:!1,batchLimit:100,cookieAttributes:t,disableAutoPageView:!1,dispatchInterval:5e3,enableRumClient:!0,enableXRay:!1,endpoint:"https://dataplane.rum.us-west-2.amazonaws.com",eventCacheSize:200,eventPluginsToLoad:[],pageIdFormat:mu.PATH,pagesToExclude:[],pagesToInclude:[],recordResourceUrl:!0,routeChangeComplete:100,routeChangeTimeout:1e4,sessionEventLimit:200,sessionLengthSeconds:1800,sessionSampleRate:1,telemetries:[],userIdRetentionDays:30}}(s)),o),this.config.endpoint=this.getDataPlaneEndpoint(r,o),this.eventCache=this.initEventCache(n,e),this.dispatchManager=this.initDispatch(r),this.pluginManager=this.initPluginManager(n,e),this.config.enableRumClient?this.enable():this.disable()}t.prototype.setAwsCredentials=function(n){this.dispatchManager.setAwsCredentials(n)},t.prototype.addPlugin=function(n){this.pluginManager.addPlugin(n)},t.prototype.dispatch=function(){this.dispatchManager.dispatchFetch()},t.prototype.dispatchBeacon=function(){this.dispatchManager.dispatchBeacon()},t.prototype.enable=function(){this.eventCache.enable(),this.pluginManager.enable(),this.dispatchManager.enable()},t.prototype.disable=function(){this.dispatchManager.disable(),this.pluginManager.disable(),this.eventCache.disable()},t.prototype.allowCookies=function(n){this.config.allowCookies=n},t.prototype.recordPageView=function(n){this.eventCache.recordPageView(n)},t.prototype.recordError=function(n){this.pluginManager.record(Px,n)},t.prototype.registerDomEvents=function(n){this.pluginManager.updatePlugin(Ax,n)},t.prototype.initEventCache=function(n,e){return new _G({id:n,version:e},this.config)},t.prototype.initDispatch=function(n){var e=new kG(n,this.config.endpoint,this.eventCache,this.config);return this.config.identityPoolId&&this.config.guestRoleArn?e.setAwsCredentials(new q8(this.config).ChainAnonymousCredentialsProvider):this.config.identityPoolId&&e.setAwsCredentials(new K8(this.config).ChainAnonymousCredentialsProvider),e},t.prototype.initPluginManager=function(n,e){var r=this.constructBuiltinPlugins(),o=$c($c([],r,!0),this.config.eventPluginsToLoad,!0),l=new X8({applicationId:n,applicationVersion:e,config:this.config,record:this.eventCache.recordEvent,recordPageView:this.eventCache.recordPageView,getSession:this.eventCache.getSession});return this.config.disableAutoPageView||l.addPlugin(new a$),o.forEach(function(u){l.addPlugin(u)}),l},t.prototype.constructBuiltinPlugins=function(){var n=[],e=this.telemetryFunctor();return this.config.telemetries.forEach(function(r){"string"==typeof r&&e[r.toLowerCase()]?n=$c($c([],n,!0),e[r.toLowerCase()]({}),!0):Array.isArray(r)&&e[r[0].toLowerCase()]&&(n=$c($c([],n,!0),e[r[0].toLowerCase()](r[1]),!0))}),n},t.prototype.getDataPlaneEndpoint=function(n,e){return e.endpoint?e.endpoint:"https://dataplane.rum.${REGION}.amazonaws.com".replace("${REGION}",n)},t.prototype.telemetryFunctor=function(){var n;return(n={})[pu.ERRORS]=function(e){return[new uG(e)]},n[pu.PERFORMANCE]=function(e){return[new RG,new FG(e),new zG]},n[pu.INTERACTION]=function(e){return[new rG(e)]},n[pu.HTTP]=function(e){return[new ZG(e),new n$(e)]},n}}();class c${constructor(n){n&&(this.appId=n.appId,this.guestRoleArn=n.guestRoleArn,this.region=n.region,this.identityPoolId=n.identityPoolId)}}const d$=new a.InjectionToken("RumSettings"),Zx=[["63a4219d-254e-11ec-ab14-c613312e594f","/dev-test-virtual-list-flex-v1"],["bb66aa62-8635-4015-86c9-ba4f208b0856","/native_forms_rebuild_v1"],["a04c3022-cc94-4db0-826b-258efde4abab","/just-a-lonely-snippet-v1"],["3c3f243f-0ccc-4afc-869d-c37c361cd8fc","/workflow-designer-v2"],["c720b59b-a26f-4919-bab1-219c358b5b68","/tractorbeam-test-v3"]],f$=[{contexts:[],cssFile:"",derivativeId:"",displayType:"page",entityPermissions:{deleteUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"],readUserIds:["*"],writeUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"]},gridItems:[],id:"1e902d90-bf1f-4c70-ac8a-60872d846350",layoutSetting:{settings:[]},layoutType:"gridless",name:"test",panels:[{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"snippet",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Change with verti-go",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Change with verti-go"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]}],settings:[],stylePlugin:""}],path:"/test",persistence:{dataduct:{plugin:"",settings:[]}},rowSettings:[{settings:[]}],site:"ipe",title:"Test",userId:"e36b42fe-b09c-4514-a519-e178bb52957e"},{contexts:[],cssFile:"",derivativeId:"",displayType:"page",entityPermissions:{deleteUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"],readUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"],writeUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0},{cols:50,rows:1,weight:1,x:1,y:0},{cols:33,rows:1,weight:2,x:2,y:0},{cols:25,rows:1,weight:3,x:3,y:0}],id:"3c3f243f-0ccc-4afc-869d-c37c361cd8fc",layoutSetting:{settings:[]},layoutType:"split",name:"workflow_designer_v2",panels:[{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"outside_app",label:"Download",linkedPageId:"",locked:!1,name:"download",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"module",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"module"},{attributes:[],computedValue:"https://mfe1.druidcloud.dev/remoteEntry.js",displayName:"remoteEntry",floatValue:0,intValue:0,name:"remoteEntry",type:1,value:"https://mfe1.druidcloud.dev/remoteEntry.js"},{attributes:[],computedValue:"DownloadComponent",displayName:"componentName",floatValue:0,intValue:0,name:"componentName",type:1,value:"DownloadComponent"},{attributes:[],computedValue:"./Download",displayName:"exposedModule",floatValue:0,intValue:0,name:"exposedModule",type:1,value:"./Download"},{attributes:[],computedValue:"undefined",displayName:"remoteName",floatValue:0,intValue:0,name:"remoteName",type:0,value:"undefined"}]}],settings:[],stylePlugin:""},{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"outside_app",label:"Upload",linkedPageId:"",locked:!1,name:"upload",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"module",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"module"},{attributes:[],computedValue:"https://mfe1.druidcloud.dev/remoteEntry.js",displayName:"remoteEntry",floatValue:0,intValue:0,name:"remoteEntry",type:1,value:"https://mfe1.druidcloud.dev/remoteEntry.js"},{attributes:[],computedValue:"UploadComponent",displayName:"componentName",floatValue:0,intValue:0,name:"componentName",type:1,value:"UploadComponent"},{attributes:[],computedValue:"./Upload",displayName:"exposedModule",floatValue:0,intValue:0,name:"exposedModule",type:1,value:"./Upload"},{attributes:[],computedValue:"undefined",displayName:"remoteName",floatValue:0,intValue:0,name:"remoteName",type:0,value:"undefined"}]}],settings:[],stylePlugin:""},{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"outside_app",label:"Analyze",linkedPageId:"",locked:!1,name:"analyze",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"module",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"module"},{attributes:[],computedValue:"https://mfe2.druidcloud.dev/remoteEntry.js",displayName:"remoteEntry",floatValue:0,intValue:0,name:"remoteEntry",type:1,value:"https://mfe2.druidcloud.dev/remoteEntry.js"},{attributes:[],computedValue:"AnalyzeComponent",displayName:"componentName",floatValue:0,intValue:0,name:"componentName",type:1,value:"AnalyzeComponent"},{attributes:[],computedValue:"./Analyze",displayName:"exposedModule",floatValue:0,intValue:0,name:"exposedModule",type:1,value:"./Analyze"},{attributes:[],computedValue:"undefined",displayName:"remoteName",floatValue:0,intValue:0,name:"remoteName",type:0,value:"undefined"}]}],settings:[],stylePlugin:""},{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"outside_app",label:"Enrich",linkedPageId:"",locked:!1,name:"enrich",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"module",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"module"},{attributes:[],computedValue:"https://mfe2.druidcloud.dev/remoteEntry.js",displayName:"remoteEntry",floatValue:0,intValue:0,name:"remoteEntry",type:1,value:"https://mfe2.druidcloud.dev/remoteEntry.js"},{attributes:[],computedValue:"EnrichComponent",displayName:"componentName",floatValue:0,intValue:0,name:"componentName",type:1,value:"EnrichComponent"},{attributes:[],computedValue:"./Enrich",displayName:"exposedModule",floatValue:0,intValue:0,name:"exposedModule",type:1,value:"./Enrich"},{attributes:[],computedValue:"undefined",displayName:"remoteName",floatValue:0,intValue:0,name:"remoteName",type:0,value:"undefined"}]}],settings:[],stylePlugin:""},{columnSetting:{settings:[]},label:"",name:"",panes:[],settings:[],stylePlugin:""},{columnSetting:{settings:[]},label:"",name:"",panes:[],settings:[],stylePlugin:""}],path:"/workflow-designer-v2",persistence:{dataduct:{plugin:"",settings:[]}},rowSettings:[{settings:[]}],site:"ipe",title:"Workflow Designer v2",userId:"e36b42fe-b09c-4514-a519-e178bb52957e"},{contexts:[{adaptor:"rest",data:null,datasource:null,name:"character",plugin:"rest",rest:{params:[{flags:[{enabled:!1,name:"page"},{enabled:!1,name:"limit"},{enabled:!1,name:"offset"},{enabled:!1,name:"searchString"}],mapping:{context:"",testValue:"1017100",type:"route",value:"arg1"}}],url:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06"},snippet:null,tokens:null}],cssFile:"",derivativeId:"",displayType:"page",entityPermissions:{deleteUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"],readUserIds:["*"],writeUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0},{cols:50,rows:1,weight:1,x:1,y:0},{cols:33,rows:1,weight:2,x:2,y:0},{cols:25,rows:1,weight:3,x:3,y:0}],id:"63a4219d-254e-11ec-ab14-c613312e594f",layoutSetting:{settings:[]},layoutType:"split",name:"dev_test_virtual_list_flex_v1",panels:[{columnSetting:{settings:[{attributes:[],computedValue:"100%",displayName:"Height",floatValue:0,intValue:0,name:"height",type:1,value:"100%"}]},label:"",name:"",panes:[{contentPlugin:"panel",label:"filter Form",linkedPageId:"",locked:!1,name:"filter_form",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",floatValue:0,intValue:0,name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",floatValue:0,intValue:0,name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",floatValue:0,intValue:0,name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",floatValue:0,intValue:0,name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",floatValue:0,intValue:0,name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"input",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"input"},{attributes:[],computedValue:"nameStartsWith",displayName:"key",floatValue:0,intValue:0,name:"key",type:1,value:"nameStartsWith"},{attributes:[{attributes:[],computedValue:"Name Starts With",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"Name Starts With"}],computedValue:"",displayName:"options",floatValue:0,intValue:0,name:"options",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:""},{attributes:[],computedValue:"undefined",displayName:"method",floatValue:0,intValue:0,name:"method",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"rest",floatValue:0,intValue:0,name:"rest",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"nameStartsWith",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"nameStartsWith"},{attributes:[],computedValue:"nameStartsWith",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"nameStartsWith"},{attributes:[],computedValue:"formly_field",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"formly_field"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"},{attributes:[],computedValue:"rest",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06"},{attributes:[],computedValue:"undefined",displayName:"method",floatValue:0,intValue:0,name:"method",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"1017100",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"1017100"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"rest",floatValue:0,intValue:0,name:"rest",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"filter_form",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"filter_form"},{attributes:[],computedValue:"filter form",displayName:"title",floatValue:0,intValue:0,name:"title",type:1,value:"filter form"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]}],settings:[],stylePlugin:""},{columnSetting:{settings:[{attributes:[],computedValue:"100%",displayName:"Height",floatValue:0,intValue:0,name:"height",type:1,value:"100%"}]},label:"",name:"",panes:[{contentPlugin:"datasource",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/characters?apikey=12097554cc585301fc38efd51b21fb06&orderBy=name&limit=:limit&offset=:offset&nameStartsWith=:nameStartsWith",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/characters?apikey=12097554cc585301fc38efd51b21fb06&orderBy=name&limit=:limit&offset=:offset&nameStartsWith=:nameStartsWith"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"standardpagination",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"standardpagination"},{attributes:[],computedValue:"20",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"20"},{attributes:[],computedValue:"20",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"20"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"true",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"true"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"standardpagination",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"standardpagination"},{attributes:[],computedValue:"0",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"0"},{attributes:[],computedValue:"0",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"0"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"true",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"true"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"form",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"form"},{attributes:[],computedValue:"filter_form.nameStartsWith",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"filter_form.nameStartsWith"},{attributes:[],computedValue:"john",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"john"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[{attributes:[],computedValue:"x",displayName:"content",floatValue:0,intValue:0,name:"content",type:1,value:"x"},{attributes:[],computedValue:"application/json",displayName:"contentType",floatValue:0,intValue:0,name:"contentType",type:1,value:"application/json"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"body",floatValue:0,intValue:0,name:"body",type:2,value:""},{attributes:[],computedValue:"get",displayName:"method",floatValue:0,intValue:0,name:"method",type:1,value:"get"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"character_tpl",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"character_tpl"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"select_characters",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"select_characters"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}]},{contentPlugin:"datasource",label:"select_characters",linkedPageId:"",locked:!1,name:"select_characters",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"select",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$..data.results.*",displayName:"query",floatValue:0,intValue:0,name:"query",type:1,value:"$..data.results.*"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}]},{contentPlugin:"snippet",label:"character_tpl",linkedPageId:"",locked:!1,name:"character_tpl",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:'<div style="height: 75px;">\n<classifieds-ui-page-router-link href="[_page.path]/character/[.id]" text="[.name]"></classifieds-ui-page-router-link>\n</div>\n',displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:'<div style="height: 75px;">\n<classifieds-ui-page-router-link href="[_page.path]/character/[.id]" text="[.name]"></classifieds-ui-page-router-link>\n</div>\n'},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]}],settings:[],stylePlugin:"virtuallist"},{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"panel",label:"276c66e1-286f-4a8f-9953-938f42f3fb36",linkedPageId:"",locked:!1,name:"276c66e1-286f-4a8f-9953-938f42f3fb36",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",floatValue:0,intValue:0,name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",floatValue:0,intValue:0,name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",floatValue:0,intValue:0,name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",floatValue:0,intValue:0,name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",floatValue:0,intValue:0,name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"# [character.data.results.0.name]\n[character.data.results.0.id]",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"# [character.data.results.0.name]\n[character.data.results.0.id]"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:'<img src="[character.data.results.0.thumbnail.path].[character.data.results.0.thumbnail.extension]" style="max-width: 100%;">',displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:'<img src="[character.data.results.0.thumbnail.path].[character.data.results.0.thumbnail.extension]" style="max-width: 100%;">'},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"[character.data.results.0.description]",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"[character.data.results.0.description]"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"},{attributes:[],computedValue:"rest",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06"},{attributes:[],computedValue:"undefined",displayName:"method",floatValue:0,intValue:0,name:"method",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"1017100",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"1017100"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"rest",floatValue:0,intValue:0,name:"rest",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"page",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",floatValue:0,intValue:0,name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]}],settings:[],stylePlugin:""},{columnSetting:{settings:[{attributes:[],computedValue:"",displayName:"Height",floatValue:0,intValue:0,name:"height",type:1,value:""}]},label:"right_panel",name:"right_panel",panes:[{contentPlugin:"panel",label:"c40a5eba-1081-45f7-b02e-7102980d7a2e",linkedPageId:"",locked:!1,name:"c40a5eba-1081-45f7-b02e-7102980d7a2e",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Comics",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Comics"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"tab_title",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"tab_title"},{attributes:[],computedValue:"tab title",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"tab title"},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"context",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"context"},{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"comic_tpl",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"comic_tpl"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"select_comics",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"select_comics"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"character_ref",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character_ref"},{attributes:[],computedValue:"character_ref",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"character_ref"},{attributes:[],computedValue:"datasource",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"datasource"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"select",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$..data.results.0.comics.items[0,1,2,3,4]",displayName:"query",floatValue:0,intValue:0,name:"query",type:1,value:"$..data.results.0.comics.items[0,1,2,3,4]"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"select_comics",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"select_comics"},{attributes:[],computedValue:"select_comics",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"select_comics"},{attributes:[],computedValue:"datasource",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"datasource"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"[.name]",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"[.name]"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"comic_tpl",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"comic_tpl"},{attributes:[],computedValue:"comic_tpl",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"comic_tpl"},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"comics",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"comics"},{attributes:[],computedValue:"comics",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"comics"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"100%",displayName:"Height",floatValue:0,intValue:0,name:"height",type:1,value:"100%"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"},{attributes:[],computedValue:"rest",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06"},{attributes:[],computedValue:"undefined",displayName:"method",floatValue:0,intValue:0,name:"method",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"1017100",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"1017100"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"rest",floatValue:0,intValue:0,name:"rest",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"Flex Grow",floatValue:0,intValue:0,name:"flexGrow",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Shrink",floatValue:0,intValue:0,name:"flexShrink",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Basis",floatValue:0,intValue:0,name:"flexBasis",type:1,value:""},{attributes:[],computedValue:"100%",displayName:"Height",floatValue:0,intValue:0,name:"height",type:1,value:"100%"},{attributes:[],computedValue:"",displayName:"Direction",floatValue:0,intValue:0,name:"direction",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"gridless",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"gridless"},{attributes:[],computedValue:"page",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",floatValue:0,intValue:0,name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]},{contentPlugin:"panel",label:"1e704bb6-d886-4196-931b-70327374ef8d",linkedPageId:"",locked:!1,name:"1e704bb6-d886-4196-931b-70327374ef8d",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Series",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Series"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"tab_title",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"tab_title"},{attributes:[],computedValue:"tab_title",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"tab_title"},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"context",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"context"},{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"series_tpl",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"series_tpl"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"select_series",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"select_series"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"character_ref",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character_ref"},{attributes:[],computedValue:"character_ref",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"character_ref"},{attributes:[],computedValue:"datasource",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"datasource"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"select",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$..data.results.0.series.items.*",displayName:"query",floatValue:0,intValue:0,name:"query",type:1,value:"$..data.results.0.series.items.*"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"select_series",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"select_series"},{attributes:[],computedValue:"select_series",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"select_series"},{attributes:[],computedValue:"datasource",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"datasource"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"[.name]",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"[.name]"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"series_tpl",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"series_tpl"},{attributes:[],computedValue:"series_tpl",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"series_tpl"},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"},{attributes:[],computedValue:"rest",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06"},{attributes:[],computedValue:"undefined",displayName:"method",floatValue:0,intValue:0,name:"method",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"1017100",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"1017100"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"rest",floatValue:0,intValue:0,name:"rest",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"gridless",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"gridless"},{attributes:[],computedValue:"page",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",floatValue:0,intValue:0,name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]},{contentPlugin:"panel",label:"1a3ad36e-b741-46d8-9d4b-500276778060",linkedPageId:"",locked:!1,name:"1a3ad36e-b741-46d8-9d4b-500276778060",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Stories",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Stories"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Stories list",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Stories list"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"},{attributes:[],computedValue:"rest",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06"},{attributes:[],computedValue:"undefined",displayName:"method",floatValue:0,intValue:0,name:"method",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"1017100",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"1017100"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"rest",floatValue:0,intValue:0,name:"rest",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"gridless",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"gridless"},{attributes:[],computedValue:"page",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",floatValue:0,intValue:0,name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]},{contentPlugin:"panel",label:"58458438-44ef-4e53-a08f-e91bc0cede2d",linkedPageId:"",locked:!1,name:"58458438-44ef-4e53-a08f-e91bc0cede2d",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Events",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Events"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Events list",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Events list"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"character",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"character"},{attributes:[],computedValue:"rest",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"rest"},{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/characters/:characterId?apikey=12097554cc585301fc38efd51b21fb06"},{attributes:[],computedValue:"undefined",displayName:"method",floatValue:0,intValue:0,name:"method",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg1",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg1"},{attributes:[],computedValue:"1017100",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"1017100"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"rest",floatValue:0,intValue:0,name:"rest",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"gridless",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"gridless"},{attributes:[],computedValue:"page",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",floatValue:0,intValue:0,name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]}],settings:[{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"panelPage",floatValue:0,intValue:0,name:"panelPage",type:2,value:""},{attributes:[],computedValue:"",displayName:"panel",floatValue:0,intValue:0,name:"panel",type:2,value:""},{attributes:[],computedValue:"0",displayName:"pane",floatValue:0,intValue:0,name:"pane",type:0,value:"0"},{attributes:[{attributes:[],computedValue:"0",displayName:"panelPage",floatValue:0,intValue:0,name:"panelPage",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"panel",floatValue:0,intValue:0,name:"panel",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"pane",floatValue:0,intValue:0,name:"pane",type:0,value:"0"},{attributes:[],computedValue:"",displayName:"nested",floatValue:0,intValue:0,name:"nested",type:2,value:""}],computedValue:"",displayName:"nested",floatValue:0,intValue:0,name:"nested",type:2,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"labels",floatValue:0,intValue:0,name:"labels",type:4,value:""}],stylePlugin:"tabs"}],path:"/dev-test-virtual-list-flex-v1",persistence:{dataduct:{plugin:"",settings:[]}},rowSettings:[{settings:[{attributes:[],computedValue:"",displayName:"Flex Grow",floatValue:0,intValue:0,name:"flexGrow",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Shrink",floatValue:0,intValue:0,name:"flexShrink",type:1,value:""},{attributes:[],computedValue:"",displayName:"Flex Basis",floatValue:0,intValue:0,name:"flexBasis",type:1,value:""},{attributes:[],computedValue:"100%",displayName:"Height",floatValue:0,intValue:0,name:"height",type:1,value:"100%"},{attributes:[],computedValue:"",displayName:"Direction",floatValue:0,intValue:0,name:"direction",type:1,value:""}]}],site:"ipe",title:"Dev Test Virtual List Flex v1",userId:"e36b42fe-b09c-4514-a519-e178bb52957e"},{contexts:[],cssFile:"",derivativeId:"",displayType:"page",entityPermissions:{deleteUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"],readUserIds:["*"],writeUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"]},gridItems:[],id:"6d6ebe62-2ca6-49a3-9cec-35aec40dd812",layoutSetting:{settings:[]},layoutType:"gridless",name:"test-vertigo-repo-v1",panels:[{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"snippet",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:null,value:""},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Vertigo repo changes v2 success",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Vertigo repo changes v2 success"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]}],settings:[],stylePlugin:""}],path:"/test-vertigo-repo-v2",persistence:{dataduct:{plugin:"",settings:[]}},rowSettings:[{settings:[]}],site:"ipe",title:"test-vertigo-repo-v2",userId:"e36b42fe-b09c-4514-a519-e178bb52957e"},{contexts:[],cssFile:"",derivativeId:"",displayType:"page",entityPermissions:{deleteUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"],readUserIds:["*"],writeUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"]},gridItems:[],id:"6d6ebe62-2ca6-49a3-9cec-35aec40dd836",layoutSetting:{settings:[]},layoutType:"gridless",name:"test-vertigo-repo-v1",panels:[{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"snippet",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:null,value:""},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Vertigo repo changes v1 success",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Vertigo repo changes v1 success"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]}],settings:[],stylePlugin:""}],path:"/test-vertigo-repo-v1",persistence:{dataduct:{plugin:"",settings:[]}},rowSettings:[{settings:[]}],site:"ipe",title:"test-vertigo-repo-v1",userId:"e36b42fe-b09c-4514-a519-e178bb52957e"},{contexts:[],cssFile:"",derivativeId:"",displayType:"page",entityPermissions:{deleteUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"],readUserIds:["*"],writeUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"]},gridItems:[],id:"6d6ebe62-2ca6-49a3-9cec-35aec40dd891",layoutSetting:{settings:[]},layoutType:"gridless",name:"test-vertigo-repo-v2",panels:[{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"snippet",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:null,value:""},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Vertigo repo changes v2 success",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Vertigo repo changes v2 success"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]}],settings:[],stylePlugin:""}],path:"/test-vertigo-repo-v3",persistence:{dataduct:{plugin:"",settings:[]}},rowSettings:[{settings:[]}],site:"ipe",title:"test-vertigo-repo-v2",userId:"e36b42fe-b09c-4514-a519-e178bb52957e"},{contexts:[],cssFile:"https://d12b7acm1cy55s.cloudfront.net/panelpage__a04c3022-cc94-4db0-826b-258efde4abab.json",derivativeId:"",displayType:"page",entityPermissions:{deleteUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"],readUserIds:["*"],writeUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"a04c3022-cc94-4db0-826b-258efde4abab",layoutSetting:{settings:[]},layoutType:"split",name:"just_a_lonely_snippet_v1",panels:[{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"snippet",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"Just a lonely markdown snippet :(",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Just a lonely markdown snippet :("},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]},{contentPlugin:"snippet",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"dsfs f ewf we. ew rw",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"dsfs f ewf we. ew rw"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]},{contentPlugin:"snippet",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"text/markdown",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/markdown"},{attributes:[],computedValue:"aded my own content to your page muh haha!",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"aded my own content to your page muh haha!"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]}],settings:[],stylePlugin:""}],path:"/just-a-lonely-snippet-v1",persistence:{dataduct:{plugin:"",settings:[]}},rowSettings:[{settings:[]}],site:"ipe",title:"just-a-lonely-snippet-v1",userId:"e36b42fe-b09c-4514-a519-e178bb52957e"},{contexts:[{adaptor:"data",data:{value:[{},{},{}]},datasource:null,name:"terms",plugin:"state",rest:null,snippet:null,tokens:null},{adaptor:"datasource",data:null,datasource:{params:[],plugin:"data",renderer:{bindings:[],data:{content:"",contentType:""},query:"",trackBy:"",type:"pane"},settings:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",floatValue:0,intValue:0,name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}]},name:"characters",plugin:"datasource",rest:null,snippet:null,tokens:null},{adaptor:"datasource",data:null,datasource:{params:[],plugin:"crud_adaptor",renderer:{bindings:[],data:{content:"",contentType:""},query:"",trackBy:"",type:"pane"},settings:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",floatValue:0,intValue:0,name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",floatValue:0,intValue:0,name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",floatValue:0,intValue:0,name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-dev",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"classifieds-ui-dev"},{attributes:[],computedValue:"classifieds-ui-dev",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"classifieds-ui-dev"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"options",floatValue:0,intValue:0,name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}]},name:"ad",plugin:"datasource",rest:null,snippet:null,tokens:null}],cssFile:"",derivativeId:"",displayType:"page",entityPermissions:{deleteUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"],readUserIds:["*"],writeUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"bb66aa62-8635-4015-86c9-ba4f208b0856",layoutSetting:{settings:[]},layoutType:"split",name:"native_forms_rebuild_v1",panels:[{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"datasource",label:"characters_context_ref",linkedPageId:"",locked:!1,name:"characters_context_ref",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"context",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"context"},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"characters"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"select_characters",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"select_characters"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}]},{contentPlugin:"datasource",label:"creators",linkedPageId:"",locked:!1,name:"creators",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"rest",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"rest"},{attributes:[{attributes:[],computedValue:"https://gateway.marvel.com:443/v1/public/creators?apikey=12097554cc585301fc38efd51b21fb06&nameStartsWith=:nameStartsWith",displayName:"url",floatValue:0,intValue:0,name:"url",type:1,value:"https://gateway.marvel.com:443/v1/public/creators?apikey=12097554cc585301fc38efd51b21fb06&nameStartsWith=:nameStartsWith"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"inputparam",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"inputparam"},{attributes:[],computedValue:"term",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"term"},{attributes:[],computedValue:"john",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"john"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"content",floatValue:0,intValue:0,name:"content",type:1,value:""},{attributes:[],computedValue:"application/json",displayName:"contentType",floatValue:0,intValue:0,name:"contentType",type:1,value:"application/json"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"body",floatValue:0,intValue:0,name:"body",type:2,value:""},{attributes:[],computedValue:"get",displayName:"method",floatValue:0,intValue:0,name:"method",type:1,value:"get"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"select_creators",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"select_creators"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}]},{contentPlugin:"datasource",label:"select_creators",linkedPageId:"",locked:!1,name:"select_creators",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"select",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"select"},{attributes:[{attributes:[],computedValue:"$..data.results.*",displayName:"query",floatValue:0,intValue:0,name:"query",type:1,value:"$..data.results.*"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}]},{contentPlugin:"form_input",label:"text",linkedPageId:"",locked:!1,name:"text",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.text]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.text]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_select",label:"select",linkedPageId:"",locked:!1,name:"select",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.select]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.select]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"characters_context_ref",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"characters_context_ref"}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"query",floatValue:0,intValue:0,name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:1,value:""},{attributes:[],computedValue:"[.id]",displayName:"idMapping",floatValue:0,intValue:0,name:"idMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"[.name]",displayName:"labelMapping",floatValue:0,intValue:0,name:"labelMapping",type:1,value:"[.name]"},{attributes:[],computedValue:"[.id]",displayName:"valueMapping",floatValue:0,intValue:0,name:"valueMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"false",displayName:"multiple",floatValue:0,intValue:0,name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",floatValue:0,intValue:0,name:"limit",type:0,value:"0"}],computedValue:"",displayName:"datasourceOptions",floatValue:0,intValue:0,name:"datasourceOptions",type:2,value:""}]},{contentPlugin:"form_textarea",label:"textarea",linkedPageId:"",locked:!1,name:"textarea",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.textarea]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.textarea]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_radiogroup",label:"radiogroup",linkedPageId:"",locked:!1,name:"radiogroup",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.radiogroup]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.radiogroup]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"characters_context_ref",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"characters_context_ref"}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"query",floatValue:0,intValue:0,name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:1,value:""},{attributes:[],computedValue:"[.id]",displayName:"idMapping",floatValue:0,intValue:0,name:"idMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"[.name]",displayName:"labelMapping",floatValue:0,intValue:0,name:"labelMapping",type:1,value:"[.name]"},{attributes:[],computedValue:"[.id]",displayName:"valueMapping",floatValue:0,intValue:0,name:"valueMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"false",displayName:"multiple",floatValue:0,intValue:0,name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",floatValue:0,intValue:0,name:"limit",type:0,value:"0"}],computedValue:"",displayName:"datasourceOptions",floatValue:0,intValue:0,name:"datasourceOptions",type:2,value:""}]},{contentPlugin:"form_slider",label:"slider",linkedPageId:"",locked:!1,name:"slider",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.slider]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.slider]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_toggle",label:"toggle",linkedPageId:"",locked:!1,name:"toggle",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.toggle]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.toggle]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_checkbox",label:"checkbox",linkedPageId:"",locked:!1,name:"checkbox",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.checkbox]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.checkbox]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_datepicker",label:"datepicker",linkedPageId:"",locked:!1,name:"datepicker",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.datepicker]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.datepicker]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""}]},{contentPlugin:"form_autocomplete",label:"autocomplete",linkedPageId:"",locked:!1,name:"autocomplete",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.autocomplete]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.autocomplete]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"creators",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:"creators"}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"query",floatValue:0,intValue:0,name:"query",type:1,value:""},{attributes:[],computedValue:"",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:1,value:""},{attributes:[],computedValue:"[.id]",displayName:"idMapping",floatValue:0,intValue:0,name:"idMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"[.fullName]",displayName:"labelMapping",floatValue:0,intValue:0,name:"labelMapping",type:1,value:"[.fullName]"},{attributes:[],computedValue:"[.id]",displayName:"valueMapping",floatValue:0,intValue:0,name:"valueMapping",type:1,value:"[.id]"},{attributes:[],computedValue:"false",displayName:"multiple",floatValue:0,intValue:0,name:"multiple",type:5,value:"false"},{attributes:[],computedValue:"0",displayName:"limit",floatValue:0,intValue:0,name:"limit",type:0,value:"0"}],computedValue:"",displayName:"datasourceOptions",floatValue:0,intValue:0,name:"datasourceOptions",type:2,value:""}]},{contentPlugin:"panel",label:"nested",linkedPageId:"",locked:!1,name:"nested",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",floatValue:0,intValue:0,name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",floatValue:0,intValue:0,name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",floatValue:0,intValue:0,name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",floatValue:0,intValue:0,name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",floatValue:0,intValue:0,name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"[ad.results.0.nested.nestedValue]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.nested.nestedValue]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"nestedValue",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"nestedValue"},{attributes:[],computedValue:"nestedValue",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"nestedValue"},{attributes:[],computedValue:"form_input",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"form_input"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"terms",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"terms"},{attributes:[],computedValue:"data",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"state",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"state"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"value",floatValue:0,intValue:0,name:"value",type:4,value:""}],computedValue:"",displayName:"data",floatValue:0,intValue:0,name:"data",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"characters"},{attributes:[],computedValue:"datasource",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",floatValue:0,intValue:0,name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[],computedValue:"data",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",floatValue:0,intValue:0,name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",floatValue:0,intValue:0,name:"datasource",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"ad"},{attributes:[],computedValue:"datasource",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",floatValue:0,intValue:0,name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",floatValue:0,intValue:0,name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",floatValue:0,intValue:0,name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-dev",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"classifieds-ui-dev"},{attributes:[],computedValue:"classifieds-ui-dev",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"classifieds-ui-dev"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"options",floatValue:0,intValue:0,name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[],computedValue:"crud_adaptor",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"crud_adaptor"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",floatValue:0,intValue:0,name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",floatValue:0,intValue:0,name:"datasource",type:2,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"nested_form",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"nested_form"},{attributes:[],computedValue:"nested_form",displayName:"title",floatValue:0,intValue:0,name:"title",type:1,value:"nested_form"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",floatValue:0,intValue:0,name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",floatValue:0,intValue:0,name:"persistence",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]},{contentPlugin:"panel",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",floatValue:0,intValue:0,name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",floatValue:0,intValue:0,name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",floatValue:0,intValue:0,name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",floatValue:0,intValue:0,name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",floatValue:0,intValue:0,name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"$.ad.results[0].terms",displayName:"valuesMapping",floatValue:0,intValue:0,name:"valuesMapping",type:1,value:"$.ad.results[0].terms"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",floatValue:0,intValue:0,name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",floatValue:0,intValue:0,name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",floatValue:0,intValue:0,name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",floatValue:0,intValue:0,name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",floatValue:0,intValue:0,name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"[ad.results.0.terms.$i.humanName]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.terms.$i.humanName]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"humanName",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"humanName"},{attributes:[],computedValue:"humanName",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"humanName"},{attributes:[],computedValue:"form_input",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"form_input"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",floatValue:0,intValue:0,name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",floatValue:0,intValue:0,name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",floatValue:0,intValue:0,name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",floatValue:0,intValue:0,name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",floatValue:0,intValue:0,name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"$.ad.results[0].terms[$i].terms",displayName:"valuesMapping",floatValue:0,intValue:0,name:"valuesMapping",type:1,value:"$.ad.results[0].terms[$i].terms"}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"100",displayName:"cols",floatValue:0,intValue:0,name:"cols",type:0,value:"100"},{attributes:[],computedValue:"1",displayName:"rows",floatValue:0,intValue:0,name:"rows",type:0,value:"1"},{attributes:[],computedValue:"0",displayName:"x",floatValue:0,intValue:0,name:"x",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"y",floatValue:0,intValue:0,name:"y",type:0,value:"0"},{attributes:[],computedValue:"0",displayName:"weight",floatValue:0,intValue:0,name:"weight",type:0,value:"0"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"[ad.results.0.terms.$i.terms.$i.humanName]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.terms.$i.terms.$i.humanName]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"humanName",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"humanName"},{attributes:[],computedValue:"humanName",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"humanName"},{attributes:[],computedValue:"form_input",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"form_input"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"terms",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"terms"},{attributes:[],computedValue:"data",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"state",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"state"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"value",floatValue:0,intValue:0,name:"value",type:4,value:""}],computedValue:"",displayName:"data",floatValue:0,intValue:0,name:"data",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"characters"},{attributes:[],computedValue:"datasource",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",floatValue:0,intValue:0,name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[],computedValue:"data",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",floatValue:0,intValue:0,name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",floatValue:0,intValue:0,name:"datasource",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"ad"},{attributes:[],computedValue:"datasource",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",floatValue:0,intValue:0,name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",floatValue:0,intValue:0,name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",floatValue:0,intValue:0,name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-dev",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"classifieds-ui-dev"},{attributes:[],computedValue:"classifieds-ui-dev",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"classifieds-ui-dev"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"options",floatValue:0,intValue:0,name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[],computedValue:"crud_adaptor",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"crud_adaptor"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",floatValue:0,intValue:0,name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",floatValue:0,intValue:0,name:"datasource",type:2,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"terms_form2",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"terms_form2"},{attributes:[],computedValue:"terms_form2",displayName:"title",floatValue:0,intValue:0,name:"title",type:1,value:"terms_form2"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",floatValue:0,intValue:0,name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",floatValue:0,intValue:0,name:"persistence",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"terms",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"terms"},{attributes:[],computedValue:"terms",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"terms"},{attributes:[],computedValue:"panel",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"panel"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"form_section",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:"form_section"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"terms",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"terms"},{attributes:[],computedValue:"data",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"state",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"state"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"value",floatValue:0,intValue:0,name:"value",type:4,value:""}],computedValue:"",displayName:"data",floatValue:0,intValue:0,name:"data",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"characters"},{attributes:[],computedValue:"datasource",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",floatValue:0,intValue:0,name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[],computedValue:"data",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",floatValue:0,intValue:0,name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",floatValue:0,intValue:0,name:"datasource",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"ad"},{attributes:[],computedValue:"datasource",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",floatValue:0,intValue:0,name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",floatValue:0,intValue:0,name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",floatValue:0,intValue:0,name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-dev",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"classifieds-ui-dev"},{attributes:[],computedValue:"classifieds-ui-dev",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"classifieds-ui-dev"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"options",floatValue:0,intValue:0,name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[],computedValue:"crud_adaptor",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"crud_adaptor"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",floatValue:0,intValue:0,name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",floatValue:0,intValue:0,name:"datasource",type:2,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",floatValue:0,intValue:0,name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",floatValue:0,intValue:0,name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",floatValue:0,intValue:0,name:"persistence",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"panel",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"panel"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"terms",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"terms"},{attributes:[],computedValue:"data",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"state",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"state"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"value",floatValue:0,intValue:0,name:"value",type:4,value:""}],computedValue:"",displayName:"data",floatValue:0,intValue:0,name:"data",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"characters"},{attributes:[],computedValue:"datasource",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",floatValue:0,intValue:0,name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[],computedValue:"data",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",floatValue:0,intValue:0,name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",floatValue:0,intValue:0,name:"datasource",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"ad"},{attributes:[],computedValue:"datasource",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",floatValue:0,intValue:0,name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",floatValue:0,intValue:0,name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",floatValue:0,intValue:0,name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-dev",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"classifieds-ui-dev"},{attributes:[],computedValue:"classifieds-ui-dev",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"classifieds-ui-dev"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"options",floatValue:0,intValue:0,name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[],computedValue:"crud_adaptor",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"crud_adaptor"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",floatValue:0,intValue:0,name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",floatValue:0,intValue:0,name:"datasource",type:2,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"terms_form",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"terms_form"},{attributes:[],computedValue:"terms_form",displayName:"title",floatValue:0,intValue:0,name:"title",type:1,value:"terms_form"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",floatValue:0,intValue:0,name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",floatValue:0,intValue:0,name:"persistence",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"terms",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"terms"},{attributes:[],computedValue:"terms",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:"terms"},{attributes:[],computedValue:"panel",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"panel"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",floatValue:0,intValue:0,name:"condition",type:1,value:""},{attributes:[],computedValue:"",displayName:"rules",floatValue:0,intValue:0,name:"rules",type:4,value:""}],computedValue:"",displayName:"rule",floatValue:0,intValue:0,name:"rule",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"form_section",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:"form_section"},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"terms",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"terms"},{attributes:[],computedValue:"data",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"data"},{attributes:[],computedValue:"state",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"state"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"value",floatValue:0,intValue:0,name:"value",type:4,value:""}],computedValue:"",displayName:"data",floatValue:0,intValue:0,name:"data",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"characters",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"characters"},{attributes:[],computedValue:"datasource",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]',displayName:"data",floatValue:0,intValue:0,name:"data",type:1,value:'[{"id":1,"name":"batman"},{"id":2,"name":"superman"}]'}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[],computedValue:"data",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"data"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",floatValue:0,intValue:0,name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",floatValue:0,intValue:0,name:"datasource",type:2,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"ad",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"ad"},{attributes:[],computedValue:"datasource",displayName:"adaptor",floatValue:0,intValue:0,name:"adaptor",type:1,value:"datasource"},{attributes:[],computedValue:"datasource",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"datasource"},{attributes:[{attributes:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",floatValue:0,intValue:0,name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",floatValue:0,intValue:0,name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"identity=:identity",displayName:"paramsString",floatValue:0,intValue:0,name:"paramsString",type:1,value:"identity=:identity"},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-dev",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"classifieds-ui-dev"},{attributes:[],computedValue:"classifieds-ui-dev",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"classifieds-ui-dev"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"options",floatValue:0,intValue:0,name:"options",type:4,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"route",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"route"},{attributes:[],computedValue:"arg0",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"arg0"},{attributes:[],computedValue:"",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:""},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""},{attributes:[],computedValue:"crud_adaptor",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:1,value:"crud_adaptor"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"undefined",displayName:"query",floatValue:0,intValue:0,name:"query",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"trackBy",floatValue:0,intValue:0,name:"trackBy",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"bindings",floatValue:0,intValue:0,name:"bindings",type:4,value:""}],computedValue:"",displayName:"renderer",floatValue:0,intValue:0,name:"renderer",type:2,value:""}],computedValue:"",displayName:"datasource",floatValue:0,intValue:0,name:"datasource",type:2,value:""}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"split",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"split"},{attributes:[],computedValue:"form",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"form"},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",floatValue:0,intValue:0,name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",floatValue:0,intValue:0,name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",floatValue:0,intValue:0,name:"persistence",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]},{contentPlugin:"form_hidden",label:"id",linkedPageId:"",locked:!1,name:"id",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"[ad.results.0.id]",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"[ad.results.0.id]"},{attributes:[{attributes:[],computedValue:"pane",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"pane"},{attributes:[],computedValue:"",displayName:"id",floatValue:0,intValue:0,name:"id",type:1,value:""}],computedValue:"",displayName:"datasourceBinding",floatValue:0,intValue:0,name:"datasourceBinding",type:2,value:""}]}],settings:[],stylePlugin:""}],path:"/native_forms_rebuild_v1",persistence:{dataduct:{plugin:"crud",settings:[{attributes:[],computedValue:"aws_s3_entity",displayName:"adaptorName",floatValue:0,intValue:0,name:"adaptorName",type:1,value:"aws_s3_entity"},{attributes:[],computedValue:"bucket=:bucket&prefix=:prefix",displayName:"optionsString",floatValue:0,intValue:0,name:"optionsString",type:1,value:"bucket=:bucket&prefix=:prefix"},{attributes:[],computedValue:"",displayName:"paramsString",floatValue:0,intValue:0,name:"paramsString",type:1,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"classifieds-ui-dev",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"classifieds-ui-dev"},{attributes:[],computedValue:"classifieds-ui-dev",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"classifieds-ui-dev"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"static",displayName:"type",floatValue:0,intValue:0,name:"type",type:1,value:"static"},{attributes:[],computedValue:"ads/",displayName:"value",floatValue:0,intValue:0,name:"value",type:1,value:"ads/"},{attributes:[],computedValue:"ads/",displayName:"testValue",floatValue:0,intValue:0,name:"testValue",type:1,value:"ads/"},{attributes:[],computedValue:"",displayName:"context",floatValue:0,intValue:0,name:"context",type:1,value:""}],computedValue:"",displayName:"mapping",floatValue:0,intValue:0,name:"mapping",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"page",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"page"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[],computedValue:"limit",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"limit"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[],computedValue:"offset",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"offset"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""},{attributes:[{attributes:[],computedValue:"searchString",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:"searchString"},{attributes:[],computedValue:"false",displayName:"enabled",floatValue:0,intValue:0,name:"enabled",type:5,value:"false"}],computedValue:"",displayName:"3",floatValue:0,intValue:0,name:"3",type:2,value:""}],computedValue:"",displayName:"flags",floatValue:0,intValue:0,name:"flags",type:4,value:""}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""}],computedValue:"",displayName:"options",floatValue:0,intValue:0,name:"options",type:4,value:""},{attributes:[],computedValue:"",displayName:"params",floatValue:0,intValue:0,name:"params",type:4,value:""}]}},rowSettings:[{settings:[]}],site:"ipe",title:"native_forms_rebuild_v1",userId:"e36b42fe-b09c-4514-a519-e178bb52957e"},{contexts:[{adaptor:"data",data:{exposedModule:"./DownloadModule",moduleName:"DownloadModule",remoteEntry:"https://mfe1.druidcloud.dev/remoteEntry.js"},datasource:null,name:"download",plugin:"module",rest:null,snippet:null,tokens:null}],cssFile:"",derivativeId:"",displayType:"page",entityPermissions:{deleteUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"],readUserIds:["*"],writeUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"]},gridItems:[{cols:100,rows:1,weight:0,x:0,y:0}],id:"c720b59b-a26f-4919-bab1-219c358b5b68",layoutSetting:{settings:[]},layoutType:"split",name:"tractorbeam-test-v3",panels:[{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"mfe1_download",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[]}],settings:[],stylePlugin:""}],path:"/tractorbeam-test-v3",persistence:{dataduct:{plugin:"",settings:[]}},rowSettings:[{settings:[]}],site:"ipe",title:"tractorbeam-test-v3",userId:"e36b42fe-b09c-4514-a519-e178bb52957e"},{contexts:[],cssFile:"",derivativeId:"",displayType:"page",entityPermissions:{deleteUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"],readUserIds:["*"],writeUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"]},gridItems:[],id:"cdac44c2-30b6-4563-9810-456d069f46f4",layoutSetting:{settings:[]},layoutType:"gridless",name:"utility-class-style-via-devtools-v1",panels:[{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"panel",label:"c3dd4810-d072-4d22-9af6-0b6cce31d7e6",linkedPageId:"",locked:!1,name:"c3dd4810-d072-4d22-9af6-0b6cce31d7e6",rule:{condition:"",field:"",operator:"",rules:null,value:""},settings:[{attributes:[],computedValue:"",displayName:"gridItems",floatValue:0,intValue:0,name:"gridItems",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Block 1",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Block 1"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Block 2",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Block 2"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"}],computedValue:"",displayName:"1",floatValue:0,intValue:0,name:"1",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Block 3",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"Block 3"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"false",displayName:"locked",floatValue:0,intValue:0,name:"locked",type:5,value:"false"},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[],computedValue:"",displayName:"name",floatValue:0,intValue:0,name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",floatValue:0,intValue:0,name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",floatValue:0,intValue:0,name:"contentPlugin",type:1,value:"snippet"}],computedValue:"",displayName:"2",floatValue:0,intValue:0,name:"2",type:2,value:""}],computedValue:"",displayName:"panes",floatValue:0,intValue:0,name:"panes",type:4,value:""},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",floatValue:0,intValue:0,name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",floatValue:0,intValue:0,name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"columnSetting",floatValue:0,intValue:0,name:"columnSetting",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"panels",floatValue:0,intValue:0,name:"panels",type:4,value:""},{attributes:[],computedValue:"",displayName:"contexts",floatValue:0,intValue:0,name:"contexts",type:4,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"0",floatValue:0,intValue:0,name:"0",type:2,value:""}],computedValue:"",displayName:"rowSettings",floatValue:0,intValue:0,name:"rowSettings",type:4,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"readUserIds",floatValue:0,intValue:0,name:"readUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"writeUserIds",floatValue:0,intValue:0,name:"writeUserIds",type:4,value:""},{attributes:[],computedValue:"",displayName:"deleteUserIds",floatValue:0,intValue:0,name:"deleteUserIds",type:4,value:""}],computedValue:"",displayName:"entityPermissions",floatValue:0,intValue:0,name:"entityPermissions",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"id",floatValue:0,intValue:0,name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"gridless",displayName:"layoutType",floatValue:0,intValue:0,name:"layoutType",type:1,value:"gridless"},{attributes:[],computedValue:"page",displayName:"displayType",floatValue:0,intValue:0,name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",floatValue:0,intValue:0,name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",floatValue:0,intValue:0,name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"ipe",displayName:"site",floatValue:0,intValue:0,name:"site",type:1,value:"ipe"},{attributes:[],computedValue:"undefined",displayName:"userId",floatValue:0,intValue:0,name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",floatValue:0,intValue:0,name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""},{attributes:[],computedValue:"undefined",displayName:"plugin",floatValue:0,intValue:0,name:"plugin",type:0,value:"undefined"}],computedValue:"",displayName:"dataduct",floatValue:0,intValue:0,name:"dataduct",type:2,value:""}],computedValue:"",displayName:"persistence",floatValue:0,intValue:0,name:"persistence",type:2,value:""},{attributes:[{attributes:[{attributes:[],computedValue:"",displayName:"listeners",floatValue:0,intValue:0,name:"listeners",type:4,value:""}],computedValue:"",displayName:"interactions",floatValue:0,intValue:0,name:"interactions",type:2,value:""}],computedValue:"",displayName:"interactions",floatValue:0,intValue:0,name:"interactions",type:2,value:""},{attributes:[{attributes:[],computedValue:"",displayName:"settings",floatValue:0,intValue:0,name:"settings",type:2,value:""}],computedValue:"",displayName:"layoutSetting",floatValue:0,intValue:0,name:"layoutSetting",type:2,value:""}]}],settings:[],stylePlugin:""}],path:"/utility-class-style-via-devtools-v1",persistence:{dataduct:{plugin:"",settings:[]}},rowSettings:[{settings:[]}],site:"ipe",title:"utility-class-style-via-devtools-v1",userId:"e36b42fe-b09c-4514-a519-e178bb52957e"},{contexts:[],cssFile:"",derivativeId:"",displayType:"page",entityPermissions:{deleteUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"],readUserIds:["*"],writeUserIds:["e36b42fe-b09c-4514-a519-e178bb52957e"]},gridItems:[],id:"e00eed44-c3c9-4ae6-abc7-916efc61f0ea",layoutSetting:{settings:[]},layoutType:"gridless",name:"aboutusv1",panels:[{columnSetting:{settings:[]},label:"",name:"",panes:[{contentPlugin:"snippet",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"<div>About Us</div>",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"<div>About Us</div>"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]},{contentPlugin:"snippet",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:'<img src="https://d12b7acm1cy55s.cloudfront.net/rtc_aboutus_columbia_v1.svg">',displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:'<img src="https://d12b7acm1cy55s.cloudfront.net/rtc_aboutus_columbia_v1.svg">'},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]},{contentPlugin:"snippet",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:'<div class="padding-1x font-baskerville-regular line-height-16">Climate change is the crisis of the modern world we live in. We are beginning to not only understand but physically experience the impact of the harm our human evolution has had on the environment. Without drastic globally coordinated change, the climate will continue to deteriorate exponentially. The world will slowly but undoubtedly mutate into something no longer familiar nor recognizable. One of the better-known tools in this fight is carbon accounting. Carbon accounting seeks to shine a light on revealing to organizations, customers, and the world the damaging impact businesses have on the environment through their carbon emissions. Through this understanding, it is the hope of climate activists that companies will change their behavior to reduce their carbon emissions.</div>',displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:'<div class="padding-1x font-baskerville-regular line-height-16">Climate change is the crisis of the modern world we live in. We are beginning to not only understand but physically experience the impact of the harm our human evolution has had on the environment. Without drastic globally coordinated change, the climate will continue to deteriorate exponentially. The world will slowly but undoubtedly mutate into something no longer familiar nor recognizable. One of the better-known tools in this fight is carbon accounting. Carbon accounting seeks to shine a light on revealing to organizations, customers, and the world the damaging impact businesses have on the environment through their carbon emissions. Through this understanding, it is the hope of climate activists that companies will change their behavior to reduce their carbon emissions.</div>'},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]},{contentPlugin:"snippet",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:'<img src="https://d12b7acm1cy55s.cloudfront.net/rtc_aboutus_deer_v2.svg">',displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:'<img src="https://d12b7acm1cy55s.cloudfront.net/rtc_aboutus_deer_v2.svg">'},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]},{contentPlugin:"snippet",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"<div class=\"padding-1x font-baskerville-regular line-height-16\">However, the major obstacle to accurately measuring carbon footprints is complexity. The accuracy of carbon accounting decreases as the system boundaries of an organization expand. However, accurate reporting of carbon emissions requires analyzing nearly everything from hardware to employee work habits. Measuring emissions is a monumental task full of uncertainty, constantly changing. One could go as far as to say that no organization will ever have a truly accurate account of its carbon emissions and environmental impact. However, this doesn't mean we shouldn't at least try to do our best.</div>",displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:"<div class=\"padding-1x font-baskerville-regular line-height-16\">However, the major obstacle to accurately measuring carbon footprints is complexity. The accuracy of carbon accounting decreases as the system boundaries of an organization expand. However, accurate reporting of carbon emissions requires analyzing nearly everything from hardware to employee work habits. Measuring emissions is a monumental task full of uncertainty, constantly changing. One could go as far as to say that no organization will ever have a truly accurate account of its carbon emissions and environmental impact. However, this doesn't mean we shouldn't at least try to do our best.</div>"},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]},{contentPlugin:"snippet",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:'<img src="https://d12b7acm1cy55s.cloudfront.net/rtc_aboutus_suriname_v1.svg">',displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:'<img src="https://d12b7acm1cy55s.cloudfront.net/rtc_aboutus_suriname_v1.svg">'},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]},{contentPlugin:"snippet",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:'<div class="padding-1x font-baskerville-regular line-height-16">With that in mind, ROLL THE CLOUD INC. seeks to take a slightly different approach to a more traditional carbon accounting mechanism to understand the environmental impact. Working on the opposite end of climate change, shifting focus from educating, and revealing enterprises\' carbon emissions to going head first into battle building software from the environmentally friendly start. We advocate building new state-of-the-art solutions that, from their inception, have the best for the climate in mind. We are critical of all claims that legacy technology can be made truly environment friendly favoring the destructive rebirth of innovative sustainable centric solutions instead.</div>',displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:'<div class="padding-1x font-baskerville-regular line-height-16">With that in mind, ROLL THE CLOUD INC. seeks to take a slightly different approach to a more traditional carbon accounting mechanism to understand the environmental impact. Working on the opposite end of climate change, shifting focus from educating, and revealing enterprises\' carbon emissions to going head first into battle building software from the environmentally friendly start. We advocate building new state-of-the-art solutions that, from their inception, have the best for the climate in mind. We are critical of all claims that legacy technology can be made truly environment friendly favoring the destructive rebirth of innovative sustainable centric solutions instead.</div>'},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]},{contentPlugin:"snippet",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:'<img src="https://d12b7acm1cy55s.cloudfront.net/rtc_aboutus_jungle_v3.svg">',displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:'<img src="https://d12b7acm1cy55s.cloudfront.net/rtc_aboutus_jungle_v3.svg">'},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]},{contentPlugin:"snippet",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:'<div class="padding-1x font-baskerville-regular line-height-16">ROLL THE CLOUD INC. is focused on significantly reducing web emissions. Content distribution has long been dominated by oligarchs that fail to innovate and change platforms to be more environmentally friendly. Those that do only seek to put band-aids over fundamentally flawed unsustainable architecture. Creating platforms that become even more complex glass houses minimally reducing wasteful practices harmful to the environment. Systems seek to mislead rather than improve, motivating others to debunk, de-thrown and ultimately obsolesce with technology true to its word, not just marketing.</div>',displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:'<div class="padding-1x font-baskerville-regular line-height-16">ROLL THE CLOUD INC. is focused on significantly reducing web emissions. Content distribution has long been dominated by oligarchs that fail to innovate and change platforms to be more environmentally friendly. Those that do only seek to put band-aids over fundamentally flawed unsustainable architecture. Creating platforms that become even more complex glass houses minimally reducing wasteful practices harmful to the environment. Systems seek to mislead rather than improve, motivating others to debunk, de-thrown and ultimately obsolesce with technology true to its word, not just marketing.</div>'},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]},{contentPlugin:"snippet",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:'<img src="https://d12b7acm1cy55s.cloudfront.net/rtc_aboutus_guyana_v6-01.svg">',displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:'<img src="https://d12b7acm1cy55s.cloudfront.net/rtc_aboutus_guyana_v6-01.svg">'},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]},{contentPlugin:"snippet",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:'<div class="padding-1x font-baskerville-regular line-height-16">At ROLL THE CLOUD INC., we have gone back to the beginning. Carefully researching, discovering, and learning about ways the web can be more sustainable by reducing carbon emissions. Rolling everything learned up into the first-ever modern framework for creating sustainable web experiences true to their word and global prosperity through real-life climate action. Our goal is to bring this innovation to the masses through a framework and an interactive website that enables anyone to build the web back better on sustainable websites.</div>',displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:'<div class="padding-1x font-baskerville-regular line-height-16">At ROLL THE CLOUD INC., we have gone back to the beginning. Carefully researching, discovering, and learning about ways the web can be more sustainable by reducing carbon emissions. Rolling everything learned up into the first-ever modern framework for creating sustainable web experiences true to their word and global prosperity through real-life climate action. Our goal is to bring this innovation to the masses through a framework and an interactive website that enables anyone to build the web back better on sustainable websites.</div>'},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]},{contentPlugin:"snippet",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:'<img src="https://d12b7acm1cy55s.cloudfront.net/rtc_aboutus_sahara_v1.svg">',displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:'<img src="https://d12b7acm1cy55s.cloudfront.net/rtc_aboutus_sahara_v1.svg">'},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]},{contentPlugin:"snippet",label:"",linkedPageId:"",locked:!1,name:"",rule:{condition:"",field:"",operator:"",rules:[],value:""},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",floatValue:0,intValue:0,name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:'<div class="padding-1x font-baskerville-regular line-height-16">We are seeking donations to fast-track open-source algorithms, instruction, and websites to collaborate on combating climate change. Those with technology skills who want to battle on the front lines are welcomed. Everyone has a role to play in securing the world we have known and loved for generations. Humbled to be in a position to spearhead the green web and preserve the planet looking forward to a net-zero future.</div>',displayName:"Content",floatValue:0,intValue:0,name:"content",type:1,value:'<div class="padding-1x font-baskerville-regular line-height-16">We are seeking donations to fast-track open-source algorithms, instruction, and websites to collaborate on combating climate change. Those with technology skills who want to battle on the front lines are welcomed. Everyone has a role to play in securing the world we have known and loved for generations. Humbled to be in a position to spearhead the green web and preserve the planet looking forward to a net-zero future.</div>'},{attributes:[],computedValue:"",displayName:"jsScript",floatValue:0,intValue:0,name:"jsScript",type:1,value:""}]}],settings:[],stylePlugin:""}],path:"/about",persistence:{dataduct:{plugin:"",settings:[]}},rowSettings:[{settings:[]}],site:"card.rollthecloud.com",title:"About Us v1",userId:"e36b42fe-b09c-4514-a519-e178bb52957e"}],p$=[{path:"auth-callback",component:tc},...Zx.map(([t,n])=>({matcher:Fv(new Qn({id:t,layoutType:"",displayType:"",gridItems:[],panels:[],layoutSetting:void 0,rowSettings:[],path:n})),component:Fh,data:{panelPageListItem:new Qn({id:t,layoutType:"",displayType:"",gridItems:[],panels:[],layoutSetting:void 0,rowSettings:[],path:n})}})),...Zx.map(([t,n])=>({matcher:Ov(new Qn({id:t,layoutType:"",displayType:"",gridItems:[],panels:[],layoutSetting:void 0,rowSettings:[],path:n})),component:Oh,data:{panelPageListItem:new Qn({id:t,layoutType:"",displayType:"",gridItems:[],panels:[],layoutSetting:void 0,rowSettings:[],path:n})}})),{path:"**",component:rM,canActivate:[_w]}],m$={root:mo_apiGatewaySettings.endpointUrl,timeout:2e4};function h$(){const t=new Sf;return t.link=(n,e,r)=>"page"===r?`<classifieds-ui-panel-page id="${n}"></classifieds-ui-panel-page>`:`<classifieds-ui-page-router-link href="${n}" text="${r}"></classifieds-ui-page-router-link>`,{renderer:t}}let g$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t,bootstrap:[W6]}),t.\u0275inj=a.\u0275\u0275defineInjector({providers:[_w,{provide:ln.SITE_NAME,useValue:mo_site},{provide:ac,useValue:new ao(mo_clientSettings)},{provide:Km,useValue:new xO(mo_mediaSettings)},{provide:$w,useValue:new $M(mo_panelsSettings)},{provide:f8,useValue:new h8(mo_alienaliasSettings)},{provide:$C,useValue:new kU({disableRouting:!1})},{provide:ql,useValue:new Qg(mo_cognitoSettings)},{provide:d$,useValue:new c$(mo_rumSettings)},{provide:F.HTTP_INTERCEPTORS,useClass:cs,multi:!0},{provide:F.HTTP_INTERCEPTORS,useClass:ls,multi:!0},{provide:pi,useValue:m$},{provide:a.APP_INITIALIZER,useFactory:K6({key:({data:n})=>"panelpage__"+n.id,data:f$.map(n=>new Qn(n))}),multi:!0,deps:[a.PLATFORM_ID]}],imports:[[P.b2.withServerTransition({appId:"serverApp"}),x.CommonModule,F.HttpClientModule,F.HttpClientJsonpModule,P.Cu,d.u5,d.UX,j.PW,Rs,Iu,d8,Ly.forRoot({sanitize:a.SecurityContext.NONE,markedOptions:{provide:Xb,useFactory:h$}}),Nn.RouterModule.forRoot(p$,{initialNavigation:"enabled",relativeLinkResolution:"legacy"}),mo_production?[]:J6.FT.instrument({maxAge:25,logOnly:mo_production}),CF.forRoot({serializer:Hy}),At.Aw.forRoot(Q6,{metaReducers:Y6,runtimeChecks:{strictActionImmutability:!0,strictStateImmutability:!0}}),ga.forRoot([]),pw,D6,Wr.MaterialModule,ln.UtilsModule,_f,Ut.ContentModule,Sc,Ci.forRoot(),Jd.forRoot(),Rb,Qu.forRoot({}),aM,fv,Vh,UU,V6,i5,Jg,X6,l5,p5,u8,E8,k8,pM,qB,hh,FU,mx]]}),t})();console.log("bootstrap"),mo_production&&(0,a.enableProdMode)(),P.q6().bootstrapModule(g$).catch(t=>console.log(t))},6954:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.AwsCrc32c=void 0;var P=S(480),a=S(1500),x=S(5423),F=function(){function j(){this.crc32c=new x.Crc32c}return j.prototype.update=function(d){(0,a.isEmptyData)(d)||this.crc32c.update((0,a.convertToBuffer)(d))},j.prototype.digest=function(){return(0,P.__awaiter)(this,void 0,void 0,function(){return(0,P.__generator)(this,function(d){return[2,(0,a.numToUint8)(this.crc32c.digest())]})})},j}();R.AwsCrc32c=F},5423:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.AwsCrc32c=R.Crc32c=R.crc32c=void 0;var P=S(480),a=S(1500);R.crc32c=function x(g){return(new F).update(g).digest()};var F=function(){function g(){this.checksum=4294967295}return g.prototype.update=function(N){var O,B;try{for(var H=(0,P.__values)(N),$=H.next();!$.done;$=H.next())this.checksum=this.checksum>>>8^d[255&(this.checksum^$.value)]}catch(G){O={error:G}}finally{try{$&&!$.done&&(B=H.return)&&B.call(H)}finally{if(O)throw O.error}}return this},g.prototype.digest=function(){return(4294967295^this.checksum)>>>0},g}();R.Crc32c=F;var d=(0,a.uint32ArrayFrom)([0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697]),h=S(6954);Object.defineProperty(R,"AwsCrc32c",{enumerable:!0,get:function(){return h.AwsCrc32c}})},6502:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.convertToBuffer=void 0;var P=S(2093),a="undefined"!=typeof Buffer&&Buffer.from?function(F){return Buffer.from(F,"utf8")}:P.fromUtf8;R.convertToBuffer=function x(F){return F instanceof Uint8Array?F:"string"==typeof F?a(F):ArrayBuffer.isView(F)?new Uint8Array(F.buffer,F.byteOffset,F.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(F)}},1500:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.uint32ArrayFrom=R.numToUint8=R.isEmptyData=R.convertToBuffer=void 0;var P=S(6502);Object.defineProperty(R,"convertToBuffer",{enumerable:!0,get:function(){return P.convertToBuffer}});var a=S(3814);Object.defineProperty(R,"isEmptyData",{enumerable:!0,get:function(){return a.isEmptyData}});var x=S(566);Object.defineProperty(R,"numToUint8",{enumerable:!0,get:function(){return x.numToUint8}});var F=S(2700);Object.defineProperty(R,"uint32ArrayFrom",{enumerable:!0,get:function(){return F.uint32ArrayFrom}})},3814:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.isEmptyData=void 0,R.isEmptyData=function S(P){return"string"==typeof P?0===P.length:0===P.byteLength}},566:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.numToUint8=void 0,R.numToUint8=function S(P){return new Uint8Array([(4278190080&P)>>24,(16711680&P)>>16,(65280&P)>>8,255&P])}},2700:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.uint32ArrayFrom=void 0,R.uint32ArrayFrom=function S(P){if(!Uint32Array.from){for(var a=new Uint32Array(P.length),x=0;x<P.length;)a[x]=P[x],x+=1;return a}return Uint32Array.from(P)}},3141:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.EMPTY_DATA_SHA_1=R.SHA_1_HMAC_ALGO=R.SHA_1_HASH=void 0,R.SHA_1_HASH={name:"SHA-1"},R.SHA_1_HMAC_ALGO={name:"HMAC",hash:R.SHA_1_HASH},R.EMPTY_DATA_SHA_1=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9])},1883:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.Sha1=void 0;var P=S(1283),a=S(2766),x=S(7506),F=S(776),j=S(5468),d=function(){function h(g){if((0,x.supportsWebCrypto)((0,j.locateWindow)()))this.hash=new a.Sha1(g);else{if(!(0,F.isMsWindow)((0,j.locateWindow)()))throw new Error("SHA1 not supported");this.hash=new P.Sha1(g)}}return h.prototype.update=function(g,N){this.hash.update(g,N)},h.prototype.digest=function(){return this.hash.digest()},h}();R.Sha1=d},1283:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.Sha1=void 0;var P=S(3626),a=S(3141),x=S(2093),F=S(5468),j=function(){function g(N){N?(this.operation=function d(g){return new Promise(function(N,O){var B=(0,F.locateWindow)().msCrypto.subtle.importKey("raw",h(g),a.SHA_1_HMAC_ALGO,!1,["sign"]);B.oncomplete=function(){B.result&&N(B.result),O(new Error("ImportKey completed without importing key."))},B.onerror=function(){O(new Error("ImportKey failed to import key."))}})}(N).then(function(O){return(0,F.locateWindow)().msCrypto.subtle.sign(a.SHA_1_HMAC_ALGO,O)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,F.locateWindow)().msCrypto.subtle.digest("SHA-1"))}return g.prototype.update=function(N){var O=this;(0,P.isEmptyData)(N)||(this.operation=this.operation.then(function(B){return B.onerror=function(){O.operation=Promise.reject(new Error("Error encountered updating hash"))},B.process(h(N)),B}),this.operation.catch(function(){}))},g.prototype.digest=function(){return this.operation.then(function(N){return new Promise(function(O,B){N.onerror=function(){B(new Error("Error encountered finalizing hash"))},N.oncomplete=function(){N.result&&O(new Uint8Array(N.result)),B(new Error("Error encountered finalizing hash"))},N.finish()})})},g}();function h(g){return"string"==typeof g?(0,x.fromUtf8)(g):ArrayBuffer.isView(g)?new Uint8Array(g.buffer,g.byteOffset,g.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(g)}R.Sha1=j},6982:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.WebCryptoSha1=R.Ie11Sha1=void 0,(0,S(70).__exportStar)(S(1883),R);var a=S(1283);Object.defineProperty(R,"Ie11Sha1",{enumerable:!0,get:function(){return a.Sha1}});var x=S(2766);Object.defineProperty(R,"WebCryptoSha1",{enumerable:!0,get:function(){return x.Sha1}})},3626:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.isEmptyData=void 0,R.isEmptyData=function S(P){return"string"==typeof P?0===P.length:0===P.byteLength}},2766:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.Sha1=void 0;var P=S(2093),a=S(3626),x=S(3141),F=S(5468),j=function(){function h(g){this.toHash=new Uint8Array(0),void 0!==g&&(this.key=new Promise(function(N,O){(0,F.locateWindow)().crypto.subtle.importKey("raw",d(g),x.SHA_1_HMAC_ALGO,!1,["sign"]).then(N,O)}),this.key.catch(function(){}))}return h.prototype.update=function(g){if(!(0,a.isEmptyData)(g)){var N=d(g),O=new Uint8Array(this.toHash.byteLength+N.byteLength);O.set(this.toHash,0),O.set(N,this.toHash.byteLength),this.toHash=O}},h.prototype.digest=function(){var g=this;return this.key?this.key.then(function(N){return(0,F.locateWindow)().crypto.subtle.sign(x.SHA_1_HMAC_ALGO,N,g.toHash).then(function(O){return new Uint8Array(O)})}):(0,a.isEmptyData)(this.toHash)?Promise.resolve(x.EMPTY_DATA_SHA_1):Promise.resolve().then(function(){return(0,F.locateWindow)().crypto.subtle.digest(x.SHA_1_HASH,g.toHash)}).then(function(N){return Promise.resolve(new Uint8Array(N))})},h}();function d(h){return"string"==typeof h?(0,P.fromUtf8)(h):ArrayBuffer.isView(h)?new Uint8Array(h.buffer,h.byteOffset,h.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(h)}R.Sha1=j},9189:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0})},2624:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0})},8732:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0})},8424:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0})},7705:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.isMsWindow=void 0;var S=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];R.isMsWindow=function a(x){if(function P(x){return"MSInputMethodContext"in x&&"msCrypto"in x}(x)&&void 0!==x.msCrypto.subtle){var F=x.msCrypto,j=F.getRandomValues,d=F.subtle;return S.map(function(h){return d[h]}).concat(j).every(function(h){return"function"==typeof h})}return!1}},776:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0});var P=S(70);(0,P.__exportStar)(S(9189),R),(0,P.__exportStar)(S(2624),R),(0,P.__exportStar)(S(8732),R),(0,P.__exportStar)(S(8424),R),(0,P.__exportStar)(S(7705),R)},7506:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),(0,S(70).__exportStar)(S(2398),R)},2398:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.supportsZeroByteGCM=R.supportsSubtleCrypto=R.supportsSecureRandom=R.supportsWebCrypto=void 0;var P=S(70),a=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function F(h){return"object"==typeof h&&"object"==typeof h.crypto&&"function"==typeof h.crypto.getRandomValues}function j(h){return h&&a.every(function(g){return"function"==typeof h[g]})}R.supportsWebCrypto=function x(h){return!(!F(h)||"object"!=typeof h.crypto.subtle)&&j(h.crypto.subtle)},R.supportsSecureRandom=F,R.supportsSubtleCrypto=j,R.supportsZeroByteGCM=function d(h){return(0,P.__awaiter)(this,void 0,void 0,function(){var g;return(0,P.__generator)(this,function(B){switch(B.label){case 0:if(!j(h))return[2,!1];B.label=1;case 1:return B.trys.push([1,4,,5]),[4,h.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return g=B.sent(),[4,h.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},g,new Uint8Array(0))];case 3:return[2,16===B.sent().byteLength];case 4:return B.sent(),[2,!1];case 5:return[2]}})})}},5337:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.RawSha256=void 0;var P=S(9271),a=function(){function x(){this.state=Int32Array.from(P.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return x.prototype.update=function(F){if(this.finished)throw new Error("Attempted to update an already finished hash.");var j=0,d=F.byteLength;if(this.bytesHashed+=d,8*this.bytesHashed>P.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;d>0;)this.buffer[this.bufferLength++]=F[j++],d--,this.bufferLength===P.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},x.prototype.digest=function(){if(!this.finished){var F=8*this.bytesHashed,j=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),d=this.bufferLength;if(j.setUint8(this.bufferLength++,128),d%P.BLOCK_SIZE>=P.BLOCK_SIZE-8){for(var h=this.bufferLength;h<P.BLOCK_SIZE;h++)j.setUint8(h,0);this.hashBuffer(),this.bufferLength=0}for(h=this.bufferLength;h<P.BLOCK_SIZE-8;h++)j.setUint8(h,0);j.setUint32(P.BLOCK_SIZE-8,Math.floor(F/4294967296),!0),j.setUint32(P.BLOCK_SIZE-4,F),this.hashBuffer(),this.finished=!0}var g=new Uint8Array(P.DIGEST_LENGTH);for(h=0;h<8;h++)g[4*h]=this.state[h]>>>24&255,g[4*h+1]=this.state[h]>>>16&255,g[4*h+2]=this.state[h]>>>8&255,g[4*h+3]=this.state[h]>>>0&255;return g},x.prototype.hashBuffer=function(){for(var j=this.buffer,d=this.state,h=d[0],g=d[1],N=d[2],O=d[3],B=d[4],H=d[5],$=d[6],K=d[7],G=0;G<P.BLOCK_SIZE;G++){if(G<16)this.temp[G]=(255&j[4*G])<<24|(255&j[4*G+1])<<16|(255&j[4*G+2])<<8|255&j[4*G+3];else{var W=this.temp[G-2];this.temp[G]=(((W>>>17|W<<15)^(W>>>19|W<<13)^W>>>10)+this.temp[G-7]|0)+((((W=this.temp[G-15])>>>7|W<<25)^(W>>>18|W<<14)^W>>>3)+this.temp[G-16]|0)}var U=(((B>>>6|B<<26)^(B>>>11|B<<21)^(B>>>25|B<<7))+(B&H^~B&$)|0)+(K+(P.KEY[G]+this.temp[G]|0)|0)|0,z=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&g^h&N^g&N)|0;K=$,$=H,H=B,B=O+U|0,O=N,N=g,g=h,h=U+z|0}d[0]+=h,d[1]+=g,d[2]+=N,d[3]+=O,d[4]+=B,d[5]+=H,d[6]+=$,d[7]+=K},x}();R.RawSha256=a},9271:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.MAX_HASHABLE_LENGTH=R.INIT=R.KEY=R.DIGEST_LENGTH=R.BLOCK_SIZE=void 0,R.BLOCK_SIZE=64,R.DIGEST_LENGTH=32,R.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),R.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],R.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},9984:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),(0,S(9055).__exportStar)(S(7803),R)},7803:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.Sha256=void 0;var P=S(9055),a=S(9271),x=S(5337),F=S(5272),j=function(){function h(g){if(this.hash=new x.RawSha256,g){this.outer=new x.RawSha256;var N=function d(h){var g=(0,F.convertToBuffer)(h);if(g.byteLength>a.BLOCK_SIZE){var N=new x.RawSha256;N.update(g),g=N.digest()}var O=new Uint8Array(a.BLOCK_SIZE);return O.set(g),O}(g),O=new Uint8Array(a.BLOCK_SIZE);O.set(N);for(var B=0;B<a.BLOCK_SIZE;B++)N[B]^=54,O[B]^=92;for(this.hash.update(N),this.outer.update(O),B=0;B<N.byteLength;B++)N[B]=0}}return h.prototype.update=function(g){if(!(0,F.isEmptyData)(g)&&!this.error)try{this.hash.update((0,F.convertToBuffer)(g))}catch(N){this.error=N}},h.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},h.prototype.digest=function(){return(0,P.__awaiter)(this,void 0,void 0,function(){return(0,P.__generator)(this,function(g){return[2,this.digestSync()]})})},h}();R.Sha256=j},5448:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.convertToBuffer=void 0;var P=S(2093),a="undefined"!=typeof Buffer&&Buffer.from?function(F){return Buffer.from(F,"utf8")}:P.fromUtf8;R.convertToBuffer=function x(F){return F instanceof Uint8Array?F:"string"==typeof F?a(F):ArrayBuffer.isView(F)?new Uint8Array(F.buffer,F.byteOffset,F.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(F)}},5272:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.uint32ArrayFrom=R.numToUint8=R.isEmptyData=R.convertToBuffer=void 0;var P=S(5448);Object.defineProperty(R,"convertToBuffer",{enumerable:!0,get:function(){return P.convertToBuffer}});var a=S(482);Object.defineProperty(R,"isEmptyData",{enumerable:!0,get:function(){return a.isEmptyData}});var x=S(6203);Object.defineProperty(R,"numToUint8",{enumerable:!0,get:function(){return x.numToUint8}});var F=S(5824);Object.defineProperty(R,"uint32ArrayFrom",{enumerable:!0,get:function(){return F.uint32ArrayFrom}})},482:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.isEmptyData=void 0,R.isEmptyData=function S(P){return"string"==typeof P?0===P.length:0===P.byteLength}},6203:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.numToUint8=void 0,R.numToUint8=function S(P){return new Uint8Array([(4278190080&P)>>24,(16711680&P)>>16,(65280&P)>>8,255&P])}},5824:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.uint32ArrayFrom=void 0,R.uint32ArrayFrom=function S(P){if(!Array.from){for(var a=new Uint32Array(P.length);0<P.length;)a[0]=P[0];return a}return Uint32Array.from(P)}},4447:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0})},5694:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0})},3502:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0})},9710:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0})},3707:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.isMsWindow=void 0;var S=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];R.isMsWindow=function a(x){if(function P(x){return"MSInputMethodContext"in x&&"msCrypto"in x}(x)&&void 0!==x.msCrypto.subtle){var F=x.msCrypto,j=F.getRandomValues,d=F.subtle;return S.map(function(h){return d[h]}).concat(j).every(function(h){return"function"==typeof h})}return!1}},9826:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0});var P=S(7994);(0,P.__exportStar)(S(4447),R),(0,P.__exportStar)(S(5694),R),(0,P.__exportStar)(S(3502),R),(0,P.__exportStar)(S(9710),R),(0,P.__exportStar)(S(3707),R)},4812:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.EMPTY_DATA_SHA_256=R.SHA_256_HMAC_ALGO=R.SHA_256_HASH=void 0,R.SHA_256_HASH={name:"SHA-256"},R.SHA_256_HMAC_ALGO={name:"HMAC",hash:R.SHA_256_HASH},R.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},3911:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.Sha256=void 0;var P=S(5912),a=S(532),x=S(7408),F=S(8284),j=S(9826),d=S(5468),h=function(){function g(N){this.hash=(0,F.supportsWebCrypto)((0,d.locateWindow)())?new a.Sha256(N):(0,j.isMsWindow)((0,d.locateWindow)())?new P.Sha256(N):new x.Sha256(N)}return g.prototype.update=function(N,O){this.hash.update(N,O)},g.prototype.digest=function(){return this.hash.digest()},g}();R.Sha256=h},5912:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.Sha256=void 0;var P=S(7283),a=S(4812),x=S(6319),F=S(5468),j=function(){function g(N){N?(this.operation=function d(g){return new Promise(function(N,O){var B=(0,F.locateWindow)().msCrypto.subtle.importKey("raw",h(g),a.SHA_256_HMAC_ALGO,!1,["sign"]);B.oncomplete=function(){B.result&&N(B.result),O(new Error("ImportKey completed without importing key."))},B.onerror=function(){O(new Error("ImportKey failed to import key."))}})}(N).then(function(O){return(0,F.locateWindow)().msCrypto.subtle.sign(a.SHA_256_HMAC_ALGO,O)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,F.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return g.prototype.update=function(N){var O=this;(0,P.isEmptyData)(N)||(this.operation=this.operation.then(function(B){return B.onerror=function(){O.operation=Promise.reject(new Error("Error encountered updating hash"))},B.process(h(N)),B}),this.operation.catch(function(){}))},g.prototype.digest=function(){return this.operation.then(function(N){return new Promise(function(O,B){N.onerror=function(){B(new Error("Error encountered finalizing hash"))},N.oncomplete=function(){N.result&&O(new Uint8Array(N.result)),B(new Error("Error encountered finalizing hash"))},N.finish()})})},g}();function h(g){return"string"==typeof g?(0,x.fromUtf8)(g):ArrayBuffer.isView(g)?new Uint8Array(g.buffer,g.byteOffset,g.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(g)}R.Sha256=j},6513:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.WebCryptoSha256=R.Ie11Sha256=void 0,(0,S(8952).__exportStar)(S(3911),R);var a=S(5912);Object.defineProperty(R,"Ie11Sha256",{enumerable:!0,get:function(){return a.Sha256}});var x=S(532);Object.defineProperty(R,"WebCryptoSha256",{enumerable:!0,get:function(){return x.Sha256}})},7283:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.isEmptyData=void 0,R.isEmptyData=function S(P){return"string"==typeof P?0===P.length:0===P.byteLength}},532:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.Sha256=void 0;var P=S(2862),a=S(4812),x=S(5468),F=function(){function j(d){this.toHash=new Uint8Array(0),void 0!==d&&(this.key=new Promise(function(h,g){(0,x.locateWindow)().crypto.subtle.importKey("raw",(0,P.convertToBuffer)(d),a.SHA_256_HMAC_ALGO,!1,["sign"]).then(h,g)}),this.key.catch(function(){}))}return j.prototype.update=function(d){if(!(0,P.isEmptyData)(d)){var h=(0,P.convertToBuffer)(d),g=new Uint8Array(this.toHash.byteLength+h.byteLength);g.set(this.toHash,0),g.set(h,this.toHash.byteLength),this.toHash=g}},j.prototype.digest=function(){var d=this;return this.key?this.key.then(function(h){return(0,x.locateWindow)().crypto.subtle.sign(a.SHA_256_HMAC_ALGO,h,d.toHash).then(function(g){return new Uint8Array(g)})}):(0,P.isEmptyData)(this.toHash)?Promise.resolve(a.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,x.locateWindow)().crypto.subtle.digest(a.SHA_256_HASH,d.toHash)}).then(function(h){return Promise.resolve(new Uint8Array(h))})},j}();R.Sha256=F},9700:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.RawSha256=void 0;var P=S(9359),a=function(){function x(){this.state=Int32Array.from(P.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return x.prototype.update=function(F){if(this.finished)throw new Error("Attempted to update an already finished hash.");var j=0,d=F.byteLength;if(this.bytesHashed+=d,8*this.bytesHashed>P.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;d>0;)this.buffer[this.bufferLength++]=F[j++],d--,this.bufferLength===P.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},x.prototype.digest=function(){if(!this.finished){var F=8*this.bytesHashed,j=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),d=this.bufferLength;if(j.setUint8(this.bufferLength++,128),d%P.BLOCK_SIZE>=P.BLOCK_SIZE-8){for(var h=this.bufferLength;h<P.BLOCK_SIZE;h++)j.setUint8(h,0);this.hashBuffer(),this.bufferLength=0}for(h=this.bufferLength;h<P.BLOCK_SIZE-8;h++)j.setUint8(h,0);j.setUint32(P.BLOCK_SIZE-8,Math.floor(F/4294967296),!0),j.setUint32(P.BLOCK_SIZE-4,F),this.hashBuffer(),this.finished=!0}var g=new Uint8Array(P.DIGEST_LENGTH);for(h=0;h<8;h++)g[4*h]=this.state[h]>>>24&255,g[4*h+1]=this.state[h]>>>16&255,g[4*h+2]=this.state[h]>>>8&255,g[4*h+3]=this.state[h]>>>0&255;return g},x.prototype.hashBuffer=function(){for(var j=this.buffer,d=this.state,h=d[0],g=d[1],N=d[2],O=d[3],B=d[4],H=d[5],$=d[6],K=d[7],G=0;G<P.BLOCK_SIZE;G++){if(G<16)this.temp[G]=(255&j[4*G])<<24|(255&j[4*G+1])<<16|(255&j[4*G+2])<<8|255&j[4*G+3];else{var W=this.temp[G-2];this.temp[G]=(((W>>>17|W<<15)^(W>>>19|W<<13)^W>>>10)+this.temp[G-7]|0)+((((W=this.temp[G-15])>>>7|W<<25)^(W>>>18|W<<14)^W>>>3)+this.temp[G-16]|0)}var U=(((B>>>6|B<<26)^(B>>>11|B<<21)^(B>>>25|B<<7))+(B&H^~B&$)|0)+(K+(P.KEY[G]+this.temp[G]|0)|0)|0,z=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&g^h&N^g&N)|0;K=$,$=H,H=B,B=O+U|0,O=N,N=g,g=h,h=U+z|0}d[0]+=h,d[1]+=g,d[2]+=N,d[3]+=O,d[4]+=B,d[5]+=H,d[6]+=$,d[7]+=K},x}();R.RawSha256=a},9359:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.MAX_HASHABLE_LENGTH=R.INIT=R.KEY=R.DIGEST_LENGTH=R.BLOCK_SIZE=void 0,R.BLOCK_SIZE=64,R.DIGEST_LENGTH=32,R.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),R.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],R.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},7408:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),(0,S(1707).__exportStar)(S(4319),R)},4319:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.Sha256=void 0;var P=S(1707),a=S(9359),x=S(9700),F=S(2862),j=function(){function h(g){if(this.hash=new x.RawSha256,g){this.outer=new x.RawSha256;var N=function d(h){var g=(0,F.convertToBuffer)(h);if(g.byteLength>a.BLOCK_SIZE){var N=new x.RawSha256;N.update(g),g=N.digest()}var O=new Uint8Array(a.BLOCK_SIZE);return O.set(g),O}(g),O=new Uint8Array(a.BLOCK_SIZE);O.set(N);for(var B=0;B<a.BLOCK_SIZE;B++)N[B]^=54,O[B]^=92;for(this.hash.update(N),this.outer.update(O),B=0;B<N.byteLength;B++)N[B]=0}}return h.prototype.update=function(g){if(!(0,F.isEmptyData)(g)&&!this.error)try{this.hash.update((0,F.convertToBuffer)(g))}catch(N){this.error=N}},h.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},h.prototype.digest=function(){return(0,P.__awaiter)(this,void 0,void 0,function(){return(0,P.__generator)(this,function(g){return[2,this.digestSync()]})})},h}();R.Sha256=j},8284:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),(0,S(9106).__exportStar)(S(7906),R)},7906:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.supportsZeroByteGCM=R.supportsSubtleCrypto=R.supportsSecureRandom=R.supportsWebCrypto=void 0;var P=S(9106),a=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function F(h){return"object"==typeof h&&"object"==typeof h.crypto&&"function"==typeof h.crypto.getRandomValues}function j(h){return h&&a.every(function(g){return"function"==typeof h[g]})}R.supportsWebCrypto=function x(h){return!(!F(h)||"object"!=typeof h.crypto.subtle)&&j(h.crypto.subtle)},R.supportsSecureRandom=F,R.supportsSubtleCrypto=j,R.supportsZeroByteGCM=function d(h){return(0,P.__awaiter)(this,void 0,void 0,function(){var g;return(0,P.__generator)(this,function(B){switch(B.label){case 0:if(!j(h))return[2,!1];B.label=1;case 1:return B.trys.push([1,4,,5]),[4,h.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return g=B.sent(),[4,h.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},g,new Uint8Array(0))];case 3:return[2,16===B.sent().byteLength];case 4:return B.sent(),[2,!1];case 5:return[2]}})})}},3376:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.convertToBuffer=void 0;var P=S(6319),a="undefined"!=typeof Buffer&&Buffer.from?function(F){return Buffer.from(F,"utf8")}:P.fromUtf8;R.convertToBuffer=function x(F){return F instanceof Uint8Array?F:"string"==typeof F?a(F):ArrayBuffer.isView(F)?new Uint8Array(F.buffer,F.byteOffset,F.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(F)}},2862:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.uint32ArrayFrom=R.numToUint8=R.isEmptyData=R.convertToBuffer=void 0;var P=S(3376);Object.defineProperty(R,"convertToBuffer",{enumerable:!0,get:function(){return P.convertToBuffer}});var a=S(8075);Object.defineProperty(R,"isEmptyData",{enumerable:!0,get:function(){return a.isEmptyData}});var x=S(2127);Object.defineProperty(R,"numToUint8",{enumerable:!0,get:function(){return x.numToUint8}});var F=S(2768);Object.defineProperty(R,"uint32ArrayFrom",{enumerable:!0,get:function(){return F.uint32ArrayFrom}})},8075:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.isEmptyData=void 0,R.isEmptyData=function S(P){return"string"==typeof P?0===P.length:0===P.byteLength}},2127:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.numToUint8=void 0,R.numToUint8=function S(P){return new Uint8Array([(4278190080&P)>>24,(16711680&P)>>16,(65280&P)>>8,255&P])}},2768:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.uint32ArrayFrom=void 0,R.uint32ArrayFrom=function S(P){if(!Uint32Array.from){for(var a=new Uint32Array(P.length),x=0;x<P.length;)a[x]=P[x],x+=1;return a}return Uint32Array.from(P)}},6319:(we,R,S)=>{S.r(R),S.d(R,{fromUtf8:()=>j,toUtf8:()=>d});var j=function(h){return"function"==typeof TextEncoder?function x(h){return(new TextEncoder).encode(h)}(h):function(h){for(var g=[],N=0,O=h.length;N<O;N++){var B=h.charCodeAt(N);if(B<128)g.push(B);else if(B<2048)g.push(B>>6|192,63&B|128);else if(N+1<h.length&&55296==(64512&B)&&56320==(64512&h.charCodeAt(N+1))){var H=65536+((1023&B)<<10)+(1023&h.charCodeAt(++N));g.push(H>>18|240,H>>12&63|128,H>>6&63|128,63&H|128)}else g.push(B>>12|224,B>>6&63|128,63&B|128)}return Uint8Array.from(g)}(h)},d=function(h){return"function"==typeof TextDecoder?function F(h){return new TextDecoder("utf-8").decode(h)}(h):function(h){for(var g="",N=0,O=h.length;N<O;N++){var B=h[N];if(B<128)g+=String.fromCharCode(B);else if(192<=B&&B<224){var H=h[++N];g+=String.fromCharCode((31&B)<<6|63&H)}else if(240<=B&&B<365){var K="%"+[B,h[++N],h[++N],h[++N]].map(function(G){return G.toString(16)}).join("%");g+=decodeURIComponent(K)}else g+=String.fromCharCode((15&B)<<12|(63&h[++N])<<6|63&h[++N])}return g}(h)}},1674:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0})},8645:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0})},2667:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0})},1693:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0})},9484:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.isMsWindow=void 0;var S=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];R.isMsWindow=function a(x){if(function P(x){return"MSInputMethodContext"in x&&"msCrypto"in x}(x)&&void 0!==x.msCrypto.subtle){var F=x.msCrypto,j=F.getRandomValues,d=F.subtle;return S.map(function(h){return d[h]}).concat(j).every(function(h){return"function"==typeof h})}return!1}},6868:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0});var P=S(5298);(0,P.__exportStar)(S(1674),R),(0,P.__exportStar)(S(8645),R),(0,P.__exportStar)(S(2667),R),(0,P.__exportStar)(S(1693),R),(0,P.__exportStar)(S(9484),R)},1432:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.EMPTY_DATA_SHA_256=R.SHA_256_HMAC_ALGO=R.SHA_256_HASH=void 0,R.SHA_256_HASH={name:"SHA-256"},R.SHA_256_HMAC_ALGO={name:"HMAC",hash:R.SHA_256_HASH},R.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},1602:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.Sha256=void 0;var P=S(1673),a=S(5717),x=S(9985),F=S(9696),j=S(6868),d=S(5468),h=function(){function g(N){this.hash=(0,F.supportsWebCrypto)((0,d.locateWindow)())?new a.Sha256(N):(0,j.isMsWindow)((0,d.locateWindow)())?new P.Sha256(N):new x.Sha256(N)}return g.prototype.update=function(N,O){this.hash.update(N,O)},g.prototype.digest=function(){return this.hash.digest()},g}();R.Sha256=h},1673:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.Sha256=void 0;var P=S(7778),a=S(1432),x=S(1114),F=S(5468),j=function(){function g(N){N?(this.operation=function d(g){return new Promise(function(N,O){var B=(0,F.locateWindow)().msCrypto.subtle.importKey("raw",h(g),a.SHA_256_HMAC_ALGO,!1,["sign"]);B.oncomplete=function(){B.result&&N(B.result),O(new Error("ImportKey completed without importing key."))},B.onerror=function(){O(new Error("ImportKey failed to import key."))}})}(N).then(function(O){return(0,F.locateWindow)().msCrypto.subtle.sign(a.SHA_256_HMAC_ALGO,O)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,F.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return g.prototype.update=function(N){var O=this;(0,P.isEmptyData)(N)||(this.operation=this.operation.then(function(B){return B.onerror=function(){O.operation=Promise.reject(new Error("Error encountered updating hash"))},B.process(h(N)),B}),this.operation.catch(function(){}))},g.prototype.digest=function(){return this.operation.then(function(N){return new Promise(function(O,B){N.onerror=function(){B(new Error("Error encountered finalizing hash"))},N.oncomplete=function(){N.result&&O(new Uint8Array(N.result)),B(new Error("Error encountered finalizing hash"))},N.finish()})})},g}();function h(g){return"string"==typeof g?(0,x.fromUtf8)(g):ArrayBuffer.isView(g)?new Uint8Array(g.buffer,g.byteOffset,g.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(g)}R.Sha256=j},4907:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.WebCryptoSha256=R.Ie11Sha256=void 0,(0,S(9904).__exportStar)(S(1602),R);var a=S(1673);Object.defineProperty(R,"Ie11Sha256",{enumerable:!0,get:function(){return a.Sha256}});var x=S(5717);Object.defineProperty(R,"WebCryptoSha256",{enumerable:!0,get:function(){return x.Sha256}})},7778:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.isEmptyData=void 0,R.isEmptyData=function S(P){return"string"==typeof P?0===P.length:0===P.byteLength}},5717:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.Sha256=void 0;var P=S(9248),a=S(1432),x=S(5468),F=function(){function j(d){this.toHash=new Uint8Array(0),void 0!==d&&(this.key=new Promise(function(h,g){(0,x.locateWindow)().crypto.subtle.importKey("raw",(0,P.convertToBuffer)(d),a.SHA_256_HMAC_ALGO,!1,["sign"]).then(h,g)}),this.key.catch(function(){}))}return j.prototype.update=function(d){if(!(0,P.isEmptyData)(d)){var h=(0,P.convertToBuffer)(d),g=new Uint8Array(this.toHash.byteLength+h.byteLength);g.set(this.toHash,0),g.set(h,this.toHash.byteLength),this.toHash=g}},j.prototype.digest=function(){var d=this;return this.key?this.key.then(function(h){return(0,x.locateWindow)().crypto.subtle.sign(a.SHA_256_HMAC_ALGO,h,d.toHash).then(function(g){return new Uint8Array(g)})}):(0,P.isEmptyData)(this.toHash)?Promise.resolve(a.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,x.locateWindow)().crypto.subtle.digest(a.SHA_256_HASH,d.toHash)}).then(function(h){return Promise.resolve(new Uint8Array(h))})},j}();R.Sha256=F},8313:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.RawSha256=void 0;var P=S(9210),a=function(){function x(){this.state=Int32Array.from(P.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return x.prototype.update=function(F){if(this.finished)throw new Error("Attempted to update an already finished hash.");var j=0,d=F.byteLength;if(this.bytesHashed+=d,8*this.bytesHashed>P.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;d>0;)this.buffer[this.bufferLength++]=F[j++],d--,this.bufferLength===P.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},x.prototype.digest=function(){if(!this.finished){var F=8*this.bytesHashed,j=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),d=this.bufferLength;if(j.setUint8(this.bufferLength++,128),d%P.BLOCK_SIZE>=P.BLOCK_SIZE-8){for(var h=this.bufferLength;h<P.BLOCK_SIZE;h++)j.setUint8(h,0);this.hashBuffer(),this.bufferLength=0}for(h=this.bufferLength;h<P.BLOCK_SIZE-8;h++)j.setUint8(h,0);j.setUint32(P.BLOCK_SIZE-8,Math.floor(F/4294967296),!0),j.setUint32(P.BLOCK_SIZE-4,F),this.hashBuffer(),this.finished=!0}var g=new Uint8Array(P.DIGEST_LENGTH);for(h=0;h<8;h++)g[4*h]=this.state[h]>>>24&255,g[4*h+1]=this.state[h]>>>16&255,g[4*h+2]=this.state[h]>>>8&255,g[4*h+3]=this.state[h]>>>0&255;return g},x.prototype.hashBuffer=function(){for(var j=this.buffer,d=this.state,h=d[0],g=d[1],N=d[2],O=d[3],B=d[4],H=d[5],$=d[6],K=d[7],G=0;G<P.BLOCK_SIZE;G++){if(G<16)this.temp[G]=(255&j[4*G])<<24|(255&j[4*G+1])<<16|(255&j[4*G+2])<<8|255&j[4*G+3];else{var W=this.temp[G-2];this.temp[G]=(((W>>>17|W<<15)^(W>>>19|W<<13)^W>>>10)+this.temp[G-7]|0)+((((W=this.temp[G-15])>>>7|W<<25)^(W>>>18|W<<14)^W>>>3)+this.temp[G-16]|0)}var U=(((B>>>6|B<<26)^(B>>>11|B<<21)^(B>>>25|B<<7))+(B&H^~B&$)|0)+(K+(P.KEY[G]+this.temp[G]|0)|0)|0,z=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&g^h&N^g&N)|0;K=$,$=H,H=B,B=O+U|0,O=N,N=g,g=h,h=U+z|0}d[0]+=h,d[1]+=g,d[2]+=N,d[3]+=O,d[4]+=B,d[5]+=H,d[6]+=$,d[7]+=K},x}();R.RawSha256=a},9210:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.MAX_HASHABLE_LENGTH=R.INIT=R.KEY=R.DIGEST_LENGTH=R.BLOCK_SIZE=void 0,R.BLOCK_SIZE=64,R.DIGEST_LENGTH=32,R.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),R.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],R.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},9985:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),(0,S(7716).__exportStar)(S(769),R)},769:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.Sha256=void 0;var P=S(7716),a=S(9210),x=S(8313),F=S(9248),j=function(){function h(g){if(this.hash=new x.RawSha256,g){this.outer=new x.RawSha256;var N=function d(h){var g=(0,F.convertToBuffer)(h);if(g.byteLength>a.BLOCK_SIZE){var N=new x.RawSha256;N.update(g),g=N.digest()}var O=new Uint8Array(a.BLOCK_SIZE);return O.set(g),O}(g),O=new Uint8Array(a.BLOCK_SIZE);O.set(N);for(var B=0;B<a.BLOCK_SIZE;B++)N[B]^=54,O[B]^=92;for(this.hash.update(N),this.outer.update(O),B=0;B<N.byteLength;B++)N[B]=0}}return h.prototype.update=function(g){if(!(0,F.isEmptyData)(g)&&!this.error)try{this.hash.update((0,F.convertToBuffer)(g))}catch(N){this.error=N}},h.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},h.prototype.digest=function(){return(0,P.__awaiter)(this,void 0,void 0,function(){return(0,P.__generator)(this,function(g){return[2,this.digestSync()]})})},h}();R.Sha256=j},9696:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),(0,S(6187).__exportStar)(S(8022),R)},8022:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.supportsZeroByteGCM=R.supportsSubtleCrypto=R.supportsSecureRandom=R.supportsWebCrypto=void 0;var P=S(6187),a=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function F(h){return"object"==typeof h&&"object"==typeof h.crypto&&"function"==typeof h.crypto.getRandomValues}function j(h){return h&&a.every(function(g){return"function"==typeof h[g]})}R.supportsWebCrypto=function x(h){return!(!F(h)||"object"!=typeof h.crypto.subtle)&&j(h.crypto.subtle)},R.supportsSecureRandom=F,R.supportsSubtleCrypto=j,R.supportsZeroByteGCM=function d(h){return(0,P.__awaiter)(this,void 0,void 0,function(){var g;return(0,P.__generator)(this,function(B){switch(B.label){case 0:if(!j(h))return[2,!1];B.label=1;case 1:return B.trys.push([1,4,,5]),[4,h.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return g=B.sent(),[4,h.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},g,new Uint8Array(0))];case 3:return[2,16===B.sent().byteLength];case 4:return B.sent(),[2,!1];case 5:return[2]}})})}},7388:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.convertToBuffer=void 0;var P=S(1114),a="undefined"!=typeof Buffer&&Buffer.from?function(F){return Buffer.from(F,"utf8")}:P.fromUtf8;R.convertToBuffer=function x(F){return F instanceof Uint8Array?F:"string"==typeof F?a(F):ArrayBuffer.isView(F)?new Uint8Array(F.buffer,F.byteOffset,F.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(F)}},9248:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.uint32ArrayFrom=R.numToUint8=R.isEmptyData=R.convertToBuffer=void 0;var P=S(7388);Object.defineProperty(R,"convertToBuffer",{enumerable:!0,get:function(){return P.convertToBuffer}});var a=S(2885);Object.defineProperty(R,"isEmptyData",{enumerable:!0,get:function(){return a.isEmptyData}});var x=S(7477);Object.defineProperty(R,"numToUint8",{enumerable:!0,get:function(){return x.numToUint8}});var F=S(7476);Object.defineProperty(R,"uint32ArrayFrom",{enumerable:!0,get:function(){return F.uint32ArrayFrom}})},2885:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.isEmptyData=void 0,R.isEmptyData=function S(P){return"string"==typeof P?0===P.length:0===P.byteLength}},7477:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.numToUint8=void 0,R.numToUint8=function S(P){return new Uint8Array([(4278190080&P)>>24,(16711680&P)>>16,(65280&P)>>8,255&P])}},7476:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.uint32ArrayFrom=void 0,R.uint32ArrayFrom=function S(P){if(!Uint32Array.from){for(var a=new Uint32Array(P.length),x=0;x<P.length;)a[x]=P[x],x+=1;return a}return Uint32Array.from(P)}},1114:(we,R,S)=>{S.r(R),S.d(R,{fromUtf8:()=>j,toUtf8:()=>d});var j=function(h){return"function"==typeof TextEncoder?function x(h){return(new TextEncoder).encode(h)}(h):function(h){for(var g=[],N=0,O=h.length;N<O;N++){var B=h.charCodeAt(N);if(B<128)g.push(B);else if(B<2048)g.push(B>>6|192,63&B|128);else if(N+1<h.length&&55296==(64512&B)&&56320==(64512&h.charCodeAt(N+1))){var H=65536+((1023&B)<<10)+(1023&h.charCodeAt(++N));g.push(H>>18|240,H>>12&63|128,H>>6&63|128,63&H|128)}else g.push(B>>12|224,B>>6&63|128,63&B|128)}return Uint8Array.from(g)}(h)},d=function(h){return"function"==typeof TextDecoder?function F(h){return new TextDecoder("utf-8").decode(h)}(h):function(h){for(var g="",N=0,O=h.length;N<O;N++){var B=h[N];if(B<128)g+=String.fromCharCode(B);else if(192<=B&&B<224){var H=h[++N];g+=String.fromCharCode((31&B)<<6|63&H)}else if(240<=B&&B<365){var K="%"+[B,h[++N],h[++N],h[++N]].map(function(G){return G.toString(16)}).join("%");g+=decodeURIComponent(K)}else g+=String.fromCharCode((15&B)<<12|(63&h[++N])<<6|63&h[++N])}return g}(h)}},9653:function(we,R,S){var P=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(R,"__esModule",{value:!0}),R.decodeHTML=R.decodeHTMLStrict=R.decodeXML=void 0;var a=P(S(6086)),x=P(S(2453)),F=P(S(8161)),j=P(S(1653)),d=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function h(O){var B=N(O);return function(H){return String(H).replace(d,B)}}R.decodeXML=h(F.default),R.decodeHTMLStrict=h(a.default);var g=function(O,B){return O<B?1:-1};function N(O){return function(H){if("#"===H.charAt(1)){var $=H.charAt(2);return j.default("X"===$||"x"===$?parseInt(H.substr(3),16):parseInt(H.substr(2),10))}return O[H.slice(1,-1)]||H}}R.decodeHTML=function(){for(var O=Object.keys(x.default).sort(g),B=Object.keys(a.default).sort(g),H=0,$=0;H<B.length;H++)O[$]===B[H]?(B[H]+=";?",$++):B[H]+=";";var K=new RegExp("&(?:"+B.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),G=N(a.default);function W(le){return";"!==le.substr(-1)&&(le+=";"),G(le)}return function(le){return String(le).replace(K,W)}}()},1653:function(we,R,S){var P=this&&this.__importDefault||function(j){return j&&j.__esModule?j:{default:j}};Object.defineProperty(R,"__esModule",{value:!0});var a=P(S(2148)),x=String.fromCodePoint||function(j){var d="";return j>65535&&(j-=65536,d+=String.fromCharCode(j>>>10&1023|55296),j=56320|1023&j),d+String.fromCharCode(j)};R.default=function F(j){return j>=55296&&j<=57343||j>1114111?"\ufffd":(j in a.default&&(j=a.default[j]),x(j))}},5771:function(we,R,S){var P=this&&this.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(R,"__esModule",{value:!0}),R.escapeUTF8=R.escape=R.encodeNonAsciiHTML=R.encodeHTML=R.encodeXML=void 0;var x=g(P(S(8161)).default),F=N(x);R.encodeXML=le(x);var d=g(P(S(6086)).default),h=N(d);function g(L){return Object.keys(L).sort().reduce(function(U,z){return U[L[z]]="&"+z+";",U},{})}function N(L){for(var U=[],z=[],ee=0,ye=Object.keys(L);ee<ye.length;ee++){var be=ye[ee];1===be.length?U.push("\\"+be):z.push(be)}U.sort();for(var pe=0;pe<U.length-1;pe++){for(var y=pe;y<U.length-1&&U[y].charCodeAt(1)+1===U[y+1].charCodeAt(1);)y+=1;var A=1+y-pe;A<3||U.splice(pe,A,U[pe]+"-"+U[y])}return z.unshift("["+U.join("")+"]"),new RegExp(z.join("|"),"g")}R.encodeHTML=function $(L,U){return function(z){return z.replace(U,function(ee){return L[ee]}).replace(O,H)}}(d,h),R.encodeNonAsciiHTML=le(d);var O=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,B=null!=String.prototype.codePointAt?function(L){return L.codePointAt(0)}:function(L){return 1024*(L.charCodeAt(0)-55296)+L.charCodeAt(1)-56320+65536};function H(L){return"&#x"+(L.length>1?B(L):L.charCodeAt(0)).toString(16).toUpperCase()+";"}var K=new RegExp(F.source+"|"+O.source,"g");function le(L){return function(U){return U.replace(K,function(z){return L[z]||H(z)})}}R.escape=function G(L){return L.replace(K,H)},R.escapeUTF8=function W(L){return L.replace(F,H)}},1945:(we,R,S)=>{R.p1=void 0;S(9653),S(5771),S(5771);var g=S(9653);Object.defineProperty(R,"p1",{enumerable:!0,get:function(){return g.decodeHTML}})},5730:(we,R,S)=>{const P=S(9628).buildOptions,a={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(K){return K},attrValueProcessor:function(K){return K}},x=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor"];function F(K){this.options=P(K,a,x),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=H),this.isCDATA=this.options.cdataTagName?$:function(){return!1},this.replaceCDATAstr=j,this.replaceCDATAarr=d,this.options.format?(this.indentate=B,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=O,this.buildObjNode=g):(this.buildTextNode=N,this.buildObjNode=h),this.buildTextValNode=N,this.buildObjectNode=h}function j(K,G){return K=this.options.tagValueProcessor(""+K),""===this.options.cdataPositionChar||""===K?K+"<![CDATA["+G+"]]"+this.tagEndChar:K.replace(this.options.cdataPositionChar,"<![CDATA["+G+"]]"+this.tagEndChar)}function d(K,G){if(K=this.options.tagValueProcessor(""+K),""===this.options.cdataPositionChar||""===K)return K+"<![CDATA["+G.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let W in G)K=K.replace(this.options.cdataPositionChar,"<![CDATA["+G[W]+"]]>");return K+this.newLine}function h(K,G,W,le){return W&&!K.includes("<")?this.indentate(le)+"<"+G+W+">"+K+"</"+G+this.tagEndChar:this.indentate(le)+"<"+G+W+this.tagEndChar+K+this.indentate(le)+"</"+G+this.tagEndChar}function g(K,G,W,le){return""!==K?this.buildObjectNode(K,G,W,le):this.indentate(le)+"<"+G+W+"/"+this.tagEndChar}function N(K,G,W,le){return this.indentate(le)+"<"+G+W+">"+this.options.tagValueProcessor(K)+"</"+G+this.tagEndChar}function O(K,G,W,le){return""!==K?this.buildTextValNode(K,G,W,le):this.indentate(le)+"<"+G+W+"/"+this.tagEndChar}function B(K){return this.options.indentBy.repeat(K)}function H(K){return!!K.startsWith(this.options.attributeNamePrefix)&&K.substr(this.attrPrefixLen)}function $(K){return K===this.options.cdataTagName}F.prototype.parse=function(K){return this.j2x(K,0).val},F.prototype.j2x=function(K,G){let W="",le="";const L=Object.keys(K),U=L.length;for(let z=0;z<U;z++){const ee=L[z];if(void 0!==K[ee])if(null===K[ee])le+=this.indentate(G)+"<"+ee+"/"+this.tagEndChar;else if(K[ee]instanceof Date)le+=this.buildTextNode(K[ee],ee,"",G);else if("object"!=typeof K[ee]){const ye=this.isAttribute(ee);ye?W+=" "+ye+'="'+this.options.attrValueProcessor(""+K[ee])+'"':this.isCDATA(ee)?le+=this.replaceCDATAstr(K[this.options.textNodeName]?K[this.options.textNodeName]:"",K[ee]):ee===this.options.textNodeName?K[this.options.cdataTagName]||(le+=this.options.tagValueProcessor(""+K[ee])):le+=this.buildTextNode(K[ee],ee,"",G)}else if(Array.isArray(K[ee]))if(this.isCDATA(ee))le+=this.indentate(G),le+=this.replaceCDATAarr(K[this.options.textNodeName]?K[this.options.textNodeName]:"",K[ee]);else{const ye=K[ee].length;for(let be=0;be<ye;be++){const pe=K[ee][be];if(void 0!==pe)if(null===pe)le+=this.indentate(G)+"<"+ee+"/"+this.tagEndChar;else if("object"==typeof pe){const y=this.j2x(pe,G+1);le+=this.buildObjNode(y.val,ee,y.attrStr,G)}else le+=this.buildTextNode(pe,ee,"",G)}}else if(this.options.attrNodeName&&ee===this.options.attrNodeName){const ye=Object.keys(K[ee]),be=ye.length;for(let pe=0;pe<be;pe++)W+=" "+ye[pe]+'="'+this.options.attrValueProcessor(""+K[ee][ye[pe]])+'"'}else{const ye=this.j2x(K[ee],G+1);le+=this.buildObjNode(ye.val,ee,ye.attrStr,G)}}return{attrStr:W,val:le}},we.exports=F},6380:(we,R,S)=>{const P=function(H){return String.fromCharCode(H)},a={nilChar:P(176),missingChar:P(201),nilPremitive:P(175),missingPremitive:P(200),emptyChar:P(178),emptyValue:P(177),boundryChar:P(179),objStart:P(198),arrStart:P(204),arrayEnd:P(185)},x=[a.nilChar,a.nilPremitive,a.missingChar,a.missingPremitive,a.boundryChar,a.emptyChar,a.emptyValue,a.arrayEnd,a.objStart,a.arrStart],F=function(H,$,K){if("string"==typeof $)return j(H&&H[0]&&void 0!==H[0].val?H[0].val:H,$);{const G=function g(H){return void 0===H?a.missingChar:null===H?a.nilChar:!(H.child&&0===Object.keys(H.child).length&&(!H.attrsMap||0===Object.keys(H.attrsMap).length))||a.emptyChar}(H);if(!0===G){let W="";if(Array.isArray($)){W+=a.arrStart;const le=$[0],L=H.length;if("string"==typeof le)for(let U=0;U<L;U++){const z=j(H[U].val,le);W=d(W,z)}else for(let U=0;U<L;U++){const z=F(H[U],le,K);W=d(W,z)}W+=a.arrayEnd}else{W+=a.objStart;const le=Object.keys($);Array.isArray(H)&&(H=H[0]);for(let L in le){const U=le[L];let z;z=F(!K.ignoreAttributes&&H.attrsMap&&H.attrsMap[U]?H.attrsMap[U]:U===K.textNodeName?H.val:H.child[U],$[U],K),W=d(W,z)}}return W}return G}},j=function(H){switch(H){case void 0:return a.missingPremitive;case null:return a.nilPremitive;case"":return a.emptyValue;default:return H}},d=function(H,$){return!h($[0])&&!h(H[H.length-1])&&(H+=a.boundryChar),H+$},h=function(H){return-1!==x.indexOf(H)},N=S(8712),O=S(9628).buildOptions;R.convert2nimn=function(H,$,K){return K=O(K,N.defaultOptions,N.props),F(H,$,K)}},4376:(we,R,S)=>{const P=S(9628),a=function(x,F,j){const d={};if((!x.child||P.isEmptyObject(x.child))&&(!x.attrsMap||P.isEmptyObject(x.attrsMap)))return P.isExist(x.val)?x.val:"";if(P.isExist(x.val)&&("string"!=typeof x.val||""!==x.val&&x.val!==F.cdataPositionChar)){const g=P.isTagNameInArrayMode(x.tagname,F.arrayMode,j);d[F.textNodeName]=g?[x.val]:x.val}P.merge(d,x.attrsMap,F.arrayMode);const h=Object.keys(x.child);for(let g=0;g<h.length;g++){const N=h[g];if(x.child[N]&&x.child[N].length>1){d[N]=[];for(let O in x.child[N])x.child[N].hasOwnProperty(O)&&d[N].push(a(x.child[N][O],F,N))}else{const O=a(x.child[N][0],F,N),B=!0===F.arrayMode&&"object"==typeof O||P.isTagNameInArrayMode(N,F.arrayMode,j);d[N]=B?[O]:O}}return d};R.convertToJson=a},3724:(we,R,S)=>{const P=S(9628),a=S(9628).buildOptions,x=S(8712),j=function(g,N,O){let B="{";const H=Object.keys(g.child);for(let G=0;G<H.length;G++){var $=H[G];if(g.child[$]&&g.child[$].length>1){for(var K in B+='"'+$+'" : [ ',g.child[$])B+=j(g.child[$][K],N)+" , ";B=B.substr(0,B.length-1)+" ] "}else B+='"'+$+'" : '+j(g.child[$][0],N)+" ,"}return P.merge(B,g.attrsMap),P.isEmptyObject(B)?P.isExist(g.val)?g.val:"":(P.isExist(g.val)&&("string"==typeof g.val&&(""===g.val||g.val===N.cdataPositionChar)||(B+='"'+N.textNodeName+'" : '+function d(g){return!0!==g&&!1!==g&&isNaN(g)?'"'+g+'"':g}(g.val))),","===B[B.length-1]&&(B=B.substr(0,B.length-2)),B+"}")};R.convertToJsonString=function(g,N){return(N=a(N,x.defaultOptions,x.props)).indentBy=N.indentBy||"",j(g,N,0)}},9083:(we,R,S)=>{const P=S(4376),a=S(8712),x=S(8712),F=S(9628).buildOptions,j=S(4572);R.parse=function(h,g,N){if(N){!0===N&&(N={});const B=j.validate(h,N);if(!0!==B)throw Error(B.err.msg)}g=F(g,x.defaultOptions,x.props);const O=a.getTraversalObj(h,g);return P.convertToJson(O,g)},R.convertTonimn=S(6380).convert2nimn,R.getTraversalObj=a.getTraversalObj,R.convertToJson=P.convertToJson,R.convertToJsonString=S(3724).convertToJsonString,R.validate=j.validate,R.j2xParser=S(5730),R.parseToNimn=function(h,g,N){return R.convertTonimn(R.getTraversalObj(h,N),g,N)}},9628:(we,R)=>{const a="[:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",x=new RegExp("^"+a+"$");R.isExist=function(d){return void 0!==d},R.isEmptyObject=function(d){return 0===Object.keys(d).length},R.merge=function(d,h,g){if(h){const N=Object.keys(h),O=N.length;for(let B=0;B<O;B++)d[N[B]]="strict"===g?[h[N[B]]]:h[N[B]]}},R.getValue=function(d){return R.isExist(d)?d:""},R.buildOptions=function(d,h,g){var N={};if(!d)return h;for(let O=0;O<g.length;O++)N[g[O]]=void 0!==d[g[O]]?d[g[O]]:h[g[O]];return N},R.isTagNameInArrayMode=function(d,h,g){return!1!==h&&(h instanceof RegExp?h.test(d):"function"==typeof h?!!h(d,g):"strict"===h)},R.isName=function(d){return!(null==x.exec(d))},R.getAllMatches=function(d,h){const g=[];let N=h.exec(d);for(;N;){const O=[],B=N.length;for(let H=0;H<B;H++)O.push(N[H]);g.push(O),N=h.exec(d)}return g},R.nameRegexp=a},4572:(we,R,S)=>{const P=S(9628),a={allowBooleanAttributes:!1},x=["allowBooleanAttributes"];function F(L,U){for(var z=U;U<L.length;U++)if("?"==L[U]||" "==L[U]){var ee=L.substr(z,U-z);if(U>5&&"xml"===ee)return $("InvalidXml","XML declaration allowed only at the start of the document.",W(L,U));if("?"==L[U]&&">"==L[U+1]){U++;break}continue}return U}function j(L,U){if(L.length>U+5&&"-"===L[U+1]&&"-"===L[U+2]){for(U+=3;U<L.length;U++)if("-"===L[U]&&"-"===L[U+1]&&">"===L[U+2]){U+=2;break}}else if(L.length>U+8&&"D"===L[U+1]&&"O"===L[U+2]&&"C"===L[U+3]&&"T"===L[U+4]&&"Y"===L[U+5]&&"P"===L[U+6]&&"E"===L[U+7]){let z=1;for(U+=8;U<L.length;U++)if("<"===L[U])z++;else if(">"===L[U]&&(z--,0===z))break}else if(L.length>U+9&&"["===L[U+1]&&"C"===L[U+2]&&"D"===L[U+3]&&"A"===L[U+4]&&"T"===L[U+5]&&"A"===L[U+6]&&"["===L[U+7])for(U+=8;U<L.length;U++)if("]"===L[U]&&"]"===L[U+1]&&">"===L[U+2]){U+=2;break}return U}function g(L,U){let z="",ee="",ye=!1;for(;U<L.length;U++){if('"'===L[U]||"'"===L[U])if(""===ee)ee=L[U];else{if(ee!==L[U])continue;ee=""}else if(">"===L[U]&&""===ee){ye=!0;break}z+=L[U]}return""===ee&&{value:z,index:U,tagClosed:ye}}R.validate=function(L,U){U=P.buildOptions(U,a,x);const z=[];let ee=!1,ye=!1;"\ufeff"===L[0]&&(L=L.substr(1));for(let be=0;be<L.length;be++)if("<"===L[be]&&"?"===L[be+1]){if(be+=2,be=F(L,be),be.err)return be}else{if("<"!==L[be]){if(" "===L[be]||"\t"===L[be]||"\n"===L[be]||"\r"===L[be])continue;return $("InvalidChar","char '"+L[be]+"' is not expected.",W(L,be))}if(be++,"!"===L[be]){be=j(L,be);continue}{let pe=!1;"/"===L[be]&&(pe=!0,be++);let y="";for(;be<L.length&&">"!==L[be]&&" "!==L[be]&&"\t"!==L[be]&&"\n"!==L[be]&&"\r"!==L[be];be++)y+=L[be];if(y=y.trim(),"/"===y[y.length-1]&&(y=y.substring(0,y.length-1),be--),!G(y)){let E;return E=0===y.trim().length?"There is an unnecessary space between tag name and backward slash '</ ..'.":"Tag '"+y+"' is an invalid name.",$("InvalidTag",E,W(L,be))}const A=g(L,be);if(!1===A)return $("InvalidAttr","Attributes for '"+y+"' have open quote.",W(L,be));let _=A.value;if(be=A.index,"/"===_[_.length-1]){_=_.substring(0,_.length-1);const E=O(_,U);if(!0!==E)return $(E.err.code,E.err.msg,W(L,be-_.length+E.err.line));ee=!0}else if(pe){if(!A.tagClosed)return $("InvalidTag","Closing tag '"+y+"' doesn't have proper closing.",W(L,be));if(_.trim().length>0)return $("InvalidTag","Closing tag '"+y+"' can't have attributes or invalid starting.",W(L,be));{const E=z.pop();if(y!==E)return $("InvalidTag","Closing tag '"+E+"' is expected inplace of '"+y+"'.",W(L,be));0==z.length&&(ye=!0)}}else{const E=O(_,U);if(!0!==E)return $(E.err.code,E.err.msg,W(L,be-_.length+E.err.line));if(!0===ye)return $("InvalidXml","Multiple possible root nodes found.",W(L,be));z.push(y),ee=!0}for(be++;be<L.length;be++)if("<"===L[be]){if("!"===L[be+1]){be++,be=j(L,be);continue}if("?"!==L[be+1])break;if(be=F(L,++be),be.err)return be}else if("&"===L[be]){const E=H(L,be);if(-1==E)return $("InvalidChar","char '&' is not expected.",W(L,be));be=E}"<"===L[be]&&be--}}return ee?!(z.length>0)||$("InvalidXml","Invalid '"+JSON.stringify(z,null,4).replace(/\r?\n/g,"")+"' found.",1):$("InvalidXml","Start tag expected.",1)};const N=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function O(L,U){const z=P.getAllMatches(L,N),ee={};for(let ye=0;ye<z.length;ye++){if(0===z[ye][1].length)return $("InvalidAttr","Attribute '"+z[ye][2]+"' has no space in starting.",le(L,z[ye][0]));if(void 0===z[ye][3]&&!U.allowBooleanAttributes)return $("InvalidAttr","boolean attribute '"+z[ye][2]+"' is not allowed.",le(L,z[ye][0]));const be=z[ye][2];if(!K(be))return $("InvalidAttr","Attribute '"+be+"' is an invalid name.",le(L,z[ye][0]));if(ee.hasOwnProperty(be))return $("InvalidAttr","Attribute '"+be+"' is repeated.",le(L,z[ye][0]));ee[be]=1}return!0}function H(L,U){if(";"===L[++U])return-1;if("#"===L[U])return function B(L,U){let z=/\d/;for("x"===L[U]&&(U++,z=/[\da-fA-F]/);U<L.length;U++){if(";"===L[U])return U;if(!L[U].match(z))break}return-1}(L,++U);let z=0;for(;U<L.length;U++,z++)if(!(L[U].match(/\w/)&&z<20)){if(";"===L[U])break;return-1}return U}function $(L,U,z){return{err:{code:L,msg:U,line:z}}}function K(L){return P.isName(L)}function G(L){return P.isName(L)}function W(L,U){return L.substring(0,U).split(/\r?\n/).length}function le(L,U){return L.indexOf(U)+U.length}},2661:we=>{we.exports=function(R,S,P){this.tagname=R,this.parent=S,this.child={},this.attrsMap={},this.val=P,this.addChild=function(a){Array.isArray(this.child[a.tagname])?this.child[a.tagname].push(a):this.child[a.tagname]=[a]}}},8712:(we,R,S)=>{const P=S(9628),a=S(9628).buildOptions,x=S(2661);"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,P.nameRegexp),!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const j={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",tagValueProcessor:function(G,W){return G},attrValueProcessor:function(G,W){return G},stopNodes:[]};R.defaultOptions=j;const d=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","stopNodes"];function h(G,W,le){return W&&(le.trimValues&&(W=W.trim()),W=N(W=le.tagValueProcessor(W,G),le.parseNodeValue,le.parseTrueNumberOnly)),W}function g(G,W){if(W.ignoreNameSpace){const le=G.split(":"),L="/"===G.charAt(0)?"/":"";if("xmlns"===le[0])return"";2===le.length&&(G=L+le[1])}return G}function N(G,W,le){if(W&&"string"==typeof G){let L;return""===G.trim()||isNaN(G)?L="true"===G||"false"!==G&&G:(-1!==G.indexOf("0x")?L=Number.parseInt(G,16):-1!==G.indexOf(".")?(L=Number.parseFloat(G),G=G.replace(/\.?0+$/,"")):L=Number.parseInt(G,10),le&&(L=String(L)===G?L:G)),L}return P.isExist(G)?G:""}R.props=d;const O=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function B(G,W){if(!W.ignoreAttributes&&"string"==typeof G){G=G.replace(/\r?\n/g," ");const le=P.getAllMatches(G,O),L=le.length,U={};for(let z=0;z<L;z++){const ee=g(le[z][1],W);ee.length&&(void 0!==le[z][4]?(W.trimValues&&(le[z][4]=le[z][4].trim()),le[z][4]=W.attrValueProcessor(le[z][4],ee),U[W.attributeNamePrefix+ee]=N(le[z][4],W.parseAttributeValue,W.parseTrueNumberOnly)):W.allowBooleanAttributes&&(U[W.attributeNamePrefix+ee]=!0))}if(!Object.keys(U).length)return;if(W.attrNodeName){const z={};return z[W.attrNodeName]=U,z}return U}}function $(G,W){let le,L="";for(let U=W;U<G.length;U++){let z=G[U];if(le)z===le&&(le="");else if('"'===z||"'"===z)le=z;else{if(">"===z)return{data:L,index:U};"\t"===z&&(z=" ")}L+=z}}function K(G,W,le,L){const U=G.indexOf(W,le);if(-1===U)throw new Error(L);return U+W.length-1}R.getTraversalObj=function(G,W){G=G.replace(/\r\n?/g,"\n"),W=a(W,j,d);const le=new x("!xml");let L=le,U="";for(let z=0;z<G.length;z++)if("<"===G[z])if("/"===G[z+1]){const ye=K(G,">",z,"Closing Tag is not closed.");let be=G.substring(z+2,ye).trim();if(W.ignoreNameSpace){const pe=be.indexOf(":");-1!==pe&&(be=be.substr(pe+1))}L&&(L.val=L.val?P.getValue(L.val)+""+h(be,U,W):h(be,U,W)),W.stopNodes.length&&W.stopNodes.includes(L.tagname)&&(L.child=[],null==L.attrsMap&&(L.attrsMap={}),L.val=G.substr(L.startIndex+1,z-L.startIndex-1)),L=L.parent,U="",z=ye}else if("?"===G[z+1])z=K(G,"?>",z,"Pi Tag is not closed.");else if("!--"===G.substr(z+1,3))z=K(G,"--\x3e",z,"Comment is not closed.");else if("!D"===G.substr(z+1,2)){const ye=K(G,">",z,"DOCTYPE is not closed.");z=G.substring(z,ye).indexOf("[")>=0?G.indexOf("]>",z)+1:ye}else if("!["===G.substr(z+1,2)){const ye=K(G,"]]>",z,"CDATA is not closed.")-2,be=G.substring(z+9,ye);if(U&&(L.val=P.getValue(L.val)+""+h(L.tagname,U,W),U=""),W.cdataTagName){const pe=new x(W.cdataTagName,L,be);L.addChild(pe),L.val=P.getValue(L.val)+W.cdataPositionChar,be&&(pe.val=be)}else L.val=(L.val||"")+(be||"");z=ye+2}else{const ye=$(G,z+1);let be=ye.data;const pe=ye.index,y=be.indexOf(" ");let A=be,_=!0;if(-1!==y&&(A=be.substr(0,y).replace(/\s\s*$/,""),be=be.substr(y+1)),W.ignoreNameSpace){const E=A.indexOf(":");-1!==E&&(A=A.substr(E+1),_=A!==ye.data.substr(E+1))}if(L&&U&&"!xml"!==L.tagname&&(L.val=P.getValue(L.val)+""+h(L.tagname,U,W)),be.length>0&&be.lastIndexOf("/")===be.length-1){"/"===A[A.length-1]?(A=A.substr(0,A.length-1),be=A):be=be.substr(0,be.length-1);const E=new x(A,L,"");A!==be&&(E.attrsMap=B(be,W)),L.addChild(E)}else{const E=new x(A,L);W.stopNodes.length&&W.stopNodes.includes(E.tagname)&&(E.startIndex=pe),A!==be&&_&&(E.attrsMap=B(be,W)),L.addChild(E),L=E}U="",z=pe}else U+=G[z];return le}},325:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.AwsCrc32=void 0;var P=S(9622),a=S(3231),x=S(7502),F=function(){function j(){this.crc32=new x.Crc32}return j.prototype.update=function(d){(0,a.isEmptyData)(d)||this.crc32.update((0,a.convertToBuffer)(d))},j.prototype.digest=function(){return(0,P.__awaiter)(this,void 0,void 0,function(){return(0,P.__generator)(this,function(d){return[2,(0,a.numToUint8)(this.crc32.digest())]})})},j}();R.AwsCrc32=F},7502:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.AwsCrc32=R.Crc32=R.crc32=void 0;var P=S(9622),a=S(3231);R.crc32=function x(g){return(new F).update(g).digest()};var F=function(){function g(){this.checksum=4294967295}return g.prototype.update=function(N){var O,B;try{for(var H=(0,P.__values)(N),$=H.next();!$.done;$=H.next())this.checksum=this.checksum>>>8^d[255&(this.checksum^$.value)]}catch(G){O={error:G}}finally{try{$&&!$.done&&(B=H.return)&&B.call(H)}finally{if(O)throw O.error}}return this},g.prototype.digest=function(){return(4294967295^this.checksum)>>>0},g}();R.Crc32=F;var d=(0,a.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),h=S(325);Object.defineProperty(R,"AwsCrc32",{enumerable:!0,get:function(){return h.AwsCrc32}})},927:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.convertToBuffer=void 0;var P=S(2093),a="undefined"!=typeof Buffer&&Buffer.from?function(F){return Buffer.from(F,"utf8")}:P.fromUtf8;R.convertToBuffer=function x(F){return F instanceof Uint8Array?F:"string"==typeof F?a(F):ArrayBuffer.isView(F)?new Uint8Array(F.buffer,F.byteOffset,F.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(F)}},3231:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.uint32ArrayFrom=R.numToUint8=R.isEmptyData=R.convertToBuffer=void 0;var P=S(927);Object.defineProperty(R,"convertToBuffer",{enumerable:!0,get:function(){return P.convertToBuffer}});var a=S(3526);Object.defineProperty(R,"isEmptyData",{enumerable:!0,get:function(){return a.isEmptyData}});var x=S(1872);Object.defineProperty(R,"numToUint8",{enumerable:!0,get:function(){return x.numToUint8}});var F=S(6236);Object.defineProperty(R,"uint32ArrayFrom",{enumerable:!0,get:function(){return F.uint32ArrayFrom}})},3526:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.isEmptyData=void 0,R.isEmptyData=function S(P){return"string"==typeof P?0===P.length:0===P.byteLength}},1872:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.numToUint8=void 0,R.numToUint8=function S(P){return new Uint8Array([(4278190080&P)>>24,(16711680&P)>>16,(65280&P)>>8,255&P])}},6236:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.uint32ArrayFrom=void 0,R.uint32ArrayFrom=function S(P){if(!Uint32Array.from){for(var a=new Uint32Array(P.length),x=0;x<P.length;)a[x]=P[x],x+=1;return a}return Uint32Array.from(P)}},2063:(we,R,S)=>{var a=S(2173),x=S(4920),F="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;R.lW=g,R.h2=50;var j=2147483647;function h(X){if(X>j)throw new RangeError('The value "'+X+'" is invalid for option "size"');var V=new Uint8Array(X);return Object.setPrototypeOf(V,g.prototype),V}function g(X,V,Q){if("number"==typeof X){if("string"==typeof V)throw new TypeError('The "string" argument must be of type string. Received type number');return H(X)}return N(X,V,Q)}function N(X,V,Q){if("string"==typeof X)return function $(X,V){if(("string"!=typeof V||""===V)&&(V="utf8"),!g.isEncoding(V))throw new TypeError("Unknown encoding: "+V);var Q=0|U(X,V),me=h(Q),Fe=me.write(X,V);return Fe!==Q&&(me=me.slice(0,Fe)),me}(X,V);if(ArrayBuffer.isView(X))return K(X);if(null==X)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof X);if(ge(X,ArrayBuffer)||X&&ge(X.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(ge(X,SharedArrayBuffer)||X&&ge(X.buffer,SharedArrayBuffer)))return function G(X,V,Q){if(V<0||X.byteLength<V)throw new RangeError('"offset" is outside of buffer bounds');if(X.byteLength<V+(Q||0))throw new RangeError('"length" is outside of buffer bounds');var me;return me=void 0===V&&void 0===Q?new Uint8Array(X):void 0===Q?new Uint8Array(X,V):new Uint8Array(X,V,Q),Object.setPrototypeOf(me,g.prototype),me}(X,V,Q);if("number"==typeof X)throw new TypeError('The "value" argument must not be of type number. Received type number');var me=X.valueOf&&X.valueOf();if(null!=me&&me!==X)return g.from(me,V,Q);var Fe=function W(X){if(g.isBuffer(X)){var V=0|le(X.length),Q=h(V);return 0===Q.length||X.copy(Q,0,0,V),Q}return void 0!==X.length?"number"!=typeof X.length||rt(X.length)?h(0):K(X):"Buffer"===X.type&&Array.isArray(X.data)?K(X.data):void 0}(X);if(Fe)return Fe;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof X[Symbol.toPrimitive])return g.from(X[Symbol.toPrimitive]("string"),V,Q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof X)}function O(X){if("number"!=typeof X)throw new TypeError('"size" argument must be of type number');if(X<0)throw new RangeError('The value "'+X+'" is invalid for option "size"')}function H(X){return O(X),h(X<0?0:0|le(X))}function K(X){for(var V=X.length<0?0:0|le(X.length),Q=h(V),me=0;me<V;me+=1)Q[me]=255&X[me];return Q}function le(X){if(X>=j)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+j.toString(16)+" bytes");return 0|X}function U(X,V){if(g.isBuffer(X))return X.length;if(ArrayBuffer.isView(X)||ge(X,ArrayBuffer))return X.byteLength;if("string"!=typeof X)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof X);var Q=X.length,me=arguments.length>2&&!0===arguments[2];if(!me&&0===Q)return 0;for(var Fe=!1;;)switch(V){case"ascii":case"latin1":case"binary":return Q;case"utf8":case"utf-8":return te(X).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Q;case"hex":return Q>>>1;case"base64":return Le(X).length;default:if(Fe)return me?-1:te(X).length;V=(""+V).toLowerCase(),Fe=!0}}function z(X,V,Q){var me=!1;if((void 0===V||V<0)&&(V=0),V>this.length||((void 0===Q||Q>this.length)&&(Q=this.length),Q<=0)||(Q>>>=0)<=(V>>>=0))return"";for(X||(X="utf8");;)switch(X){case"hex":return ot(this,V,Q);case"utf8":case"utf-8":return ne(this,V,Q);case"ascii":return ae(this,V,Q);case"latin1":case"binary":return ze(this,V,Q);case"base64":return I(this,V,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ne(this,V,Q);default:if(me)throw new TypeError("Unknown encoding: "+X);X=(X+"").toLowerCase(),me=!0}}function ee(X,V,Q){var me=X[V];X[V]=X[Q],X[Q]=me}function ye(X,V,Q,me,Fe){if(0===X.length)return-1;if("string"==typeof Q?(me=Q,Q=0):Q>2147483647?Q=2147483647:Q<-2147483648&&(Q=-2147483648),rt(Q=+Q)&&(Q=Fe?0:X.length-1),Q<0&&(Q=X.length+Q),Q>=X.length){if(Fe)return-1;Q=X.length-1}else if(Q<0){if(!Fe)return-1;Q=0}if("string"==typeof V&&(V=g.from(V,me)),g.isBuffer(V))return 0===V.length?-1:be(X,V,Q,me,Fe);if("number"==typeof V)return V&=255,"function"==typeof Uint8Array.prototype.indexOf?Fe?Uint8Array.prototype.indexOf.call(X,V,Q):Uint8Array.prototype.lastIndexOf.call(X,V,Q):be(X,[V],Q,me,Fe);throw new TypeError("val must be string, number or Buffer")}function be(X,V,Q,me,Fe){var kt,He=1,et=X.length,vt=V.length;if(void 0!==me&&("ucs2"===(me=String(me).toLowerCase())||"ucs-2"===me||"utf16le"===me||"utf-16le"===me)){if(X.length<2||V.length<2)return-1;He=2,et/=2,vt/=2,Q/=2}function xt(Gt,Rt){return 1===He?Gt[Rt]:Gt.readUInt16BE(Rt*He)}if(Fe){var Jt=-1;for(kt=Q;kt<et;kt++)if(xt(X,kt)===xt(V,-1===Jt?0:kt-Jt)){if(-1===Jt&&(Jt=kt),kt-Jt+1===vt)return Jt*He}else-1!==Jt&&(kt-=kt-Jt),Jt=-1}else for(Q+vt>et&&(Q=et-vt),kt=Q;kt>=0;kt--){for(var xe=!0,xn=0;xn<vt;xn++)if(xt(X,kt+xn)!==xt(V,xn)){xe=!1;break}if(xe)return kt}return-1}function pe(X,V,Q,me){Q=Number(Q)||0;var Fe=X.length-Q;me?(me=Number(me))>Fe&&(me=Fe):me=Fe;var He=V.length;me>He/2&&(me=He/2);for(var et=0;et<me;++et){var vt=parseInt(V.substr(2*et,2),16);if(rt(vt))return et;X[Q+et]=vt}return et}function y(X,V,Q,me){return ce(te(V,X.length-Q),X,Q,me)}function A(X,V,Q,me){return ce(function se(X){for(var V=[],Q=0;Q<X.length;++Q)V.push(255&X.charCodeAt(Q));return V}(V),X,Q,me)}function _(X,V,Q,me){return A(X,V,Q,me)}function E(X,V,Q,me){return ce(Le(V),X,Q,me)}function M(X,V,Q,me){return ce(function Pe(X,V){for(var Q,me,He=[],et=0;et<X.length&&!((V-=2)<0);++et)me=(Q=X.charCodeAt(et))>>8,He.push(Q%256),He.push(me);return He}(V,X.length-Q),X,Q,me)}function I(X,V,Q){return a.fromByteArray(0===V&&Q===X.length?X:X.slice(V,Q))}function ne(X,V,Q){Q=Math.min(X.length,Q);for(var me=[],Fe=V;Fe<Q;){var xt,kt,Jt,xe,He=X[Fe],et=null,vt=He>239?4:He>223?3:He>191?2:1;if(Fe+vt<=Q)switch(vt){case 1:He<128&&(et=He);break;case 2:128==(192&(xt=X[Fe+1]))&&(xe=(31&He)<<6|63&xt)>127&&(et=xe);break;case 3:kt=X[Fe+2],128==(192&(xt=X[Fe+1]))&&128==(192&kt)&&(xe=(15&He)<<12|(63&xt)<<6|63&kt)>2047&&(xe<55296||xe>57343)&&(et=xe);break;case 4:kt=X[Fe+2],Jt=X[Fe+3],128==(192&(xt=X[Fe+1]))&&128==(192&kt)&&128==(192&Jt)&&(xe=(15&He)<<18|(63&xt)<<12|(63&kt)<<6|63&Jt)>65535&&xe<1114112&&(et=xe)}null===et?(et=65533,vt=1):et>65535&&(me.push((et-=65536)>>>10&1023|55296),et=56320|1023&et),me.push(et),Fe+=vt}return function Ve(X){var V=X.length;if(V<=4096)return String.fromCharCode.apply(String,X);for(var Q="",me=0;me<V;)Q+=String.fromCharCode.apply(String,X.slice(me,me+=4096));return Q}(me)}function ae(X,V,Q){var me="";Q=Math.min(X.length,Q);for(var Fe=V;Fe<Q;++Fe)me+=String.fromCharCode(127&X[Fe]);return me}function ze(X,V,Q){var me="";Q=Math.min(X.length,Q);for(var Fe=V;Fe<Q;++Fe)me+=String.fromCharCode(X[Fe]);return me}function ot(X,V,Q){var me=X.length;(!V||V<0)&&(V=0),(!Q||Q<0||Q>me)&&(Q=me);for(var Fe="",He=V;He<Q;++He)Fe+=_e[X[He]];return Fe}function Ne(X,V,Q){for(var me=X.slice(V,Q),Fe="",He=0;He<me.length;He+=2)Fe+=String.fromCharCode(me[He]+256*me[He+1]);return Fe}function Ye(X,V,Q){if(X%1!=0||X<0)throw new RangeError("offset is not uint");if(X+V>Q)throw new RangeError("Trying to access beyond buffer length")}function Ze(X,V,Q,me,Fe,He){if(!g.isBuffer(X))throw new TypeError('"buffer" argument must be a Buffer instance');if(V>Fe||V<He)throw new RangeError('"value" argument is out of bounds');if(Q+me>X.length)throw new RangeError("Index out of range")}function ft(X,V,Q,me,Fe,He){if(Q+me>X.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("Index out of range")}function nt(X,V,Q,me,Fe){return V=+V,Q>>>=0,Fe||ft(X,0,Q,4),x.write(X,V,Q,me,23,4),Q+4}function Be(X,V,Q,me,Fe){return V=+V,Q>>>=0,Fe||ft(X,0,Q,8),x.write(X,V,Q,me,52,8),Q+8}!(g.TYPED_ARRAY_SUPPORT=function d(){try{var X=new Uint8Array(1),V={foo:function(){return 42}};return Object.setPrototypeOf(V,Uint8Array.prototype),Object.setPrototypeOf(X,V),42===X.foo()}catch{return!1}}())&&"undefined"!=typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}}),g.poolSize=8192,g.from=function(X,V,Q){return N(X,V,Q)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array),g.alloc=function(X,V,Q){return function B(X,V,Q){return O(X),X<=0?h(X):void 0!==V?"string"==typeof Q?h(X).fill(V,Q):h(X).fill(V):h(X)}(X,V,Q)},g.allocUnsafe=function(X){return H(X)},g.allocUnsafeSlow=function(X){return H(X)},g.isBuffer=function(V){return null!=V&&!0===V._isBuffer&&V!==g.prototype},g.compare=function(V,Q){if(ge(V,Uint8Array)&&(V=g.from(V,V.offset,V.byteLength)),ge(Q,Uint8Array)&&(Q=g.from(Q,Q.offset,Q.byteLength)),!g.isBuffer(V)||!g.isBuffer(Q))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(V===Q)return 0;for(var me=V.length,Fe=Q.length,He=0,et=Math.min(me,Fe);He<et;++He)if(V[He]!==Q[He]){me=V[He],Fe=Q[He];break}return me<Fe?-1:Fe<me?1:0},g.isEncoding=function(V){switch(String(V).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(V,Q){if(!Array.isArray(V))throw new TypeError('"list" argument must be an Array of Buffers');if(0===V.length)return g.alloc(0);var me;if(void 0===Q)for(Q=0,me=0;me<V.length;++me)Q+=V[me].length;var Fe=g.allocUnsafe(Q),He=0;for(me=0;me<V.length;++me){var et=V[me];if(ge(et,Uint8Array)&&(et=g.from(et)),!g.isBuffer(et))throw new TypeError('"list" argument must be an Array of Buffers');et.copy(Fe,He),He+=et.length}return Fe},g.byteLength=U,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var V=this.length;if(V%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Q=0;Q<V;Q+=2)ee(this,Q,Q+1);return this},g.prototype.swap32=function(){var V=this.length;if(V%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Q=0;Q<V;Q+=4)ee(this,Q,Q+3),ee(this,Q+1,Q+2);return this},g.prototype.swap64=function(){var V=this.length;if(V%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Q=0;Q<V;Q+=8)ee(this,Q,Q+7),ee(this,Q+1,Q+6),ee(this,Q+2,Q+5),ee(this,Q+3,Q+4);return this},g.prototype.toLocaleString=g.prototype.toString=function(){var V=this.length;return 0===V?"":0===arguments.length?ne(this,0,V):z.apply(this,arguments)},g.prototype.equals=function(V){if(!g.isBuffer(V))throw new TypeError("Argument must be a Buffer");return this===V||0===g.compare(this,V)},g.prototype.inspect=function(){var V="",Q=R.h2;return V=this.toString("hex",0,Q).replace(/(.{2})/g,"$1 ").trim(),this.length>Q&&(V+=" ... "),"<Buffer "+V+">"},F&&(g.prototype[F]=g.prototype.inspect),g.prototype.compare=function(V,Q,me,Fe,He){if(ge(V,Uint8Array)&&(V=g.from(V,V.offset,V.byteLength)),!g.isBuffer(V))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof V);if(void 0===Q&&(Q=0),void 0===me&&(me=V?V.length:0),void 0===Fe&&(Fe=0),void 0===He&&(He=this.length),Q<0||me>V.length||Fe<0||He>this.length)throw new RangeError("out of range index");if(Fe>=He&&Q>=me)return 0;if(Fe>=He)return-1;if(Q>=me)return 1;if(this===V)return 0;for(var et=(He>>>=0)-(Fe>>>=0),vt=(me>>>=0)-(Q>>>=0),xt=Math.min(et,vt),kt=this.slice(Fe,He),Jt=V.slice(Q,me),xe=0;xe<xt;++xe)if(kt[xe]!==Jt[xe]){et=kt[xe],vt=Jt[xe];break}return et<vt?-1:vt<et?1:0},g.prototype.includes=function(V,Q,me){return-1!==this.indexOf(V,Q,me)},g.prototype.indexOf=function(V,Q,me){return ye(this,V,Q,me,!0)},g.prototype.lastIndexOf=function(V,Q,me){return ye(this,V,Q,me,!1)},g.prototype.write=function(V,Q,me,Fe){if(void 0===Q)Fe="utf8",me=this.length,Q=0;else if(void 0===me&&"string"==typeof Q)Fe=Q,me=this.length,Q=0;else{if(!isFinite(Q))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Q>>>=0,isFinite(me)?(me>>>=0,void 0===Fe&&(Fe="utf8")):(Fe=me,me=void 0)}var He=this.length-Q;if((void 0===me||me>He)&&(me=He),V.length>0&&(me<0||Q<0)||Q>this.length)throw new RangeError("Attempt to write outside buffer bounds");Fe||(Fe="utf8");for(var et=!1;;)switch(Fe){case"hex":return pe(this,V,Q,me);case"utf8":case"utf-8":return y(this,V,Q,me);case"ascii":return A(this,V,Q,me);case"latin1":case"binary":return _(this,V,Q,me);case"base64":return E(this,V,Q,me);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,V,Q,me);default:if(et)throw new TypeError("Unknown encoding: "+Fe);Fe=(""+Fe).toLowerCase(),et=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},g.prototype.slice=function(V,Q){var me=this.length;(V=~~V)<0?(V+=me)<0&&(V=0):V>me&&(V=me),(Q=void 0===Q?me:~~Q)<0?(Q+=me)<0&&(Q=0):Q>me&&(Q=me),Q<V&&(Q=V);var Fe=this.subarray(V,Q);return Object.setPrototypeOf(Fe,g.prototype),Fe},g.prototype.readUIntLE=function(V,Q,me){V>>>=0,Q>>>=0,me||Ye(V,Q,this.length);for(var Fe=this[V],He=1,et=0;++et<Q&&(He*=256);)Fe+=this[V+et]*He;return Fe},g.prototype.readUIntBE=function(V,Q,me){V>>>=0,Q>>>=0,me||Ye(V,Q,this.length);for(var Fe=this[V+--Q],He=1;Q>0&&(He*=256);)Fe+=this[V+--Q]*He;return Fe},g.prototype.readUInt8=function(V,Q){return V>>>=0,Q||Ye(V,1,this.length),this[V]},g.prototype.readUInt16LE=function(V,Q){return V>>>=0,Q||Ye(V,2,this.length),this[V]|this[V+1]<<8},g.prototype.readUInt16BE=function(V,Q){return V>>>=0,Q||Ye(V,2,this.length),this[V]<<8|this[V+1]},g.prototype.readUInt32LE=function(V,Q){return V>>>=0,Q||Ye(V,4,this.length),(this[V]|this[V+1]<<8|this[V+2]<<16)+16777216*this[V+3]},g.prototype.readUInt32BE=function(V,Q){return V>>>=0,Q||Ye(V,4,this.length),16777216*this[V]+(this[V+1]<<16|this[V+2]<<8|this[V+3])},g.prototype.readIntLE=function(V,Q,me){V>>>=0,Q>>>=0,me||Ye(V,Q,this.length);for(var Fe=this[V],He=1,et=0;++et<Q&&(He*=256);)Fe+=this[V+et]*He;return Fe>=(He*=128)&&(Fe-=Math.pow(2,8*Q)),Fe},g.prototype.readIntBE=function(V,Q,me){V>>>=0,Q>>>=0,me||Ye(V,Q,this.length);for(var Fe=Q,He=1,et=this[V+--Fe];Fe>0&&(He*=256);)et+=this[V+--Fe]*He;return et>=(He*=128)&&(et-=Math.pow(2,8*Q)),et},g.prototype.readInt8=function(V,Q){return V>>>=0,Q||Ye(V,1,this.length),128&this[V]?-1*(255-this[V]+1):this[V]},g.prototype.readInt16LE=function(V,Q){V>>>=0,Q||Ye(V,2,this.length);var me=this[V]|this[V+1]<<8;return 32768&me?4294901760|me:me},g.prototype.readInt16BE=function(V,Q){V>>>=0,Q||Ye(V,2,this.length);var me=this[V+1]|this[V]<<8;return 32768&me?4294901760|me:me},g.prototype.readInt32LE=function(V,Q){return V>>>=0,Q||Ye(V,4,this.length),this[V]|this[V+1]<<8|this[V+2]<<16|this[V+3]<<24},g.prototype.readInt32BE=function(V,Q){return V>>>=0,Q||Ye(V,4,this.length),this[V]<<24|this[V+1]<<16|this[V+2]<<8|this[V+3]},g.prototype.readFloatLE=function(V,Q){return V>>>=0,Q||Ye(V,4,this.length),x.read(this,V,!0,23,4)},g.prototype.readFloatBE=function(V,Q){return V>>>=0,Q||Ye(V,4,this.length),x.read(this,V,!1,23,4)},g.prototype.readDoubleLE=function(V,Q){return V>>>=0,Q||Ye(V,8,this.length),x.read(this,V,!0,52,8)},g.prototype.readDoubleBE=function(V,Q){return V>>>=0,Q||Ye(V,8,this.length),x.read(this,V,!1,52,8)},g.prototype.writeUIntLE=function(V,Q,me,Fe){V=+V,Q>>>=0,me>>>=0,Fe||Ze(this,V,Q,me,Math.pow(2,8*me)-1,0);var et=1,vt=0;for(this[Q]=255&V;++vt<me&&(et*=256);)this[Q+vt]=V/et&255;return Q+me},g.prototype.writeUIntBE=function(V,Q,me,Fe){V=+V,Q>>>=0,me>>>=0,Fe||Ze(this,V,Q,me,Math.pow(2,8*me)-1,0);var et=me-1,vt=1;for(this[Q+et]=255&V;--et>=0&&(vt*=256);)this[Q+et]=V/vt&255;return Q+me},g.prototype.writeUInt8=function(V,Q,me){return V=+V,Q>>>=0,me||Ze(this,V,Q,1,255,0),this[Q]=255&V,Q+1},g.prototype.writeUInt16LE=function(V,Q,me){return V=+V,Q>>>=0,me||Ze(this,V,Q,2,65535,0),this[Q]=255&V,this[Q+1]=V>>>8,Q+2},g.prototype.writeUInt16BE=function(V,Q,me){return V=+V,Q>>>=0,me||Ze(this,V,Q,2,65535,0),this[Q]=V>>>8,this[Q+1]=255&V,Q+2},g.prototype.writeUInt32LE=function(V,Q,me){return V=+V,Q>>>=0,me||Ze(this,V,Q,4,4294967295,0),this[Q+3]=V>>>24,this[Q+2]=V>>>16,this[Q+1]=V>>>8,this[Q]=255&V,Q+4},g.prototype.writeUInt32BE=function(V,Q,me){return V=+V,Q>>>=0,me||Ze(this,V,Q,4,4294967295,0),this[Q]=V>>>24,this[Q+1]=V>>>16,this[Q+2]=V>>>8,this[Q+3]=255&V,Q+4},g.prototype.writeIntLE=function(V,Q,me,Fe){if(V=+V,Q>>>=0,!Fe){var He=Math.pow(2,8*me-1);Ze(this,V,Q,me,He-1,-He)}var et=0,vt=1,xt=0;for(this[Q]=255&V;++et<me&&(vt*=256);)V<0&&0===xt&&0!==this[Q+et-1]&&(xt=1),this[Q+et]=(V/vt>>0)-xt&255;return Q+me},g.prototype.writeIntBE=function(V,Q,me,Fe){if(V=+V,Q>>>=0,!Fe){var He=Math.pow(2,8*me-1);Ze(this,V,Q,me,He-1,-He)}var et=me-1,vt=1,xt=0;for(this[Q+et]=255&V;--et>=0&&(vt*=256);)V<0&&0===xt&&0!==this[Q+et+1]&&(xt=1),this[Q+et]=(V/vt>>0)-xt&255;return Q+me},g.prototype.writeInt8=function(V,Q,me){return V=+V,Q>>>=0,me||Ze(this,V,Q,1,127,-128),V<0&&(V=255+V+1),this[Q]=255&V,Q+1},g.prototype.writeInt16LE=function(V,Q,me){return V=+V,Q>>>=0,me||Ze(this,V,Q,2,32767,-32768),this[Q]=255&V,this[Q+1]=V>>>8,Q+2},g.prototype.writeInt16BE=function(V,Q,me){return V=+V,Q>>>=0,me||Ze(this,V,Q,2,32767,-32768),this[Q]=V>>>8,this[Q+1]=255&V,Q+2},g.prototype.writeInt32LE=function(V,Q,me){return V=+V,Q>>>=0,me||Ze(this,V,Q,4,2147483647,-2147483648),this[Q]=255&V,this[Q+1]=V>>>8,this[Q+2]=V>>>16,this[Q+3]=V>>>24,Q+4},g.prototype.writeInt32BE=function(V,Q,me){return V=+V,Q>>>=0,me||Ze(this,V,Q,4,2147483647,-2147483648),V<0&&(V=4294967295+V+1),this[Q]=V>>>24,this[Q+1]=V>>>16,this[Q+2]=V>>>8,this[Q+3]=255&V,Q+4},g.prototype.writeFloatLE=function(V,Q,me){return nt(this,V,Q,!0,me)},g.prototype.writeFloatBE=function(V,Q,me){return nt(this,V,Q,!1,me)},g.prototype.writeDoubleLE=function(V,Q,me){return Be(this,V,Q,!0,me)},g.prototype.writeDoubleBE=function(V,Q,me){return Be(this,V,Q,!1,me)},g.prototype.copy=function(V,Q,me,Fe){if(!g.isBuffer(V))throw new TypeError("argument should be a Buffer");if(me||(me=0),!Fe&&0!==Fe&&(Fe=this.length),Q>=V.length&&(Q=V.length),Q||(Q=0),Fe>0&&Fe<me&&(Fe=me),Fe===me||0===V.length||0===this.length)return 0;if(Q<0)throw new RangeError("targetStart out of bounds");if(me<0||me>=this.length)throw new RangeError("Index out of range");if(Fe<0)throw new RangeError("sourceEnd out of bounds");Fe>this.length&&(Fe=this.length),V.length-Q<Fe-me&&(Fe=V.length-Q+me);var He=Fe-me;if(this===V&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(Q,me,Fe);else if(this===V&&me<Q&&Q<Fe)for(var et=He-1;et>=0;--et)V[et+Q]=this[et+me];else Uint8Array.prototype.set.call(V,this.subarray(me,Fe),Q);return He},g.prototype.fill=function(V,Q,me,Fe){if("string"==typeof V){if("string"==typeof Q?(Fe=Q,Q=0,me=this.length):"string"==typeof me&&(Fe=me,me=this.length),void 0!==Fe&&"string"!=typeof Fe)throw new TypeError("encoding must be a string");if("string"==typeof Fe&&!g.isEncoding(Fe))throw new TypeError("Unknown encoding: "+Fe);if(1===V.length){var He=V.charCodeAt(0);("utf8"===Fe&&He<128||"latin1"===Fe)&&(V=He)}}else"number"==typeof V?V&=255:"boolean"==typeof V&&(V=Number(V));if(Q<0||this.length<Q||this.length<me)throw new RangeError("Out of range index");if(me<=Q)return this;var et;if(Q>>>=0,me=void 0===me?this.length:me>>>0,V||(V=0),"number"==typeof V)for(et=Q;et<me;++et)this[et]=V;else{var vt=g.isBuffer(V)?V:g.from(V,Fe),xt=vt.length;if(0===xt)throw new TypeError('The value "'+V+'" is invalid for argument "value"');for(et=0;et<me-Q;++et)this[et+Q]=vt[et%xt]}return this};var it=/[^+/0-9A-Za-z-_]/g;function te(X,V){V=V||1/0;for(var Q,me=X.length,Fe=null,He=[],et=0;et<me;++et){if((Q=X.charCodeAt(et))>55295&&Q<57344){if(!Fe){if(Q>56319){(V-=3)>-1&&He.push(239,191,189);continue}if(et+1===me){(V-=3)>-1&&He.push(239,191,189);continue}Fe=Q;continue}if(Q<56320){(V-=3)>-1&&He.push(239,191,189),Fe=Q;continue}Q=65536+(Fe-55296<<10|Q-56320)}else Fe&&(V-=3)>-1&&He.push(239,191,189);if(Fe=null,Q<128){if((V-=1)<0)break;He.push(Q)}else if(Q<2048){if((V-=2)<0)break;He.push(Q>>6|192,63&Q|128)}else if(Q<65536){if((V-=3)<0)break;He.push(Q>>12|224,Q>>6&63|128,63&Q|128)}else{if(!(Q<1114112))throw new Error("Invalid code point");if((V-=4)<0)break;He.push(Q>>18|240,Q>>12&63|128,Q>>6&63|128,63&Q|128)}}return He}function Le(X){return a.toByteArray(function de(X){if((X=(X=X.split("=")[0]).trim().replace(it,"")).length<2)return"";for(;X.length%4!=0;)X+="=";return X}(X))}function ce(X,V,Q,me){for(var Fe=0;Fe<me&&!(Fe+Q>=V.length||Fe>=X.length);++Fe)V[Fe+Q]=X[Fe];return Fe}function ge(X,V){return X instanceof V||null!=X&&null!=X.constructor&&null!=X.constructor.name&&X.constructor.name===V.name}function rt(X){return X!=X}var _e=function(){for(var X="0123456789abcdef",V=new Array(256),Q=0;Q<16;++Q)for(var me=16*Q,Fe=0;Fe<16;++Fe)V[me+Fe]=X[Q]+X[Fe];return V}()},7086:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.AwsCrc32=void 0;var P=S(2220),a=S(2670),x=S(2562),F=function(){function j(){this.crc32=new x.Crc32}return j.prototype.update=function(d){(0,a.isEmptyData)(d)||this.crc32.update((0,a.convertToBuffer)(d))},j.prototype.digest=function(){return(0,P.__awaiter)(this,void 0,void 0,function(){return(0,P.__generator)(this,function(d){return[2,(0,a.numToUint8)(this.crc32.digest())]})})},j}();R.AwsCrc32=F},2562:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.AwsCrc32=R.Crc32=R.crc32=void 0;var P=S(2220),a=S(2670);R.crc32=function x(g){return(new F).update(g).digest()};var F=function(){function g(){this.checksum=4294967295}return g.prototype.update=function(N){var O,B;try{for(var H=(0,P.__values)(N),$=H.next();!$.done;$=H.next())this.checksum=this.checksum>>>8^d[255&(this.checksum^$.value)]}catch(G){O={error:G}}finally{try{$&&!$.done&&(B=H.return)&&B.call(H)}finally{if(O)throw O.error}}return this},g.prototype.digest=function(){return(4294967295^this.checksum)>>>0},g}();R.Crc32=F;var d=(0,a.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),h=S(7086);Object.defineProperty(R,"AwsCrc32",{enumerable:!0,get:function(){return h.AwsCrc32}})},6137:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.convertToBuffer=void 0;var P=S(2093),a="undefined"!=typeof Buffer&&Buffer.from?function(F){return Buffer.from(F,"utf8")}:P.fromUtf8;R.convertToBuffer=function x(F){return F instanceof Uint8Array?F:"string"==typeof F?a(F):ArrayBuffer.isView(F)?new Uint8Array(F.buffer,F.byteOffset,F.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(F)}},2670:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.uint32ArrayFrom=R.numToUint8=R.isEmptyData=R.convertToBuffer=void 0;var P=S(6137);Object.defineProperty(R,"convertToBuffer",{enumerable:!0,get:function(){return P.convertToBuffer}});var a=S(5411);Object.defineProperty(R,"isEmptyData",{enumerable:!0,get:function(){return a.isEmptyData}});var x=S(7186);Object.defineProperty(R,"numToUint8",{enumerable:!0,get:function(){return x.numToUint8}});var F=S(3823);Object.defineProperty(R,"uint32ArrayFrom",{enumerable:!0,get:function(){return F.uint32ArrayFrom}})},5411:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.isEmptyData=void 0,R.isEmptyData=function S(P){return"string"==typeof P?0===P.length:0===P.byteLength}},7186:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.numToUint8=void 0,R.numToUint8=function S(P){return new Uint8Array([(4278190080&P)>>24,(16711680&P)>>16,(65280&P)>>8,255&P])}},3823:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.uint32ArrayFrom=void 0,R.uint32ArrayFrom=function S(P){if(!Uint32Array.from){for(var a=new Uint32Array(P.length),x=0;x<P.length;)a[x]=P[x],x+=1;return a}return Uint32Array.from(P)}},5468:(we,R,S)=>{S.r(R),S.d(R,{locateWindow:()=>a});var P={};function a(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:P}},2093:(we,R,S)=>{S.r(R),S.d(R,{fromUtf8:()=>j,toUtf8:()=>d});var j=function(h){return"function"==typeof TextEncoder?function x(h){return(new TextEncoder).encode(h)}(h):function(h){for(var g=[],N=0,O=h.length;N<O;N++){var B=h.charCodeAt(N);if(B<128)g.push(B);else if(B<2048)g.push(B>>6|192,63&B|128);else if(N+1<h.length&&55296==(64512&B)&&56320==(64512&h.charCodeAt(N+1))){var H=65536+((1023&B)<<10)+(1023&h.charCodeAt(++N));g.push(H>>18|240,H>>12&63|128,H>>6&63|128,63&H|128)}else g.push(B>>12|224,B>>6&63|128,63&B|128)}return Uint8Array.from(g)}(h)},d=function(h){return"function"==typeof TextDecoder?function F(h){return new TextDecoder("utf-8").decode(h)}(h):function(h){for(var g="",N=0,O=h.length;N<O;N++){var B=h[N];if(B<128)g+=String.fromCharCode(B);else if(192<=B&&B<224){var H=h[++N];g+=String.fromCharCode((31&B)<<6|63&H)}else if(240<=B&&B<365){var K="%"+[B,h[++N],h[++N],h[++N]].map(function(G){return G.toString(16)}).join("%");g+=decodeURIComponent(K)}else g+=String.fromCharCode((15&B)<<12|(63&h[++N])<<6|63&h[++N])}return g}(h)}},7006:function(we,R,S){var P;!function(a,x){"use strict";var h="function",g="undefined",N="object",O="string",H="model",$="name",K="type",G="vendor",W="version",le="architecture",L="console",U="mobile",z="tablet",ee="smarttv",ye="wearable",be="embedded",y="Amazon",A="Apple",_="ASUS",E="BlackBerry",M="Browser",I="Chrome",fe="Firefox",Ve="Google",ot="Microsoft",Ne="Motorola",Ye="Opera",Ze="Samsung",ft="Sony",Be="Zebra",it="Facebook",te=function(He){for(var et={},vt=0;vt<He.length;vt++)et[He[vt].toUpperCase()]=He[vt];return et},se=function(He,et){return typeof He===O&&-1!==Pe(et).indexOf(Pe(He))},Pe=function(He){return He.toLowerCase()},ce=function(He,et){if(typeof He===O)return He=He.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof et===g?He:He.substring(0,255)},ge=function(He,et){for(var xt,kt,Jt,xe,xn,Gt,vt=0;vt<et.length&&!xn;){var Rt=et[vt],bn=et[vt+1];for(xt=kt=0;xt<Rt.length&&!xn;)if(xn=Rt[xt++].exec(He))for(Jt=0;Jt<bn.length;Jt++)Gt=xn[++kt],typeof(xe=bn[Jt])===N&&xe.length>0?2===xe.length?this[xe[0]]=typeof xe[1]==h?xe[1].call(this,Gt):xe[1]:3===xe.length?this[xe[0]]=typeof xe[1]!==h||xe[1].exec&&xe[1].test?Gt?Gt.replace(xe[1],xe[2]):x:Gt?xe[1].call(this,Gt,xe[2]):x:4===xe.length&&(this[xe[0]]=Gt?xe[3].call(this,Gt.replace(xe[1],xe[2])):x):this[xe]=Gt||x;vt+=2}},rt=function(He,et){for(var vt in et)if(typeof et[vt]===N&&et[vt].length>0){for(var xt=0;xt<et[vt].length;xt++)if(se(et[vt][xt],He))return"?"===vt?x:vt}else if(se(et[vt],He))return"?"===vt?x:vt;return He},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},V={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[W,[$,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[W,[$,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[$,W],[/opios[\/ ]+([\w\.]+)/i],[W,[$,Ye+" Mini"]],[/\bopr\/([\w\.]+)/i],[W,[$,Ye]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[$,W],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[W,[$,"UC"+M]],[/\bqbcore\/([\w\.]+)/i],[W,[$,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[W,[$,"WeChat"]],[/konqueror\/([\w\.]+)/i],[W,[$,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[W,[$,"IE"]],[/yabrowser\/([\w\.]+)/i],[W,[$,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[$,/(.+)/,"$1 Secure "+M],W],[/\bfocus\/([\w\.]+)/i],[W,[$,fe+" Focus"]],[/\bopt\/([\w\.]+)/i],[W,[$,Ye+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[W,[$,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[W,[$,"Dolphin"]],[/coast\/([\w\.]+)/i],[W,[$,Ye+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[W,[$,"MIUI "+M]],[/fxios\/([-\w\.]+)/i],[W,[$,fe]],[/\bqihu|(qi?ho?o?|360)browser/i],[[$,"360 "+M]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[$,/(.+)/,"$1 "+M],W],[/(comodo_dragon)\/([\w\.]+)/i],[[$,/_/g," "],W],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[$,W],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[$],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[$,it],W],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[$,W],[/\bgsa\/([\w\.]+) .*safari\//i],[W,[$,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[W,[$,I+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[$,I+" WebView"],W],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[W,[$,"Android "+M]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[$,W],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[W,[$,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[W,$],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[$,[W,rt,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[$,W],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[$,"Netscape"],W],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[W,[$,fe+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[$,W]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[le,"amd64"]],[/(ia32(?=;))/i],[[le,Pe]],[/((?:i[346]|x)86)[;\)]/i],[[le,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[le,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[le,"armhf"]],[/windows (ce|mobile); ppc;/i],[[le,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[le,/ower/,"",Pe]],[/(sun4\w)[;\)]/i],[[le,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[le,Pe]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[H,[G,Ze],[K,z]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[H,[G,Ze],[K,U]],[/\((ip(?:hone|od)[\w ]*);/i],[H,[G,A],[K,U]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[H,[G,A],[K,z]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[H,[G,"Huawei"],[K,z]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[H,[G,"Huawei"],[K,U]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[H,/_/g," "],[G,"Xiaomi"],[K,U]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[H,/_/g," "],[G,"Xiaomi"],[K,z]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[H,[G,"OPPO"],[K,U]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[H,[G,"Vivo"],[K,U]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[H,[G,"Realme"],[K,U]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[H,[G,Ne],[K,U]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[H,[G,Ne],[K,z]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[H,[G,"LG"],[K,z]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[H,[G,"LG"],[K,U]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[H,[G,"Lenovo"],[K,z]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[H,/_/g," "],[G,"Nokia"],[K,U]],[/(pixel c)\b/i],[H,[G,Ve],[K,z]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[H,[G,Ve],[K,U]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[H,[G,ft],[K,U]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[H,"Xperia Tablet"],[G,ft],[K,z]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[H,[G,"OnePlus"],[K,U]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[H,[G,y],[K,z]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[H,/(.+)/g,"Fire Phone $1"],[G,y],[K,U]],[/(playbook);[-\w\),; ]+(rim)/i],[H,G,[K,z]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[H,[G,E],[K,U]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[H,[G,_],[K,z]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[H,[G,_],[K,U]],[/(nexus 9)/i],[H,[G,"HTC"],[K,z]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[G,[H,/_/g," "],[K,U]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[H,[G,"Acer"],[K,z]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[H,[G,"Meizu"],[K,U]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[H,[G,"Sharp"],[K,U]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[G,H,[K,U]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[G,H,[K,z]],[/(surface duo)/i],[H,[G,ot],[K,z]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[H,[G,"Fairphone"],[K,U]],[/(u304aa)/i],[H,[G,"AT&T"],[K,U]],[/\bsie-(\w*)/i],[H,[G,"Siemens"],[K,U]],[/\b(rct\w+) b/i],[H,[G,"RCA"],[K,z]],[/\b(venue[\d ]{2,7}) b/i],[H,[G,"Dell"],[K,z]],[/\b(q(?:mv|ta)\w+) b/i],[H,[G,"Verizon"],[K,z]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[H,[G,"Barnes & Noble"],[K,z]],[/\b(tm\d{3}\w+) b/i],[H,[G,"NuVision"],[K,z]],[/\b(k88) b/i],[H,[G,"ZTE"],[K,z]],[/\b(nx\d{3}j) b/i],[H,[G,"ZTE"],[K,U]],[/\b(gen\d{3}) b.+49h/i],[H,[G,"Swiss"],[K,U]],[/\b(zur\d{3}) b/i],[H,[G,"Swiss"],[K,z]],[/\b((zeki)?tb.*\b) b/i],[H,[G,"Zeki"],[K,z]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[G,"Dragon Touch"],H,[K,z]],[/\b(ns-?\w{0,9}) b/i],[H,[G,"Insignia"],[K,z]],[/\b((nxa|next)-?\w{0,9}) b/i],[H,[G,"NextBook"],[K,z]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[G,"Voice"],H,[K,U]],[/\b(lvtel\-)?(v1[12]) b/i],[[G,"LvTel"],H,[K,U]],[/\b(ph-1) /i],[H,[G,"Essential"],[K,U]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[H,[G,"Envizen"],[K,z]],[/\b(trio[-\w\. ]+) b/i],[H,[G,"MachSpeed"],[K,z]],[/\btu_(1491) b/i],[H,[G,"Rotor"],[K,z]],[/(shield[\w ]+) b/i],[H,[G,"Nvidia"],[K,z]],[/(sprint) (\w+)/i],[G,H,[K,U]],[/(kin\.[onetw]{3})/i],[[H,/\./g," "],[G,ot],[K,U]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[H,[G,Be],[K,z]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[H,[G,Be],[K,U]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[G,H,[K,L]],[/droid.+; (shield) bui/i],[H,[G,"Nvidia"],[K,L]],[/(playstation [345portablevi]+)/i],[H,[G,ft],[K,L]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[H,[G,ot],[K,L]],[/smart-tv.+(samsung)/i],[G,[K,ee]],[/hbbtv.+maple;(\d+)/i],[[H,/^/,"SmartTV"],[G,Ze],[K,ee]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[G,"LG"],[K,ee]],[/(apple) ?tv/i],[G,[H,A+" TV"],[K,ee]],[/crkey/i],[[H,I+"cast"],[G,Ve],[K,ee]],[/droid.+aft(\w)( bui|\))/i],[H,[G,y],[K,ee]],[/\(dtv[\);].+(aquos)/i],[H,[G,"Sharp"],[K,ee]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[G,ce],[H,ce],[K,ee]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[K,ee]],[/((pebble))app/i],[G,H,[K,ye]],[/droid.+; (glass) \d/i],[H,[G,Ve],[K,ye]],[/droid.+; (wt63?0{2,3})\)/i],[H,[G,Be],[K,ye]],[/(quest( 2)?)/i],[H,[G,it],[K,ye]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[G,[K,be]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[H,[K,U]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[H,[K,z]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[K,z]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[K,U]],[/(android[-\w\. ]{0,9});.+buil/i],[H,[G,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[W,[$,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[W,[$,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[$,W],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[W,$]],os:[[/microsoft (windows) (vista|xp)/i],[$,W],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[$,[W,rt,X]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[$,"Windows"],[W,rt,X]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[W,/_/g,"."],[$,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[$,"Mac OS"],[W,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[W,$],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[$,W],[/\(bb(10);/i],[W,[$,E]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[W,[$,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[W,[$,fe+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[W,[$,"webOS"]],[/crkey\/([\d\.]+)/i],[W,[$,I+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[$,"Chromium OS"],W],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[$,W],[/(sunos) ?([\w\.\d]*)/i],[[$,"Solaris"],W],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[$,W]]},Q=function(He,et){if(typeof He===N&&(et=He,He=x),!(this instanceof Q))return new Q(He,et).getResult();var vt=He||(typeof a!==g&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:""),xt=et?function(He,et){var vt={};for(var xt in He)vt[xt]=et[xt]&&et[xt].length%2==0?et[xt].concat(He[xt]):He[xt];return vt}(V,et):V;return this.getBrowser=function(){var kt={};return kt[$]=x,kt[W]=x,ge.call(kt,vt,xt.browser),kt.major=function(He){return typeof He===O?He.replace(/[^\d\.]/g,"").split(".")[0]:x}(kt.version),kt},this.getCPU=function(){var kt={};return kt[le]=x,ge.call(kt,vt,xt.cpu),kt},this.getDevice=function(){var kt={};return kt[G]=x,kt[H]=x,kt[K]=x,ge.call(kt,vt,xt.device),kt},this.getEngine=function(){var kt={};return kt[$]=x,kt[W]=x,ge.call(kt,vt,xt.engine),kt},this.getOS=function(){var kt={};return kt[$]=x,kt[W]=x,ge.call(kt,vt,xt.os),kt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return vt},this.setUA=function(kt){return vt=typeof kt===O&&kt.length>255?ce(kt,255):kt,this},this.setUA(vt),this};Q.VERSION="0.7.31",Q.BROWSER=te([$,W,"major"]),Q.CPU=te([le]),Q.DEVICE=te([H,G,K,L,U,ee,z,ye,be]),Q.ENGINE=Q.OS=te([$,W]),typeof R!==g?(we.exports&&(R=we.exports=Q),R.UAParser=Q):S.amdO?(P=function(){return Q}.call(R,S,R,we))!==x&&(we.exports=P):typeof a!==g&&(a.UAParser=Q);var me=typeof a!==g&&(a.jQuery||a.Zepto);if(me&&!me.ua){var Fe=new Q;me.ua=Fe.getResult(),me.ua.get=function(){return Fe.getUA()},me.ua.set=function(He){Fe.setUA(He);var et=Fe.getResult();for(var vt in et)me.ua[vt]=et[vt]}}}("object"==typeof window?window:this)},2173:(we,R)=>{R.byteLength=function h($){var K=d($),W=K[1];return 3*(K[0]+W)/4-W},R.toByteArray=function N($){var K,ee,G=d($),W=G[0],le=G[1],L=new a(function g($,K,G){return 3*(K+G)/4-G}(0,W,le)),U=0,z=le>0?W-4:W;for(ee=0;ee<z;ee+=4)K=P[$.charCodeAt(ee)]<<18|P[$.charCodeAt(ee+1)]<<12|P[$.charCodeAt(ee+2)]<<6|P[$.charCodeAt(ee+3)],L[U++]=K>>16&255,L[U++]=K>>8&255,L[U++]=255&K;return 2===le&&(K=P[$.charCodeAt(ee)]<<2|P[$.charCodeAt(ee+1)]>>4,L[U++]=255&K),1===le&&(K=P[$.charCodeAt(ee)]<<10|P[$.charCodeAt(ee+1)]<<4|P[$.charCodeAt(ee+2)]>>2,L[U++]=K>>8&255,L[U++]=255&K),L},R.fromByteArray=function H($){for(var K,G=$.length,W=G%3,le=[],L=16383,U=0,z=G-W;U<z;U+=L)le.push(B($,U,U+L>z?z:U+L));return 1===W?le.push(S[(K=$[G-1])>>2]+S[K<<4&63]+"=="):2===W&&le.push(S[(K=($[G-2]<<8)+$[G-1])>>10]+S[K>>4&63]+S[K<<2&63]+"="),le.join("")};for(var S=[],P=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",F=0,j=x.length;F<j;++F)S[F]=x[F],P[x.charCodeAt(F)]=F;function d($){var K=$.length;if(K%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var G=$.indexOf("=");return-1===G&&(G=K),[G,G===K?0:4-G%4]}function O($){return S[$>>18&63]+S[$>>12&63]+S[$>>6&63]+S[63&$]}function B($,K,G){for(var le=[],L=K;L<G;L+=3)le.push(O(($[L]<<16&16711680)+($[L+1]<<8&65280)+(255&$[L+2])));return le.join("")}P["-".charCodeAt(0)]=62,P["_".charCodeAt(0)]=63},3962:function(we){we.exports=function(R){var S={};function P(a){if(S[a])return S[a].exports;var x=S[a]={i:a,l:!1,exports:{}};return R[a].call(x.exports,x,x.exports,P),x.l=!0,x.exports}return P.m=R,P.c=S,P.d=function(a,x,F){P.o(a,x)||Object.defineProperty(a,x,{enumerable:!0,get:F})},P.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},P.t=function(a,x){if(1&x&&(a=P(a)),8&x||4&x&&"object"==typeof a&&a&&a.__esModule)return a;var F=Object.create(null);if(P.r(F),Object.defineProperty(F,"default",{enumerable:!0,value:a}),2&x&&"string"!=typeof a)for(var j in a)P.d(F,j,function(d){return a[d]}.bind(null,j));return F},P.n=function(a){var x=a&&a.__esModule?function(){return a.default}:function(){return a};return P.d(x,"a",x),x},P.o=function(a,x){return Object.prototype.hasOwnProperty.call(a,x)},P.p="",P(P.s=90)}({17:function(R,S,P){"use strict";S.__esModule=!0,S.default=void 0;var a=P(18),x=function(){function F(){}return F.getFirstMatch=function(j,d){var h=d.match(j);return h&&h.length>0&&h[1]||""},F.getSecondMatch=function(j,d){var h=d.match(j);return h&&h.length>1&&h[2]||""},F.matchAndReturnConst=function(j,d,h){if(j.test(d))return h},F.getWindowsVersionName=function(j){switch(j){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},F.getMacOSVersionName=function(j){var d=j.split(".").splice(0,2).map(function(h){return parseInt(h,10)||0});if(d.push(0),10===d[0])switch(d[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},F.getAndroidVersionName=function(j){var d=j.split(".").splice(0,2).map(function(h){return parseInt(h,10)||0});if(d.push(0),!(1===d[0]&&d[1]<5))return 1===d[0]&&d[1]<6?"Cupcake":1===d[0]&&d[1]>=6?"Donut":2===d[0]&&d[1]<2?"Eclair":2===d[0]&&2===d[1]?"Froyo":2===d[0]&&d[1]>2?"Gingerbread":3===d[0]?"Honeycomb":4===d[0]&&d[1]<1?"Ice Cream Sandwich":4===d[0]&&d[1]<4?"Jelly Bean":4===d[0]&&d[1]>=4?"KitKat":5===d[0]?"Lollipop":6===d[0]?"Marshmallow":7===d[0]?"Nougat":8===d[0]?"Oreo":9===d[0]?"Pie":void 0},F.getVersionPrecision=function(j){return j.split(".").length},F.compareVersions=function(j,d,h){void 0===h&&(h=!1);var g=F.getVersionPrecision(j),N=F.getVersionPrecision(d),O=Math.max(g,N),B=0,H=F.map([j,d],function($){var K=O-F.getVersionPrecision($),G=$+new Array(K+1).join(".0");return F.map(G.split("."),function(W){return new Array(20-W.length).join("0")+W}).reverse()});for(h&&(B=O-Math.min(g,N)),O-=1;O>=B;){if(H[0][O]>H[1][O])return 1;if(H[0][O]===H[1][O]){if(O===B)return 0;O-=1}else if(H[0][O]<H[1][O])return-1}},F.map=function(j,d){var h,g=[];if(Array.prototype.map)return Array.prototype.map.call(j,d);for(h=0;h<j.length;h+=1)g.push(d(j[h]));return g},F.find=function(j,d){var h,g;if(Array.prototype.find)return Array.prototype.find.call(j,d);for(h=0,g=j.length;h<g;h+=1){var N=j[h];if(d(N,h))return N}},F.assign=function(j){for(var d,h,g=j,N=arguments.length,O=new Array(N>1?N-1:0),B=1;B<N;B++)O[B-1]=arguments[B];if(Object.assign)return Object.assign.apply(Object,[j].concat(O));var H=function(){var $=O[d];"object"==typeof $&&null!==$&&Object.keys($).forEach(function(K){g[K]=$[K]})};for(d=0,h=O.length;d<h;d+=1)H();return j},F.getBrowserAlias=function(j){return a.BROWSER_ALIASES_MAP[j]},F.getBrowserTypeByAlias=function(j){return a.BROWSER_MAP[j]||""},F}();S.default=x,R.exports=S.default},18:function(R,S,P){"use strict";S.__esModule=!0,S.ENGINE_MAP=S.OS_MAP=S.PLATFORMS_MAP=S.BROWSER_MAP=S.BROWSER_ALIASES_MAP=void 0,S.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},S.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},S.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},S.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},S.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(R,S,P){"use strict";S.__esModule=!0,S.default=void 0;var a,x=(a=P(91))&&a.__esModule?a:{default:a},F=P(18);function j(h,g){for(var N=0;N<g.length;N++){var O=g[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(h,O.key,O)}}var d=function(){function h(){}var g,O;return h.getParser=function(B,H){if(void 0===H&&(H=!1),"string"!=typeof B)throw new Error("UserAgent should be a string");return new x.default(B,H)},h.parse=function(B){return new x.default(B).getResult()},g=h,O=[{key:"BROWSER_MAP",get:function(){return F.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return F.ENGINE_MAP}},{key:"OS_MAP",get:function(){return F.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return F.PLATFORMS_MAP}}],null&&j(g.prototype,null),O&&j(g,O),h}();S.default=d,R.exports=S.default},91:function(R,S,P){"use strict";S.__esModule=!0,S.default=void 0;var a=h(P(92)),x=h(P(93)),F=h(P(94)),j=h(P(95)),d=h(P(17));function h(N){return N&&N.__esModule?N:{default:N}}var g=function(){function N(B,H){if(void 0===H&&(H=!1),null==B||""===B)throw new Error("UserAgent parameter can't be empty");this._ua=B,this.parsedResult={},!0!==H&&this.parse()}var O=N.prototype;return O.getUA=function(){return this._ua},O.test=function(B){return B.test(this._ua)},O.parseBrowser=function(){var B=this;this.parsedResult.browser={};var H=d.default.find(a.default,function($){if("function"==typeof $.test)return $.test(B);if($.test instanceof Array)return $.test.some(function(K){return B.test(K)});throw new Error("Browser's test function is not valid")});return H&&(this.parsedResult.browser=H.describe(this.getUA())),this.parsedResult.browser},O.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},O.getBrowserName=function(B){return B?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},O.getBrowserVersion=function(){return this.getBrowser().version},O.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},O.parseOS=function(){var B=this;this.parsedResult.os={};var H=d.default.find(x.default,function($){if("function"==typeof $.test)return $.test(B);if($.test instanceof Array)return $.test.some(function(K){return B.test(K)});throw new Error("Browser's test function is not valid")});return H&&(this.parsedResult.os=H.describe(this.getUA())),this.parsedResult.os},O.getOSName=function(B){var H=this.getOS().name;return B?String(H).toLowerCase()||"":H||""},O.getOSVersion=function(){return this.getOS().version},O.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},O.getPlatformType=function(B){void 0===B&&(B=!1);var H=this.getPlatform().type;return B?String(H).toLowerCase()||"":H||""},O.parsePlatform=function(){var B=this;this.parsedResult.platform={};var H=d.default.find(F.default,function($){if("function"==typeof $.test)return $.test(B);if($.test instanceof Array)return $.test.some(function(K){return B.test(K)});throw new Error("Browser's test function is not valid")});return H&&(this.parsedResult.platform=H.describe(this.getUA())),this.parsedResult.platform},O.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},O.getEngineName=function(B){return B?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},O.parseEngine=function(){var B=this;this.parsedResult.engine={};var H=d.default.find(j.default,function($){if("function"==typeof $.test)return $.test(B);if($.test instanceof Array)return $.test.some(function(K){return B.test(K)});throw new Error("Browser's test function is not valid")});return H&&(this.parsedResult.engine=H.describe(this.getUA())),this.parsedResult.engine},O.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},O.getResult=function(){return d.default.assign({},this.parsedResult)},O.satisfies=function(B){var H=this,$={},K=0,G={},W=0;if(Object.keys(B).forEach(function(pe){var y=B[pe];"string"==typeof y?(G[pe]=y,W+=1):"object"==typeof y&&($[pe]=y,K+=1)}),K>0){var le=Object.keys($),L=d.default.find(le,function(pe){return H.isOS(pe)});if(L){var U=this.satisfies($[L]);if(void 0!==U)return U}var z=d.default.find(le,function(pe){return H.isPlatform(pe)});if(z){var ee=this.satisfies($[z]);if(void 0!==ee)return ee}}if(W>0){var ye=Object.keys(G),be=d.default.find(ye,function(pe){return H.isBrowser(pe,!0)});if(void 0!==be)return this.compareVersion(G[be])}},O.isBrowser=function(B,H){void 0===H&&(H=!1);var $=this.getBrowserName().toLowerCase(),K=B.toLowerCase(),G=d.default.getBrowserTypeByAlias(K);return H&&G&&(K=G.toLowerCase()),K===$},O.compareVersion=function(B){var H=[0],$=B,K=!1,G=this.getBrowserVersion();if("string"==typeof G)return">"===B[0]||"<"===B[0]?($=B.substr(1),"="===B[1]?(K=!0,$=B.substr(2)):H=[],H.push(">"===B[0]?1:-1)):"="===B[0]?$=B.substr(1):"~"===B[0]&&(K=!0,$=B.substr(1)),H.indexOf(d.default.compareVersions(G,$,K))>-1},O.isOS=function(B){return this.getOSName(!0)===String(B).toLowerCase()},O.isPlatform=function(B){return this.getPlatformType(!0)===String(B).toLowerCase()},O.isEngine=function(B){return this.getEngineName(!0)===String(B).toLowerCase()},O.is=function(B,H){return void 0===H&&(H=!1),this.isBrowser(B,H)||this.isOS(B)||this.isPlatform(B)},O.some=function(B){var H=this;return void 0===B&&(B=[]),B.some(function($){return H.is($)})},N}();S.default=g,R.exports=S.default},92:function(R,S,P){"use strict";S.__esModule=!0,S.default=void 0;var a,x=(a=P(17))&&a.__esModule?a:{default:a},F=/version\/(\d+(\.?_?\d+)+)/i;S.default=[{test:[/googlebot/i],describe:function(d){var h={name:"Googlebot"},g=x.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,d)||x.default.getFirstMatch(F,d);return g&&(h.version=g),h}},{test:[/opera/i],describe:function(d){var h={name:"Opera"},g=x.default.getFirstMatch(F,d)||x.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/opr\/|opios/i],describe:function(d){var h={name:"Opera"},g=x.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,d)||x.default.getFirstMatch(F,d);return g&&(h.version=g),h}},{test:[/SamsungBrowser/i],describe:function(d){var h={name:"Samsung Internet for Android"},g=x.default.getFirstMatch(F,d)||x.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/Whale/i],describe:function(d){var h={name:"NAVER Whale Browser"},g=x.default.getFirstMatch(F,d)||x.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/MZBrowser/i],describe:function(d){var h={name:"MZ Browser"},g=x.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,d)||x.default.getFirstMatch(F,d);return g&&(h.version=g),h}},{test:[/focus/i],describe:function(d){var h={name:"Focus"},g=x.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,d)||x.default.getFirstMatch(F,d);return g&&(h.version=g),h}},{test:[/swing/i],describe:function(d){var h={name:"Swing"},g=x.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,d)||x.default.getFirstMatch(F,d);return g&&(h.version=g),h}},{test:[/coast/i],describe:function(d){var h={name:"Opera Coast"},g=x.default.getFirstMatch(F,d)||x.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(d){var h={name:"Opera Touch"},g=x.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,d)||x.default.getFirstMatch(F,d);return g&&(h.version=g),h}},{test:[/yabrowser/i],describe:function(d){var h={name:"Yandex Browser"},g=x.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,d)||x.default.getFirstMatch(F,d);return g&&(h.version=g),h}},{test:[/ucbrowser/i],describe:function(d){var h={name:"UC Browser"},g=x.default.getFirstMatch(F,d)||x.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/Maxthon|mxios/i],describe:function(d){var h={name:"Maxthon"},g=x.default.getFirstMatch(F,d)||x.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/epiphany/i],describe:function(d){var h={name:"Epiphany"},g=x.default.getFirstMatch(F,d)||x.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/puffin/i],describe:function(d){var h={name:"Puffin"},g=x.default.getFirstMatch(F,d)||x.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/sleipnir/i],describe:function(d){var h={name:"Sleipnir"},g=x.default.getFirstMatch(F,d)||x.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/k-meleon/i],describe:function(d){var h={name:"K-Meleon"},g=x.default.getFirstMatch(F,d)||x.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/micromessenger/i],describe:function(d){var h={name:"WeChat"},g=x.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,d)||x.default.getFirstMatch(F,d);return g&&(h.version=g),h}},{test:[/qqbrowser/i],describe:function(d){var h={name:/qqbrowserlite/i.test(d)?"QQ Browser Lite":"QQ Browser"},g=x.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,d)||x.default.getFirstMatch(F,d);return g&&(h.version=g),h}},{test:[/msie|trident/i],describe:function(d){var h={name:"Internet Explorer"},g=x.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/\sedg\//i],describe:function(d){var h={name:"Microsoft Edge"},g=x.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/edg([ea]|ios)/i],describe:function(d){var h={name:"Microsoft Edge"},g=x.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/vivaldi/i],describe:function(d){var h={name:"Vivaldi"},g=x.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/seamonkey/i],describe:function(d){var h={name:"SeaMonkey"},g=x.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/sailfish/i],describe:function(d){var h={name:"Sailfish"},g=x.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,d);return g&&(h.version=g),h}},{test:[/silk/i],describe:function(d){var h={name:"Amazon Silk"},g=x.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/phantom/i],describe:function(d){var h={name:"PhantomJS"},g=x.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/slimerjs/i],describe:function(d){var h={name:"SlimerJS"},g=x.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(d){var h={name:"BlackBerry"},g=x.default.getFirstMatch(F,d)||x.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/(web|hpw)[o0]s/i],describe:function(d){var h={name:"WebOS Browser"},g=x.default.getFirstMatch(F,d)||x.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/bada/i],describe:function(d){var h={name:"Bada"},g=x.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/tizen/i],describe:function(d){var h={name:"Tizen"},g=x.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,d)||x.default.getFirstMatch(F,d);return g&&(h.version=g),h}},{test:[/qupzilla/i],describe:function(d){var h={name:"QupZilla"},g=x.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,d)||x.default.getFirstMatch(F,d);return g&&(h.version=g),h}},{test:[/firefox|iceweasel|fxios/i],describe:function(d){var h={name:"Firefox"},g=x.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/electron/i],describe:function(d){var h={name:"Electron"},g=x.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/MiuiBrowser/i],describe:function(d){var h={name:"Miui"},g=x.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/chromium/i],describe:function(d){var h={name:"Chromium"},g=x.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,d)||x.default.getFirstMatch(F,d);return g&&(h.version=g),h}},{test:[/chrome|crios|crmo/i],describe:function(d){var h={name:"Chrome"},g=x.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/GSA/i],describe:function(d){var h={name:"Google Search"},g=x.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:function(d){var h=!d.test(/like android/i),g=d.test(/android/i);return h&&g},describe:function(d){var h={name:"Android Browser"},g=x.default.getFirstMatch(F,d);return g&&(h.version=g),h}},{test:[/playstation 4/i],describe:function(d){var h={name:"PlayStation 4"},g=x.default.getFirstMatch(F,d);return g&&(h.version=g),h}},{test:[/safari|applewebkit/i],describe:function(d){var h={name:"Safari"},g=x.default.getFirstMatch(F,d);return g&&(h.version=g),h}},{test:[/.*/i],describe:function(d){var h=-1!==d.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:x.default.getFirstMatch(h,d),version:x.default.getSecondMatch(h,d)}}}],R.exports=S.default},93:function(R,S,P){"use strict";S.__esModule=!0,S.default=void 0;var a,x=(a=P(17))&&a.__esModule?a:{default:a},F=P(18);S.default=[{test:[/Roku\/DVP/],describe:function(d){var h=x.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,d);return{name:F.OS_MAP.Roku,version:h}}},{test:[/windows phone/i],describe:function(d){var h=x.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,d);return{name:F.OS_MAP.WindowsPhone,version:h}}},{test:[/windows /i],describe:function(d){var h=x.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,d),g=x.default.getWindowsVersionName(h);return{name:F.OS_MAP.Windows,version:h,versionName:g}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(d){var h={name:F.OS_MAP.iOS},g=x.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,d);return g&&(h.version=g),h}},{test:[/macintosh/i],describe:function(d){var h=x.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,d).replace(/[_\s]/g,"."),g=x.default.getMacOSVersionName(h),N={name:F.OS_MAP.MacOS,version:h};return g&&(N.versionName=g),N}},{test:[/(ipod|iphone|ipad)/i],describe:function(d){var h=x.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,d).replace(/[_\s]/g,".");return{name:F.OS_MAP.iOS,version:h}}},{test:function(d){var h=!d.test(/like android/i),g=d.test(/android/i);return h&&g},describe:function(d){var h=x.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,d),g=x.default.getAndroidVersionName(h),N={name:F.OS_MAP.Android,version:h};return g&&(N.versionName=g),N}},{test:[/(web|hpw)[o0]s/i],describe:function(d){var h=x.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,d),g={name:F.OS_MAP.WebOS};return h&&h.length&&(g.version=h),g}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(d){var h=x.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,d)||x.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,d)||x.default.getFirstMatch(/\bbb(\d+)/i,d);return{name:F.OS_MAP.BlackBerry,version:h}}},{test:[/bada/i],describe:function(d){var h=x.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,d);return{name:F.OS_MAP.Bada,version:h}}},{test:[/tizen/i],describe:function(d){var h=x.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,d);return{name:F.OS_MAP.Tizen,version:h}}},{test:[/linux/i],describe:function(){return{name:F.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:F.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(d){var h=x.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,d);return{name:F.OS_MAP.PlayStation4,version:h}}}],R.exports=S.default},94:function(R,S,P){"use strict";S.__esModule=!0,S.default=void 0;var a,x=(a=P(17))&&a.__esModule?a:{default:a},F=P(18);S.default=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(d){var h=x.default.getFirstMatch(/(can-l01)/i,d)&&"Nova",g={type:F.PLATFORMS_MAP.mobile,vendor:"Huawei"};return h&&(g.model=h),g}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:F.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:F.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:F.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:F.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:F.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:F.PLATFORMS_MAP.tablet}}},{test:function(d){var h=d.test(/ipod|iphone/i),g=d.test(/like (ipod|iphone)/i);return h&&!g},describe:function(d){var h=x.default.getFirstMatch(/(ipod|iphone)/i,d);return{type:F.PLATFORMS_MAP.mobile,vendor:"Apple",model:h}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:F.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:F.PLATFORMS_MAP.mobile}}},{test:function(d){return"blackberry"===d.getBrowserName(!0)},describe:function(){return{type:F.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(d){return"bada"===d.getBrowserName(!0)},describe:function(){return{type:F.PLATFORMS_MAP.mobile}}},{test:function(d){return"windows phone"===d.getBrowserName()},describe:function(){return{type:F.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(d){var h=Number(String(d.getOSVersion()).split(".")[0]);return"android"===d.getOSName(!0)&&h>=3},describe:function(){return{type:F.PLATFORMS_MAP.tablet}}},{test:function(d){return"android"===d.getOSName(!0)},describe:function(){return{type:F.PLATFORMS_MAP.mobile}}},{test:function(d){return"macos"===d.getOSName(!0)},describe:function(){return{type:F.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(d){return"windows"===d.getOSName(!0)},describe:function(){return{type:F.PLATFORMS_MAP.desktop}}},{test:function(d){return"linux"===d.getOSName(!0)},describe:function(){return{type:F.PLATFORMS_MAP.desktop}}},{test:function(d){return"playstation 4"===d.getOSName(!0)},describe:function(){return{type:F.PLATFORMS_MAP.tv}}},{test:function(d){return"roku"===d.getOSName(!0)},describe:function(){return{type:F.PLATFORMS_MAP.tv}}}],R.exports=S.default},95:function(R,S,P){"use strict";S.__esModule=!0,S.default=void 0;var a,x=(a=P(17))&&a.__esModule?a:{default:a},F=P(18);S.default=[{test:function(d){return"microsoft edge"===d.getBrowserName(!0)},describe:function(d){if(/\sedg\//i.test(d))return{name:F.ENGINE_MAP.Blink};var h=x.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,d);return{name:F.ENGINE_MAP.EdgeHTML,version:h}}},{test:[/trident/i],describe:function(d){var h={name:F.ENGINE_MAP.Trident},g=x.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:function(d){return d.test(/presto/i)},describe:function(d){var h={name:F.ENGINE_MAP.Presto},g=x.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:function(d){var h=d.test(/gecko/i),g=d.test(/like gecko/i);return h&&!g},describe:function(d){var h={name:F.ENGINE_MAP.Gecko},g=x.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:F.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(d){var h={name:F.ENGINE_MAP.WebKit},g=x.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,d);return g&&(h.version=g),h}}],R.exports=S.default}})},5979:we=>{we.exports=function P(a){return"[object String]"=={}.toString.call(a)?a.replace(R,".$1").replace(S,""):""};var R=/\[([^\[\]]+)\]/g,S=/^[.]*|[.]*$/g},3195:(we,R,S)=>{var P=S(2173),a=S(4920),x="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;R.Buffer=h,R.SlowBuffer=function L(_e){return+_e!=_e&&(_e=0),h.alloc(+_e)},R.INSPECT_MAX_BYTES=50;var F=2147483647;function d(_e){if(_e>F)throw new RangeError('The value "'+_e+'" is invalid for option "size"');var X=new Uint8Array(_e);return Object.setPrototypeOf(X,h.prototype),X}function h(_e,X,V){if("number"==typeof _e){if("string"==typeof X)throw new TypeError('The "string" argument must be of type string. Received type number');return B(_e)}return g(_e,X,V)}function g(_e,X,V){if("string"==typeof _e)return function H(_e,X){if(("string"!=typeof X||""===X)&&(X="utf8"),!h.isEncoding(X))throw new TypeError("Unknown encoding: "+X);var V=0|U(_e,X),Q=d(V),me=Q.write(_e,X);return me!==V&&(Q=Q.slice(0,me)),Q}(_e,X);if(ArrayBuffer.isView(_e))return function K(_e){if(ce(_e,Uint8Array)){var X=new Uint8Array(_e);return G(X.buffer,X.byteOffset,X.byteLength)}return $(_e)}(_e);if(null==_e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _e);if(ce(_e,ArrayBuffer)||_e&&ce(_e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(ce(_e,SharedArrayBuffer)||_e&&ce(_e.buffer,SharedArrayBuffer)))return G(_e,X,V);if("number"==typeof _e)throw new TypeError('The "value" argument must not be of type number. Received type number');var Q=_e.valueOf&&_e.valueOf();if(null!=Q&&Q!==_e)return h.from(Q,X,V);var me=function W(_e){if(h.isBuffer(_e)){var X=0|le(_e.length),V=d(X);return 0===V.length||_e.copy(V,0,0,X),V}return void 0!==_e.length?"number"!=typeof _e.length||ge(_e.length)?d(0):$(_e):"Buffer"===_e.type&&Array.isArray(_e.data)?$(_e.data):void 0}(_e);if(me)return me;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof _e[Symbol.toPrimitive])return h.from(_e[Symbol.toPrimitive]("string"),X,V);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _e)}function N(_e){if("number"!=typeof _e)throw new TypeError('"size" argument must be of type number');if(_e<0)throw new RangeError('The value "'+_e+'" is invalid for option "size"')}function B(_e){return N(_e),d(_e<0?0:0|le(_e))}function $(_e){for(var X=_e.length<0?0:0|le(_e.length),V=d(X),Q=0;Q<X;Q+=1)V[Q]=255&_e[Q];return V}function G(_e,X,V){if(X<0||_e.byteLength<X)throw new RangeError('"offset" is outside of buffer bounds');if(_e.byteLength<X+(V||0))throw new RangeError('"length" is outside of buffer bounds');var Q;return Q=void 0===X&&void 0===V?new Uint8Array(_e):void 0===V?new Uint8Array(_e,X):new Uint8Array(_e,X,V),Object.setPrototypeOf(Q,h.prototype),Q}function le(_e){if(_e>=F)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+F.toString(16)+" bytes");return 0|_e}function U(_e,X){if(h.isBuffer(_e))return _e.length;if(ArrayBuffer.isView(_e)||ce(_e,ArrayBuffer))return _e.byteLength;if("string"!=typeof _e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof _e);var V=_e.length,Q=arguments.length>2&&!0===arguments[2];if(!Q&&0===V)return 0;for(var me=!1;;)switch(X){case"ascii":case"latin1":case"binary":return V;case"utf8":case"utf-8":return de(_e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*V;case"hex":return V>>>1;case"base64":return Pe(_e).length;default:if(me)return Q?-1:de(_e).length;X=(""+X).toLowerCase(),me=!0}}function z(_e,X,V){var Q=!1;if((void 0===X||X<0)&&(X=0),X>this.length||((void 0===V||V>this.length)&&(V=this.length),V<=0)||(V>>>=0)<=(X>>>=0))return"";for(_e||(_e="utf8");;)switch(_e){case"hex":return ze(this,X,V);case"utf8":case"utf-8":return I(this,X,V);case"ascii":return Ve(this,X,V);case"latin1":case"binary":return ae(this,X,V);case"base64":return M(this,X,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ot(this,X,V);default:if(Q)throw new TypeError("Unknown encoding: "+_e);_e=(_e+"").toLowerCase(),Q=!0}}function ee(_e,X,V){var Q=_e[X];_e[X]=_e[V],_e[V]=Q}function ye(_e,X,V,Q,me){if(0===_e.length)return-1;if("string"==typeof V?(Q=V,V=0):V>2147483647?V=2147483647:V<-2147483648&&(V=-2147483648),ge(V=+V)&&(V=me?0:_e.length-1),V<0&&(V=_e.length+V),V>=_e.length){if(me)return-1;V=_e.length-1}else if(V<0){if(!me)return-1;V=0}if("string"==typeof X&&(X=h.from(X,Q)),h.isBuffer(X))return 0===X.length?-1:be(_e,X,V,Q,me);if("number"==typeof X)return X&=255,"function"==typeof Uint8Array.prototype.indexOf?me?Uint8Array.prototype.indexOf.call(_e,X,V):Uint8Array.prototype.lastIndexOf.call(_e,X,V):be(_e,[X],V,Q,me);throw new TypeError("val must be string, number or Buffer")}function be(_e,X,V,Q,me){var xt,Fe=1,He=_e.length,et=X.length;if(void 0!==Q&&("ucs2"===(Q=String(Q).toLowerCase())||"ucs-2"===Q||"utf16le"===Q||"utf-16le"===Q)){if(_e.length<2||X.length<2)return-1;Fe=2,He/=2,et/=2,V/=2}function vt(xn,Gt){return 1===Fe?xn[Gt]:xn.readUInt16BE(Gt*Fe)}if(me){var kt=-1;for(xt=V;xt<He;xt++)if(vt(_e,xt)===vt(X,-1===kt?0:xt-kt)){if(-1===kt&&(kt=xt),xt-kt+1===et)return kt*Fe}else-1!==kt&&(xt-=xt-kt),kt=-1}else for(V+et>He&&(V=He-et),xt=V;xt>=0;xt--){for(var Jt=!0,xe=0;xe<et;xe++)if(vt(_e,xt+xe)!==vt(X,xe)){Jt=!1;break}if(Jt)return xt}return-1}function pe(_e,X,V,Q){V=Number(V)||0;var me=_e.length-V;Q?(Q=Number(Q))>me&&(Q=me):Q=me;var Fe=X.length;Q>Fe/2&&(Q=Fe/2);for(var He=0;He<Q;++He){var et=parseInt(X.substr(2*He,2),16);if(ge(et))return He;_e[V+He]=et}return He}function y(_e,X,V,Q){return Le(de(X,_e.length-V),_e,V,Q)}function A(_e,X,V,Q){return Le(function te(_e){for(var X=[],V=0;V<_e.length;++V)X.push(255&_e.charCodeAt(V));return X}(X),_e,V,Q)}function _(_e,X,V,Q){return Le(Pe(X),_e,V,Q)}function E(_e,X,V,Q){return Le(function se(_e,X){for(var V,Q,Fe=[],He=0;He<_e.length&&!((X-=2)<0);++He)Q=(V=_e.charCodeAt(He))>>8,Fe.push(V%256),Fe.push(Q);return Fe}(X,_e.length-V),_e,V,Q)}function M(_e,X,V){return P.fromByteArray(0===X&&V===_e.length?_e:_e.slice(X,V))}function I(_e,X,V){V=Math.min(_e.length,V);for(var Q=[],me=X;me<V;){var vt,xt,kt,Jt,Fe=_e[me],He=null,et=Fe>239?4:Fe>223?3:Fe>191?2:1;if(me+et<=V)switch(et){case 1:Fe<128&&(He=Fe);break;case 2:128==(192&(vt=_e[me+1]))&&(Jt=(31&Fe)<<6|63&vt)>127&&(He=Jt);break;case 3:xt=_e[me+2],128==(192&(vt=_e[me+1]))&&128==(192&xt)&&(Jt=(15&Fe)<<12|(63&vt)<<6|63&xt)>2047&&(Jt<55296||Jt>57343)&&(He=Jt);break;case 4:xt=_e[me+2],kt=_e[me+3],128==(192&(vt=_e[me+1]))&&128==(192&xt)&&128==(192&kt)&&(Jt=(15&Fe)<<18|(63&vt)<<12|(63&xt)<<6|63&kt)>65535&&Jt<1114112&&(He=Jt)}null===He?(He=65533,et=1):He>65535&&(Q.push((He-=65536)>>>10&1023|55296),He=56320|1023&He),Q.push(He),me+=et}return function fe(_e){var X=_e.length;if(X<=4096)return String.fromCharCode.apply(String,_e);for(var V="",Q=0;Q<X;)V+=String.fromCharCode.apply(String,_e.slice(Q,Q+=4096));return V}(Q)}function Ve(_e,X,V){var Q="";V=Math.min(_e.length,V);for(var me=X;me<V;++me)Q+=String.fromCharCode(127&_e[me]);return Q}function ae(_e,X,V){var Q="";V=Math.min(_e.length,V);for(var me=X;me<V;++me)Q+=String.fromCharCode(_e[me]);return Q}function ze(_e,X,V){var Q=_e.length;(!X||X<0)&&(X=0),(!V||V<0||V>Q)&&(V=Q);for(var me="",Fe=X;Fe<V;++Fe)me+=rt[_e[Fe]];return me}function ot(_e,X,V){for(var Q=_e.slice(X,V),me="",Fe=0;Fe<Q.length-1;Fe+=2)me+=String.fromCharCode(Q[Fe]+256*Q[Fe+1]);return me}function Ne(_e,X,V){if(_e%1!=0||_e<0)throw new RangeError("offset is not uint");if(_e+X>V)throw new RangeError("Trying to access beyond buffer length")}function Ye(_e,X,V,Q,me,Fe){if(!h.isBuffer(_e))throw new TypeError('"buffer" argument must be a Buffer instance');if(X>me||X<Fe)throw new RangeError('"value" argument is out of bounds');if(V+Q>_e.length)throw new RangeError("Index out of range")}function Ze(_e,X,V,Q,me,Fe){if(V+Q>_e.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("Index out of range")}function ft(_e,X,V,Q,me){return X=+X,V>>>=0,me||Ze(_e,0,V,4),a.write(_e,X,V,Q,23,4),V+4}function nt(_e,X,V,Q,me){return X=+X,V>>>=0,me||Ze(_e,0,V,8),a.write(_e,X,V,Q,52,8),V+8}R.kMaxLength=F,!(h.TYPED_ARRAY_SUPPORT=function j(){try{var _e=new Uint8Array(1),X={foo:function(){return 42}};return Object.setPrototypeOf(X,Uint8Array.prototype),Object.setPrototypeOf(_e,X),42===_e.foo()}catch{return!1}}())&&"undefined"!=typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(_e,X,V){return g(_e,X,V)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(_e,X,V){return function O(_e,X,V){return N(_e),_e<=0?d(_e):void 0!==X?"string"==typeof V?d(_e).fill(X,V):d(_e).fill(X):d(_e)}(_e,X,V)},h.allocUnsafe=function(_e){return B(_e)},h.allocUnsafeSlow=function(_e){return B(_e)},h.isBuffer=function(X){return null!=X&&!0===X._isBuffer&&X!==h.prototype},h.compare=function(X,V){if(ce(X,Uint8Array)&&(X=h.from(X,X.offset,X.byteLength)),ce(V,Uint8Array)&&(V=h.from(V,V.offset,V.byteLength)),!h.isBuffer(X)||!h.isBuffer(V))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(X===V)return 0;for(var Q=X.length,me=V.length,Fe=0,He=Math.min(Q,me);Fe<He;++Fe)if(X[Fe]!==V[Fe]){Q=X[Fe],me=V[Fe];break}return Q<me?-1:me<Q?1:0},h.isEncoding=function(X){switch(String(X).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(X,V){if(!Array.isArray(X))throw new TypeError('"list" argument must be an Array of Buffers');if(0===X.length)return h.alloc(0);var Q;if(void 0===V)for(V=0,Q=0;Q<X.length;++Q)V+=X[Q].length;var me=h.allocUnsafe(V),Fe=0;for(Q=0;Q<X.length;++Q){var He=X[Q];if(ce(He,Uint8Array))Fe+He.length>me.length?h.from(He).copy(me,Fe):Uint8Array.prototype.set.call(me,He,Fe);else{if(!h.isBuffer(He))throw new TypeError('"list" argument must be an Array of Buffers');He.copy(me,Fe)}Fe+=He.length}return me},h.byteLength=U,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var X=this.length;if(X%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var V=0;V<X;V+=2)ee(this,V,V+1);return this},h.prototype.swap32=function(){var X=this.length;if(X%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var V=0;V<X;V+=4)ee(this,V,V+3),ee(this,V+1,V+2);return this},h.prototype.swap64=function(){var X=this.length;if(X%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var V=0;V<X;V+=8)ee(this,V,V+7),ee(this,V+1,V+6),ee(this,V+2,V+5),ee(this,V+3,V+4);return this},h.prototype.toLocaleString=h.prototype.toString=function(){var X=this.length;return 0===X?"":0===arguments.length?I(this,0,X):z.apply(this,arguments)},h.prototype.equals=function(X){if(!h.isBuffer(X))throw new TypeError("Argument must be a Buffer");return this===X||0===h.compare(this,X)},h.prototype.inspect=function(){var X="",V=R.INSPECT_MAX_BYTES;return X=this.toString("hex",0,V).replace(/(.{2})/g,"$1 ").trim(),this.length>V&&(X+=" ... "),"<Buffer "+X+">"},x&&(h.prototype[x]=h.prototype.inspect),h.prototype.compare=function(X,V,Q,me,Fe){if(ce(X,Uint8Array)&&(X=h.from(X,X.offset,X.byteLength)),!h.isBuffer(X))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof X);if(void 0===V&&(V=0),void 0===Q&&(Q=X?X.length:0),void 0===me&&(me=0),void 0===Fe&&(Fe=this.length),V<0||Q>X.length||me<0||Fe>this.length)throw new RangeError("out of range index");if(me>=Fe&&V>=Q)return 0;if(me>=Fe)return-1;if(V>=Q)return 1;if(this===X)return 0;for(var He=(Fe>>>=0)-(me>>>=0),et=(Q>>>=0)-(V>>>=0),vt=Math.min(He,et),xt=this.slice(me,Fe),kt=X.slice(V,Q),Jt=0;Jt<vt;++Jt)if(xt[Jt]!==kt[Jt]){He=xt[Jt],et=kt[Jt];break}return He<et?-1:et<He?1:0},h.prototype.includes=function(X,V,Q){return-1!==this.indexOf(X,V,Q)},h.prototype.indexOf=function(X,V,Q){return ye(this,X,V,Q,!0)},h.prototype.lastIndexOf=function(X,V,Q){return ye(this,X,V,Q,!1)},h.prototype.write=function(X,V,Q,me){if(void 0===V)me="utf8",Q=this.length,V=0;else if(void 0===Q&&"string"==typeof V)me=V,Q=this.length,V=0;else{if(!isFinite(V))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");V>>>=0,isFinite(Q)?(Q>>>=0,void 0===me&&(me="utf8")):(me=Q,Q=void 0)}var Fe=this.length-V;if((void 0===Q||Q>Fe)&&(Q=Fe),X.length>0&&(Q<0||V<0)||V>this.length)throw new RangeError("Attempt to write outside buffer bounds");me||(me="utf8");for(var He=!1;;)switch(me){case"hex":return pe(this,X,V,Q);case"utf8":case"utf-8":return y(this,X,V,Q);case"ascii":case"latin1":case"binary":return A(this,X,V,Q);case"base64":return _(this,X,V,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,X,V,Q);default:if(He)throw new TypeError("Unknown encoding: "+me);me=(""+me).toLowerCase(),He=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},h.prototype.slice=function(X,V){var Q=this.length;(X=~~X)<0?(X+=Q)<0&&(X=0):X>Q&&(X=Q),(V=void 0===V?Q:~~V)<0?(V+=Q)<0&&(V=0):V>Q&&(V=Q),V<X&&(V=X);var me=this.subarray(X,V);return Object.setPrototypeOf(me,h.prototype),me},h.prototype.readUintLE=h.prototype.readUIntLE=function(X,V,Q){X>>>=0,V>>>=0,Q||Ne(X,V,this.length);for(var me=this[X],Fe=1,He=0;++He<V&&(Fe*=256);)me+=this[X+He]*Fe;return me},h.prototype.readUintBE=h.prototype.readUIntBE=function(X,V,Q){X>>>=0,V>>>=0,Q||Ne(X,V,this.length);for(var me=this[X+--V],Fe=1;V>0&&(Fe*=256);)me+=this[X+--V]*Fe;return me},h.prototype.readUint8=h.prototype.readUInt8=function(X,V){return X>>>=0,V||Ne(X,1,this.length),this[X]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(X,V){return X>>>=0,V||Ne(X,2,this.length),this[X]|this[X+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(X,V){return X>>>=0,V||Ne(X,2,this.length),this[X]<<8|this[X+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(X,V){return X>>>=0,V||Ne(X,4,this.length),(this[X]|this[X+1]<<8|this[X+2]<<16)+16777216*this[X+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(X,V){return X>>>=0,V||Ne(X,4,this.length),16777216*this[X]+(this[X+1]<<16|this[X+2]<<8|this[X+3])},h.prototype.readIntLE=function(X,V,Q){X>>>=0,V>>>=0,Q||Ne(X,V,this.length);for(var me=this[X],Fe=1,He=0;++He<V&&(Fe*=256);)me+=this[X+He]*Fe;return me>=(Fe*=128)&&(me-=Math.pow(2,8*V)),me},h.prototype.readIntBE=function(X,V,Q){X>>>=0,V>>>=0,Q||Ne(X,V,this.length);for(var me=V,Fe=1,He=this[X+--me];me>0&&(Fe*=256);)He+=this[X+--me]*Fe;return He>=(Fe*=128)&&(He-=Math.pow(2,8*V)),He},h.prototype.readInt8=function(X,V){return X>>>=0,V||Ne(X,1,this.length),128&this[X]?-1*(255-this[X]+1):this[X]},h.prototype.readInt16LE=function(X,V){X>>>=0,V||Ne(X,2,this.length);var Q=this[X]|this[X+1]<<8;return 32768&Q?4294901760|Q:Q},h.prototype.readInt16BE=function(X,V){X>>>=0,V||Ne(X,2,this.length);var Q=this[X+1]|this[X]<<8;return 32768&Q?4294901760|Q:Q},h.prototype.readInt32LE=function(X,V){return X>>>=0,V||Ne(X,4,this.length),this[X]|this[X+1]<<8|this[X+2]<<16|this[X+3]<<24},h.prototype.readInt32BE=function(X,V){return X>>>=0,V||Ne(X,4,this.length),this[X]<<24|this[X+1]<<16|this[X+2]<<8|this[X+3]},h.prototype.readFloatLE=function(X,V){return X>>>=0,V||Ne(X,4,this.length),a.read(this,X,!0,23,4)},h.prototype.readFloatBE=function(X,V){return X>>>=0,V||Ne(X,4,this.length),a.read(this,X,!1,23,4)},h.prototype.readDoubleLE=function(X,V){return X>>>=0,V||Ne(X,8,this.length),a.read(this,X,!0,52,8)},h.prototype.readDoubleBE=function(X,V){return X>>>=0,V||Ne(X,8,this.length),a.read(this,X,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(X,V,Q,me){X=+X,V>>>=0,Q>>>=0,me||Ye(this,X,V,Q,Math.pow(2,8*Q)-1,0);var He=1,et=0;for(this[V]=255&X;++et<Q&&(He*=256);)this[V+et]=X/He&255;return V+Q},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(X,V,Q,me){X=+X,V>>>=0,Q>>>=0,me||Ye(this,X,V,Q,Math.pow(2,8*Q)-1,0);var He=Q-1,et=1;for(this[V+He]=255&X;--He>=0&&(et*=256);)this[V+He]=X/et&255;return V+Q},h.prototype.writeUint8=h.prototype.writeUInt8=function(X,V,Q){return X=+X,V>>>=0,Q||Ye(this,X,V,1,255,0),this[V]=255&X,V+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(X,V,Q){return X=+X,V>>>=0,Q||Ye(this,X,V,2,65535,0),this[V]=255&X,this[V+1]=X>>>8,V+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(X,V,Q){return X=+X,V>>>=0,Q||Ye(this,X,V,2,65535,0),this[V]=X>>>8,this[V+1]=255&X,V+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(X,V,Q){return X=+X,V>>>=0,Q||Ye(this,X,V,4,4294967295,0),this[V+3]=X>>>24,this[V+2]=X>>>16,this[V+1]=X>>>8,this[V]=255&X,V+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(X,V,Q){return X=+X,V>>>=0,Q||Ye(this,X,V,4,4294967295,0),this[V]=X>>>24,this[V+1]=X>>>16,this[V+2]=X>>>8,this[V+3]=255&X,V+4},h.prototype.writeIntLE=function(X,V,Q,me){if(X=+X,V>>>=0,!me){var Fe=Math.pow(2,8*Q-1);Ye(this,X,V,Q,Fe-1,-Fe)}var He=0,et=1,vt=0;for(this[V]=255&X;++He<Q&&(et*=256);)X<0&&0===vt&&0!==this[V+He-1]&&(vt=1),this[V+He]=(X/et>>0)-vt&255;return V+Q},h.prototype.writeIntBE=function(X,V,Q,me){if(X=+X,V>>>=0,!me){var Fe=Math.pow(2,8*Q-1);Ye(this,X,V,Q,Fe-1,-Fe)}var He=Q-1,et=1,vt=0;for(this[V+He]=255&X;--He>=0&&(et*=256);)X<0&&0===vt&&0!==this[V+He+1]&&(vt=1),this[V+He]=(X/et>>0)-vt&255;return V+Q},h.prototype.writeInt8=function(X,V,Q){return X=+X,V>>>=0,Q||Ye(this,X,V,1,127,-128),X<0&&(X=255+X+1),this[V]=255&X,V+1},h.prototype.writeInt16LE=function(X,V,Q){return X=+X,V>>>=0,Q||Ye(this,X,V,2,32767,-32768),this[V]=255&X,this[V+1]=X>>>8,V+2},h.prototype.writeInt16BE=function(X,V,Q){return X=+X,V>>>=0,Q||Ye(this,X,V,2,32767,-32768),this[V]=X>>>8,this[V+1]=255&X,V+2},h.prototype.writeInt32LE=function(X,V,Q){return X=+X,V>>>=0,Q||Ye(this,X,V,4,2147483647,-2147483648),this[V]=255&X,this[V+1]=X>>>8,this[V+2]=X>>>16,this[V+3]=X>>>24,V+4},h.prototype.writeInt32BE=function(X,V,Q){return X=+X,V>>>=0,Q||Ye(this,X,V,4,2147483647,-2147483648),X<0&&(X=4294967295+X+1),this[V]=X>>>24,this[V+1]=X>>>16,this[V+2]=X>>>8,this[V+3]=255&X,V+4},h.prototype.writeFloatLE=function(X,V,Q){return ft(this,X,V,!0,Q)},h.prototype.writeFloatBE=function(X,V,Q){return ft(this,X,V,!1,Q)},h.prototype.writeDoubleLE=function(X,V,Q){return nt(this,X,V,!0,Q)},h.prototype.writeDoubleBE=function(X,V,Q){return nt(this,X,V,!1,Q)},h.prototype.copy=function(X,V,Q,me){if(!h.isBuffer(X))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!me&&0!==me&&(me=this.length),V>=X.length&&(V=X.length),V||(V=0),me>0&&me<Q&&(me=Q),me===Q||0===X.length||0===this.length)return 0;if(V<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("sourceEnd out of bounds");me>this.length&&(me=this.length),X.length-V<me-Q&&(me=X.length-V+Q);var Fe=me-Q;return this===X&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(V,Q,me):Uint8Array.prototype.set.call(X,this.subarray(Q,me),V),Fe},h.prototype.fill=function(X,V,Q,me){if("string"==typeof X){if("string"==typeof V?(me=V,V=0,Q=this.length):"string"==typeof Q&&(me=Q,Q=this.length),void 0!==me&&"string"!=typeof me)throw new TypeError("encoding must be a string");if("string"==typeof me&&!h.isEncoding(me))throw new TypeError("Unknown encoding: "+me);if(1===X.length){var Fe=X.charCodeAt(0);("utf8"===me&&Fe<128||"latin1"===me)&&(X=Fe)}}else"number"==typeof X?X&=255:"boolean"==typeof X&&(X=Number(X));if(V<0||this.length<V||this.length<Q)throw new RangeError("Out of range index");if(Q<=V)return this;var He;if(V>>>=0,Q=void 0===Q?this.length:Q>>>0,X||(X=0),"number"==typeof X)for(He=V;He<Q;++He)this[He]=X;else{var et=h.isBuffer(X)?X:h.from(X,me),vt=et.length;if(0===vt)throw new TypeError('The value "'+X+'" is invalid for argument "value"');for(He=0;He<Q-V;++He)this[He+V]=et[He%vt]}return this};var Be=/[^+/0-9A-Za-z-_]/g;function de(_e,X){X=X||1/0;for(var V,Q=_e.length,me=null,Fe=[],He=0;He<Q;++He){if((V=_e.charCodeAt(He))>55295&&V<57344){if(!me){if(V>56319){(X-=3)>-1&&Fe.push(239,191,189);continue}if(He+1===Q){(X-=3)>-1&&Fe.push(239,191,189);continue}me=V;continue}if(V<56320){(X-=3)>-1&&Fe.push(239,191,189),me=V;continue}V=65536+(me-55296<<10|V-56320)}else me&&(X-=3)>-1&&Fe.push(239,191,189);if(me=null,V<128){if((X-=1)<0)break;Fe.push(V)}else if(V<2048){if((X-=2)<0)break;Fe.push(V>>6|192,63&V|128)}else if(V<65536){if((X-=3)<0)break;Fe.push(V>>12|224,V>>6&63|128,63&V|128)}else{if(!(V<1114112))throw new Error("Invalid code point");if((X-=4)<0)break;Fe.push(V>>18|240,V>>12&63|128,V>>6&63|128,63&V|128)}}return Fe}function Pe(_e){return P.toByteArray(function it(_e){if((_e=(_e=_e.split("=")[0]).trim().replace(Be,"")).length<2)return"";for(;_e.length%4!=0;)_e+="=";return _e}(_e))}function Le(_e,X,V,Q){for(var me=0;me<Q&&!(me+V>=X.length||me>=_e.length);++me)X[me+V]=_e[me];return me}function ce(_e,X){return _e instanceof X||null!=_e&&null!=_e.constructor&&null!=_e.constructor.name&&_e.constructor.name===X.name}function ge(_e){return _e!=_e}var rt=function(){for(var _e="0123456789abcdef",X=new Array(256),V=0;V<16;++V)for(var Q=16*V,me=0;me<16;++me)X[Q+me]=_e[V]+_e[me];return X}()},4263:(we,R,S)=>{var P=S(9903),a=S(3855),x=a(P("String.prototype.indexOf"));we.exports=function(j,d){var h=P(j,!!d);return"function"==typeof h&&x(j,".prototype.")>-1?a(h):h}},3855:(we,R,S)=>{var P=S(224),a=S(9903),x=a("%Function.prototype.apply%"),F=a("%Function.prototype.call%"),j=a("%Reflect.apply%",!0)||P.call(F,x),d=a("%Object.getOwnPropertyDescriptor%",!0),h=a("%Object.defineProperty%",!0),g=a("%Math.max%");if(h)try{h({},"a",{value:1})}catch{h=null}we.exports=function(B){var H=j(P,F,arguments);if(d&&h){var $=d(H,"length");$.configurable&&h(H,"length",{value:1+g(0,B.length-(arguments.length-1))})}return H};var N=function(){return j(P,x,arguments)};h?h(we.exports,"apply",{value:N}):we.exports.apply=N},1562:function(we,R){var a;void 0!==(a=function(){return new function(){var F=this;F.init=function(){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},String.prototype.repeat=function(L){return new Array(1+L).join(this)}},F.init();var g=/\/\*[\s\S]*?\*\//g,N=/([^\:]+):([^\;]*);/,O=/(\/\*[\s\S]*?\*\/)|([^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|([^\;\{\}]+\;(?!\s*\*\/))/gim,G=function(L){return void 0===L||0==L.length||null==L};F.toJSON=function(L,U){var z={children:{},attributes:{}},ee=null,ye=0;for(void 0===U&&(U={ordered:!1,comments:!1,stripComments:!1,split:!1}),U.stripComments&&(U.comments=!1,L=L.replace(g,""));null!=(ee=O.exec(L));)if(!G(ee[1])&&U.comments){var be=ee[1].trim();z[ye++]=be}else if(G(ee[2])){if(!G(ee[3]))return z;if(!G(ee[4])){var I=ee[4].trim(),ne=N.exec(I);if(ne){var pe=ne[1].trim(),fe=ne[2].trim();if(U.ordered)(A={}).name=pe,A.value=fe,A.type="attr",z[ye++]=A;else if(pe in z.attributes){var Ve=z.attributes[pe];Ve instanceof Array||(z.attributes[pe]=[Ve]),z.attributes[pe].push(fe)}else z.attributes[pe]=fe}else z[ye++]=I}}else{pe=ee[2].trim();var y=F.toJSON(L,U);if(U.ordered){var A;(A={}).name=pe,A.value=y,A.type="rule",z[ye++]=A}else{if(U.split)var _=pe.split(",");else _=[pe];for(i in _){var E=_[i].trim();if(E in z.children)for(var M in y.attributes)z.children[E].attributes[M]=y.attributes[M];else z.children[E]=y}}}return z},F.toCSS=function(L,U,z){var ee="";if(void 0===U&&(U=0),void 0===z&&(z=!1),L.attributes)for(i in L.attributes){var ye=L.attributes[i];if(ye instanceof Array)for(var be=0;be<ye.length;be++)ee+=W(i,ye[be],U);else ee+=W(i,ye,U)}if(L.children){var pe=!0;for(i in L.children)z&&!pe?ee+="\n":pe=!1,ee+=le(i,L.children[i],U)}return ee};var W=function(L,U,z){return"\t".repeat(z)+L+": "+U+";\n"},le=function(L,U,z){var ee="\t".repeat(z)+L+" {\n";return(ee+=F.toCSS(U,z+1))+("\t".repeat(z)+"}\n")}}}.apply(R,[]))&&(we.exports=a)},6929:function(we,R){!function(S){"use strict";var P="function"==typeof Symbol?Symbol("curriable placeholder"):60881;function x(d,h){var g="number"==typeof h?h:d.length,N=function a(d,h){return function g(N){return function(){var W,O=N.length,B=arguments,H=B.length,$=[],K=0,G=h;if(O)for(var le=-1;++le<O;)$[le]=W=N[le]===P&&K<H?B[K++]:N[le],W!==P&&--G;if(K<H)for(;K<H;)$[$.length]=W=B[K],W!==P&&K<h&&--G,++K;return G>0?g($):d.apply(this,$)}}([])}(d,g);return N.arity=g,N.fn=d,N}function F(d){return d===P}function j(d){return d.fn}x.__=P,x.isPlaceholder=F,x.uncurry=j,S.__=P,S.curry=x,S.default=x,S.isPlaceholder=F,S.uncurry=j,Object.defineProperty(S,"__esModule",{value:!0})}(R)},3974:(we,R,S)=>{var P=Function.prototype.bind||S(9683);we.exports=function a(x,F){var j=function(){return 0===arguments.length?j:arguments.length>1?x.apply(F,arguments):P.call(x,F,arguments[0])};return j.uncurry=function(){return x},j}},2375:function(we){we.exports=function(){"use strict";const R=(O,B)=>B,S=(O,B)=>Object.assign({},B),P=(O,B)=>B.slice(),h={$push:(O,B)=>O.concat(B),$append:(O,B)=>O.concat(B),$prepend:(O,B)=>B.concat(O),$replace:function(O,B){let H;return O=O.slice(),Object.keys(B).forEach($=>{if(H=Number.parseInt($),H<0||Number.isNaN(H))throw Error(`Invalid index for $replace: ${$}`);O[H]=N(O[H],B[$])}),O},$insert:function(O,B){let H;return O=O.slice(),Object.keys(B).forEach($=>{if(H=Number.parseInt($),Number.isNaN(H))throw Error(`Invalid index for $insert: ${$}`);O.splice(H,0,B[$])}),O},$set:P},g={oo:function(O,B){return O=Object.assign({},O),Object.keys(B).forEach(H=>O[H]=N(O[H],B[H])),O},oa:S,ob:R,aa:function(O,B){return O=O.slice(),B.forEach((H,$)=>O[$]=N(O[$],H)),O},ao:function(O,B){const H=Object.keys(B)[0];return H in h?h[H](O.slice(),B[H]):B},ab:R,bb:R,bo:S,ba:P};function N(O,B){if(!B)return B;const H=Array.isArray(O)?"a":"object"==typeof O?"o":"b",$=Array.isArray(B)?"a":"object"==typeof B?"o":"b";return g[H+$](O,B)}return N}()},6607:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.default=R.nthElement=R.parentElements=void 0;var S=function(h){for(var g=[];h;){var N=h.nodeName.toLowerCase(),O=h.id?"#".concat(h.id):"",B="";h.className&&"string"==typeof h.className&&(B=".".concat(h.className.replace(/\s+/g,".").replace(/[:*+?^${}()|[\]\\]/gi,"\\$&"))),g.unshift({element:h,selector:N+O+B}),h=h.parentNode!==document&&h.parentNode}return g};R.parentElements=S;var P=function(h){for(var g=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],N=h,O=1;null!==N.previousElementSibling;)(!g||N.previousElementSibling.nodeName===h.nodeName)&&O++,N=N.previousElementSibling;return O};R.nthElement=P;R.default=function(h){if(!(h instanceof HTMLElement))throw new Error("element must be of type `HTMLElement`.");return function(h){var g=[];return h.forEach(function(N){(function(h,g){var N=""===g?h:"".concat(g," > ").concat(h);return document.querySelectorAll(N).length>1})(N.selector,g.join(" > "))&&(N.selector+=":nth-of-type(".concat(P(N.element),")")),g.push(N.selector)}),g.join(" > ")}(S(h))}},1934:we=>{var R=Object.prototype.toString;function x(F){return F.replace(/\uffff/g,".")}we.exports=function S(F){for(var j=-1,d=function a(F){for(var j=-1,d=F.length,h=[];++j<d;)F[j]&&h.push(F[j]);return h}(function P(F){return("[object String]"===R.call(F)?F:"").replace(/\\\./g,"\uffff")}(F).split(".")),h=d.length,g=[];++j<h;)g.push(x(d[j]));return g}},3358:we=>{var P,R="object"==typeof Reflect?Reflect:null,S=R&&"function"==typeof R.apply?R.apply:function(z,ee,ye){return Function.prototype.apply.call(z,ee,ye)};P=R&&"function"==typeof R.ownKeys?R.ownKeys:Object.getOwnPropertySymbols?function(z){return Object.getOwnPropertyNames(z).concat(Object.getOwnPropertySymbols(z))}:function(z){return Object.getOwnPropertyNames(z)};var x=Number.isNaN||function(z){return z!=z};function F(){F.init.call(this)}we.exports=F,we.exports.once=function W(U,z){return new Promise(function(ee,ye){function be(y){U.removeListener(z,pe),ye(y)}function pe(){"function"==typeof U.removeListener&&U.removeListener("error",be),ee([].slice.call(arguments))}L(U,z,pe,{once:!0}),"error"!==z&&function le(U,z,ee){"function"==typeof U.on&&L(U,"error",z,ee)}(U,be,{once:!0})})},F.EventEmitter=F,F.prototype._events=void 0,F.prototype._eventsCount=0,F.prototype._maxListeners=void 0;var j=10;function d(U){if("function"!=typeof U)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof U)}function h(U){return void 0===U._maxListeners?F.defaultMaxListeners:U._maxListeners}function g(U,z,ee,ye){var be,pe,y;if(d(ee),void 0===(pe=U._events)?(pe=U._events=Object.create(null),U._eventsCount=0):(void 0!==pe.newListener&&(U.emit("newListener",z,ee.listener?ee.listener:ee),pe=U._events),y=pe[z]),void 0===y)y=pe[z]=ee,++U._eventsCount;else if("function"==typeof y?y=pe[z]=ye?[ee,y]:[y,ee]:ye?y.unshift(ee):y.push(ee),(be=h(U))>0&&y.length>be&&!y.warned){y.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+y.length+" "+String(z)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=U,A.type=z,A.count=y.length,function a(U){console&&console.warn&&console.warn(U)}(A)}return U}function N(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function O(U,z,ee){var ye={fired:!1,wrapFn:void 0,target:U,type:z,listener:ee},be=N.bind(ye);return be.listener=ee,ye.wrapFn=be,be}function B(U,z,ee){var ye=U._events;if(void 0===ye)return[];var be=ye[z];return void 0===be?[]:"function"==typeof be?ee?[be.listener||be]:[be]:ee?function G(U){for(var z=new Array(U.length),ee=0;ee<z.length;++ee)z[ee]=U[ee].listener||U[ee];return z}(be):$(be,be.length)}function H(U){var z=this._events;if(void 0!==z){var ee=z[U];if("function"==typeof ee)return 1;if(void 0!==ee)return ee.length}return 0}function $(U,z){for(var ee=new Array(z),ye=0;ye<z;++ye)ee[ye]=U[ye];return ee}function L(U,z,ee,ye){if("function"==typeof U.on)ye.once?U.once(z,ee):U.on(z,ee);else{if("function"!=typeof U.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof U);U.addEventListener(z,function be(pe){ye.once&&U.removeEventListener(z,be),ee(pe)})}}Object.defineProperty(F,"defaultMaxListeners",{enumerable:!0,get:function(){return j},set:function(U){if("number"!=typeof U||U<0||x(U))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+U+".");j=U}}),F.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},F.prototype.setMaxListeners=function(z){if("number"!=typeof z||z<0||x(z))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+z+".");return this._maxListeners=z,this},F.prototype.getMaxListeners=function(){return h(this)},F.prototype.emit=function(z){for(var ee=[],ye=1;ye<arguments.length;ye++)ee.push(arguments[ye]);var be="error"===z,pe=this._events;if(void 0!==pe)be=be&&void 0===pe.error;else if(!be)return!1;if(be){var y;if(ee.length>0&&(y=ee[0]),y instanceof Error)throw y;var A=new Error("Unhandled error."+(y?" ("+y.message+")":""));throw A.context=y,A}var _=pe[z];if(void 0===_)return!1;if("function"==typeof _)S(_,this,ee);else{var E=_.length,M=$(_,E);for(ye=0;ye<E;++ye)S(M[ye],this,ee)}return!0},F.prototype.on=F.prototype.addListener=function(z,ee){return g(this,z,ee,!1)},F.prototype.prependListener=function(z,ee){return g(this,z,ee,!0)},F.prototype.once=function(z,ee){return d(ee),this.on(z,O(this,z,ee)),this},F.prototype.prependOnceListener=function(z,ee){return d(ee),this.prependListener(z,O(this,z,ee)),this},F.prototype.off=F.prototype.removeListener=function(z,ee){var ye,be,pe,y,A;if(d(ee),void 0===(be=this._events))return this;if(void 0===(ye=be[z]))return this;if(ye===ee||ye.listener===ee)0==--this._eventsCount?this._events=Object.create(null):(delete be[z],be.removeListener&&this.emit("removeListener",z,ye.listener||ee));else if("function"!=typeof ye){for(pe=-1,y=ye.length-1;y>=0;y--)if(ye[y]===ee||ye[y].listener===ee){A=ye[y].listener,pe=y;break}if(pe<0)return this;0===pe?ye.shift():function K(U,z){for(;z+1<U.length;z++)U[z]=U[z+1];U.pop()}(ye,pe),1===ye.length&&(be[z]=ye[0]),void 0!==be.removeListener&&this.emit("removeListener",z,A||ee)}return this},F.prototype.removeAllListeners=function(z){var ee,ye,be;if(void 0===(ye=this._events))return this;if(void 0===ye.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==ye[z]&&(0==--this._eventsCount?this._events=Object.create(null):delete ye[z]),this;if(0===arguments.length){var y,pe=Object.keys(ye);for(be=0;be<pe.length;++be)"removeListener"!==(y=pe[be])&&this.removeAllListeners(y);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(ee=ye[z]))this.removeListener(z,ee);else if(void 0!==ee)for(be=ee.length-1;be>=0;be--)this.removeListener(z,ee[be]);return this},F.prototype.listeners=function(z){return B(this,z,!0)},F.prototype.rawListeners=function(z){return B(this,z,!1)},F.listenerCount=function(U,z){return"function"==typeof U.listenerCount?U.listenerCount(z):H.call(U,z)},F.prototype.listenerCount=H,F.prototype.eventNames=function(){return this._eventsCount>0?P(this._events):[]}},9683:we=>{we.exports=function(R){var P,S=this;if(arguments.length<2)P=function(){if(this instanceof P){var F=S.apply(this,arguments);return Object(F)===F?F:this}return S.apply(R,arguments)};else{for(var a=new Array(arguments.length-1),x=1;x<arguments.length;x++)a[x-1]=arguments[x];P=function(){var d,F=a.length,j=new Array(F+arguments.length);for(d=0;d<F;d++)j[d]=a[d];for(d=0;d<arguments.length;d++)j[F+d]=arguments[d];if(this instanceof P){var h=S.apply(this,j);return Object(h)===h?h:this}return S.apply(R,j)}}return P.prototype=S.prototype,P}},2199:we=>{var R="Function.prototype.bind called on incompatible ",S=Array.prototype.slice,P=Object.prototype.toString,a="[object Function]";we.exports=function(F){var j=this;if("function"!=typeof j||P.call(j)!==a)throw new TypeError(R+j);for(var h,d=S.call(arguments,1),g=function(){if(this instanceof h){var $=j.apply(this,d.concat(S.call(arguments)));return Object($)===$?$:this}return j.apply(F,d.concat(S.call(arguments)))},N=Math.max(0,j.length-d.length),O=[],B=0;B<N;B++)O.push("$"+B);if(h=Function("binder","return function ("+O.join(",")+"){ return binder.apply(this,arguments); }")(g),j.prototype){var H=function(){};H.prototype=j.prototype,h.prototype=new H,H.prototype=null}return h}},224:(we,R,S)=>{var P=S(2199);we.exports=Function.prototype.bind||P},9903:(we,R,S)=>{var P,a=SyntaxError,x=Function,F=TypeError,j=function(A){try{return x('"use strict"; return ('+A+").constructor;")()}catch{}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch{d=null}var h=function(){throw new F},g=d?function(){try{return h}catch{try{return d(arguments,"callee").get}catch{return h}}}():h,N=S(524)(),O=Object.getPrototypeOf||function(A){return A.__proto__},B={},H="undefined"==typeof Uint8Array?P:O(Uint8Array),$={"%AggregateError%":"undefined"==typeof AggregateError?P:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?P:ArrayBuffer,"%ArrayIteratorPrototype%":N?O([][Symbol.iterator]()):P,"%AsyncFromSyncIteratorPrototype%":P,"%AsyncFunction%":B,"%AsyncGenerator%":B,"%AsyncGeneratorFunction%":B,"%AsyncIteratorPrototype%":B,"%Atomics%":"undefined"==typeof Atomics?P:Atomics,"%BigInt%":"undefined"==typeof BigInt?P:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?P:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?P:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?P:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?P:FinalizationRegistry,"%Function%":x,"%GeneratorFunction%":B,"%Int8Array%":"undefined"==typeof Int8Array?P:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?P:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?P:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":N?O(O([][Symbol.iterator]())):P,"%JSON%":"object"==typeof JSON?JSON:P,"%Map%":"undefined"==typeof Map?P:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&N?O((new Map)[Symbol.iterator]()):P,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?P:Promise,"%Proxy%":"undefined"==typeof Proxy?P:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?P:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?P:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&N?O((new Set)[Symbol.iterator]()):P,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?P:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":N?O(""[Symbol.iterator]()):P,"%Symbol%":N?Symbol:P,"%SyntaxError%":a,"%ThrowTypeError%":g,"%TypedArray%":H,"%TypeError%":F,"%Uint8Array%":"undefined"==typeof Uint8Array?P:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?P:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?P:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?P:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?P:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?P:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?P:WeakSet},K=function A(_){var E;if("%AsyncFunction%"===_)E=j("async function () {}");else if("%GeneratorFunction%"===_)E=j("function* () {}");else if("%AsyncGeneratorFunction%"===_)E=j("async function* () {}");else if("%AsyncGenerator%"===_){var M=A("%AsyncGeneratorFunction%");M&&(E=M.prototype)}else if("%AsyncIteratorPrototype%"===_){var I=A("%AsyncGenerator%");I&&(E=O(I.prototype))}return $[_]=E,E},G={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},W=S(224),le=S(4031),L=W.call(Function.call,Array.prototype.concat),U=W.call(Function.apply,Array.prototype.splice),z=W.call(Function.call,String.prototype.replace),ee=W.call(Function.call,String.prototype.slice),ye=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,be=/\\(\\)?/g,pe=function(_){var E=ee(_,0,1),M=ee(_,-1);if("%"===E&&"%"!==M)throw new a("invalid intrinsic syntax, expected closing `%`");if("%"===M&&"%"!==E)throw new a("invalid intrinsic syntax, expected opening `%`");var I=[];return z(_,ye,function(ne,fe,Ve,ae){I[I.length]=Ve?z(ae,be,"$1"):fe||ne}),I},y=function(_,E){var I,M=_;if(le(G,M)&&(M="%"+(I=G[M])[0]+"%"),le($,M)){var ne=$[M];if(ne===B&&(ne=K(M)),void 0===ne&&!E)throw new F("intrinsic "+_+" exists, but is not available. Please file an issue!");return{alias:I,name:M,value:ne}}throw new a("intrinsic "+_+" does not exist!")};we.exports=function(_,E){if("string"!=typeof _||0===_.length)throw new F("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof E)throw new F('"allowMissing" argument must be a boolean');var M=pe(_),I=M.length>0?M[0]:"",ne=y("%"+I+"%",E),fe=ne.name,Ve=ne.value,ae=!1,ze=ne.alias;ze&&(I=ze[0],U(M,L([0,1],ze)));for(var ot=1,Ne=!0;ot<M.length;ot+=1){var Ye=M[ot],Ze=ee(Ye,0,1),ft=ee(Ye,-1);if(('"'===Ze||"'"===Ze||"`"===Ze||'"'===ft||"'"===ft||"`"===ft)&&Ze!==ft)throw new a("property names with quotes must have matching quotes");if(("constructor"===Ye||!Ne)&&(ae=!0),le($,fe="%"+(I+="."+Ye)+"%"))Ve=$[fe];else if(null!=Ve){if(!(Ye in Ve)){if(!E)throw new F("base intrinsic for "+_+" exists, but the property is not available.");return}if(d&&ot+1>=M.length){var nt=d(Ve,Ye);Ve=(Ne=!!nt)&&"get"in nt&&!("originalValue"in nt.get)?nt.get:Ve[Ye]}else Ne=le(Ve,Ye),Ve=Ve[Ye];Ne&&!ae&&($[fe]=Ve)}}return Ve}},524:(we,R,S)=>{var P="undefined"!=typeof Symbol&&Symbol,a=S(6858);we.exports=function(){return"function"==typeof P&&"function"==typeof Symbol&&"symbol"==typeof P("foo")&&"symbol"==typeof Symbol("bar")&&a()}},6858:we=>{we.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var S={},P=Symbol("test"),a=Object(P);if("string"==typeof P||"[object Symbol]"!==Object.prototype.toString.call(P)||"[object Symbol]"!==Object.prototype.toString.call(a))return!1;for(P in S[P]=42,S)return!1;if("function"==typeof Object.keys&&0!==Object.keys(S).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(S).length)return!1;var F=Object.getOwnPropertySymbols(S);if(1!==F.length||F[0]!==P||!Object.prototype.propertyIsEnumerable.call(S,P))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var j=Object.getOwnPropertyDescriptor(S,P);if(42!==j.value||!0!==j.enumerable)return!1}return!0}},4031:(we,R,S)=>{var P=S(224);we.exports=P.call(Function.call,Object.prototype.hasOwnProperty)},8288:(we,R,S)=>{S.r(R),S.d(R,{default:()=>ft,hash:()=>Ze});var a,x,F,j,P=S(6929),d="undefined"!=typeof Buffer&&"function"==typeof Buffer.from,h="function"==typeof Uint16Array,g=/\[object (HTML(.*)Element)\]/,N=/\[object (SVG(.*)Element)\]/,B=["Arguments","Array","ArrayBuffer","Boolean","DataView","Date","DocumentFragment","Error","Event","Float32Array","Float64Array","Function","Generator","GeneratorFunction","HTMLElement","Int8Array","Int16Array","Int32Array","Map","Null","Number","Object","Promise","RegExp","Set","String","Symbol","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","Undefined","WeakMap","WeakSet","Window"].reduce(function(nt,Be){return nt["[object "+Be+"]"]=Be,nt},{}),H=Object.keys(B).reduce(function(nt,Be){return nt[B[Be].toUpperCase()]=Be,nt},{}),$={"[object Map]":!0,"[object Set]":!0},K={boolean:!0,function:!0,number:!0,string:!0,undefined:!0},G=((a={})[H.ARGUMENTS]=!0,a[H.ARRAY]=!0,a),W=((x={})[H.REGEXP]=!0,x[H.SYMBOL]=!0,x),le=((F={})[H.FLOAT32ARRAY]=!0,F[H.FLOAT64ARRAY]=!0,F[H.INT8ARRAY]=!0,F[H.INT16ARRAY]=!0,F[H.INT32ARRAY]=!0,F[H.UINT8ARRAY]=!0,F[H.UINT8CLAMPEDARRAY]=!0,F[H.UINT16ARRAY]=!0,F[H.UINT32ARRAY]=!0,F),L=((j={})[H.GENERATOR]=!0,j[H.PROMISE]=!0,j[H.WEAKMAP]=!0,j[H.WEAKSET]=!0,j),U=/^\s*function\s*([^(]*)/i,z=Object.prototype.toString,ee=Object.keys;function y(nt,Be){return nt>Be}function A(nt,Be){return nt[0]>Be[0]}function _(nt,Be){for(var it,de,te=0;te<nt.length;++te){for(de=nt[te],it=te-1;~it&&Be(nt[it],de);--it)nt[it+1]=nt[it];nt[it+1]=de}return nt}var Ve=d?function ne(nt){return Buffer.from(nt).toString("utf8")}:h?function I(nt){return String.fromCharCode.apply(null,new Uint16Array(nt))}:function fe(){return""};function ze(nt,Be){for(var it=0;it<nt.length;++it)if(nt[it]===Be)return it+1;return 0}function ot(nt,Be,it,de){if(void 0===de){var te=typeof nt;if("string"===te||K[te])return te+"|"+nt;if(null===nt)return"null|"+nt}var se=de||z.call(nt);return G[se]?nt:se===H.OBJECT?function M(nt){for(var de,Be=_(ee(nt),y),it={},te=0;te<Be.length;++te)it[de=Be[te]]=nt[de];return it}(nt):W[se]?B[se]+"|"+nt.toString():$[se]?function E(nt,Be,it){var de="function"==typeof nt.get,te=[];de?(nt.forEach(function(ge,rt){te.push([Ye(rt,Be,it),Ye(ge,Be,it)])}),_(te,A)):(nt.forEach(function(ge){te.push(Ye(ge,Be,it))}),_(te,y));for(var ce,se=function ye(nt){return nt.name||(nt.toString().match(U)||[])[1]||"anonymous"}(nt.constructor)+"|[",Pe=0,Le=te.length;Pe<Le;++Pe)ce=te[Pe],se+=(Pe?",":"")+(de?"["+ce[0]+","+ce[1]+"]":ce);return se+"]"}(nt,Be,it):se===H.DATE?B[se]+"|"+nt.getTime():se===H.ERROR?B[se]+"|"+nt.stack:se===H.EVENT?function pe(nt){return{bubbles:nt.bubbles,cancelBubble:nt.cancelBubble,cancelable:nt.cancelable,composed:nt.composed,currentTarget:nt.currentTarget,defaultPrevented:nt.defaultPrevented,eventPhase:nt.eventPhase,isTrusted:nt.isTrusted,returnValue:nt.returnValue,target:nt.target,type:nt.type}}(nt):L[se]?B[se]+"|NOT_ENUMERABLE":g.test(se)||N.test(se)?se.slice(8,-1)+"|"+nt.outerHTML:se===H.DOCUMENTFRAGMENT?B[se]+"|"+function ae(nt){for(var Be=nt.children,it="",de=0;de<Be.length;++de)it+=Be[de].outerHTML;return it}(nt):le[se]?B[se]+"|"+nt.join(","):se===H.ARRAYBUFFER?B[se]+"|"+Ve(nt):se===H.DATAVIEW?B[se]+"|"+Ve(nt.buffer):nt}function Ye(nt,Be,it){if(!nt||"object"!=typeof nt)return ot(nt,Be,it);var de=z.call(nt);return de===H.DATE||de===H.REGEXP?ot(nt,Be,it,de):JSON.stringify(nt,function Ne(nt,Be){return void 0===nt&&(nt=[]),void 0===Be&&(Be=[]),function(it,de){if("object"==typeof de)if(nt.length){var te=ze(nt,this);0===te?nt.push(this):(nt.splice(te),Be.splice(te)),Be.push(it);var se=ze(nt,de);if(0!==se)return"[~"+(Be.slice(0,se).join(".")||".")+"]";nt.push(de)}else nt[0]=de,Be[0]=it;return it&&this[it]instanceof Date?ot(this[it],nt,Be,H.DATE):ot(de,nt,Be)}}(Be,it))}function Ze(nt){return function be(nt){for(var te,Be=nt.length,it=5381,de=52711;Be--;)it=33*it^(te=nt.charCodeAt(Be)),de=33*de^te;return 4096*(it>>>0)+(de>>>0)}(Ye(nt))}(Ze.is=(0,P.curry)(function(nt,Be){return Ze(nt)===Ze(Be)})).all=(0,P.curry)(function(nt){for(var Be=Ze.is(nt),it=1;it<arguments.length;++it)if(!Be(arguments[it]))return!1;return!0},2),Ze.is.any=(0,P.curry)(function(nt){for(var Be=Ze.is(nt),it=1;it<arguments.length;it++)if(Be(arguments[it]))return!0;return!1},2),Ze.is.not=(0,P.curry)(function(nt,Be){return Ze(nt)!==Ze(Be)});const ft=Ze},4920:(we,R)=>{R.read=function(S,P,a,x,F){var j,d,h=8*F-x-1,g=(1<<h)-1,N=g>>1,O=-7,B=a?F-1:0,H=a?-1:1,$=S[P+B];for(B+=H,j=$&(1<<-O)-1,$>>=-O,O+=h;O>0;j=256*j+S[P+B],B+=H,O-=8);for(d=j&(1<<-O)-1,j>>=-O,O+=x;O>0;d=256*d+S[P+B],B+=H,O-=8);if(0===j)j=1-N;else{if(j===g)return d?NaN:1/0*($?-1:1);d+=Math.pow(2,x),j-=N}return($?-1:1)*d*Math.pow(2,j-x)},R.write=function(S,P,a,x,F,j){var d,h,g,N=8*j-F-1,O=(1<<N)-1,B=O>>1,H=23===F?Math.pow(2,-24)-Math.pow(2,-77):0,$=x?0:j-1,K=x?1:-1,G=P<0||0===P&&1/P<0?1:0;for(P=Math.abs(P),isNaN(P)||P===1/0?(h=isNaN(P)?1:0,d=O):(d=Math.floor(Math.log(P)/Math.LN2),P*(g=Math.pow(2,-d))<1&&(d--,g*=2),(P+=d+B>=1?H/g:H*Math.pow(2,1-B))*g>=2&&(d++,g/=2),d+B>=O?(h=0,d=O):d+B>=1?(h=(P*g-1)*Math.pow(2,F),d+=B):(h=P*Math.pow(2,B-1)*Math.pow(2,F),d=0));F>=8;S[a+$]=255&h,$+=K,h/=256,F-=8);for(d=d<<F|h,N+=F;N>0;S[a+$]=255&d,$+=K,d/=256,N-=8);S[a+$-K]|=128*G}},5035:we=>{we.exports="function"==typeof Object.create?function(S,P){P&&(S.super_=P,S.prototype=Object.create(P.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}))}:function(S,P){if(P){S.super_=P;var a=function(){};a.prototype=P.prototype,S.prototype=new a,S.prototype.constructor=S}}},7478:(we,R,S)=>{var P,a,x;void 0!==(a="function"==typeof(P=x=function(){function x(){for(var d=0,h={};d<arguments.length;d++){var g=arguments[d];for(var N in g)h[N]=g[N]}return h}function F(d){return d.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function j(d){function h(){}function g(O,B,H){if("undefined"!=typeof document){"number"==typeof(H=x({path:"/"},h.defaults,H)).expires&&(H.expires=new Date(1*new Date+864e5*H.expires)),H.expires=H.expires?H.expires.toUTCString():"";try{var $=JSON.stringify(B);/^[\{\[]/.test($)&&(B=$)}catch{}B=d.write?d.write(B,O):encodeURIComponent(String(B)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),O=encodeURIComponent(String(O)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var K="";for(var G in H)!H[G]||(K+="; "+G,!0!==H[G]&&(K+="="+H[G].split(";")[0]));return document.cookie=O+"="+B+K}}function N(O,B){if("undefined"!=typeof document){for(var H={},$=document.cookie?document.cookie.split("; "):[],K=0;K<$.length;K++){var G=$[K].split("="),W=G.slice(1).join("=");!B&&'"'===W.charAt(0)&&(W=W.slice(1,-1));try{var le=F(G[0]);if(W=(d.read||d)(W,le)||F(W),B)try{W=JSON.parse(W)}catch{}if(H[le]=W,O===le)break}catch{}}return O?H[O]:H}}return h.set=g,h.get=function(O){return N(O,!1)},h.getJSON=function(O){return N(O,!0)},h.remove=function(O,B){g(O,"",x(B,{expires:-1}))},h.defaults={},h.withConverter=j,h}(function(){})})?P.call(R,S,R,we):P)&&(we.exports=a),we.exports=x()},3909:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0});var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(K){return typeof K}:function(K){return K&&"function"==typeof Symbol&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},a=function(){function K(G,W){for(var le=0;le<W.length;le++){var L=W[le];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(G,L.key,L)}}return function(G,W,le){return W&&K(G.prototype,W),le&&K(G,le),G}}(),F=B(S(1035)),j=S(9492),h=B(S(7416)),g=S(4567),O=B(S(7726));function B(K){return K&&K.__esModule?K:{default:K}}function H(K,G){if(!(K instanceof G))throw new TypeError("Cannot call a class as a function")}var $=function(){function K(G){var W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},le=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var L in H(this,K),this.factMap=new Map(G),this.factResultsCache=new Map,this.allowUndefinedFacts=Boolean(le.allowUndefinedFacts),W){var U=void 0;U=W[L]instanceof F.default?W[L]:new F.default(L,W[L]),this._addConstantFact(U),(0,h.default)("almanac::constructor initialized runtime fact:"+U.id+" with "+U.value+"<"+P(U.value)+">")}}return a(K,[{key:"_getFact",value:function(W){return this.factMap.get(W)}},{key:"_addConstantFact",value:function(W){this.factMap.set(W.id,W),this._setFactValue(W,{},W.value)}},{key:"_setFactValue",value:function(W,le,L){var U=W.getCacheKey(le),z=Promise.resolve(L);return U&&this.factResultsCache.set(U,z),z}},{key:"addRuntimeFact",value:function(W,le){(0,h.default)("almanac::addRuntimeFact id:"+W);var L=new F.default(W,le);return this._addConstantFact(L)}},{key:"factValue",value:function(W){var le=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",U=void 0,z=this._getFact(W);if(void 0===z)return this.allowUndefinedFacts?Promise.resolve(void 0):Promise.reject(new j.UndefinedFactError("Undefined fact: "+W));if(z.isConstant())U=Promise.resolve(z.calculate(le,this));else{var ee=z.getCacheKey(le),ye=ee&&this.factResultsCache.get(ee);ye?(U=Promise.resolve(ye),(0,h.default)("almanac::factValue cache hit for fact:"+W)):((0,h.default)("almanac::factValue cache miss for fact:"+W+"; calculating"),U=this._setFactValue(z,le,z.calculate(le,this)))}if(L){if("string"==typeof L&&L.startsWith("$"))return(0,h.default)("condition::evaluate extracting object property "+L),U.then(function(pe){if((0,O.default)(pe)){var y=(0,g.JSONPath)({path:L,json:pe,wrap:!1});return(0,h.default)("condition::evaluate extracting object property "+L+", received: "+y),y}return(0,h.default)("condition::evaluate could not compute object path("+L+") of non-object: "+pe+" <"+(void 0===pe?"undefined":P(pe))+">; continuing with "+pe),pe});var be=void 0;try{be=S(7559)}catch{throw console.error('Oops! Looks like you\'re trying to use the deprecated syntax for the ".path" property.'),console.error('Please convert your "path" properties to JsonPath syntax (ensure your path starts with "$")'),console.error('Alternatively, if you wish to continue using old syntax (provided by selectn), you may "npm install selectn" as a direct dependency.'),console.error("See https://github.com/CacheControl/json-rules-engine/blob/master/CHANGELOG.md#500--2019-10-27 for more information."),new Error('json-rules-engine: Unmet peer dependency "selectn" required for use of deprecated ".path" syntax. please "npm install selectn" or convert to json-path syntax')}return U.then(function(pe){if((0,O.default)(pe)){var y=be(L)(pe);return(0,h.default)("condition::evaluate extracting object property "+L+", received: "+y),y}return(0,h.default)("condition::evaluate could not compute object path("+L+") of non-object: "+pe+" <"+(void 0===pe?"undefined":P(pe))+">; continuing with "+pe),pe})}return U}}]),K}();R.default=$},7396:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0});var P=function(){function N(O,B){for(var H=0;H<B.length;H++){var $=B[H];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(O,$.key,$)}}return function(O,B,H){return B&&N(O.prototype,B),H&&N(O,H),O}}(),x=d(S(7416)),j=d(S(7726));function d(N){return N&&N.__esModule?N:{default:N}}var g=function(){function N(O){if(function h(N,O){if(!(N instanceof O))throw new TypeError("Cannot call a class as a function")}(this,N),!O)throw new Error("Condition: constructor options required");var B=N.booleanOperator(O);if(Object.assign(this,O),B){var H=O[B];if(!Array.isArray(H))throw new Error('"'+B+'" must be an array');this.operator=B,this.priority=parseInt(O.priority,10)||1,this[B]=H.map(function($){return new N($)})}else{if(!Object.prototype.hasOwnProperty.call(O,"fact"))throw new Error('Condition: constructor "fact" property required');if(!Object.prototype.hasOwnProperty.call(O,"operator"))throw new Error('Condition: constructor "operator" property required');if(!Object.prototype.hasOwnProperty.call(O,"value"))throw new Error('Condition: constructor "value" property required');Object.prototype.hasOwnProperty.call(O,"priority")&&(O.priority=parseInt(O.priority,10))}}return P(N,[{key:"toJSON",value:function(){var B=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],H={};this.priority&&(H.priority=this.priority);var $=N.booleanOperator(this);return $?H[$]=this[$].map(function(K){return K.toJSON(B)}):(H.operator=this.operator,H.value=this.value,H.fact=this.fact,void 0!==this.factResult&&(H.factResult=this.factResult),void 0!==this.result&&(H.result=this.result),this.params&&(H.params=this.params),this.path&&(H.path=this.path)),B?JSON.stringify(H):H}},{key:"_getValue",value:function(B){var H=this.value;return(0,j.default)(H)&&Object.prototype.hasOwnProperty.call(H,"fact")?B.factValue(H.fact,H.params,H.path):Promise.resolve(H)}},{key:"evaluate",value:function(B,H){var $=this;if(!B)return Promise.reject(new Error("almanac required"));if(!H)return Promise.reject(new Error("operatorMap required"));if(this.isBooleanOperator())return Promise.reject(new Error("Cannot evaluate() a boolean condition"));var K=H.get(this.operator);return K?this._getValue(B).then(function(G){return B.factValue($.fact,$.params,$.path).then(function(W){var le=K.evaluate(W,G);return(0,x.default)("condition::evaluate <"+W+" "+$.operator+" "+G+"?> ("+le+")"),{result:le,leftHandSideValue:W,rightHandSideValue:G,operator:$.operator}})}):Promise.reject(new Error("Unknown operator: "+this.operator))}},{key:"booleanOperator",value:function(){return N.booleanOperator(this)}},{key:"isBooleanOperator",value:function(){return void 0!==N.booleanOperator(this)}}],[{key:"booleanOperator",value:function(B){return Object.prototype.hasOwnProperty.call(B,"any")?"any":Object.prototype.hasOwnProperty.call(B,"all")?"all":void 0}}]),N}();R.default=g},7416:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.default=function S(P){try{("undefined"!=typeof process&&process.env&&process.env.DEBUG&&process.env.DEBUG.match(/json-rules-engine/)||"undefined"!=typeof window&&window.localStorage&&window.localStorage.debug&&window.localStorage.debug.match(/json-rules-engine/))&&console.log(P)}catch{}}},4934:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0});var a=function x(d){return d&&d.__esModule?d:{default:d}}(S(8640)),F=[];function j(d){return"NaN"!==Number.parseFloat(d).toString()}F.push(new a.default("equal",function(d,h){return d===h})),F.push(new a.default("notEqual",function(d,h){return d!==h})),F.push(new a.default("in",function(d,h){return h.indexOf(d)>-1})),F.push(new a.default("notIn",function(d,h){return-1===h.indexOf(d)})),F.push(new a.default("contains",function(d,h){return d.indexOf(h)>-1},Array.isArray)),F.push(new a.default("doesNotContain",function(d,h){return-1===d.indexOf(h)},Array.isArray)),F.push(new a.default("lessThan",function(d,h){return d<h},j)),F.push(new a.default("lessThanInclusive",function(d,h){return d<=h},j)),F.push(new a.default("greaterThan",function(d,h){return d>h},j)),F.push(new a.default("greaterThanInclusive",function(d,h){return d>=h},j)),R.default=F},4307:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.SuccessEventFact=function(){var a=[];return function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return x.event&&a.push(x.event),a}}},7386:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.FINISHED=R.RUNNING=R.READY=void 0;var P=function(){function pe(y,A){for(var _=0;_<A.length;_++){var E=A[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(y,E.key,E)}}return function(y,A,_){return A&&pe(y.prototype,A),_&&pe(y,_),y}}(),x=W(S(1035)),j=W(S(8847)),h=W(S(8640)),N=W(S(3909)),O=S(3358),B=S(4307),$=W(S(4934)),G=W(S(7416));function W(pe){return pe&&pe.__esModule?pe:{default:pe}}function le(pe,y){if(!(pe instanceof y))throw new TypeError("Cannot call a class as a function")}function L(pe,y){if(!pe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?pe:y}var z=R.READY="READY",ee=R.RUNNING="RUNNING",ye=R.FINISHED="FINISHED",be=function(pe){function y(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};le(this,y);var E=L(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));return E.rules=[],E.allowUndefinedFacts=_.allowUndefinedFacts||!1,E.operators=new Map,E.facts=new Map,E.status=z,A.map(function(M){return E.addRule(M)}),$.default.map(function(M){return E.addOperator(M)}),E}return function U(pe,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);pe.prototype=Object.create(y&&y.prototype,{constructor:{value:pe,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(pe,y):pe.__proto__=y)}(y,pe),P(y,[{key:"addRule",value:function(_){if(!_)throw new Error("Engine: addRule() requires options");if(!Object.prototype.hasOwnProperty.call(_,"conditions"))throw new Error('Engine: addRule() argument requires "conditions" property');if(!Object.prototype.hasOwnProperty.call(_,"event"))throw new Error('Engine: addRule() argument requires "event" property');var E=void 0;return(E=_ instanceof j.default?_:new j.default(_)).setEngine(this),this.rules.push(E),this.prioritizedRules=null,this}},{key:"removeRule",value:function(_){if(!(_ instanceof j.default))throw new Error("Engine: removeRule() rule must be a instance of Rule");var E=this.rules.indexOf(_);return-1!==E&&(this.prioritizedRules=null,Boolean(this.rules.splice(E,1).length))}},{key:"addOperator",value:function(_,E){var M;M=_ instanceof h.default?_:new h.default(_,E),(0,G.default)("engine::addOperator name:"+M.name),this.operators.set(M.name,M)}},{key:"removeOperator",value:function(_){return this.operators.delete(_ instanceof h.default?_.name:_)}},{key:"addFact",value:function(_,E,M){var I=_,ne=void 0;return _ instanceof x.default?(I=_.id,ne=_):ne=new x.default(_,E,M),(0,G.default)("engine::addFact id:"+I),this.facts.set(I,ne),this}},{key:"removeFact",value:function(_){return this.facts.delete(_ instanceof x.default?_.id:_)}},{key:"prioritizeRules",value:function(){if(!this.prioritizedRules){var _=this.rules.reduce(function(E,M){var I=M.priority;return E[I]||(E[I]=[]),E[I].push(M),E},{});this.prioritizedRules=Object.keys(_).sort(function(E,M){return Number(E)>Number(M)?-1:1}).map(function(E){return _[E]})}return this.prioritizedRules}},{key:"stop",value:function(){return this.status=ye,this}},{key:"getFact",value:function(_){return this.facts.get(_)}},{key:"evaluateRules",value:function(_,E){var M=this;return Promise.all(_.map(function(I){if(M.status===ee)return I.evaluate(E).then(function(ne){(0,G.default)("engine::run ruleResult:"+ne.result),ne.result?(M.emit("success",I.event,E,ne),M.emit(I.event.type,I.event.params,E,ne),E.factValue("success-events",{event:I.event})):M.emit("failure",I.event,E,ne)});(0,G.default)("engine::run status:"+M.status+"; skipping remaining rules")}))}},{key:"run",value:function(){var _=this,E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,G.default)("engine::run started"),(0,G.default)("engine::run runtimeFacts:",E),E["success-events"]=new x.default("success-events",(0,B.SuccessEventFact)(),{cache:!1}),this.status=ee;var M=new N.default(this.facts,E,{allowUndefinedFacts:this.allowUndefinedFacts}),I=this.prioritizeRules(),ne=Promise.resolve();return new Promise(function(fe,Ve){I.map(function(ae){return ne=ne.then(function(){return _.evaluateRules(ae,M)}).catch(Ve)}),ne.then(function(){return _.status=ye,(0,G.default)("engine::run completed"),M.factValue("success-events")}).then(function(ae){fe({events:ae,almanac:M})}).catch(Ve)})}}]),y}(O.EventEmitter);R.default=be},9492:(we,R)=>{function S(F,j){if(!(F instanceof j))throw new TypeError("Cannot call a class as a function")}function P(F,j){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!j||"object"!=typeof j&&"function"!=typeof j?F:j}Object.defineProperty(R,"__esModule",{value:!0}),R.UndefinedFactError=function(F){function j(){var d;S(this,j);for(var h=arguments.length,g=Array(h),N=0;N<h;N++)g[N]=arguments[N];var O=P(this,(d=j.__proto__||Object.getPrototypeOf(j)).call.apply(d,[this].concat(g)));return O.code="UNDEFINED_FACT",O}return function a(F,j){if("function"!=typeof j&&null!==j)throw new TypeError("Super expression must either be null or a function, not "+typeof j);F.prototype=Object.create(j&&j.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(F,j):F.__proto__=j)}(j,Error),j}()},1035:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0});var P=function(){function h(g,N){for(var O=0;O<N.length;O++){var B=N[O];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(g,B.key,B)}}return function(g,N,O){return N&&h(g.prototype,N),O&&h(g,O),g}}(),x=function F(h){return h&&h.__esModule?h:{default:h}}(S(8288)),d=function(){function h(g,N,O){(function j(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,h),this.id=g;var B={cache:!0};if(void 0===O&&(O=B),"function"!=typeof N?(this.value=N,this.type=this.constructor.CONSTANT):(this.calculationMethod=N,this.type=this.constructor.DYNAMIC),!this.id)throw new Error("factId required");return this.priority=parseInt(O.priority||1,10),this.options=Object.assign({},B,O),this.cacheKeyMethod=this.defaultCacheKeys,this}return P(h,[{key:"isConstant",value:function(){return this.type===this.constructor.CONSTANT}},{key:"isDynamic",value:function(){return this.type===this.constructor.DYNAMIC}},{key:"calculate",value:function(N,O){return Object.prototype.hasOwnProperty.call(this,"value")?this.value:this.calculationMethod(N,O)}},{key:"defaultCacheKeys",value:function(N,O){return{params:O,id:N}}},{key:"getCacheKey",value:function(N){if(!0===this.options.cache){var O=this.cacheKeyMethod(this.id,N);return h.hashFromObject(O)}}}],[{key:"hashFromObject",value:function(N){return(0,x.default)(N)}}]),h}();d.CONSTANT="CONSTANT",d.DYNAMIC="DYNAMIC",R.default=d},78:(we,R,S)=>{we.exports=S(1412)},1412:(we,R,S)=>{R.Engine=R.Rule=void 0;var x=O(S(7386)),h=(O(S(1035)),O(S(8847)));O(S(8640));function O(B){return B&&B.__esModule?B:{default:B}}R.Rule=h.default,R.Engine=x.default},8640:(we,R)=>{Object.defineProperty(R,"__esModule",{value:!0});var S=function(){function x(F,j){for(var d=0;d<j.length;d++){var h=j[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(F,h.key,h)}}return function(F,j,d){return j&&x(F.prototype,j),d&&x(F,d),F}}(),a=function(){function x(F,j,d){if(function P(x,F){if(!(x instanceof F))throw new TypeError("Cannot call a class as a function")}(this,x),this.name=String(F),!F)throw new Error("Missing operator name");if("function"!=typeof j)throw new Error("Missing operator callback");this.cb=j,this.factValueValidator=d,this.factValueValidator||(this.factValueValidator=function(){return!0})}return S(x,[{key:"evaluate",value:function(j,d){return this.factValueValidator(j)&&this.cb(j,d)}}]),x}();R.default=a},2747:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0});var P=function(){function h(g,N){for(var O=0;O<N.length;O++){var B=N[O];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(g,B.key,B)}}return function(g,N,O){return N&&h(g.prototype,N),O&&h(g,O),g}}(),x=function F(h){return h&&h.__esModule?h:{default:h}}(S(741)),d=function(){function h(g,N,O,B){(function j(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,h),this.conditions=(0,x.default)(g),this.event=(0,x.default)(N),this.priority=(0,x.default)(O),this.name=(0,x.default)(B),this.result=null}return P(h,[{key:"setResult",value:function(N){this.result=N}},{key:"toJSON",value:function(){var N=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],O={conditions:this.conditions.toJSON(!1),event:this.event,priority:this.priority,name:this.name,result:this.result};return N?JSON.stringify(O):O}}]),h}();R.default=d},8847:(we,R,S)=>{Object.defineProperty(R,"__esModule",{value:!0});var P=function(){function K(G,W){for(var le=0;le<W.length;le++){var L=W[le];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(G,L.key,L)}}return function(G,W,le){return W&&K(G.prototype,W),le&&K(G,le),G}}(),x=N(S(7396)),j=N(S(2747)),d=S(3358),g=N(S(7416));function N(K){return K&&K.__esModule?K:{default:K}}var $=function(K){function G(W){!function O(K,G){if(!(K instanceof G))throw new TypeError("Cannot call a class as a function")}(this,G);var le=function B(K,G){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!G||"object"!=typeof G&&"function"!=typeof G?K:G}(this,(G.__proto__||Object.getPrototypeOf(G)).call(this));return"string"==typeof W&&(W=JSON.parse(W)),W&&W.conditions&&le.setConditions(W.conditions),W&&W.onSuccess&&le.on("success",W.onSuccess),W&&W.onFailure&&le.on("failure",W.onFailure),W&&(W.name||0===W.name)&&le.setName(W.name),le.setPriority(W&&W.priority||1),le.setEvent(W&&W.event||{type:"unknown"}),le}return function H(K,G){if("function"!=typeof G&&null!==G)throw new TypeError("Super expression must either be null or a function, not "+typeof G);K.prototype=Object.create(G&&G.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(K,G):K.__proto__=G)}(G,K),P(G,[{key:"setPriority",value:function(le){if((le=parseInt(le,10))<=0)throw new Error("Priority must be greater than zero");return this.priority=le,this}},{key:"setName",value:function(le){if(!le&&0!==le)throw new Error('Rule "name" must be defined');return this.name=le,this}},{key:"setConditions",value:function(le){if(!Object.prototype.hasOwnProperty.call(le,"all")&&!Object.prototype.hasOwnProperty.call(le,"any"))throw new Error('"conditions" root must contain a single instance of "all" or "any"');return this.conditions=new x.default(le),this}},{key:"setEvent",value:function(le){if(!le)throw new Error("Rule: setEvent() requires event object");if(!Object.prototype.hasOwnProperty.call(le,"type"))throw new Error('Rule: setEvent() requires event object with "type" property');return this.event={type:le.type},le.params&&(this.event.params=le.params),this}},{key:"setEngine",value:function(le){return this.engine=le,this}},{key:"toJSON",value:function(){var le=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],L={conditions:this.conditions.toJSON(!1),priority:this.priority,event:this.event,name:this.name};return le?JSON.stringify(L):L}},{key:"prioritizeConditions",value:function(le){var L=this,U=le.reduce(function(z,ee){var ye=ee.priority;if(!ye){var be=L.engine.getFact(ee.fact);ye=be&&be.priority||1}return z[ye]||(z[ye]=[]),z[ye].push(ee),z},{});return Object.keys(U).sort(function(z,ee){return Number(z)>Number(ee)?-1:1}).map(function(z){return U[z]})}},{key:"evaluate",value:function(le){var L=this,U=new j.default(this.conditions,this.event,this.priority,this.name),ye=function(_,E){if(0===_.length)return Promise.resolve(!0);var M=Array.prototype.some;"all"===E&&(M=Array.prototype.every);for(var I=L.prioritizeConditions(_),ne=Promise.resolve(),fe=function(ze){var ot=I[ze],Ne=!1;ne=ne.then(function(Ye){return"any"===E&&!0===Ye||Ne?((0,g.default)("prioritizeAndRun::detected truthy result; skipping remaining conditions"),Ne=!0,!0):"all"===E&&!1===Ye||Ne?((0,g.default)("prioritizeAndRun::detected falsey result; skipping remaining conditions"),Ne=!0,!1):function(_,E){return Array.isArray(_)||(_=[_]),Promise.all(_.map(function(M){return function(_){if(_.isBooleanOperator()){var E=_[_.operator];return("all"===_.operator?pe(E):be(E)).then(function(I){var ne=!0===I;return _.result=ne,ne})}return _.evaluate(le,L.engine.operators).then(function(I){var ne=I.result;return _.factResult=I.leftHandSideValue,_.result=ne,ne})}(M)})).then(function(M){return(0,g.default)("rule::evaluateConditions results",M),E.call(M,function(I){return!0===I})})}(ot,M)})},Ve=0;Ve<I.length;Ve++)fe(Ve);return ne},be=function(_){return ye(_,"any")},pe=function(_){return ye(_,"all")},y=function(_){return U.setResult(_),L.emit(_?"success":"failure",U.event,le,U),U};return U.conditions.any?be(U.conditions.any).then(function(A){return y(A)}):pe(U.conditions.all).then(function(A){return y(A)})}}]),G}(d.EventEmitter);R.default=$},741:we=>{var R=function(){"use strict";function S(O,B){return null!=B&&O instanceof B}var P,a,x;try{P=Map}catch{P=function(){}}try{a=Set}catch{a=function(){}}try{x=Promise}catch{x=function(){}}function F(O,B,H,$,K){"object"==typeof B&&(H=B.depth,$=B.prototype,K=B.includeNonEnumerable,B=B.circular);var G=[],W=[],le="undefined"!=typeof Buffer;return void 0===B&&(B=!0),void 0===H&&(H=1/0),function L(U,z){if(null===U)return null;if(0===z)return U;var ee,ye;if("object"!=typeof U)return U;if(S(U,P))ee=new P;else if(S(U,a))ee=new a;else if(S(U,x))ee=new x(function(ne,fe){U.then(function(Ve){ne(L(Ve,z-1))},function(Ve){fe(L(Ve,z-1))})});else if(F.__isArray(U))ee=[];else if(F.__isRegExp(U))ee=new RegExp(U.source,N(U)),U.lastIndex&&(ee.lastIndex=U.lastIndex);else if(F.__isDate(U))ee=new Date(U.getTime());else{if(le&&Buffer.isBuffer(U))return ee=Buffer.allocUnsafe?Buffer.allocUnsafe(U.length):new Buffer(U.length),U.copy(ee),ee;S(U,Error)?ee=Object.create(U):void 0===$?(ye=Object.getPrototypeOf(U),ee=Object.create(ye)):(ee=Object.create($),ye=$)}if(B){var be=G.indexOf(U);if(-1!=be)return W[be];G.push(U),W.push(ee)}for(var pe in S(U,P)&&U.forEach(function(ne,fe){var Ve=L(fe,z-1),ae=L(ne,z-1);ee.set(Ve,ae)}),S(U,a)&&U.forEach(function(ne){var fe=L(ne,z-1);ee.add(fe)}),U){var y;ye&&(y=Object.getOwnPropertyDescriptor(ye,pe)),(!y||null!=y.set)&&(ee[pe]=L(U[pe],z-1))}if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(U);for(pe=0;pe<A.length;pe++){var _=A[pe];(E=Object.getOwnPropertyDescriptor(U,_))&&!E.enumerable&&!K||(ee[_]=L(U[_],z-1),E.enumerable||Object.defineProperty(ee,_,{enumerable:!1}))}}if(K){var M=Object.getOwnPropertyNames(U);for(pe=0;pe<M.length;pe++){var E,I=M[pe];(E=Object.getOwnPropertyDescriptor(U,I))&&E.enumerable||(ee[I]=L(U[I],z-1),Object.defineProperty(ee,I,{enumerable:!1}))}}return ee}(O,H)}function j(O){return Object.prototype.toString.call(O)}function N(O){var B="";return O.global&&(B+="g"),O.ignoreCase&&(B+="i"),O.multiline&&(B+="m"),B}return F.clonePrototype=function(B){if(null===B)return null;var H=function(){};return H.prototype=B,new H},F.__objToStr=j,F.__isDate=function d(O){return"object"==typeof O&&"[object Date]"===j(O)},F.__isArray=function h(O){return"object"==typeof O&&"[object Array]"===j(O)},F.__isRegExp=function g(O){return"object"==typeof O&&"[object RegExp]"===j(O)},F.__getRegExpFlags=N,F}();we.exports&&(we.exports=R)},4567:(we,R,S)=>{function P(E){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(E)}function F(E){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)})(E)}function j(E,M){return(j=Object.setPrototypeOf||function(ne,fe){return ne.__proto__=fe,ne})(E,M)}function d(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function h(E,M,I){return(h=d()?Reflect.construct:function(fe,Ve,ae){var ze=[null];ze.push.apply(ze,Ve);var Ne=new(Function.bind.apply(fe,ze));return ae&&j(Ne,ae.prototype),Ne}).apply(null,arguments)}function N(E){var M="function"==typeof Map?new Map:void 0;return N=function(ne){if(null===ne||!function g(E){return-1!==Function.toString.call(E).indexOf("[native code]")}(ne))return ne;if("function"!=typeof ne)throw new TypeError("Super expression must either be null or a function");if(void 0!==M){if(M.has(ne))return M.get(ne);M.set(ne,fe)}function fe(){return h(ne,arguments,F(this).constructor)}return fe.prototype=Object.create(ne.prototype,{constructor:{value:fe,enumerable:!1,writable:!0,configurable:!0}}),j(fe,ne)},N(E)}function B(E,M){return!M||"object"!=typeof M&&"function"!=typeof M?function O(E){if(void 0===E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}(E):M}function $(E){return function K(E){if(Array.isArray(E))return le(E)}(E)||function G(E){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(E))return Array.from(E)}(E)||W(E)||function L(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(E,M){if(E){if("string"==typeof E)return le(E,M);var I=Object.prototype.toString.call(E).slice(8,-1);if("Object"===I&&E.constructor&&(I=E.constructor.name),"Map"===I||"Set"===I)return Array.from(I);if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return le(E,M)}}function le(E,M){(null==M||M>E.length)&&(M=E.length);for(var I=0,ne=new Array(M);I<M;I++)ne[I]=E[I];return ne}S.r(R),S.d(R,{JSONPath:()=>_});var ee=Object.prototype.hasOwnProperty,be=(_.nodeVMSupported=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}())?S(6989):{runInNewContext:function(M,I){var ne=Object.keys(I),fe=[];!function(M,I,ne){for(var fe=M.length,Ve=0;Ve<fe;Ve++)ne(M[Ve])&&I.push(M.splice(Ve--,1)[0])}(ne,fe,function(Ne){return"function"==typeof I[Ne]});var Ve=ne.map(function(Ne,Ye){return I[Ne]});!(M=fe.reduce(function(Ne,Ye){var Ze=I[Ye].toString();return/function/.test(Ze)||(Ze="function "+Ze),"var "+Ye+"="+Ze+";"+Ne},"")+M).match(/(["'])use strict\1/)&&!ne.includes("arguments")&&(M="var arguments = undefined;"+M);var ze=(M=M.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"")).lastIndexOf(";"),ot=ze>-1?M.slice(0,ze+1)+" return "+M.slice(ze+1):" return "+M;return h(Function,$(ne).concat([ot])).apply(void 0,$(Ve))}};function pe(E,M){return(E=E.slice()).push(M),E}function y(E,M){return(M=M.slice()).unshift(E),M}var A=function(E){!function x(E,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(M&&M.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),M&&j(E,M)}(I,E);var M=function H(E){return function(){var I,M=F(E);if(d()){var ne=F(this).constructor;I=Reflect.construct(M,arguments,ne)}else I=M.apply(this,arguments);return B(this,I)}}(I);function I(ne){var fe;return function a(E,M){if(!(E instanceof M))throw new TypeError("Cannot call a class as a function")}(this,I),(fe=M.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)')).avoidNew=!0,fe.value=ne,fe.name="NewError",fe}return I}(N(Error));function _(E,M,I,ne,fe){if(!(this instanceof _))try{return new _(E,M,I,ne,fe)}catch(ot){if(!ot.avoidNew)throw ot;return ot.value}"string"==typeof E&&(fe=ne,ne=I,I=M,M=E,E=null);var Ve=E&&"object"===P(E);if(this.json=(E=E||{}).json||I,this.path=E.path||M,this.resultType=E.resultType||"value",this.flatten=E.flatten||!1,this.wrap=!ee.call(E,"wrap")||E.wrap,this.sandbox=E.sandbox||{},this.preventEval=E.preventEval||!1,this.parent=E.parent||null,this.parentProperty=E.parentProperty||null,this.callback=E.callback||ne||null,this.otherTypeCallback=E.otherTypeCallback||fe||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==E.autostart){var ae={path:Ve?E.path:M};Ve?"json"in E&&(ae.json=E.json):ae.json=I;var ze=this.evaluate(ae);if(!ze||"object"!==P(ze))throw new A(ze);return ze}}_.prototype.evaluate=function(E,M,I,ne){var fe=this,Ve=this.parent,ae=this.parentProperty,ze=this.flatten,ot=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,I=I||this.callback,this.currOtherTypeCallback=ne||this.otherTypeCallback,M=M||this.json,(E=E||this.path)&&"object"===P(E)&&!Array.isArray(E)){if(!E.path&&""!==E.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!ee.call(E,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');M=E.json,ze=ee.call(E,"flatten")?E.flatten:ze,this.currResultType=ee.call(E,"resultType")?E.resultType:this.currResultType,this.currSandbox=ee.call(E,"sandbox")?E.sandbox:this.currSandbox,ot=ee.call(E,"wrap")?E.wrap:ot,this.currPreventEval=ee.call(E,"preventEval")?E.preventEval:this.currPreventEval,I=ee.call(E,"callback")?E.callback:I,this.currOtherTypeCallback=ee.call(E,"otherTypeCallback")?E.otherTypeCallback:this.currOtherTypeCallback,Ve=ee.call(E,"parent")?E.parent:Ve,ae=ee.call(E,"parentProperty")?E.parentProperty:ae,E=E.path}if(Ve=Ve||null,ae=ae||null,Array.isArray(E)&&(E=_.toPathString(E)),(E||""===E)&&M){this._obj=M;var Ye=_.toPathArray(E);"$"===Ye[0]&&Ye.length>1&&Ye.shift(),this._hasParentSelector=null;var Ze=this._trace(Ye,M,["$"],Ve,ae,I).filter(function(ft){return ft&&!ft.isParentSelector});return Ze.length?ot||1!==Ze.length||Ze[0].hasArrExpr?Ze.reduce(function(ft,nt){var Be=fe._getPreferredOutput(nt);return ze&&Array.isArray(Be)?ft=ft.concat(Be):ft.push(Be),ft},[]):this._getPreferredOutput(Ze[0]):ot?[]:void 0}},_.prototype._getPreferredOutput=function(E){var M=this.currResultType;switch(M){default:throw new TypeError("Unknown result type");case"all":var I=Array.isArray(E.path)?E.path:_.toPathArray(E.path);return E.pointer=_.toPointer(I),E.path="string"==typeof E.path?E.path:_.toPathString(E.path),E;case"value":case"parent":case"parentProperty":return E[M];case"path":return _.toPathString(E[M]);case"pointer":return _.toPointer(E.path)}},_.prototype._handleCallback=function(E,M,I){if(M){var ne=this._getPreferredOutput(E);E.path="string"==typeof E.path?E.path:_.toPathString(E.path),M(ne,I,E)}},_.prototype._trace=function(E,M,I,ne,fe,Ve,ae,ze){var ot,Ne=this;if(!E.length)return this._handleCallback(ot={path:I,value:M,parent:ne,parentProperty:fe,hasArrExpr:ae},Ve,"value"),ot;var Ye=E[0],Ze=E.slice(1),ft=[];function nt(V){Array.isArray(V)?V.forEach(function(Q){ft.push(Q)}):ft.push(V)}if(("string"!=typeof Ye||ze)&&M&&ee.call(M,Ye))nt(this._trace(Ze,M[Ye],pe(I,Ye),M,Ye,Ve,ae));else if("*"===Ye)this._walk(Ye,Ze,M,I,ne,fe,Ve,function(V,Q,me,Fe,He,et,vt,xt){nt(Ne._trace(y(V,me),Fe,He,et,vt,xt,!0,!0))});else if(".."===Ye)nt(this._trace(Ze,M,I,ne,fe,Ve,ae)),this._walk(Ye,Ze,M,I,ne,fe,Ve,function(V,Q,me,Fe,He,et,vt,xt){"object"===P(Fe[V])&&nt(Ne._trace(y(Q,me),Fe[V],pe(He,V),Fe,V,xt,!0))});else{if("^"===Ye)return this._hasParentSelector=!0,{path:I.slice(0,-1),expr:Ze,isParentSelector:!0};if("~"===Ye)return ot={path:pe(I,Ye),value:fe,parent:ne,parentProperty:null},this._handleCallback(ot,Ve,"property"),ot;if("$"===Ye)nt(this._trace(Ze,M,I,null,null,Ve,ae));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(Ye))nt(this._slice(Ye,Ze,M,I,ne,fe,Ve));else if(0===Ye.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");this._walk(Ye,Ze,M,I,ne,fe,Ve,function(V,Q,me,Fe,He,et,vt,xt){Ne._eval(Q.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1"),Fe[V],V,He,et,vt)&&nt(Ne._trace(y(V,me),Fe,He,et,vt,xt,!0))})}else if("("===Ye[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");nt(this._trace(y(this._eval(Ye,M,I[I.length-1],I.slice(0,-1),ne,fe),Ze),M,I,ne,fe,Ve,ae))}else if("@"===Ye[0]){var Be=!1,it=Ye.slice(1,-2);switch(it){default:throw new TypeError("Unknown value type "+it);case"scalar":(!M||!["object","function"].includes(P(M)))&&(Be=!0);break;case"boolean":case"string":case"undefined":case"function":P(M)===it&&(Be=!0);break;case"integer":Number.isFinite(M)&&!(M%1)&&(Be=!0);break;case"number":Number.isFinite(M)&&(Be=!0);break;case"nonFinite":"number"==typeof M&&!Number.isFinite(M)&&(Be=!0);break;case"object":M&&P(M)===it&&(Be=!0);break;case"array":Array.isArray(M)&&(Be=!0);break;case"other":Be=this.currOtherTypeCallback(M,I,ne,fe);break;case"null":null===M&&(Be=!0)}if(Be)return this._handleCallback(ot={path:I,value:M,parent:ne,parentProperty:fe},Ve,"value"),ot}else if("`"===Ye[0]&&M&&ee.call(M,Ye.slice(1))){var de=Ye.slice(1);nt(this._trace(Ze,M[de],pe(I,de),M,de,Ve,ae,!0))}else if(Ye.includes(",")){var Pe,se=function U(E){if("undefined"==typeof Symbol||null==E[Symbol.iterator]){if(Array.isArray(E)||(E=W(E))){var M=0,I=function(){};return{s:I,n:function(){return M>=E.length?{done:!0}:{done:!1,value:E[M++]}},e:function(ze){throw ze},f:I}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ne,ae,fe=!0,Ve=!1;return{s:function(){ne=E[Symbol.iterator]()},n:function(){var ze=ne.next();return fe=ze.done,ze},e:function(ze){Ve=!0,ae=ze},f:function(){try{!fe&&null!=ne.return&&ne.return()}finally{if(Ve)throw ae}}}}(Ye.split(","));try{for(se.s();!(Pe=se.n()).done;)nt(this._trace(y(Pe.value,Ze),M,I,ne,fe,Ve,!0))}catch(V){se.e(V)}finally{se.f()}}else!ze&&M&&ee.call(M,Ye)&&nt(this._trace(Ze,M[Ye],pe(I,Ye),M,Ye,Ve,ae,!0))}if(this._hasParentSelector)for(var ce=0;ce<ft.length;ce++){var ge=ft[ce];if(ge&&ge.isParentSelector){var rt=Ne._trace(ge.expr,M,ge.path,ne,fe,Ve,ae);if(Array.isArray(rt)){ft[ce]=rt[0];for(var _e=rt.length,X=1;X<_e;X++)ce++,ft.splice(ce,0,rt[X])}else ft[ce]=rt}}return ft},_.prototype._walk=function(E,M,I,ne,fe,Ve,ae,ze){if(Array.isArray(I))for(var ot=I.length,Ne=0;Ne<ot;Ne++)ze(Ne,E,M,I,ne,fe,Ve,ae);else I&&"object"===P(I)&&Object.keys(I).forEach(function(Ye){ze(Ye,E,M,I,ne,fe,Ve,ae)})},_.prototype._slice=function(E,M,I,ne,fe,Ve,ae){if(Array.isArray(I)){var ze=I.length,ot=E.split(":"),Ne=ot[2]&&Number.parseInt(ot[2])||1,Ye=ot[0]&&Number.parseInt(ot[0])||0,Ze=ot[1]&&Number.parseInt(ot[1])||ze;Ye=Ye<0?Math.max(0,Ye+ze):Math.min(ze,Ye),Ze=Ze<0?Math.max(0,Ze+ze):Math.min(ze,Ze);for(var ft=[],nt=Ye;nt<Ze;nt+=Ne)this._trace(y(nt,M),I,ne,fe,Ve,ae,!0).forEach(function(it){ft.push(it)});return ft}},_.prototype._eval=function(E,M,I,ne,fe,Ve){if(!this._obj||!M)return!1;E.includes("@parentProperty")&&(this.currSandbox._$_parentProperty=Ve,E=E.replace(/@parentProperty/g,"_$_parentProperty")),E.includes("@parent")&&(this.currSandbox._$_parent=fe,E=E.replace(/@parent/g,"_$_parent")),E.includes("@property")&&(this.currSandbox._$_property=I,E=E.replace(/@property/g,"_$_property")),E.includes("@path")&&(this.currSandbox._$_path=_.toPathString(ne.concat([I])),E=E.replace(/@path/g,"_$_path")),E.includes("@root")&&(this.currSandbox._$_root=this.json,E=E.replace(/@root/g,"_$_root")),E.match(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/)&&(this.currSandbox._$_v=M,E=E.replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1"));try{return be.runInNewContext(E,this.currSandbox)}catch(ae){throw console.log(ae),new Error("jsonPath: "+ae.message+": "+E)}},_.cache={},_.toPathString=function(E){for(var M=E,I=M.length,ne="$",fe=1;fe<I;fe++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(M[fe])||(ne+=/^[\*0-9]+$/.test(M[fe])?"["+M[fe]+"]":"['"+M[fe]+"']");return ne},_.toPointer=function(E){for(var M=E,I=M.length,ne="",fe=1;fe<I;fe++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(M[fe])||(ne+="/"+M[fe].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return ne},_.toPathArray=function(E){var M=_.cache;if(M[E])return M[E].concat();var I=[],fe=E.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,function(Ve,ae){return"[#"+(I.push(ae)-1)+"]"}).replace(/\['((?:[\0-&\(-\\\^-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)'\]/g,function(Ve,ae){return"['"+ae.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"}).replace(/~/g,";~;").replace(/'?\.'?(?!(?:[\0-Z\\-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*\])|\['?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,function(Ve,ae){return";"+ae.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").split(";").map(function(Ve){var ae=Ve.match(/#([0-9]+)/);return ae&&ae[1]?I[ae[1]]:Ve});return M[E]=fe,M[E]}},7726:we=>{we.exports=function R(S){return!!S&&"object"==typeof S}},464:(we,R)=>{function P(h){return h.replace(/[-[\]/{}()*+?.\\^$]/g,"\\$&")}function a(h,g){var O=(void 0===g?{}:g).decimalMark,B=void 0===O?".":O;if("number"==typeof h)return h.toString();if("string"!=typeof h)return"NaN";var H=P(B),$=h.trim(),K=$.match(/^\(.*\)$|^-/),G=new RegExp("[^\\d"+H+"]|"+H+"(?=.*"+H+")|^\\D*"+H+"\\D*$","g");return""===($=$.replace(G,"").replace(B,"."))?$="NaN":K&&($="-"+$),$}R.He=void 0,R.He=function x(h,g){var O=(void 0===g?{}:g).decimalMark,H=a(h,{decimalMark:void 0===O?".":O});return"NaN"===H?NaN:Number(H)}},1856:we=>{var R=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;function a(F){if(null==F)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(F)}we.exports=function x(){try{if(!Object.assign)return!1;var F=new String("abc");if(F[5]="de","5"===Object.getOwnPropertyNames(F)[0])return!1;for(var j={},d=0;d<10;d++)j["_"+String.fromCharCode(d)]=d;if("0123456789"!==Object.getOwnPropertyNames(j).map(function(N){return j[N]}).join(""))return!1;var g={};return"abcdefghijklmnopqrst".split("").forEach(function(N){g[N]=N}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},g)).join("")}catch{return!1}}()?Object.assign:function(F,j){for(var d,g,h=a(F),N=1;N<arguments.length;N++){for(var O in d=Object(arguments[N]))S.call(d,O)&&(h[O]=d[O]);if(R){g=R(d);for(var B=0;B<g.length;B++)P.call(d,g[B])&&(h[g[B]]=d[g[B]])}}return h}},8597:(we,R,S)=>{var P="function"==typeof Map&&Map.prototype,a=Object.getOwnPropertyDescriptor&&P?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,x=P&&a&&"function"==typeof a.get?a.get:null,F=P&&Map.prototype.forEach,j="function"==typeof Set&&Set.prototype,d=Object.getOwnPropertyDescriptor&&j?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,h=j&&d&&"function"==typeof d.get?d.get:null,g=j&&Set.prototype.forEach,O="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,H="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,K="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,G=Boolean.prototype.valueOf,W=Object.prototype.toString,le=Function.prototype.toString,L=String.prototype.match,U=String.prototype.slice,z=String.prototype.replace,ee=String.prototype.toUpperCase,ye=String.prototype.toLowerCase,be=RegExp.prototype.test,pe=Array.prototype.concat,y=Array.prototype.join,A=Array.prototype.slice,_=Math.floor,E="function"==typeof BigInt?BigInt.prototype.valueOf:null,M=Object.getOwnPropertySymbols,I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,ne="function"==typeof Symbol&&"object"==typeof Symbol.iterator,fe="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,Ve=Object.prototype.propertyIsEnumerable,ae=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(dt){return dt.__proto__}:null);function ze(dt,yt){if(dt===1/0||dt===-1/0||dt!=dt||dt&&dt>-1e3&&dt<1e3||be.call(/e/,yt))return yt;var on=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof dt){var hn=dt<0?-_(-dt):_(dt);if(hn!==dt){var Bn=String(hn),zt=U.call(yt,Bn.length+1);return z.call(Bn,on,"$&_")+"."+z.call(z.call(zt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return z.call(yt,on,"$&_")}var ot=S(4654).custom,Ne=ot&&Pe(ot)?ot:null;function Ye(dt,yt,on){var hn="double"===(on.quoteStyle||yt)?'"':"'";return hn+dt+hn}function Ze(dt){return z.call(String(dt),/"/g,"&quot;")}function ft(dt){return!("[object Array]"!==rt(dt)||fe&&"object"==typeof dt&&fe in dt)}function Pe(dt){if(ne)return dt&&"object"==typeof dt&&dt instanceof Symbol;if("symbol"==typeof dt)return!0;if(!dt||"object"!=typeof dt||!I)return!1;try{return I.call(dt),!0}catch{}return!1}we.exports=function dt(yt,on,hn,Bn){var zt=on||{};if(ge(zt,"quoteStyle")&&"single"!==zt.quoteStyle&&"double"!==zt.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ge(zt,"maxStringLength")&&("number"==typeof zt.maxStringLength?zt.maxStringLength<0&&zt.maxStringLength!==1/0:null!==zt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var gn=!ge(zt,"customInspect")||zt.customInspect;if("boolean"!=typeof gn&&"symbol"!==gn)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ge(zt,"indent")&&null!==zt.indent&&"\t"!==zt.indent&&!(parseInt(zt.indent,10)===zt.indent&&zt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ge(zt,"numericSeparator")&&"boolean"!=typeof zt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Pr=zt.numericSeparator;if(void 0===yt)return"undefined";if(null===yt)return"null";if("boolean"==typeof yt)return yt?"true":"false";if("string"==typeof yt)return vt(yt,zt);if("number"==typeof yt){if(0===yt)return 1/0/yt>0?"0":"-0";var wn=String(yt);return Pr?ze(yt,wn):wn}if("bigint"==typeof yt){var Gn=String(yt)+"n";return Pr?ze(yt,Gn):Gn}var gr=void 0===zt.depth?5:zt.depth;if(void 0===hn&&(hn=0),hn>=gr&&gr>0&&"object"==typeof yt)return ft(yt)?"[Array]":"[Object]";var Zr=function Gt(dt,yt){var on;if("\t"===dt.indent)on="\t";else{if(!("number"==typeof dt.indent&&dt.indent>0))return null;on=y.call(Array(dt.indent+1)," ")}return{base:on,prev:y.call(Array(yt+1),on)}}(zt,hn);if(void 0===Bn)Bn=[];else if(X(Bn,yt)>=0)return"[Circular]";function $n(ei,di,qi){if(di&&(Bn=A.call(Bn)).push(di),qi){var Pn={depth:zt.depth};return ge(zt,"quoteStyle")&&(Pn.quoteStyle=zt.quoteStyle),dt(ei,Pn,hn+1,Bn)}return dt(ei,zt,hn+1,Bn)}if("function"==typeof yt){var Rr=function _e(dt){if(dt.name)return dt.name;var yt=L.call(le.call(dt),/^function\s*([\w$]+)/);return yt?yt[1]:null}(yt),fr=bn(yt,$n);return"[Function"+(Rr?": "+Rr:" (anonymous)")+"]"+(fr.length>0?" { "+y.call(fr,", ")+" }":"")}if(Pe(yt)){var Nr=ne?z.call(String(yt),/^(Symbol\(.*\))_[^)]*$/,"$1"):I.call(yt);return"object"!=typeof yt||ne?Nr:kt(Nr)}if(function et(dt){return!(!dt||"object"!=typeof dt)&&("undefined"!=typeof HTMLElement&&dt instanceof HTMLElement||"string"==typeof dt.nodeName&&"function"==typeof dt.getAttribute)}(yt)){for(var ui="<"+ye.call(String(yt.nodeName)),sa=yt.attributes||[],Gi=0;Gi<sa.length;Gi++)ui+=" "+sa[Gi].name+"="+Ye(Ze(sa[Gi].value),"double",zt);return ui+=">",yt.childNodes&&yt.childNodes.length&&(ui+="..."),ui+"</"+ye.call(String(yt.nodeName))+">"}if(ft(yt)){if(0===yt.length)return"[]";var vi=bn(yt,$n);return Zr&&!function xn(dt){for(var yt=0;yt<dt.length;yt++)if(X(dt[yt],"\n")>=0)return!1;return!0}(vi)?"["+Rt(vi,Zr)+"]":"[ "+y.call(vi,", ")+" ]"}if(function it(dt){return!("[object Error]"!==rt(dt)||fe&&"object"==typeof dt&&fe in dt)}(yt)){var ci=bn(yt,$n);return"cause"in yt&&!Ve.call(yt,"cause")?"{ ["+String(yt)+"] "+y.call(pe.call("[cause]: "+$n(yt.cause),ci),", ")+" }":0===ci.length?"["+String(yt)+"]":"{ ["+String(yt)+"] "+y.call(ci,", ")+" }"}if("object"==typeof yt&&gn){if(Ne&&"function"==typeof yt[Ne])return yt[Ne]();if("symbol"!==gn&&"function"==typeof yt.inspect)return yt.inspect()}if(function V(dt){if(!x||!dt||"object"!=typeof dt)return!1;try{x.call(dt);try{h.call(dt)}catch{return!0}return dt instanceof Map}catch{}return!1}(yt)){var Vi=[];return F.call(yt,function(ei,di){Vi.push($n(di,yt,!0)+" => "+$n(ei,yt))}),xe("Map",x.call(yt),Vi,Zr)}if(function Fe(dt){if(!h||!dt||"object"!=typeof dt)return!1;try{h.call(dt);try{x.call(dt)}catch{return!0}return dt instanceof Set}catch{}return!1}(yt)){var Pa=[];return g.call(yt,function(ei){Pa.push($n(ei,yt))}),xe("Set",h.call(yt),Pa,Zr)}if(function Q(dt){if(!O||!dt||"object"!=typeof dt)return!1;try{O.call(dt,O);try{H.call(dt,H)}catch{return!0}return dt instanceof WeakMap}catch{}return!1}(yt))return Jt("WeakMap");if(function He(dt){if(!H||!dt||"object"!=typeof dt)return!1;try{H.call(dt,H);try{O.call(dt,O)}catch{return!0}return dt instanceof WeakSet}catch{}return!1}(yt))return Jt("WeakSet");if(function me(dt){if(!K||!dt||"object"!=typeof dt)return!1;try{return K.call(dt),!0}catch{}return!1}(yt))return Jt("WeakRef");if(function te(dt){return!("[object Number]"!==rt(dt)||fe&&"object"==typeof dt&&fe in dt)}(yt))return kt($n(Number(yt)));if(function Le(dt){if(!dt||"object"!=typeof dt||!E)return!1;try{return E.call(dt),!0}catch{}return!1}(yt))return kt($n(E.call(yt)));if(function se(dt){return!("[object Boolean]"!==rt(dt)||fe&&"object"==typeof dt&&fe in dt)}(yt))return kt(G.call(yt));if(function de(dt){return!("[object String]"!==rt(dt)||fe&&"object"==typeof dt&&fe in dt)}(yt))return kt($n(String(yt)));if(!function nt(dt){return!("[object Date]"!==rt(dt)||fe&&"object"==typeof dt&&fe in dt)}(yt)&&!function Be(dt){return!("[object RegExp]"!==rt(dt)||fe&&"object"==typeof dt&&fe in dt)}(yt)){var $r=bn(yt,$n),la=ae?ae(yt)===Object.prototype:yt instanceof Object||yt.constructor===Object,$i=yt instanceof Object?"":"null prototype",Hi=!la&&fe&&Object(yt)===yt&&fe in yt?U.call(rt(yt),8,-1):$i?"Object":"",ua=(la||"function"!=typeof yt.constructor?"":yt.constructor.name?yt.constructor.name+" ":"")+(Hi||$i?"["+y.call(pe.call([],Hi||[],$i||[]),": ")+"] ":"");return 0===$r.length?ua+"{}":Zr?ua+"{"+Rt($r,Zr)+"}":ua+"{ "+y.call($r,", ")+" }"}return String(yt)};var ce=Object.prototype.hasOwnProperty||function(dt){return dt in this};function ge(dt,yt){return ce.call(dt,yt)}function rt(dt){return W.call(dt)}function X(dt,yt){if(dt.indexOf)return dt.indexOf(yt);for(var on=0,hn=dt.length;on<hn;on++)if(dt[on]===yt)return on;return-1}function vt(dt,yt){if(dt.length>yt.maxStringLength){var on=dt.length-yt.maxStringLength,hn="... "+on+" more character"+(on>1?"s":"");return vt(U.call(dt,0,yt.maxStringLength),yt)+hn}return Ye(z.call(z.call(dt,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,xt),"single",yt)}function xt(dt){var yt=dt.charCodeAt(0),on={8:"b",9:"t",10:"n",12:"f",13:"r"}[yt];return on?"\\"+on:"\\x"+(yt<16?"0":"")+ee.call(yt.toString(16))}function kt(dt){return"Object("+dt+")"}function Jt(dt){return dt+" { ? }"}function xe(dt,yt,on,hn){return dt+" ("+yt+") {"+(hn?Rt(on,hn):y.call(on,", "))+"}"}function Rt(dt,yt){if(0===dt.length)return"";var on="\n"+yt.prev+yt.base;return on+y.call(dt,","+on)+"\n"+yt.prev}function bn(dt,yt){var on=ft(dt),hn=[];if(on){hn.length=dt.length;for(var Bn=0;Bn<dt.length;Bn++)hn[Bn]=ge(dt,Bn)?yt(dt[Bn],dt):""}var gn,zt="function"==typeof M?M(dt):[];if(ne){gn={};for(var Pr=0;Pr<zt.length;Pr++)gn["$"+zt[Pr]]=zt[Pr]}for(var wn in dt)!ge(dt,wn)||on&&String(Number(wn))===wn&&wn<dt.length||ne&&gn["$"+wn]instanceof Symbol||(be.call(/[^\w$]/,wn)?hn.push(yt(wn,dt)+": "+yt(dt[wn],dt)):hn.push(wn+": "+yt(dt[wn],dt)));if("function"==typeof M)for(var Gn=0;Gn<zt.length;Gn++)Ve.call(dt,zt[Gn])&&hn.push("["+yt(zt[Gn])+"]: "+yt(dt[zt[Gn]],dt));return hn}},2578:function(we){we.exports=function(R){var S={};function P(a){if(S[a])return S[a].exports;var x=S[a]={i:a,l:!1,exports:{}};return R[a].call(x.exports,x,x.exports,P),x.l=!0,x.exports}return P.m=R,P.c=S,P.d=function(a,x,F){P.o(a,x)||Object.defineProperty(a,x,{enumerable:!0,get:F})},P.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},P.t=function(a,x){if(1&x&&(a=P(a)),8&x||4&x&&"object"==typeof a&&a&&a.__esModule)return a;var F=Object.create(null);if(P.r(F),Object.defineProperty(F,"default",{enumerable:!0,value:a}),2&x&&"string"!=typeof a)for(var j in a)P.d(F,j,function(d){return a[d]}.bind(null,j));return F},P.n=function(a){var x=a&&a.__esModule?function(){return a.default}:function(){return a};return P.d(x,"a",x),x},P.o=function(a,x){return Object.prototype.hasOwnProperty.call(a,x)},P.p="",P(P.s=22)}([function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var a=function(){function d(h,g){for(var N=0;N<g.length;N++){var O=g[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(h,O.key,O)}}return function(h,g,N){return g&&d(h.prototype,g),N&&d(h,N),h}}(),x={debug:function(){},info:function(){},warn:function(){},error:function(){}},F=void 0,j=void 0;(S.Log=function(){function d(){!function(g,N){if(!(g instanceof N))throw new TypeError("Cannot call a class as a function")}(this,d)}return d.reset=function(){j=3,F=x},d.debug=function(){if(j>=4){for(var g=arguments.length,N=Array(g),O=0;O<g;O++)N[O]=arguments[O];F.debug.apply(F,Array.from(N))}},d.info=function(){if(j>=3){for(var g=arguments.length,N=Array(g),O=0;O<g;O++)N[O]=arguments[O];F.info.apply(F,Array.from(N))}},d.warn=function(){if(j>=2){for(var g=arguments.length,N=Array(g),O=0;O<g;O++)N[O]=arguments[O];F.warn.apply(F,Array.from(N))}},d.error=function(){if(j>=1){for(var g=arguments.length,N=Array(g),O=0;O<g;O++)N[O]=arguments[O];F.error.apply(F,Array.from(N))}},a(d,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return j},set:function(g){if(!(0<=g&&g<=4))throw new Error("Invalid log level");j=g}},{key:"logger",get:function(){return F},set:function(g){if(!g.debug&&g.info&&(g.debug=g.info),!(g.debug&&g.info&&g.warn&&g.error))throw new Error("Invalid logger");F=g}}]),d}()).reset()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var a=function(){function d(h,g){for(var N=0;N<g.length;N++){var O=g[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(h,O.key,O)}}return function(h,g,N){return g&&d(h.prototype,g),N&&d(h,N),h}}(),x={setInterval:function(d){function h(g,N){return d.apply(this,arguments)}return h.toString=function(){return d.toString()},h}(function(d,h){return setInterval(d,h)}),clearInterval:function(d){function h(g){return d.apply(this,arguments)}return h.toString=function(){return d.toString()},h}(function(d){return clearInterval(d)})},F=!1,j=null;S.Global=function(){function d(){!function(g,N){if(!(g instanceof N))throw new TypeError("Cannot call a class as a function")}(this,d)}return d._testing=function(){F=!0},d.setXMLHttpRequest=function(g){j=g},a(d,null,[{key:"location",get:function(){if(!F)return location}},{key:"localStorage",get:function(){if(!F&&"undefined"!=typeof window)return localStorage}},{key:"sessionStorage",get:function(){if(!F&&"undefined"!=typeof window)return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!F&&"undefined"!=typeof window)return j||XMLHttpRequest}},{key:"timer",get:function(){if(!F)return x}}]),d}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MetadataService=void 0;var a=function(){function h(g,N){for(var O=0;O<N.length;O++){var B=N[O];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(g,B.key,B)}}return function(g,N,O){return N&&h(g.prototype,N),O&&h(g,O),g}}(),x=P(0),F=P(7);function j(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}var d=".well-known/openid-configuration";S.MetadataService=function(){function h(g){var N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F.JsonService;if(j(this,h),!g)throw x.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=g,this._jsonService=new N(["application/jwk-set+json"])}return h.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},h.prototype.getMetadata=function(){var N=this;return this._settings.metadata?(x.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(x.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(O){return x.Log.debug("MetadataService.getMetadata: json received"),N._settings.metadata=Object.assign({},N._settings.metadataSeed||{},O),N._settings.metadata})):(x.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},h.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},h.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},h.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},h.prototype.getTokenEndpoint=function(){return this._getMetadataProperty("token_endpoint",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])},h.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},h.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},h.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},h.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},h.prototype._getMetadataProperty=function(N){var O=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return x.Log.debug("MetadataService.getMetadataProperty for: "+N),this.getMetadata().then(function(B){if(x.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===B[N]){if(!0===O)return void x.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+N);throw x.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+N),new Error("Metadata does not contain property "+N)}return B[N]})},h.prototype.getSigningKeys=function(){var N=this;return this._settings.signingKeys?(x.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(O){return x.Log.debug("MetadataService.getSigningKeys: jwks_uri received",O),N._jsonService.getJson(O).then(function(B){if(x.Log.debug("MetadataService.getSigningKeys: key set received",B),!B.keys)throw x.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return N._settings.signingKeys=B.keys,N._settings.signingKeys})})},a(h,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(d)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=d))),this._metadataUrl}}]),h}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.UrlUtility=void 0;var a=P(0),x=P(1);S.UrlUtility=function(){function F(){!function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}(this,F)}return F.addQueryParam=function(d,h,g){return d.indexOf("?")<0&&(d+="?"),"?"!==d[d.length-1]&&(d+="&"),d+=encodeURIComponent(h),(d+="=")+encodeURIComponent(g)},F.parseUrlFragment=function(d){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";"string"!=typeof d&&(d=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:x.Global).location.href);var N=d.lastIndexOf(h);N>=0&&(d=d.substr(N+1)),"?"===h&&(N=d.indexOf("#"))>=0&&(d=d.substr(0,N));for(var O,B={},H=/([^&=]+)=([^&]*)/g,$=0;O=H.exec(d);)if(B[decodeURIComponent(O[1])]=decodeURIComponent(O[2].replace(/\+/g," ")),$++>50)return a.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",d),{error:"Response exceeded expected number of parameters"};for(var K in B)return B;return{}},F}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.JoseUtil=void 0;var j,a=P(26),x=(j=P(33))&&j.__esModule?j:{default:j};S.JoseUtil=(0,x.default)({jws:a.jws,KeyUtil:a.KeyUtil,X509:a.X509,crypto:a.crypto,hextob64u:a.hextob64u,b64tohex:a.b64tohex,AllowedSigningAlgs:a.AllowedSigningAlgs})},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.OidcClientSettings=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(K){return typeof K}:function(K){return K&&"function"==typeof Symbol&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},x=function(){function K(G,W){for(var le=0;le<W.length;le++){var L=W[le];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(G,L.key,L)}}return function(G,W,le){return W&&K(G.prototype,W),le&&K(G,le),G}}(),F=P(0),j=P(23),d=P(6),h=P(24),g=P(2);function N(K,G){if(!(K instanceof G))throw new TypeError("Cannot call a class as a function")}var O=".well-known/openid-configuration",B="id_token",H="openid",$="client_secret_post";S.OidcClientSettings=function(){function K(){var G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},W=G.authority,le=G.metadataUrl,L=G.metadata,U=G.signingKeys,z=G.metadataSeed,ee=G.client_id,ye=G.client_secret,be=G.response_type,pe=void 0===be?B:be,y=G.scope,A=void 0===y?H:y,_=G.redirect_uri,E=G.post_logout_redirect_uri,M=G.client_authentication,I=void 0===M?$:M,ne=G.prompt,fe=G.display,Ve=G.max_age,ae=G.ui_locales,ze=G.acr_values,ot=G.resource,Ne=G.response_mode,Ye=G.filterProtocolClaims,Ze=void 0===Ye||Ye,ft=G.loadUserInfo,nt=void 0===ft||ft,Be=G.staleStateAge,it=void 0===Be?900:Be,de=G.clockSkew,te=void 0===de?300:de,se=G.clockService,Pe=void 0===se?new j.ClockService:se,Le=G.userInfoJwtIssuer,ce=void 0===Le?"OP":Le,ge=G.mergeClaims,rt=void 0!==ge&&ge,_e=G.stateStore,X=void 0===_e?new d.WebStorageStateStore:_e,V=G.ResponseValidatorCtor,Q=void 0===V?h.ResponseValidator:V,me=G.MetadataServiceCtor,Fe=void 0===me?g.MetadataService:me,He=G.extraQueryParams,et=void 0===He?{}:He,vt=G.extraTokenParams,xt=void 0===vt?{}:vt;N(this,K),this._authority=W,this._metadataUrl=le,this._metadata=L,this._metadataSeed=z,this._signingKeys=U,this._client_id=ee,this._client_secret=ye,this._response_type=pe,this._scope=A,this._redirect_uri=_,this._post_logout_redirect_uri=E,this._client_authentication=I,this._prompt=ne,this._display=fe,this._max_age=Ve,this._ui_locales=ae,this._acr_values=ze,this._resource=ot,this._response_mode=Ne,this._filterProtocolClaims=!!Ze,this._loadUserInfo=!!nt,this._staleStateAge=it,this._clockSkew=te,this._clockService=Pe,this._userInfoJwtIssuer=ce,this._mergeClaims=!!rt,this._stateStore=X,this._validator=new Q(this),this._metadataService=new Fe(this),this._extraQueryParams="object"===(void 0===et?"undefined":a(et))?et:{},this._extraTokenParams="object"===(void 0===xt?"undefined":a(xt))?xt:{}}return K.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},x(K,[{key:"client_id",get:function(){return this._client_id},set:function(W){if(this._client_id)throw F.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=W}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(W){if(this._authority)throw F.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=W}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(O)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=O)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(W){this._metadata=W}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(W){this._metadataSeed=W}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(W){this._signingKeys=W}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(W){this._extraQueryParams="object"===(void 0===W?"undefined":a(W))?W:{}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(W){this._extraTokenParams="object"===(void 0===W?"undefined":a(W))?W:{}}}]),K}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.WebStorageStateStore=void 0;var a=P(0),x=P(1);function F(j,d){if(!(j instanceof d))throw new TypeError("Cannot call a class as a function")}S.WebStorageStateStore=function(){function j(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},h=d.prefix,g=void 0===h?"oidc.":h,N=d.store,O=void 0===N?x.Global.localStorage:N;F(this,j),this._store=O,this._prefix=g}return j.prototype.set=function(h,g){return a.Log.debug("WebStorageStateStore.set",h),this._store.setItem(h=this._prefix+h,g),Promise.resolve()},j.prototype.get=function(h){a.Log.debug("WebStorageStateStore.get",h);var g=this._store.getItem(h=this._prefix+h);return Promise.resolve(g)},j.prototype.remove=function(h){a.Log.debug("WebStorageStateStore.remove",h);var g=this._store.getItem(h=this._prefix+h);return this._store.removeItem(h),Promise.resolve(g)},j.prototype.getAllKeys=function(){a.Log.debug("WebStorageStateStore.getAllKeys");for(var h=[],g=0;g<this._store.length;g++){var N=this._store.key(g);0===N.indexOf(this._prefix)&&h.push(N.substr(this._prefix.length))}return Promise.resolve(h)},j}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.JsonService=void 0;var a=P(0),x=P(1);function F(j,d){if(!(j instanceof d))throw new TypeError("Cannot call a class as a function")}S.JsonService=function(){function j(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.Global.XMLHttpRequest,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;F(this,j),this._contentTypes=d&&Array.isArray(d)?d.slice():[],this._contentTypes.push("application/json"),g&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=h,this._jwtHandler=g}return j.prototype.getJson=function(h,g){var N=this;if(!h)throw a.Log.error("JsonService.getJson: No url passed"),new Error("url");return a.Log.debug("JsonService.getJson, url: ",h),new Promise(function(O,B){var H=new N._XMLHttpRequest;H.open("GET",h);var $=N._contentTypes,K=N._jwtHandler;H.onload=function(){if(a.Log.debug("JsonService.getJson: HTTP response received, status",H.status),200===H.status){var G=H.getResponseHeader("Content-Type");if(G){var W=$.find(function(le){if(G.startsWith(le))return!0});if("application/jwt"==W)return void K(H).then(O,B);if(W)try{return void O(JSON.parse(H.responseText))}catch(le){return a.Log.error("JsonService.getJson: Error parsing JSON response",le.message),void B(le)}}B(Error("Invalid response Content-Type: "+G+", from URL: "+h))}else B(Error(H.statusText+" ("+H.status+")"))},H.onerror=function(){a.Log.error("JsonService.getJson: network error"),B(Error("Network Error"))},g&&(a.Log.debug("JsonService.getJson: token passed, setting Authorization header"),H.setRequestHeader("Authorization","Bearer "+g)),H.send()})},j.prototype.postForm=function(h,g,N){var O=this;if(!h)throw a.Log.error("JsonService.postForm: No url passed"),new Error("url");return a.Log.debug("JsonService.postForm, url: ",h),new Promise(function(B,H){var $=new O._XMLHttpRequest;$.open("POST",h);var K=O._contentTypes;$.onload=function(){if(a.Log.debug("JsonService.postForm: HTTP response received, status",$.status),200!==$.status){if(400===$.status&&(U=$.getResponseHeader("Content-Type"))&&K.find(function(z){if(U.startsWith(z))return!0}))try{var L=JSON.parse($.responseText);if(L&&L.error)return a.Log.error("JsonService.postForm: Error from server: ",L.error),void H(new Error(L.error))}catch(z){return a.Log.error("JsonService.postForm: Error parsing JSON response",z.message),void H(z)}H(Error($.statusText+" ("+$.status+")"))}else{var U;if((U=$.getResponseHeader("Content-Type"))&&K.find(function(z){if(U.startsWith(z))return!0}))try{return void B(JSON.parse($.responseText))}catch(z){return a.Log.error("JsonService.postForm: Error parsing JSON response",z.message),void H(z)}H(Error("Invalid response Content-Type: "+U+", from URL: "+h))}},$.onerror=function(){a.Log.error("JsonService.postForm: network error"),H(Error("Network Error"))};var G="";for(var W in g){var le=g[W];le&&(G.length>0&&(G+="&"),G+=encodeURIComponent(W),G+="=",G+=encodeURIComponent(le))}$.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),void 0!==N&&$.setRequestHeader("Authorization","Basic "+btoa(N)),$.send(G)})},j}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.SigninRequest=void 0;var a=P(0),x=P(3),F=P(13);S.SigninRequest=function(){function j(d){var h=d.url,g=d.client_id,N=d.redirect_uri,O=d.response_type,B=d.scope,H=d.authority,$=d.data,K=d.prompt,G=d.display,W=d.max_age,le=d.ui_locales,L=d.id_token_hint,U=d.login_hint,z=d.acr_values,ee=d.resource,ye=d.response_mode,be=d.request,pe=d.request_uri,y=d.extraQueryParams,A=d.request_type,_=d.client_secret,E=d.extraTokenParams,M=d.skipUserInfo;if(function(ot,Ne){if(!(ot instanceof Ne))throw new TypeError("Cannot call a class as a function")}(this,j),!h)throw a.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!g)throw a.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!N)throw a.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!O)throw a.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!B)throw a.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!H)throw a.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var I=j.isOidc(O),ne=j.isCode(O);ye||(ye=j.isCode(O)?"query":null),this.state=new F.SigninState({nonce:I,data:$,client_id:g,authority:H,redirect_uri:N,code_verifier:ne,request_type:A,response_mode:ye,client_secret:_,scope:B,extraTokenParams:E,skipUserInfo:M}),h=x.UrlUtility.addQueryParam(h,"client_id",g),h=x.UrlUtility.addQueryParam(h,"redirect_uri",N),h=x.UrlUtility.addQueryParam(h,"response_type",O),h=x.UrlUtility.addQueryParam(h,"scope",B),h=x.UrlUtility.addQueryParam(h,"state",this.state.id),I&&(h=x.UrlUtility.addQueryParam(h,"nonce",this.state.nonce)),ne&&(h=x.UrlUtility.addQueryParam(h,"code_challenge",this.state.code_challenge),h=x.UrlUtility.addQueryParam(h,"code_challenge_method","S256"));var fe={prompt:K,display:G,max_age:W,ui_locales:le,id_token_hint:L,login_hint:U,acr_values:z,resource:ee,request:be,request_uri:pe,response_mode:ye};for(var Ve in fe)fe[Ve]&&(h=x.UrlUtility.addQueryParam(h,Ve,fe[Ve]));for(var ae in y)h=x.UrlUtility.addQueryParam(h,ae,y[ae]);this.url=h}return j.isOidc=function(h){return!!h.split(/\s+/g).filter(function(g){return"id_token"===g})[0]},j.isOAuth=function(h){return!!h.split(/\s+/g).filter(function(g){return"token"===g})[0]},j.isCode=function(h){return!!h.split(/\s+/g).filter(function(g){return"code"===g})[0]},j}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.State=void 0;var h,a=function(){function d(h,g){for(var N=0;N<g.length;N++){var O=g[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(h,O.key,O)}}return function(h,g,N){return g&&d(h.prototype,g),N&&d(h,N),h}}(),x=P(0),F=(h=P(14))&&h.__esModule?h:{default:h};function j(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}S.State=function(){function d(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=h.id,N=h.data,O=h.created,B=h.request_type;j(this,d),this._id=g||(0,F.default)(),this._data=N,this._created="number"==typeof O&&O>0?O:parseInt(Date.now()/1e3),this._request_type=B}return d.prototype.toStorageString=function(){return x.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},d.fromStorageString=function(g){return x.Log.debug("State.fromStorageString"),new d(JSON.parse(g))},d.clearStaleState=function(g,N){var O=Date.now()/1e3-N;return g.getAllKeys().then(function(B){x.Log.debug("State.clearStaleState: got keys",B);for(var H=[],$=function(le){var L=B[le];G=g.get(L).then(function(U){var z=!1;if(U)try{var ee=d.fromStorageString(U);x.Log.debug("State.clearStaleState: got item from key: ",L,ee.created),ee.created<=O&&(z=!0)}catch(ye){x.Log.error("State.clearStaleState: Error parsing state for key",L,ye.message),z=!0}else x.Log.debug("State.clearStaleState: no item in storage for key: ",L),z=!0;if(z)return x.Log.debug("State.clearStaleState: removed item for key: ",L),g.remove(L)}),H.push(G)},K=0;K<B.length;K++){var G;$(K)}return x.Log.debug("State.clearStaleState: waiting on promise count:",H.length),Promise.all(H)})},a(d,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),d}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.OidcClient=void 0;var a=function(){function $(K,G){for(var W=0;W<G.length;W++){var le=G[W];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(K,le.key,le)}}return function(K,G,W){return G&&$(K.prototype,G),W&&$(K,W),K}}(),x=P(0),F=P(5),j=P(12),d=P(8),h=P(34),g=P(35),N=P(36),O=P(13),B=P(9);function H($,K){if(!($ instanceof K))throw new TypeError("Cannot call a class as a function")}S.OidcClient=function(){function $(){var K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};H(this,$),this._settings=K instanceof F.OidcClientSettings?K:new F.OidcClientSettings(K)}return $.prototype.createSigninRequest=function(){var G=this,W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},le=W.response_type,L=W.scope,U=W.redirect_uri,z=W.data,ee=W.state,ye=W.prompt,be=W.display,pe=W.max_age,y=W.ui_locales,A=W.id_token_hint,_=W.login_hint,E=W.acr_values,M=W.resource,I=W.request,ne=W.request_uri,fe=W.response_mode,Ve=W.extraQueryParams,ae=W.extraTokenParams,ze=W.request_type,ot=W.skipUserInfo,Ne=arguments[1];x.Log.debug("OidcClient.createSigninRequest");var Ye=this._settings.client_id;L=L||this._settings.scope,U=U||this._settings.redirect_uri,ye=ye||this._settings.prompt,be=be||this._settings.display,pe=pe||this._settings.max_age,y=y||this._settings.ui_locales,E=E||this._settings.acr_values,M=M||this._settings.resource,fe=fe||this._settings.response_mode,Ve=Ve||this._settings.extraQueryParams,ae=ae||this._settings.extraTokenParams;var Ze=this._settings.authority;return d.SigninRequest.isCode(le=le||this._settings.response_type)&&"code"!==le?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(ft){x.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",ft);var nt=new d.SigninRequest({url:ft,client_id:Ye,redirect_uri:U,response_type:le,scope:L,data:z||ee,authority:Ze,prompt:ye,display:be,max_age:pe,ui_locales:y,id_token_hint:A,login_hint:_,acr_values:E,resource:M,request:I,request_uri:ne,extraQueryParams:Ve,extraTokenParams:ae,request_type:ze,response_mode:fe,client_secret:G._settings.client_secret,skipUserInfo:ot}),Be=nt.state;return(Ne=Ne||G._stateStore).set(Be.id,Be.toStorageString()).then(function(){return nt})})},$.prototype.readSigninResponseState=function(G,W){var le=arguments.length>2&&void 0!==arguments[2]&&arguments[2];x.Log.debug("OidcClient.readSigninResponseState");var L="query"===this._settings.response_mode||!this._settings.response_mode&&d.SigninRequest.isCode(this._settings.response_type),z=new h.SigninResponse(G,L?"?":"#");return z.state?(W=W||this._stateStore,(le?W.remove.bind(W):W.get.bind(W))(z.state).then(function(ye){if(!ye)throw x.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:O.SigninState.fromStorageString(ye),response:z}})):(x.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response")))},$.prototype.processSigninResponse=function(G,W){var le=this;return x.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(G,W,!0).then(function(L){var U=L.state,z=L.response;return x.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),le._validator.validateSigninResponse(U,z)})},$.prototype.createSignoutRequest=function(){var G=this,W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},le=W.id_token_hint,L=W.data,U=W.state,z=W.post_logout_redirect_uri,ee=W.extraQueryParams,ye=W.request_type,be=arguments[1];return x.Log.debug("OidcClient.createSignoutRequest"),z=z||this._settings.post_logout_redirect_uri,ee=ee||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(pe){if(!pe)throw x.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");x.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",pe);var y=new g.SignoutRequest({url:pe,id_token_hint:le,post_logout_redirect_uri:z,data:L||U,extraQueryParams:ee,request_type:ye}),A=y.state;return A&&(x.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(be=be||G._stateStore).set(A.id,A.toStorageString())),y})},$.prototype.readSignoutResponseState=function(G,W){var le=arguments.length>2&&void 0!==arguments[2]&&arguments[2];x.Log.debug("OidcClient.readSignoutResponseState");var L=new N.SignoutResponse(G);if(!L.state)return x.Log.debug("OidcClient.readSignoutResponseState: No state in response"),L.error?(x.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",L.error),Promise.reject(new j.ErrorResponse(L))):Promise.resolve({state:void 0,response:L});var U=L.state;return W=W||this._stateStore,(le?W.remove.bind(W):W.get.bind(W))(U).then(function(ee){if(!ee)throw x.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:B.State.fromStorageString(ee),response:L}})},$.prototype.processSignoutResponse=function(G,W){var le=this;return x.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(G,W,!0).then(function(L){var U=L.state,z=L.response;return U?(x.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),le._validator.validateSignoutResponse(U,z)):(x.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),z)})},$.prototype.clearStaleState=function(G){return x.Log.debug("OidcClient.clearStaleState"),B.State.clearStaleState(G=G||this._stateStore,this.settings.staleStateAge)},a($,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),$}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.TokenClient=void 0;var a=P(7),x=P(2),F=P(0);function j(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}S.TokenClient=function(){function d(h){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.JsonService,N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x.MetadataService;if(j(this,d),!h)throw F.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=h,this._jsonService=new g,this._metadataService=new N(this._settings)}return d.prototype.exchangeCode=function(){var g=this,N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(N=Object.assign({},N)).grant_type=N.grant_type||"authorization_code",N.client_id=N.client_id||this._settings.client_id,N.client_secret=N.client_secret||this._settings.client_secret,N.redirect_uri=N.redirect_uri||this._settings.redirect_uri;var O=void 0,B=N._client_authentication||this._settings._client_authentication;return delete N._client_authentication,N.code?N.redirect_uri?N.code_verifier?N.client_id?N.client_secret||"client_secret_basic"!=B?("client_secret_basic"==B&&(O=N.client_id+":"+N.client_secret,delete N.client_id,delete N.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(H){return F.Log.debug("TokenClient.exchangeCode: Received token endpoint"),g._jsonService.postForm(H,N,O).then(function($){return F.Log.debug("TokenClient.exchangeCode: response received"),$})})):(F.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(F.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(F.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(F.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(F.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},d.prototype.exchangeRefreshToken=function(){var g=this,N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(N=Object.assign({},N)).grant_type=N.grant_type||"refresh_token",N.client_id=N.client_id||this._settings.client_id,N.client_secret=N.client_secret||this._settings.client_secret;var O=void 0,B=N._client_authentication||this._settings._client_authentication;return delete N._client_authentication,N.refresh_token?N.client_id?("client_secret_basic"==B&&(O=N.client_id+":"+N.client_secret,delete N.client_id,delete N.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(H){return F.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),g._jsonService.postForm(H,N,O).then(function($){return F.Log.debug("TokenClient.exchangeRefreshToken: response received"),$})})):(F.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(F.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},d}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ErrorResponse=void 0;var a=P(0);function x(j,d){if(!(j instanceof d))throw new TypeError("Cannot call a class as a function")}function F(j,d){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?j:d}S.ErrorResponse=function(j){function d(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=h.error,N=h.error_description,O=h.error_uri,B=h.state,H=h.session_state;if(x(this,d),!g)throw a.Log.error("No error passed to ErrorResponse"),new Error("error");var $=F(this,j.call(this,N||g));return $.name="ErrorResponse",$.error=g,$.error_description=N,$.error_uri=O,$.state=B,$.session_state=H,$}return function(g,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function, not "+typeof N);g.prototype=Object.create(N&&N.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(g,N):g.__proto__=N)}(d,j),d}(Error)},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.SigninState=void 0;var O,a=function(){function N(O,B){for(var H=0;H<B.length;H++){var $=B[H];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(O,$.key,$)}}return function(O,B,H){return B&&N(O.prototype,B),H&&N(O,H),O}}(),x=P(0),F=P(9),j=P(4),d=(O=P(14))&&O.__esModule?O:{default:O};function h(N,O){if(!(N instanceof O))throw new TypeError("Cannot call a class as a function")}function g(N,O){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?N:O}S.SigninState=function(N){function O(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},H=B.nonce,$=B.authority,K=B.client_id,G=B.redirect_uri,W=B.code_verifier,le=B.response_mode,L=B.client_secret,U=B.scope,z=B.extraTokenParams,ee=B.skipUserInfo;h(this,O);var ye=g(this,N.call(this,arguments[0]));if(!0===H?ye._nonce=(0,d.default)():H&&(ye._nonce=H),!0===W?ye._code_verifier=(0,d.default)()+(0,d.default)()+(0,d.default)():W&&(ye._code_verifier=W),ye.code_verifier){var be=j.JoseUtil.hashString(ye.code_verifier,"SHA256");ye._code_challenge=j.JoseUtil.hexToBase64Url(be)}return ye._redirect_uri=G,ye._authority=$,ye._client_id=K,ye._response_mode=le,ye._client_secret=L,ye._scope=U,ye._extraTokenParams=z,ye._skipUserInfo=ee,ye}return function(H,$){if("function"!=typeof $&&null!==$)throw new TypeError("Super expression must either be null or a function, not "+typeof $);H.prototype=Object.create($&&$.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(H,$):H.__proto__=$)}(O,N),O.prototype.toStorageString=function(){return x.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},O.fromStorageString=function(H){return x.Log.debug("SigninState.fromStorageString"),new O(JSON.parse(H))},a(O,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),O}(F.State)},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(){return("undefined"!=a&&null!==a&&void 0!==a.getRandomValues?x:F)().replace(/-/g,"")};var a="undefined"!=typeof window?window.crypto||window.msCrypto:null;function x(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(j){return(j^a.getRandomValues(new Uint8Array(1))[0]&15>>j/4).toString(16)})}function F(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(j){return(j^16*Math.random()>>j/4).toString(16)})}R.exports=S.default},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.User=void 0;var a=function(){function F(j,d){for(var h=0;h<d.length;h++){var g=d[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(j,g.key,g)}}return function(j,d,h){return d&&F(j.prototype,d),h&&F(j,h),j}}(),x=P(0);S.User=function(){function F(j){var d=j.id_token,h=j.session_state,g=j.access_token,N=j.refresh_token,O=j.token_type,B=j.scope,H=j.profile,$=j.expires_at,K=j.state;(function(W,le){if(!(W instanceof le))throw new TypeError("Cannot call a class as a function")})(this,F),this.id_token=d,this.session_state=h,this.access_token=g,this.refresh_token=N,this.token_type=O,this.scope=B,this.profile=H,this.expires_at=$,this.state=K}return F.prototype.toStorageString=function(){return x.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},F.fromStorageString=function(d){return x.Log.debug("User.fromStorageString"),new F(JSON.parse(d))},a(F,[{key:"expires_in",get:function(){if(this.expires_at){var d=parseInt(Date.now()/1e3);return this.expires_at-d}},set:function(d){var h=parseInt(d);if("number"==typeof h&&h>0){var g=parseInt(Date.now()/1e3);this.expires_at=g+h}}},{key:"expired",get:function(){var d=this.expires_in;if(void 0!==d)return d<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),F}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.AccessTokenEvents=void 0;var a=P(0),x=P(46);function F(j,d){if(!(j instanceof d))throw new TypeError("Cannot call a class as a function")}S.AccessTokenEvents=function(){function j(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},h=d.accessTokenExpiringNotificationTime,g=void 0===h?60:h,N=d.accessTokenExpiringTimer,O=void 0===N?new x.Timer("Access token expiring"):N,B=d.accessTokenExpiredTimer,H=void 0===B?new x.Timer("Access token expired"):B;F(this,j),this._accessTokenExpiringNotificationTime=g,this._accessTokenExpiring=O,this._accessTokenExpired=H}return j.prototype.load=function(h){if(h.access_token&&void 0!==h.expires_in){var g=h.expires_in;if(a.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",g),g>0){var N=g-this._accessTokenExpiringNotificationTime;N<=0&&(N=1),a.Log.debug("AccessTokenEvents.load: registering expiring timer in:",N),this._accessTokenExpiring.init(N)}else a.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var O=g+1;a.Log.debug("AccessTokenEvents.load: registering expired timer in:",O),this._accessTokenExpired.init(O)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},j.prototype.unload=function(){a.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},j.prototype.addAccessTokenExpiring=function(h){this._accessTokenExpiring.addHandler(h)},j.prototype.removeAccessTokenExpiring=function(h){this._accessTokenExpiring.removeHandler(h)},j.prototype.addAccessTokenExpired=function(h){this._accessTokenExpired.addHandler(h)},j.prototype.removeAccessTokenExpired=function(h){this._accessTokenExpired.removeHandler(h)},j}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Event=void 0;var a=P(0);S.Event=function(){function x(F){(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,x),this._name=F,this._callbacks=[]}return x.prototype.addHandler=function(j){this._callbacks.push(j)},x.prototype.removeHandler=function(j){var d=this._callbacks.findIndex(function(h){return h===j});d>=0&&this._callbacks.splice(d,1)},x.prototype.raise=function(){a.Log.debug("Event: Raising event: "+this._name);for(var j=0;j<this._callbacks.length;j++){var d;(d=this._callbacks)[j].apply(d,arguments)}},x}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.SessionMonitor=void 0;var a=function(){function h(g,N){for(var O=0;O<N.length;O++){var B=N[O];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(g,B.key,B)}}return function(g,N,O){return N&&h(g.prototype,N),O&&h(g,O),g}}(),x=P(0),F=P(19),j=P(1);function d(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}S.SessionMonitor=function(){function h(g){var N=this,O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F.CheckSessionIFrame,B=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j.Global.timer;if(d(this,h),!g)throw x.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=g,this._CheckSessionIFrameCtor=O,this._timer=B,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(H){H?N._start(H):N._settings.monitorAnonymousSession&&N._userManager.querySessionStatus().then(function($){var K={session_state:$.session_state};$.sub&&$.sid&&(K.profile={sub:$.sub,sid:$.sid}),N._start(K)}).catch(function($){x.Log.error("SessionMonitor ctor: error from querySessionStatus:",$.message)})}).catch(function(H){x.Log.error("SessionMonitor ctor: error from getUser:",H.message)}))}return h.prototype._start=function(N){var O=this,B=N.session_state;B&&(N.profile?(this._sub=N.profile.sub,this._sid=N.profile.sid,x.Log.debug("SessionMonitor._start: session_state:",B,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,x.Log.debug("SessionMonitor._start: session_state:",B,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(B):this._metadataService.getCheckSessionIframe().then(function(H){if(H){x.Log.debug("SessionMonitor._start: Initializing check session iframe");var $=O._client_id,K=O._checkSessionInterval,G=O._stopCheckSessionOnError;O._checkSessionIFrame=new O._CheckSessionIFrameCtor(O._callback.bind(O),$,H,K,G),O._checkSessionIFrame.load().then(function(){O._checkSessionIFrame.start(B)})}else x.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(H){x.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",H.message)}))},h.prototype._stop=function(){var N=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(x.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var O=this._timer.setInterval(function(){N._timer.clearInterval(O),N._userManager.querySessionStatus().then(function(B){var H={session_state:B.session_state};B.sub&&B.sid&&(H.profile={sub:B.sub,sid:B.sid}),N._start(H)}).catch(function(B){x.Log.error("SessionMonitor: error from querySessionStatus:",B.message)})},1e3)},h.prototype._callback=function(){var N=this;this._userManager.querySessionStatus().then(function(O){var B=!0;O?O.sub===N._sub?(B=!1,N._checkSessionIFrame.start(O.session_state),O.sid===N._sid?x.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",O.session_state):(x.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",O.session_state),N._userManager.events._raiseUserSessionChanged())):x.Log.debug("SessionMonitor._callback: Different subject signed into OP:",O.sub):x.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),B&&(N._sub?(x.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),N._userManager.events._raiseUserSignedOut()):(x.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),N._userManager.events._raiseUserSignedIn()))}).catch(function(O){N._sub&&(x.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",O.message),N._userManager.events._raiseUserSignedOut())})},a(h,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),h}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CheckSessionIFrame=void 0;var a=P(0);function x(F,j){if(!(F instanceof j))throw new TypeError("Cannot call a class as a function")}S.CheckSessionIFrame=function(){function F(j,d,h,g){var N=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];x(this,F),this._callback=j,this._client_id=d,this._url=h,this._interval=g||2e3,this._stopOnError=N;var O=h.indexOf("/",h.indexOf("//")+2);this._frame_origin=h.substr(0,O),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=h}return F.prototype.load=function(){var d=this;return new Promise(function(h){d._frame.onload=function(){h()},window.document.body.appendChild(d._frame),d._boundMessageEvent=d._message.bind(d),window.addEventListener("message",d._boundMessageEvent,!1)})},F.prototype._message=function(d){d.origin===this._frame_origin&&d.source===this._frame.contentWindow&&("error"===d.data?(a.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===d.data?(a.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):a.Log.debug("CheckSessionIFrame: "+d.data+" message from check session op iframe"))},F.prototype.start=function(d){var h=this;if(this._session_state!==d){a.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=d;var g=function(){h._frame.contentWindow.postMessage(h._client_id+" "+h._session_state,h._frame_origin)};g(),this._timer=window.setInterval(g,this._interval)}},F.prototype.stop=function(){this._session_state=null,this._timer&&(a.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},F}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.TokenRevocationClient=void 0;var a=P(0),x=P(2),F=P(1);function j(g,N){if(!(g instanceof N))throw new TypeError("Cannot call a class as a function")}var d="access_token",h="refresh_token";S.TokenRevocationClient=function(){function g(N){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F.Global.XMLHttpRequest,B=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x.MetadataService;if(j(this,g),!N)throw a.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=N,this._XMLHttpRequestCtor=O,this._metadataService=new B(this._settings)}return g.prototype.revoke=function(O,B){var H=this,$=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!O)throw a.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if($!==d&&$!=h)throw a.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(K){if(K)return a.Log.debug("TokenRevocationClient.revoke: Revoking "+$),H._revoke(K,H._settings.client_id,H._settings.client_secret,O,$);if(B)throw a.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},g.prototype._revoke=function(O,B,H,$,K){var G=this;return new Promise(function(W,le){var L=new G._XMLHttpRequestCtor;L.open("POST",O),L.onload=function(){a.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",L.status),200===L.status?W():le(Error(L.statusText+" ("+L.status+")"))},L.onerror=function(){a.Log.debug("TokenRevocationClient.revoke: Network Error."),le("Network Error")};var U="client_id="+encodeURIComponent(B);H&&(U+="&client_secret="+encodeURIComponent(H)),U+="&token_type_hint="+encodeURIComponent(K),U+="&token="+encodeURIComponent($),L.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),L.send(U)})},g}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CordovaPopupWindow=void 0;var a=function(){function F(j,d){for(var h=0;h<d.length;h++){var g=d[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(j,g.key,g)}}return function(j,d,h){return d&&F(j.prototype,d),h&&F(j,h),j}}(),x=P(0);S.CordovaPopupWindow=function(){function F(j){var d=this;(function(g,N){if(!(g instanceof N))throw new TypeError("Cannot call a class as a function")})(this,F),this._promise=new Promise(function(h,g){d._resolve=h,d._reject=g}),this.features=j.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=j.popupWindowTarget||"_blank",this.redirect_uri=j.startUrl,x.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return F.prototype._isInAppBrowserInstalled=function(d){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(h){return d.hasOwnProperty(h)})},F.prototype.navigate=function(d){if(d&&d.url){if(!window.cordova)return this._error("cordova is undefined");var h=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(h))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(d.url,this.target,this.features),this._popup?(x.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},F.prototype._loadStartCallback=function(d){0===d.url.indexOf(this.redirect_uri)&&this._success({url:d.url})},F.prototype._exitCallback=function(d){this._error(d)},F.prototype._success=function(d){this._cleanup(),x.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(d)},F.prototype._error=function(d){this._cleanup(),x.Log.error(d),this._reject(new Error(d))},F.prototype.close=function(){this._cleanup()},F.prototype._cleanup=function(){this._popup&&(x.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},a(F,[{key:"promise",get:function(){return this._promise}}]),F}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var a=P(0),x=P(10),F=P(5),j=P(6),d=P(37),h=P(38),g=P(16),N=P(2),O=P(48),B=P(49),H=P(19),$=P(20),K=P(18),G=P(1),W=P(15),le=P(50);S.default={Version:le.Version,Log:a.Log,OidcClient:x.OidcClient,OidcClientSettings:F.OidcClientSettings,WebStorageStateStore:j.WebStorageStateStore,InMemoryWebStorage:d.InMemoryWebStorage,UserManager:h.UserManager,AccessTokenEvents:g.AccessTokenEvents,MetadataService:N.MetadataService,CordovaPopupNavigator:O.CordovaPopupNavigator,CordovaIFrameNavigator:B.CordovaIFrameNavigator,CheckSessionIFrame:H.CheckSessionIFrame,TokenRevocationClient:$.TokenRevocationClient,SessionMonitor:K.SessionMonitor,Global:G.Global,User:W.User},R.exports=S.default},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ClockService=function(){function a(){!function(F,j){if(!(F instanceof j))throw new TypeError("Cannot call a class as a function")}(this,a)}return a.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},a}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ResponseValidator=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(B){return typeof B}:function(B){return B&&"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},x=P(0),F=P(2),j=P(25),d=P(11),h=P(12),g=P(4);function N(B,H){if(!(B instanceof H))throw new TypeError("Cannot call a class as a function")}var O=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];S.ResponseValidator=function(){function B(H){var $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F.MetadataService,K=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j.UserInfoService,G=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g.JoseUtil,W=arguments.length>4&&void 0!==arguments[4]?arguments[4]:d.TokenClient;if(N(this,B),!H)throw x.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=H,this._metadataService=new $(this._settings),this._userInfoService=new K(this._settings),this._joseUtil=G,this._tokenClient=new W(this._settings)}return B.prototype.validateSigninResponse=function($,K){var G=this;return x.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams($,K).then(function(W){return x.Log.debug("ResponseValidator.validateSigninResponse: state processed"),G._validateTokens($,W).then(function(le){return x.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),G._processClaims($,le).then(function(L){return x.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),L})})})},B.prototype.validateSignoutResponse=function($,K){return $.id!==K.state?(x.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(x.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),K.state=$.data,K.error?(x.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",K.error),Promise.reject(new h.ErrorResponse(K))):Promise.resolve(K))},B.prototype._processSigninParams=function($,K){if($.id!==K.state)return x.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!$.client_id)return x.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!$.authority)return x.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==$.authority)return x.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=$.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==$.client_id)return x.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=$.client_id;return x.Log.debug("ResponseValidator._processSigninParams: state validated"),K.state=$.data,K.error?(x.Log.warn("ResponseValidator._processSigninParams: Response was error",K.error),Promise.reject(new h.ErrorResponse(K))):$.nonce&&!K.id_token?(x.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!$.nonce&&K.id_token?(x.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):$.code_verifier&&!K.code?(x.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!$.code_verifier&&K.code?(x.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(K.scope||(K.scope=$.scope),Promise.resolve(K))},B.prototype._processClaims=function($,K){var G=this;if(K.isOpenIdConnect){if(x.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),K.profile=this._filterProtocolClaims(K.profile),!0!==$.skipUserInfo&&this._settings.loadUserInfo&&K.access_token)return x.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(K.access_token).then(function(W){return x.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),W.sub!==K.profile.sub?(x.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(K.profile=G._mergeClaims(K.profile,W),x.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",K.profile),K)});x.Log.debug("ResponseValidator._processClaims: not loading user info")}else x.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(K)},B.prototype._mergeClaims=function($,K){var G=Object.assign({},$);for(var W in K){var le=K[W];Array.isArray(le)||(le=[le]);for(var L=0;L<le.length;L++){var U=le[L];G[W]?Array.isArray(G[W])?G[W].indexOf(U)<0&&G[W].push(U):G[W]!==U&&(G[W]="object"===(void 0===U?"undefined":a(U))&&this._settings.mergeClaims?this._mergeClaims(G[W],U):[G[W],U]):G[W]=U}}return G},B.prototype._filterProtocolClaims=function($){x.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",$);var K=Object.assign({},$);return this._settings._filterProtocolClaims?(O.forEach(function(G){delete K[G]}),x.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",K)):x.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),K},B.prototype._validateTokens=function($,K){return K.code?(x.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode($,K)):K.id_token?K.access_token?(x.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken($,K)):(x.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken($,K)):(x.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(K))},B.prototype._processCode=function($,K){var G=this,W={client_id:$.client_id,client_secret:$.client_secret,code:K.code,redirect_uri:$.redirect_uri,code_verifier:$.code_verifier};return $.extraTokenParams&&"object"===a($.extraTokenParams)&&Object.assign(W,$.extraTokenParams),this._tokenClient.exchangeCode(W).then(function(le){for(var L in le)K[L]=le[L];return K.id_token?(x.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),G._validateIdTokenAttributes($,K)):(x.Log.debug("ResponseValidator._processCode: token response successful, returning response"),K)})},B.prototype._validateIdTokenAttributes=function($,K){var G=this;return this._metadataService.getIssuer().then(function(W){var le=$.client_id,L=G._settings.clockSkew;return x.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",L),G._settings.getEpochTime().then(function(U){return G._joseUtil.validateJwtAttributes(K.id_token,W,le,L,U).then(function(z){return $.nonce&&$.nonce!==z.nonce?(x.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):z.sub?(K.profile=z,K):(x.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},B.prototype._validateIdTokenAndAccessToken=function($,K){var G=this;return this._validateIdToken($,K).then(function(W){return G._validateAccessToken(W)})},B.prototype._getSigningKeyForJwt=function($){var K=this;return this._metadataService.getSigningKeys().then(function(G){var W=$.header.kid;if(!G)return x.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));x.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var le=void 0;if(W)le=G.filter(function(L){return L.kid===W})[0];else{if((G=K._filterByAlg(G,$.header.alg)).length>1)return x.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));le=G[0]}return Promise.resolve(le)})},B.prototype._getSigningKeyForJwtWithSingleRetry=function($){var K=this;return this._getSigningKeyForJwt($).then(function(G){return G?Promise.resolve(G):(K._metadataService.resetSigningKeys(),K._getSigningKeyForJwt($))})},B.prototype._validateIdToken=function($,K){var G=this;if(!$.nonce)return x.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var W=this._joseUtil.parseJwt(K.id_token);return W&&W.header&&W.payload?$.nonce!==W.payload.nonce?(x.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(le){return x.Log.debug("ResponseValidator._validateIdToken: Received issuer"),G._getSigningKeyForJwtWithSingleRetry(W).then(function(L){if(!L)return x.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var U=$.client_id,z=G._settings.clockSkew;return x.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",z),G._joseUtil.validateJwt(K.id_token,L,le,U,z).then(function(){return x.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),W.payload.sub?(K.profile=W.payload,K):(x.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(x.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",W),Promise.reject(new Error("Failed to parse id_token")))},B.prototype._filterByAlg=function($,K){var G=null;if(K.startsWith("RS"))G="RSA";else if(K.startsWith("PS"))G="PS";else{if(!K.startsWith("ES"))return x.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",K),[];G="EC"}return x.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",G),$=$.filter(function(W){return W.kty===G}),x.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",G,$.length),$},B.prototype._validateAccessToken=function($){if(!$.profile)return x.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!$.profile.at_hash)return x.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!$.id_token)return x.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var K=this._joseUtil.parseJwt($.id_token);if(!K||!K.header)return x.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",K),Promise.reject(new Error("Failed to parse id_token"));var G=K.header.alg;if(!G||5!==G.length)return x.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",G),Promise.reject(new Error("Unsupported alg: "+G));var W=G.substr(2,3);if(!W)return x.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",G,W),Promise.reject(new Error("Unsupported alg: "+G));if(256!==(W=parseInt(W))&&384!==W&&512!==W)return x.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",G,W),Promise.reject(new Error("Unsupported alg: "+G));var le="sha"+W,L=this._joseUtil.hashString($.access_token,le);if(!L)return x.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",le),Promise.reject(new Error("Failed to validate at_hash"));var U=L.substr(0,L.length/2),z=this._joseUtil.hexToBase64Url(U);return z!==$.profile.at_hash?(x.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",z,$.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(x.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve($))},B}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.UserInfoService=void 0;var a=P(7),x=P(2),F=P(0),j=P(4);function d(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}S.UserInfoService=function(){function h(g){var N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.JsonService,O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x.MetadataService,B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j.JoseUtil;if(d(this,h),!g)throw F.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=g,this._jsonService=new N(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new O(this._settings),this._joseUtil=B}return h.prototype.getClaims=function(N){var O=this;return N?this._metadataService.getUserInfoEndpoint().then(function(B){return F.Log.debug("UserInfoService.getClaims: received userinfo url",B),O._jsonService.getJson(B,N).then(function(H){return F.Log.debug("UserInfoService.getClaims: claims received",H),H})}):(F.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},h.prototype._getClaimsFromJwt=function(N){var O=this;try{var B=this._joseUtil.parseJwt(N.responseText);if(!B||!B.header||!B.payload)return F.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",B),Promise.reject(new Error("Failed to parse id_token"));var H=B.header.kid,$=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":$=this._metadataService.getIssuer();break;case"ANY":$=Promise.resolve(B.payload.iss);break;default:$=Promise.resolve(this._settings.userInfoJwtIssuer)}return $.then(function(K){return F.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+K),O._metadataService.getSigningKeys().then(function(G){if(!G)return F.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));F.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var W=void 0;if(H)W=G.filter(function(U){return U.kid===H})[0];else{if((G=O._filterByAlg(G,B.header.alg)).length>1)return F.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));W=G[0]}if(!W)return F.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var le=O._settings.client_id,L=O._settings.clockSkew;return F.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",L),O._joseUtil.validateJwt(N.responseText,W,K,le,L,void 0,!0).then(function(){return F.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),B.payload})})})}catch(K){return F.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",K.message),void reject(K)}},h.prototype._filterByAlg=function(N,O){var B=null;if(O.startsWith("RS"))B="RSA";else if(O.startsWith("PS"))B="PS";else{if(!O.startsWith("ES"))return F.Log.debug("UserInfoService._filterByAlg: alg not supported: ",O),[];B="EC"}return F.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",B),N=N.filter(function(H){return H.kty===B}),F.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",B,N.length),N},h}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.AllowedSigningAlgs=S.b64tohex=S.hextob64u=S.crypto=S.X509=S.KeyUtil=S.jws=void 0;var a=P(27);S.jws=a.jws,S.KeyUtil=a.KEYUTIL,S.X509=a.X509,S.crypto=a.crypto,S.hextob64u=a.hextob64u,S.b64tohex=a.b64tohex,S.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(R,S,P){"use strict";(function(a){Object.defineProperty(S,"__esModule",{value:!0});var x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},F={userAgent:!1},j={};if(void 0===d)var d={};d.lang={extend:function(b,k,T){if(!k||!b)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var Z=function(){};if(Z.prototype=k.prototype,b.prototype=new Z,b.prototype.constructor=b,b.superclass=k.prototype,k.prototype.constructor==Object.prototype.constructor&&(k.prototype.constructor=k),T){var oe;for(oe in T)b.prototype[oe]=T[oe];var ue=function(){},Ee=["toString","valueOf"];try{/MSIE/.test(F.userAgent)&&(ue=function(Re,Me){for(oe=0;oe<Ee.length;oe+=1){var je=Ee[oe],$e=Me[je];"function"==typeof $e&&$e!=Object.prototype[je]&&(Re[je]=$e)}})}catch{}ue(b.prototype,T)}}};var h,g,N,O,B,H,$,K,G,W,le,b,k,T,Z,L=L||(h=Math,N=(g={}).lib={},O=N.Base=function(){function w(){}return{extend:function(k){w.prototype=this;var T=new w;return k&&T.mixIn(k),T.hasOwnProperty("init")||(T.init=function(){T.$super.init.apply(this,arguments)}),T.init.prototype=T,T.$super=this,T},create:function(){var k=this.extend();return k.init.apply(k,arguments),k},init:function(){},mixIn:function(k){for(var T in k)k.hasOwnProperty(T)&&(this[T]=k[T]);k.hasOwnProperty("toString")&&(this.toString=k.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),B=N.WordArray=O.extend({init:function(b,k){b=this.words=b||[],this.sigBytes=k??4*b.length},toString:function(b){return(b||$).stringify(this)},concat:function(b){var k=this.words,T=b.words,Z=this.sigBytes,oe=b.sigBytes;if(this.clamp(),Z%4)for(var ue=0;ue<oe;ue++)k[Z+ue>>>2]|=(T[ue>>>2]>>>24-ue%4*8&255)<<24-(Z+ue)%4*8;else for(ue=0;ue<oe;ue+=4)k[Z+ue>>>2]=T[ue>>>2];return this.sigBytes+=oe,this},clamp:function(){var b=this.words,k=this.sigBytes;b[k>>>2]&=4294967295<<32-k%4*8,b.length=h.ceil(k/4)},clone:function(){var b=O.clone.call(this);return b.words=this.words.slice(0),b},random:function(b){for(var k=[],T=0;T<b;T+=4)k.push(4294967296*h.random()|0);return new B.init(k,b)}}),H=g.enc={},$=H.Hex={stringify:function(b){for(var k=b.words,T=b.sigBytes,Z=[],oe=0;oe<T;oe++){var ue=k[oe>>>2]>>>24-oe%4*8&255;Z.push((ue>>>4).toString(16)),Z.push((15&ue).toString(16))}return Z.join("")},parse:function(b){for(var k=b.length,T=[],Z=0;Z<k;Z+=2)T[Z>>>3]|=parseInt(b.substr(Z,2),16)<<24-Z%8*4;return new B.init(T,k/2)}},K=H.Latin1={stringify:function(b){for(var k=b.words,T=b.sigBytes,Z=[],oe=0;oe<T;oe++)Z.push(String.fromCharCode(k[oe>>>2]>>>24-oe%4*8&255));return Z.join("")},parse:function(b){for(var k=b.length,T=[],Z=0;Z<k;Z++)T[Z>>>2]|=(255&b.charCodeAt(Z))<<24-Z%4*8;return new B.init(T,k)}},G=H.Utf8={stringify:function(b){try{return decodeURIComponent(escape(K.stringify(b)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(b){return K.parse(unescape(encodeURIComponent(b)))}},W=N.BufferedBlockAlgorithm=O.extend({reset:function(){this._data=new B.init,this._nDataBytes=0},_append:function(b){"string"==typeof b&&(b=G.parse(b)),this._data.concat(b),this._nDataBytes+=b.sigBytes},_process:function(b){var k=this._data,T=k.words,Z=k.sigBytes,oe=this.blockSize,ue=Z/(4*oe),Ee=(ue=b?h.ceil(ue):h.max((0|ue)-this._minBufferSize,0))*oe,Ce=h.min(4*Ee,Z);if(Ee){for(var Re=0;Re<Ee;Re+=oe)this._doProcessBlock(T,Re);var Me=T.splice(0,Ee);k.sigBytes-=Ce}return new B.init(Me,Ce)},clone:function(){var b=O.clone.call(this);return b._data=this._data.clone(),b},_minBufferSize:0}),N.Hasher=W.extend({cfg:O.extend(),init:function(b){this.cfg=this.cfg.extend(b),this.reset()},reset:function(){W.reset.call(this),this._doReset()},update:function(b){return this._append(b),this._process(),this},finalize:function(b){return b&&this._append(b),this._doFinalize()},blockSize:16,_createHelper:function(b){return function(k,T){return new b.init(T).finalize(k)}},_createHmacHelper:function(b){return function(k,T){return new le.HMAC.init(b,T).finalize(k)}}}),le=g.algo={},g);k=(b=L).lib,T=k.Base,Z=k.WordArray,(b=b.x64={}).Word=T.extend({init:function(ue,Ee){this.high=ue,this.low=Ee}}),b.WordArray=T.extend({init:function(ue,Ee){ue=this.words=ue||[],this.sigBytes=Ee??8*ue.length},toX32:function(){for(var ue=this.words,Ee=ue.length,Ce=[],Re=0;Re<Ee;Re++){var Me=ue[Re];Ce.push(Me.high),Ce.push(Me.low)}return Z.create(Ce,this.sigBytes)},clone:function(){for(var ue=T.clone.call(this),Ee=ue.words=this.words.slice(0),Ce=Ee.length,Re=0;Re<Ce;Re++)Ee[Re]=Ee[Re].clone();return ue}}),function(){var b=L.lib.WordArray;L.enc.Base64={stringify:function(T){var Z=T.words,oe=T.sigBytes,ue=this._map;T.clamp(),T=[];for(var Ee=0;Ee<oe;Ee+=3)for(var Ce=(Z[Ee>>>2]>>>24-Ee%4*8&255)<<16|(Z[Ee+1>>>2]>>>24-(Ee+1)%4*8&255)<<8|Z[Ee+2>>>2]>>>24-(Ee+2)%4*8&255,Re=0;4>Re&&Ee+.75*Re<oe;Re++)T.push(ue.charAt(Ce>>>6*(3-Re)&63));if(Z=ue.charAt(64))for(;T.length%4;)T.push(Z);return T.join("")},parse:function(T){var Z=T.length,oe=this._map;(ue=oe.charAt(64))&&-1!=(ue=T.indexOf(ue))&&(Z=ue);for(var ue=[],Ee=0,Ce=0;Ce<Z;Ce++)if(Ce%4){var Re=oe.indexOf(T.charAt(Ce-1))<<Ce%4*2,Me=oe.indexOf(T.charAt(Ce))>>>6-Ce%4*2;ue[Ee>>>2]|=(Re|Me)<<24-Ee%4*8,Ee++}return b.create(ue,Ee)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(w){for(var b=L,k=(Z=b.lib).WordArray,T=Z.Hasher,Z=b.algo,oe=[],ue=[],Ee=function(mt){return 4294967296*(mt-(0|mt))|0},Ce=2,Re=0;64>Re;){var Me;e:{for(var je=w.sqrt(Me=Ce),$e=2;$e<=je;$e++)if(!(Me%$e)){Me=!1;break e}Me=!0}Me&&(8>Re&&(oe[Re]=Ee(w.pow(Ce,.5))),ue[Re]=Ee(w.pow(Ce,1/3)),Re++),Ce++}var We=[];Z=Z.SHA256=T.extend({_doReset:function(){this._hash=new k.init(oe.slice(0))},_doProcessBlock:function(mt,ht){for(var Ie=this._hash.words,Ge=Ie[0],qe=Ie[1],Je=Ie[2],ut=Ie[3],gt=Ie[4],Bt=Ie[5],Pt=Ie[6],cn=Ie[7],Dt=0;64>Dt;Dt++){if(16>Dt)We[Dt]=0|mt[ht+Dt];else{var $t=We[Dt-15],Ln=We[Dt-2];We[Dt]=(($t<<25|$t>>>7)^($t<<14|$t>>>18)^$t>>>3)+We[Dt-7]+((Ln<<15|Ln>>>17)^(Ln<<13|Ln>>>19)^Ln>>>10)+We[Dt-16]}$t=cn+((gt<<26|gt>>>6)^(gt<<21|gt>>>11)^(gt<<7|gt>>>25))+(gt&Bt^~gt&Pt)+ue[Dt]+We[Dt],Ln=((Ge<<30|Ge>>>2)^(Ge<<19|Ge>>>13)^(Ge<<10|Ge>>>22))+(Ge&qe^Ge&Je^qe&Je),cn=Pt,Pt=Bt,Bt=gt,gt=ut+$t|0,ut=Je,Je=qe,qe=Ge,Ge=$t+Ln|0}Ie[0]=Ie[0]+Ge|0,Ie[1]=Ie[1]+qe|0,Ie[2]=Ie[2]+Je|0,Ie[3]=Ie[3]+ut|0,Ie[4]=Ie[4]+gt|0,Ie[5]=Ie[5]+Bt|0,Ie[6]=Ie[6]+Pt|0,Ie[7]=Ie[7]+cn|0},_doFinalize:function(){var mt=this._data,ht=mt.words,Ie=8*this._nDataBytes,Ge=8*mt.sigBytes;return ht[Ge>>>5]|=128<<24-Ge%32,ht[14+(Ge+64>>>9<<4)]=w.floor(Ie/4294967296),ht[15+(Ge+64>>>9<<4)]=Ie,mt.sigBytes=4*ht.length,this._process(),this._hash},clone:function(){var mt=T.clone.call(this);return mt._hash=this._hash.clone(),mt}}),b.SHA256=T._createHelper(Z),b.HmacSHA256=T._createHmacHelper(Z)}(Math),function(){function w(){return T.create.apply(T,arguments)}for(var b=L,k=b.lib.Hasher,T=(oe=b.x64).Word,Z=oe.WordArray,oe=b.algo,ue=[w(1116352408,3609767458),w(1899447441,602891725),w(3049323471,3964484399),w(3921009573,2173295548),w(961987163,4081628472),w(1508970993,3053834265),w(2453635748,2937671579),w(2870763221,3664609560),w(3624381080,2734883394),w(310598401,1164996542),w(607225278,1323610764),w(1426881987,3590304994),w(1925078388,4068182383),w(2162078206,991336113),w(2614888103,633803317),w(3248222580,3479774868),w(3835390401,2666613458),w(4022224774,944711139),w(264347078,2341262773),w(604807628,2007800933),w(770255983,1495990901),w(1249150122,1856431235),w(1555081692,3175218132),w(1996064986,2198950837),w(2554220882,3999719339),w(2821834349,766784016),w(2952996808,2566594879),w(3210313671,3203337956),w(3336571891,1034457026),w(3584528711,2466948901),w(113926993,3758326383),w(338241895,168717936),w(666307205,1188179964),w(773529912,1546045734),w(1294757372,1522805485),w(1396182291,2643833823),w(1695183700,2343527390),w(1986661051,1014477480),w(2177026350,1206759142),w(2456956037,344077627),w(2730485921,1290863460),w(2820302411,3158454273),w(3259730800,3505952657),w(3345764771,106217008),w(3516065817,3606008344),w(3600352804,1432725776),w(4094571909,1467031594),w(275423344,851169720),w(430227734,3100823752),w(506948616,1363258195),w(659060556,3750685593),w(883997877,3785050280),w(958139571,3318307427),w(1322822218,3812723403),w(1537002063,2003034995),w(1747873779,3602036899),w(1955562222,1575990012),w(2024104815,1125592928),w(2227730452,2716904306),w(2361852424,442776044),w(2428436474,593698344),w(2756734187,3733110249),w(3204031479,2999351573),w(3329325298,3815920427),w(3391569614,3928383900),w(3515267271,566280711),w(3940187606,3454069534),w(4118630271,4000239992),w(116418474,1914138554),w(174292421,2731055270),w(289380356,3203993006),w(460393269,320620315),w(685471733,587496836),w(852142971,1086792851),w(1017036298,365543100),w(1126000580,2618297676),w(1288033470,3409855158),w(1501505948,4234509866),w(1607167915,987167468),w(1816402316,1246189591)],Ee=[],Ce=0;80>Ce;Ce++)Ee[Ce]=w();oe=oe.SHA512=k.extend({_doReset:function(){this._hash=new Z.init([new T.init(1779033703,4089235720),new T.init(3144134277,2227873595),new T.init(1013904242,4271175723),new T.init(2773480762,1595750129),new T.init(1359893119,2917565137),new T.init(2600822924,725511199),new T.init(528734635,4215389547),new T.init(1541459225,327033209)])},_doProcessBlock:function(Me,je){for(var $e=(qe=this._hash.words)[0],We=qe[1],st=qe[2],mt=qe[3],ht=qe[4],Ie=qe[5],Ge=qe[6],qe=qe[7],Je=$e.high,ut=$e.low,gt=We.high,Bt=We.low,Pt=st.high,cn=st.low,Dt=mt.high,$t=mt.low,Ln=ht.high,Yn=ht.low,Wn=Ie.high,jr=Ie.low,Or=Ge.high,yr=Ge.low,pr=qe.high,vr=qe.low,mr=Je,Br=ut,Ko=gt,Ki=Bt,Xo=Pt,Ga=cn,Es=Dt,$a=$t,Ri=Ln,ti=Yn,Wo=Wn,Ha=jr,As=Or,Is=yr,_o=pr,Hn=vr,Hr=0;80>Hr;Hr++){var qa=Ee[Hr];if(16>Hr)var da=qa.high=0|Me[je+2*Hr],An=qa.low=0|Me[je+2*Hr+1];else{da=((An=(da=Ee[Hr-15]).high)>>>1|(Ni=da.low)<<31)^(An>>>8|Ni<<24)^An>>>7;var Ni=(Ni>>>1|An<<31)^(Ni>>>8|An<<24)^(Ni>>>7|An<<25),Xi=((An=(Xi=Ee[Hr-2]).high)>>>19|(_r=Xi.low)<<13)^(An<<3|_r>>>29)^An>>>6,_r=(_r>>>19|An<<13)^(_r<<3|An>>>29)^(_r>>>6|An<<26),vl=(An=Ee[Hr-7]).high,ka=(Ka=Ee[Hr-16]).high,Ka=Ka.low;da=(da=(da=da+vl+((An=Ni+An.low)>>>0<Ni>>>0?1:0))+Xi+((An+=_r)>>>0<_r>>>0?1:0))+ka+((An+=Ka)>>>0<Ka>>>0?1:0),qa.high=da,qa.low=An}vl=Ri&Wo^~Ri&As,Ka=ti&Ha^~ti&Is,qa=mr&Ko^mr&Xo^Ko&Xo;var _l=Br&Ki^Br&Ga^Ki&Ga,bl=(Ni=(mr>>>28|Br<<4)^(mr<<30|Br>>>2)^(mr<<25|Br>>>7),Xi=(Br>>>28|mr<<4)^(Br<<30|mr>>>2)^(Br<<25|mr>>>7),(_r=ue[Hr]).high),wl=_r.low;ka=_o+((Ri>>>14|ti<<18)^(Ri>>>18|ti<<14)^(Ri<<23|ti>>>9))+((_r=Hn+((ti>>>14|Ri<<18)^(ti>>>18|Ri<<14)^(ti<<23|Ri>>>9)))>>>0<Hn>>>0?1:0),_o=As,Hn=Is,As=Wo,Is=Ha,Wo=Ri,Ha=ti,Ri=Es+(ka=(ka=(ka=ka+vl+((_r+=Ka)>>>0<Ka>>>0?1:0))+bl+((_r+=wl)>>>0<wl>>>0?1:0))+da+((_r+=An)>>>0<An>>>0?1:0))+((ti=$a+_r|0)>>>0<$a>>>0?1:0)|0,Es=Xo,$a=Ga,Xo=Ko,Ga=Ki,Ko=mr,Ki=Br,mr=ka+(qa=Ni+qa+((An=Xi+_l)>>>0<Xi>>>0?1:0))+((Br=_r+An|0)>>>0<_r>>>0?1:0)|0}ut=$e.low=ut+Br,$e.high=Je+mr+(ut>>>0<Br>>>0?1:0),Bt=We.low=Bt+Ki,We.high=gt+Ko+(Bt>>>0<Ki>>>0?1:0),cn=st.low=cn+Ga,st.high=Pt+Xo+(cn>>>0<Ga>>>0?1:0),$t=mt.low=$t+$a,mt.high=Dt+Es+($t>>>0<$a>>>0?1:0),Yn=ht.low=Yn+ti,ht.high=Ln+Ri+(Yn>>>0<ti>>>0?1:0),jr=Ie.low=jr+Ha,Ie.high=Wn+Wo+(jr>>>0<Ha>>>0?1:0),yr=Ge.low=yr+Is,Ge.high=Or+As+(yr>>>0<Is>>>0?1:0),vr=qe.low=vr+Hn,qe.high=pr+_o+(vr>>>0<Hn>>>0?1:0)},_doFinalize:function(){var Me=this._data,je=Me.words,$e=8*this._nDataBytes,We=8*Me.sigBytes;return je[We>>>5]|=128<<24-We%32,je[30+(We+128>>>10<<5)]=Math.floor($e/4294967296),je[31+(We+128>>>10<<5)]=$e,Me.sigBytes=4*je.length,this._process(),this._hash.toX32()},clone:function(){var Me=k.clone.call(this);return Me._hash=this._hash.clone(),Me},blockSize:32}),b.SHA512=k._createHelper(oe),b.HmacSHA512=k._createHmacHelper(oe)}(),function(){var w=L,b=(Z=w.x64).Word,k=Z.WordArray,T=(Z=w.algo).SHA512,Z=Z.SHA384=T.extend({_doReset:function(){this._hash=new k.init([new b.init(3418070365,3238371032),new b.init(1654270250,914150663),new b.init(2438529370,812702999),new b.init(355462360,4144912697),new b.init(1731405415,4290775857),new b.init(2394180231,1750603025),new b.init(3675008525,1694076839),new b.init(1203062813,3204075428)])},_doFinalize:function(){var ue=T._doFinalize.call(this);return ue.sigBytes-=16,ue}});w.SHA384=T._createHelper(Z),w.HmacSHA384=T._createHmacHelper(Z)}();var U,z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function ee(w){var b,k,T="";for(b=0;b+3<=w.length;b+=3)k=parseInt(w.substring(b,b+3),16),T+=z.charAt(k>>6)+z.charAt(63&k);for(b+1==w.length?(k=parseInt(w.substring(b,b+1),16),T+=z.charAt(k<<2)):b+2==w.length&&(k=parseInt(w.substring(b,b+2),16),T+=z.charAt(k>>2)+z.charAt((3&k)<<4));(3&T.length)>0;)T+="=";return T}function ye(w){var b,k,T,Z="",oe=0;for(b=0;b<w.length&&"="!=w.charAt(b);++b)(T=z.indexOf(w.charAt(b)))<0||(0==oe?(Z+=M(T>>2),k=3&T,oe=1):1==oe?(Z+=M(k<<2|T>>4),k=15&T,oe=2):2==oe?(Z+=M(k),Z+=M(T>>2),k=3&T,oe=3):(Z+=M(k<<2|T>>4),Z+=M(15&T),oe=0));return 1==oe&&(Z+=M(k<<2)),Z}function be(w){var b,k=ye(w),T=new Array;for(b=0;2*b<k.length;++b)T[b]=parseInt(k.substring(2*b,2*b+2),16);return T}function pe(w,b,k){null!=w&&("number"==typeof w?this.fromNumber(w,b,k):this.fromString(w,null==b&&"string"!=typeof w?256:b))}function y(){return new pe(null)}"Microsoft Internet Explorer"==F.appName?(pe.prototype.am=function(b,k,T,Z,oe,ue){for(var Ee=32767&k,Ce=k>>15;--ue>=0;){var Re=32767&this[b],Me=this[b++]>>15,je=Ce*Re+Me*Ee;oe=((Re=Ee*Re+((32767&je)<<15)+T[Z]+(1073741823&oe))>>>30)+(je>>>15)+Ce*Me+(oe>>>30),T[Z++]=1073741823&Re}return oe},U=30):"Netscape"!=F.appName?(pe.prototype.am=function(b,k,T,Z,oe,ue){for(;--ue>=0;){var Ee=k*this[b++]+T[Z]+oe;oe=Math.floor(Ee/67108864),T[Z++]=67108863&Ee}return oe},U=26):(pe.prototype.am=function(b,k,T,Z,oe,ue){for(var Ee=16383&k,Ce=k>>14;--ue>=0;){var Re=16383&this[b],Me=this[b++]>>14,je=Ce*Re+Me*Ee;oe=((Re=Ee*Re+((16383&je)<<14)+T[Z]+oe)>>28)+(je>>14)+Ce*Me,T[Z++]=268435455&Re}return oe},U=28),pe.prototype.DB=U,pe.prototype.DM=(1<<U)-1,pe.prototype.DV=1<<U,pe.prototype.FV=Math.pow(2,52),pe.prototype.F1=52-U,pe.prototype.F2=2*U-52;var A,_,E=new Array;for(A="0".charCodeAt(0),_=0;_<=9;++_)E[A++]=_;for(A="a".charCodeAt(0),_=10;_<36;++_)E[A++]=_;for(A="A".charCodeAt(0),_=10;_<36;++_)E[A++]=_;function M(w){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(w)}function I(w,b){return E[w.charCodeAt(b)]??-1}function ne(w){var b=y();return b.fromInt(w),b}function fe(w){var b,k=1;return 0!=(b=w>>>16)&&(w=b,k+=16),0!=(b=w>>8)&&(w=b,k+=8),0!=(b=w>>4)&&(w=b,k+=4),0!=(b=w>>2)&&(w=b,k+=2),0!=(b=w>>1)&&(w=b,k+=1),k}function Ve(w){this.m=w}function ae(w){this.m=w,this.mp=w.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<w.DB-15)-1,this.mt2=2*w.t}function ze(w,b){return w&b}function ot(w,b){return w|b}function Ne(w,b){return w^b}function Ye(w,b){return w&~b}function Ze(w){if(0==w)return-1;var b=0;return 0==(65535&w)&&(w>>=16,b+=16),0==(255&w)&&(w>>=8,b+=8),0==(15&w)&&(w>>=4,b+=4),0==(3&w)&&(w>>=2,b+=2),0==(1&w)&&++b,b}function ft(w){for(var b=0;0!=w;)w&=w-1,++b;return b}function nt(){}function Be(w){return w}function it(w){this.r2=y(),this.q3=y(),pe.ONE.dlShiftTo(2*w.t,this.r2),this.mu=this.r2.divide(w),this.m=w}Ve.prototype.convert=function(b){return b.s<0||b.compareTo(this.m)>=0?b.mod(this.m):b},Ve.prototype.revert=function(b){return b},Ve.prototype.reduce=function(b){b.divRemTo(this.m,null,b)},Ve.prototype.mulTo=function(b,k,T){b.multiplyTo(k,T),this.reduce(T)},Ve.prototype.sqrTo=function(b,k){b.squareTo(k),this.reduce(k)},ae.prototype.convert=function(b){var k=y();return b.abs().dlShiftTo(this.m.t,k),k.divRemTo(this.m,null,k),b.s<0&&k.compareTo(pe.ZERO)>0&&this.m.subTo(k,k),k},ae.prototype.revert=function(b){var k=y();return b.copyTo(k),this.reduce(k),k},ae.prototype.reduce=function(b){for(;b.t<=this.mt2;)b[b.t++]=0;for(var k=0;k<this.m.t;++k){var T=32767&b[k],Z=T*this.mpl+((T*this.mph+(b[k]>>15)*this.mpl&this.um)<<15)&b.DM;for(b[T=k+this.m.t]+=this.m.am(0,Z,b,k,0,this.m.t);b[T]>=b.DV;)b[T]-=b.DV,b[++T]++}b.clamp(),b.drShiftTo(this.m.t,b),b.compareTo(this.m)>=0&&b.subTo(this.m,b)},ae.prototype.mulTo=function(b,k,T){b.multiplyTo(k,T),this.reduce(T)},ae.prototype.sqrTo=function(b,k){b.squareTo(k),this.reduce(k)},pe.prototype.copyTo=function(b){for(var k=this.t-1;k>=0;--k)b[k]=this[k];b.t=this.t,b.s=this.s},pe.prototype.fromInt=function(b){this.t=1,this.s=b<0?-1:0,b>0?this[0]=b:b<-1?this[0]=b+this.DV:this.t=0},pe.prototype.fromString=function(b,k){var T;if(16==k)T=4;else if(8==k)T=3;else if(256==k)T=8;else if(2==k)T=1;else if(32==k)T=5;else{if(4!=k)return void this.fromRadix(b,k);T=2}this.t=0,this.s=0;for(var Z=b.length,oe=!1,ue=0;--Z>=0;){var Ee=8==T?255&b[Z]:I(b,Z);Ee<0?"-"==b.charAt(Z)&&(oe=!0):(oe=!1,0==ue?this[this.t++]=Ee:ue+T>this.DB?(this[this.t-1]|=(Ee&(1<<this.DB-ue)-1)<<ue,this[this.t++]=Ee>>this.DB-ue):this[this.t-1]|=Ee<<ue,(ue+=T)>=this.DB&&(ue-=this.DB))}8==T&&0!=(128&b[0])&&(this.s=-1,ue>0&&(this[this.t-1]|=(1<<this.DB-ue)-1<<ue)),this.clamp(),oe&&pe.ZERO.subTo(this,this)},pe.prototype.clamp=function(){for(var b=this.s&this.DM;this.t>0&&this[this.t-1]==b;)--this.t},pe.prototype.dlShiftTo=function(b,k){var T;for(T=this.t-1;T>=0;--T)k[T+b]=this[T];for(T=b-1;T>=0;--T)k[T]=0;k.t=this.t+b,k.s=this.s},pe.prototype.drShiftTo=function(b,k){for(var T=b;T<this.t;++T)k[T-b]=this[T];k.t=Math.max(this.t-b,0),k.s=this.s},pe.prototype.lShiftTo=function(b,k){var T,Z=b%this.DB,oe=this.DB-Z,ue=(1<<oe)-1,Ee=Math.floor(b/this.DB),Ce=this.s<<Z&this.DM;for(T=this.t-1;T>=0;--T)k[T+Ee+1]=this[T]>>oe|Ce,Ce=(this[T]&ue)<<Z;for(T=Ee-1;T>=0;--T)k[T]=0;k[Ee]=Ce,k.t=this.t+Ee+1,k.s=this.s,k.clamp()},pe.prototype.rShiftTo=function(b,k){k.s=this.s;var T=Math.floor(b/this.DB);if(T>=this.t)k.t=0;else{var Z=b%this.DB,oe=this.DB-Z,ue=(1<<Z)-1;k[0]=this[T]>>Z;for(var Ee=T+1;Ee<this.t;++Ee)k[Ee-T-1]|=(this[Ee]&ue)<<oe,k[Ee-T]=this[Ee]>>Z;Z>0&&(k[this.t-T-1]|=(this.s&ue)<<oe),k.t=this.t-T,k.clamp()}},pe.prototype.subTo=function(b,k){for(var T=0,Z=0,oe=Math.min(b.t,this.t);T<oe;)Z+=this[T]-b[T],k[T++]=Z&this.DM,Z>>=this.DB;if(b.t<this.t){for(Z-=b.s;T<this.t;)Z+=this[T],k[T++]=Z&this.DM,Z>>=this.DB;Z+=this.s}else{for(Z+=this.s;T<b.t;)Z-=b[T],k[T++]=Z&this.DM,Z>>=this.DB;Z-=b.s}k.s=Z<0?-1:0,Z<-1?k[T++]=this.DV+Z:Z>0&&(k[T++]=Z),k.t=T,k.clamp()},pe.prototype.multiplyTo=function(b,k){var T=this.abs(),Z=b.abs(),oe=T.t;for(k.t=oe+Z.t;--oe>=0;)k[oe]=0;for(oe=0;oe<Z.t;++oe)k[oe+T.t]=T.am(0,Z[oe],k,oe,0,T.t);k.s=0,k.clamp(),this.s!=b.s&&pe.ZERO.subTo(k,k)},pe.prototype.squareTo=function(b){for(var k=this.abs(),T=b.t=2*k.t;--T>=0;)b[T]=0;for(T=0;T<k.t-1;++T){var Z=k.am(T,k[T],b,2*T,0,1);(b[T+k.t]+=k.am(T+1,2*k[T],b,2*T+1,Z,k.t-T-1))>=k.DV&&(b[T+k.t]-=k.DV,b[T+k.t+1]=1)}b.t>0&&(b[b.t-1]+=k.am(T,k[T],b,2*T,0,1)),b.s=0,b.clamp()},pe.prototype.divRemTo=function(b,k,T){var Z=b.abs();if(!(Z.t<=0)){var oe=this.abs();if(oe.t<Z.t)return null!=k&&k.fromInt(0),void(null!=T&&this.copyTo(T));null==T&&(T=y());var ue=y(),Ee=this.s,Ce=b.s,Re=this.DB-fe(Z[Z.t-1]);Re>0?(Z.lShiftTo(Re,ue),oe.lShiftTo(Re,T)):(Z.copyTo(ue),oe.copyTo(T));var Me=ue.t,je=ue[Me-1];if(0!=je){var $e=je*(1<<this.F1)+(Me>1?ue[Me-2]>>this.F2:0),We=this.FV/$e,st=(1<<this.F1)/$e,mt=1<<this.F2,ht=T.t,Ie=ht-Me,Ge=k??y();for(ue.dlShiftTo(Ie,Ge),T.compareTo(Ge)>=0&&(T[T.t++]=1,T.subTo(Ge,T)),pe.ONE.dlShiftTo(Me,Ge),Ge.subTo(ue,ue);ue.t<Me;)ue[ue.t++]=0;for(;--Ie>=0;){var qe=T[--ht]==je?this.DM:Math.floor(T[ht]*We+(T[ht-1]+mt)*st);if((T[ht]+=ue.am(0,qe,T,Ie,0,Me))<qe)for(ue.dlShiftTo(Ie,Ge),T.subTo(Ge,T);T[ht]<--qe;)T.subTo(Ge,T)}null!=k&&(T.drShiftTo(Me,k),Ee!=Ce&&pe.ZERO.subTo(k,k)),T.t=Me,T.clamp(),Re>0&&T.rShiftTo(Re,T),Ee<0&&pe.ZERO.subTo(T,T)}}},pe.prototype.invDigit=function(){if(this.t<1)return 0;var b=this[0];if(0==(1&b))return 0;var k=3&b;return(k=(k=(k=(k=k*(2-(15&b)*k)&15)*(2-(255&b)*k)&255)*(2-((65535&b)*k&65535))&65535)*(2-b*k%this.DV)%this.DV)>0?this.DV-k:-k},pe.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},pe.prototype.exp=function(b,k){if(b>4294967295||b<1)return pe.ONE;var T=y(),Z=y(),oe=k.convert(this),ue=fe(b)-1;for(oe.copyTo(T);--ue>=0;)if(k.sqrTo(T,Z),(b&1<<ue)>0)k.mulTo(Z,oe,T);else{var Ee=T;T=Z,Z=Ee}return k.revert(T)},pe.prototype.toString=function(b){if(this.s<0)return"-"+this.negate().toString(b);var k;if(16==b)k=4;else if(8==b)k=3;else if(2==b)k=1;else if(32==b)k=5;else{if(4!=b)return this.toRadix(b);k=2}var T,Z=(1<<k)-1,oe=!1,ue="",Ee=this.t,Ce=this.DB-Ee*this.DB%k;if(Ee-- >0)for(Ce<this.DB&&(T=this[Ee]>>Ce)>0&&(oe=!0,ue=M(T));Ee>=0;)Ce<k?(T=(this[Ee]&(1<<Ce)-1)<<k-Ce,T|=this[--Ee]>>(Ce+=this.DB-k)):(T=this[Ee]>>(Ce-=k)&Z,Ce<=0&&(Ce+=this.DB,--Ee)),T>0&&(oe=!0),oe&&(ue+=M(T));return oe?ue:"0"},pe.prototype.negate=function(){var b=y();return pe.ZERO.subTo(this,b),b},pe.prototype.abs=function(){return this.s<0?this.negate():this},pe.prototype.compareTo=function(b){var k=this.s-b.s;if(0!=k)return k;var T=this.t;if(0!=(k=T-b.t))return this.s<0?-k:k;for(;--T>=0;)if(0!=(k=this[T]-b[T]))return k;return 0},pe.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+fe(this[this.t-1]^this.s&this.DM)},pe.prototype.mod=function(b){var k=y();return this.abs().divRemTo(b,null,k),this.s<0&&k.compareTo(pe.ZERO)>0&&b.subTo(k,k),k},pe.prototype.modPowInt=function(b,k){var T;return T=b<256||k.isEven()?new Ve(k):new ae(k),this.exp(b,T)},pe.ZERO=ne(0),pe.ONE=ne(1),nt.prototype.convert=Be,nt.prototype.revert=Be,nt.prototype.mulTo=function(b,k,T){b.multiplyTo(k,T)},nt.prototype.sqrTo=function(b,k){b.squareTo(k)},it.prototype.convert=function(b){if(b.s<0||b.t>2*this.m.t)return b.mod(this.m);if(b.compareTo(this.m)<0)return b;var k=y();return b.copyTo(k),this.reduce(k),k},it.prototype.revert=function(b){return b},it.prototype.reduce=function(b){for(b.drShiftTo(this.m.t-1,this.r2),b.t>this.m.t+1&&(b.t=this.m.t+1,b.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);b.compareTo(this.r2)<0;)b.dAddOffset(1,this.m.t+1);for(b.subTo(this.r2,b);b.compareTo(this.m)>=0;)b.subTo(this.m,b)},it.prototype.mulTo=function(b,k,T){b.multiplyTo(k,T),this.reduce(T)},it.prototype.sqrTo=function(b,k){b.squareTo(k),this.reduce(k)};var Pe,Le,ce,de=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],te=(1<<26)/de[de.length-1];function se(){this.i=0,this.j=0,this.S=new Array}function ge(){!function(b){Le[ce++]^=255&b,Le[ce++]^=b>>8&255,Le[ce++]^=b>>16&255,Le[ce++]^=b>>24&255,ce>=256&&(ce-=256)}((new Date).getTime())}if(pe.prototype.chunkSize=function(b){return Math.floor(Math.LN2*this.DB/Math.log(b))},pe.prototype.toRadix=function(b){if(null==b&&(b=10),0==this.signum()||b<2||b>36)return"0";var k=this.chunkSize(b),T=Math.pow(b,k),Z=ne(T),oe=y(),ue=y(),Ee="";for(this.divRemTo(Z,oe,ue);oe.signum()>0;)Ee=(T+ue.intValue()).toString(b).substr(1)+Ee,oe.divRemTo(Z,oe,ue);return ue.intValue().toString(b)+Ee},pe.prototype.fromRadix=function(b,k){this.fromInt(0),null==k&&(k=10);for(var T=this.chunkSize(k),Z=Math.pow(k,T),oe=!1,ue=0,Ee=0,Ce=0;Ce<b.length;++Ce){var Re=I(b,Ce);Re<0?"-"==b.charAt(Ce)&&0==this.signum()&&(oe=!0):(Ee=k*Ee+Re,++ue>=T&&(this.dMultiply(Z),this.dAddOffset(Ee,0),ue=0,Ee=0))}ue>0&&(this.dMultiply(Math.pow(k,ue)),this.dAddOffset(Ee,0)),oe&&pe.ZERO.subTo(this,this)},pe.prototype.fromNumber=function(b,k,T){if("number"==typeof k)if(b<2)this.fromInt(1);else for(this.fromNumber(b,T),this.testBit(b-1)||this.bitwiseTo(pe.ONE.shiftLeft(b-1),ot,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(k);)this.dAddOffset(2,0),this.bitLength()>b&&this.subTo(pe.ONE.shiftLeft(b-1),this);else{var Z=new Array,oe=7&b;Z.length=1+(b>>3),k.nextBytes(Z),oe>0?Z[0]&=(1<<oe)-1:Z[0]=0,this.fromString(Z,256)}},pe.prototype.bitwiseTo=function(b,k,T){var Z,oe,ue=Math.min(b.t,this.t);for(Z=0;Z<ue;++Z)T[Z]=k(this[Z],b[Z]);if(b.t<this.t){for(oe=b.s&this.DM,Z=ue;Z<this.t;++Z)T[Z]=k(this[Z],oe);T.t=this.t}else{for(oe=this.s&this.DM,Z=ue;Z<b.t;++Z)T[Z]=k(oe,b[Z]);T.t=b.t}T.s=k(this.s,b.s),T.clamp()},pe.prototype.changeBit=function(b,k){var T=pe.ONE.shiftLeft(b);return this.bitwiseTo(T,k,T),T},pe.prototype.addTo=function(b,k){for(var T=0,Z=0,oe=Math.min(b.t,this.t);T<oe;)Z+=this[T]+b[T],k[T++]=Z&this.DM,Z>>=this.DB;if(b.t<this.t){for(Z+=b.s;T<this.t;)Z+=this[T],k[T++]=Z&this.DM,Z>>=this.DB;Z+=this.s}else{for(Z+=this.s;T<b.t;)Z+=b[T],k[T++]=Z&this.DM,Z>>=this.DB;Z+=b.s}k.s=Z<0?-1:0,Z>0?k[T++]=Z:Z<-1&&(k[T++]=this.DV+Z),k.t=T,k.clamp()},pe.prototype.dMultiply=function(b){this[this.t]=this.am(0,b-1,this,0,0,this.t),++this.t,this.clamp()},pe.prototype.dAddOffset=function(b,k){if(0!=b){for(;this.t<=k;)this[this.t++]=0;for(this[k]+=b;this[k]>=this.DV;)this[k]-=this.DV,++k>=this.t&&(this[this.t++]=0),++this[k]}},pe.prototype.multiplyLowerTo=function(b,k,T){var Z,oe=Math.min(this.t+b.t,k);for(T.s=0,T.t=oe;oe>0;)T[--oe]=0;for(Z=T.t-this.t;oe<Z;++oe)T[oe+this.t]=this.am(0,b[oe],T,oe,0,this.t);for(Z=Math.min(b.t,k);oe<Z;++oe)this.am(0,b[oe],T,oe,0,k-oe);T.clamp()},pe.prototype.multiplyUpperTo=function(b,k,T){--k;var Z=T.t=this.t+b.t-k;for(T.s=0;--Z>=0;)T[Z]=0;for(Z=Math.max(k-this.t,0);Z<b.t;++Z)T[this.t+Z-k]=this.am(k-Z,b[Z],T,0,0,this.t+Z-k);T.clamp(),T.drShiftTo(1,T)},pe.prototype.modInt=function(b){if(b<=0)return 0;var k=this.DV%b,T=this.s<0?b-1:0;if(this.t>0)if(0==k)T=this[0]%b;else for(var Z=this.t-1;Z>=0;--Z)T=(k*T+this[Z])%b;return T},pe.prototype.millerRabin=function(b){var k=this.subtract(pe.ONE),T=k.getLowestSetBit();if(T<=0)return!1;var Z=k.shiftRight(T);(b=b+1>>1)>de.length&&(b=de.length);for(var oe=y(),ue=0;ue<b;++ue){oe.fromInt(de[Math.floor(Math.random()*de.length)]);var Ee=oe.modPow(Z,this);if(0!=Ee.compareTo(pe.ONE)&&0!=Ee.compareTo(k)){for(var Ce=1;Ce++<T&&0!=Ee.compareTo(k);)if(0==(Ee=Ee.modPowInt(2,this)).compareTo(pe.ONE))return!1;if(0!=Ee.compareTo(k))return!1}}return!0},pe.prototype.clone=function(){var b=y();return this.copyTo(b),b},pe.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},pe.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},pe.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},pe.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},pe.prototype.toByteArray=function(){var b=this.t,k=new Array;k[0]=this.s;var T,Z=this.DB-b*this.DB%8,oe=0;if(b-- >0)for(Z<this.DB&&(T=this[b]>>Z)!=(this.s&this.DM)>>Z&&(k[oe++]=T|this.s<<this.DB-Z);b>=0;)Z<8?(T=(this[b]&(1<<Z)-1)<<8-Z,T|=this[--b]>>(Z+=this.DB-8)):(T=this[b]>>(Z-=8)&255,Z<=0&&(Z+=this.DB,--b)),0!=(128&T)&&(T|=-256),0==oe&&(128&this.s)!=(128&T)&&++oe,(oe>0||T!=this.s)&&(k[oe++]=T);return k},pe.prototype.equals=function(b){return 0==this.compareTo(b)},pe.prototype.min=function(b){return this.compareTo(b)<0?this:b},pe.prototype.max=function(b){return this.compareTo(b)>0?this:b},pe.prototype.and=function(b){var k=y();return this.bitwiseTo(b,ze,k),k},pe.prototype.or=function(b){var k=y();return this.bitwiseTo(b,ot,k),k},pe.prototype.xor=function(b){var k=y();return this.bitwiseTo(b,Ne,k),k},pe.prototype.andNot=function(b){var k=y();return this.bitwiseTo(b,Ye,k),k},pe.prototype.not=function(){for(var b=y(),k=0;k<this.t;++k)b[k]=this.DM&~this[k];return b.t=this.t,b.s=~this.s,b},pe.prototype.shiftLeft=function(b){var k=y();return b<0?this.rShiftTo(-b,k):this.lShiftTo(b,k),k},pe.prototype.shiftRight=function(b){var k=y();return b<0?this.lShiftTo(-b,k):this.rShiftTo(b,k),k},pe.prototype.getLowestSetBit=function(){for(var b=0;b<this.t;++b)if(0!=this[b])return b*this.DB+Ze(this[b]);return this.s<0?this.t*this.DB:-1},pe.prototype.bitCount=function(){for(var b=0,k=this.s&this.DM,T=0;T<this.t;++T)b+=ft(this[T]^k);return b},pe.prototype.testBit=function(b){var k=Math.floor(b/this.DB);return k>=this.t?0!=this.s:0!=(this[k]&1<<b%this.DB)},pe.prototype.setBit=function(b){return this.changeBit(b,ot)},pe.prototype.clearBit=function(b){return this.changeBit(b,Ye)},pe.prototype.flipBit=function(b){return this.changeBit(b,Ne)},pe.prototype.add=function(b){var k=y();return this.addTo(b,k),k},pe.prototype.subtract=function(b){var k=y();return this.subTo(b,k),k},pe.prototype.multiply=function(b){var k=y();return this.multiplyTo(b,k),k},pe.prototype.divide=function(b){var k=y();return this.divRemTo(b,k,null),k},pe.prototype.remainder=function(b){var k=y();return this.divRemTo(b,null,k),k},pe.prototype.divideAndRemainder=function(b){var k=y(),T=y();return this.divRemTo(b,k,T),new Array(k,T)},pe.prototype.modPow=function(b,k){var T,Z,oe=b.bitLength(),ue=ne(1);if(oe<=0)return ue;T=oe<18?1:oe<48?3:oe<144?4:oe<768?5:6,Z=oe<8?new Ve(k):k.isEven()?new it(k):new ae(k);var Ee=new Array,Ce=3,Re=T-1,Me=(1<<T)-1;if(Ee[1]=Z.convert(this),T>1){var je=y();for(Z.sqrTo(Ee[1],je);Ce<=Me;)Ee[Ce]=y(),Z.mulTo(je,Ee[Ce-2],Ee[Ce]),Ce+=2}var $e,We,st=b.t-1,mt=!0,ht=y();for(oe=fe(b[st])-1;st>=0;){for(oe>=Re?$e=b[st]>>oe-Re&Me:($e=(b[st]&(1<<oe+1)-1)<<Re-oe,st>0&&($e|=b[st-1]>>this.DB+oe-Re)),Ce=T;0==(1&$e);)$e>>=1,--Ce;if((oe-=Ce)<0&&(oe+=this.DB,--st),mt)Ee[$e].copyTo(ue),mt=!1;else{for(;Ce>1;)Z.sqrTo(ue,ht),Z.sqrTo(ht,ue),Ce-=2;Ce>0?Z.sqrTo(ue,ht):(We=ue,ue=ht,ht=We),Z.mulTo(ht,Ee[$e],ue)}for(;st>=0&&0==(b[st]&1<<oe);)Z.sqrTo(ue,ht),We=ue,ue=ht,ht=We,--oe<0&&(oe=this.DB-1,--st)}return Z.revert(ue)},pe.prototype.modInverse=function(b){var k=b.isEven();if(this.isEven()&&k||0==b.signum())return pe.ZERO;for(var T=b.clone(),Z=this.clone(),oe=ne(1),ue=ne(0),Ee=ne(0),Ce=ne(1);0!=T.signum();){for(;T.isEven();)T.rShiftTo(1,T),k?(oe.isEven()&&ue.isEven()||(oe.addTo(this,oe),ue.subTo(b,ue)),oe.rShiftTo(1,oe)):ue.isEven()||ue.subTo(b,ue),ue.rShiftTo(1,ue);for(;Z.isEven();)Z.rShiftTo(1,Z),k?(Ee.isEven()&&Ce.isEven()||(Ee.addTo(this,Ee),Ce.subTo(b,Ce)),Ee.rShiftTo(1,Ee)):Ce.isEven()||Ce.subTo(b,Ce),Ce.rShiftTo(1,Ce);T.compareTo(Z)>=0?(T.subTo(Z,T),k&&oe.subTo(Ee,oe),ue.subTo(Ce,ue)):(Z.subTo(T,Z),k&&Ee.subTo(oe,Ee),Ce.subTo(ue,Ce))}return 0!=Z.compareTo(pe.ONE)?pe.ZERO:Ce.compareTo(b)>=0?Ce.subtract(b):Ce.signum()<0?(Ce.addTo(b,Ce),Ce.signum()<0?Ce.add(b):Ce):Ce},pe.prototype.pow=function(b){return this.exp(b,new nt)},pe.prototype.gcd=function(b){var k=this.s<0?this.negate():this.clone(),T=b.s<0?b.negate():b.clone();if(k.compareTo(T)<0){var Z=k;k=T,T=Z}var oe=k.getLowestSetBit(),ue=T.getLowestSetBit();if(ue<0)return k;for(oe<ue&&(ue=oe),ue>0&&(k.rShiftTo(ue,k),T.rShiftTo(ue,T));k.signum()>0;)(oe=k.getLowestSetBit())>0&&k.rShiftTo(oe,k),(oe=T.getLowestSetBit())>0&&T.rShiftTo(oe,T),k.compareTo(T)>=0?(k.subTo(T,k),k.rShiftTo(1,k)):(T.subTo(k,T),T.rShiftTo(1,T));return ue>0&&T.lShiftTo(ue,T),T},pe.prototype.isProbablePrime=function(b){var k,T=this.abs();if(1==T.t&&T[0]<=de[de.length-1]){for(k=0;k<de.length;++k)if(T[0]==de[k])return!0;return!1}if(T.isEven())return!1;for(k=1;k<de.length;){for(var Z=de[k],oe=k+1;oe<de.length&&Z<te;)Z*=de[oe++];for(Z=T.modInt(Z);k<oe;)if(Z%de[k++]==0)return!1}return T.millerRabin(b)},pe.prototype.square=function(){var b=y();return this.squareTo(b),b},se.prototype.init=function(b){var k,T,Z;for(k=0;k<256;++k)this.S[k]=k;for(T=0,k=0;k<256;++k)Z=this.S[k],this.S[k]=this.S[T=T+this.S[k]+b[k%b.length]&255],this.S[T]=Z;this.i=0,this.j=0},se.prototype.next=function(){var b;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,b=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=b,this.S[b+this.S[this.i]&255]},null==Le){var rt;if(Le=new Array,ce=0,void 0!==j&&(void 0!==j.crypto||void 0!==j.msCrypto)){var _e=j.crypto||j.msCrypto;if(_e.getRandomValues){var X=new Uint8Array(32);for(_e.getRandomValues(X),rt=0;rt<32;++rt)Le[ce++]=X[rt]}else if("Netscape"==F.appName&&F.appVersion<"5"){var V=j.crypto.random(32);for(rt=0;rt<V.length;++rt)Le[ce++]=255&V.charCodeAt(rt)}}for(;ce<256;)rt=Math.floor(65536*Math.random()),Le[ce++]=rt>>>8,Le[ce++]=255&rt;ce=0,ge()}function Q(){if(null==Pe){for(ge(),(Pe=new se).init(Le),ce=0;ce<Le.length;++ce)Le[ce]=0;ce=0}return Pe.next()}function me(){}function Fe(w,b){return new pe(w,b)}function He(w,b,k){for(var T="",Z=0;T.length<b;)T+=k(String.fromCharCode.apply(String,w.concat([(4278190080&Z)>>24,(16711680&Z)>>16,(65280&Z)>>8,255&Z]))),Z+=1;return T}function et(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function vt(w,b){this.x=b,this.q=w}function xt(w,b,k,T){this.curve=w,this.x=b,this.y=k,this.z=T??pe.ONE,this.zinv=null}function kt(w,b,k){this.q=w,this.a=this.fromBigInteger(b),this.b=this.fromBigInteger(k),this.infinity=new xt(this,null,null)}me.prototype.nextBytes=function(b){var k;for(k=0;k<b.length;++k)b[k]=Q()},et.prototype.doPublic=function(b){return b.modPowInt(this.e,this.n)},et.prototype.setPublic=function(b,k){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof b)this.n=b,this.e=k;else{if(!(null!=b&&null!=k&&b.length>0&&k.length>0))throw"Invalid RSA public key";this.n=Fe(b,16),this.e=parseInt(k,16)}},et.prototype.encrypt=function(b){var k=function(ue,Ee){if(Ee<ue.length+11)throw"Message too long for RSA";for(var Ce=new Array,Re=ue.length-1;Re>=0&&Ee>0;){var Me=ue.charCodeAt(Re--);Me<128?Ce[--Ee]=Me:Me>127&&Me<2048?(Ce[--Ee]=63&Me|128,Ce[--Ee]=Me>>6|192):(Ce[--Ee]=63&Me|128,Ce[--Ee]=Me>>6&63|128,Ce[--Ee]=Me>>12|224)}Ce[--Ee]=0;for(var je=new me,$e=new Array;Ee>2;){for($e[0]=0;0==$e[0];)je.nextBytes($e);Ce[--Ee]=$e[0]}return Ce[--Ee]=2,Ce[--Ee]=0,new pe(Ce)}(b,this.n.bitLength()+7>>3);if(null==k)return null;var T=this.doPublic(k);if(null==T)return null;var Z=T.toString(16);return 0==(1&Z.length)?Z:"0"+Z},et.prototype.encryptOAEP=function(b,k,T){var Z=function(Ce,Re,Me,je){var $e=xe.crypto.MessageDigest,We=xe.crypto.Util,st=null;if(Me||(Me="sha1"),"string"==typeof Me&&(st=$e.getCanonicalAlgName(Me),je=$e.getHashLength(st),Me=function(Pt){return Gn(We.hashHex(gr(Pt),st))}),Ce.length+2*je+2>Re)throw"Message too long for RSA";var mt,ht="";for(mt=0;mt<Re-Ce.length-2*je-2;mt+=1)ht+="\0";var Ie=Me("")+ht+"\x01"+Ce,Ge=new Array(je);(new me).nextBytes(Ge);var qe=He(Ge,Ie.length,Me),Je=[];for(mt=0;mt<Ie.length;mt+=1)Je[mt]=Ie.charCodeAt(mt)^qe.charCodeAt(mt);var ut=He(Je,Ge.length,Me),gt=[0];for(mt=0;mt<Ge.length;mt+=1)gt[mt+1]=Ge[mt]^ut.charCodeAt(mt);return new pe(gt.concat(Je))}(b,this.n.bitLength()+7>>3,k,T);if(null==Z)return null;var oe=this.doPublic(Z);if(null==oe)return null;var ue=oe.toString(16);return 0==(1&ue.length)?ue:"0"+ue},et.prototype.type="RSA",vt.prototype.equals=function(b){return b==this||this.q.equals(b.q)&&this.x.equals(b.x)},vt.prototype.toBigInteger=function(){return this.x},vt.prototype.negate=function(){return new vt(this.q,this.x.negate().mod(this.q))},vt.prototype.add=function(b){return new vt(this.q,this.x.add(b.toBigInteger()).mod(this.q))},vt.prototype.subtract=function(b){return new vt(this.q,this.x.subtract(b.toBigInteger()).mod(this.q))},vt.prototype.multiply=function(b){return new vt(this.q,this.x.multiply(b.toBigInteger()).mod(this.q))},vt.prototype.square=function(){return new vt(this.q,this.x.square().mod(this.q))},vt.prototype.divide=function(b){return new vt(this.q,this.x.multiply(b.toBigInteger().modInverse(this.q)).mod(this.q))},xt.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},xt.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},xt.prototype.equals=function(b){return b==this||(this.isInfinity()?b.isInfinity():b.isInfinity()?this.isInfinity():!!b.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(b.z)).mod(this.curve.q).equals(pe.ZERO)&&b.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(b.z)).mod(this.curve.q).equals(pe.ZERO))},xt.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(pe.ZERO)&&!this.y.toBigInteger().equals(pe.ZERO)},xt.prototype.negate=function(){return new xt(this.curve,this.x,this.y.negate(),this.z)},xt.prototype.add=function(b){if(this.isInfinity())return b;if(b.isInfinity())return this;var k=b.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(b.z)).mod(this.curve.q),T=b.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(b.z)).mod(this.curve.q);if(pe.ZERO.equals(T))return pe.ZERO.equals(k)?this.twice():this.curve.getInfinity();var Z=new pe("3"),oe=this.x.toBigInteger(),ue=this.y.toBigInteger(),Ee=(b.x.toBigInteger(),b.y.toBigInteger(),T.square()),Ce=Ee.multiply(T),Re=oe.multiply(Ee),Me=k.square().multiply(this.z),je=Me.subtract(Re.shiftLeft(1)).multiply(b.z).subtract(Ce).multiply(T).mod(this.curve.q),$e=Re.multiply(Z).multiply(k).subtract(ue.multiply(Ce)).subtract(Me.multiply(k)).multiply(b.z).add(k.multiply(Ce)).mod(this.curve.q),We=Ce.multiply(this.z).multiply(b.z).mod(this.curve.q);return new xt(this.curve,this.curve.fromBigInteger(je),this.curve.fromBigInteger($e),We)},xt.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var b=new pe("3"),k=this.x.toBigInteger(),T=this.y.toBigInteger(),Z=T.multiply(this.z),oe=Z.multiply(T).mod(this.curve.q),ue=this.curve.a.toBigInteger(),Ee=k.square().multiply(b);pe.ZERO.equals(ue)||(Ee=Ee.add(this.z.square().multiply(ue)));var Ce=(Ee=Ee.mod(this.curve.q)).square().subtract(k.shiftLeft(3).multiply(oe)).shiftLeft(1).multiply(Z).mod(this.curve.q),Re=Ee.multiply(b).multiply(k).subtract(oe.shiftLeft(1)).shiftLeft(2).multiply(oe).subtract(Ee.square().multiply(Ee)).mod(this.curve.q),Me=Z.square().multiply(Z).shiftLeft(3).mod(this.curve.q);return new xt(this.curve,this.curve.fromBigInteger(Ce),this.curve.fromBigInteger(Re),Me)},xt.prototype.multiply=function(b){if(this.isInfinity())return this;if(0==b.signum())return this.curve.getInfinity();var k,T=b,Z=T.multiply(new pe("3")),oe=this.negate(),ue=this,Ee=this.curve.q.subtract(b),Ce=Ee.multiply(new pe("3")),Re=new xt(this.curve,this.x,this.y),Me=Re.negate();for(k=Z.bitLength()-2;k>0;--k){ue=ue.twice();var je=Z.testBit(k);je!=T.testBit(k)&&(ue=ue.add(je?this:oe))}for(k=Ce.bitLength()-2;k>0;--k){Re=Re.twice();var $e=Ce.testBit(k);$e!=Ee.testBit(k)&&(Re=Re.add($e?Re:Me))}return ue},xt.prototype.multiplyTwo=function(b,k,T){var Z;Z=b.bitLength()>T.bitLength()?b.bitLength()-1:T.bitLength()-1;for(var oe=this.curve.getInfinity(),ue=this.add(k);Z>=0;)oe=oe.twice(),b.testBit(Z)?oe=T.testBit(Z)?oe.add(ue):oe.add(this):T.testBit(Z)&&(oe=oe.add(k)),--Z;return oe},kt.prototype.getQ=function(){return this.q},kt.prototype.getA=function(){return this.a},kt.prototype.getB=function(){return this.b},kt.prototype.equals=function(b){return b==this||this.q.equals(b.q)&&this.a.equals(b.a)&&this.b.equals(b.b)},kt.prototype.getInfinity=function(){return this.infinity},kt.prototype.fromBigInteger=function(b){return new vt(this.q,b)},kt.prototype.decodePointHex=function(b){switch(parseInt(b.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:default:return null;case 4:case 6:case 7:var k=(b.length-2)/2,T=b.substr(2,k),Z=b.substr(k+2,k);return new xt(this,this.fromBigInteger(new pe(T,16)),this.fromBigInteger(new pe(Z,16)))}},vt.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},xt.prototype.getEncoded=function(w){var b=function(ue,Ee){var Ce=ue.toByteArrayUnsigned();if(Ee<Ce.length)Ce=Ce.slice(Ce.length-Ee);else for(;Ee>Ce.length;)Ce.unshift(0);return Ce},k=this.getX().toBigInteger(),T=this.getY().toBigInteger(),Z=b(k,32);return w?T.isEven()?Z.unshift(2):Z.unshift(3):(Z.unshift(4),Z=Z.concat(b(T,32))),Z},xt.decodeFrom=function(w,b){var k=b.length-1,T=b.slice(1,1+k/2),Z=b.slice(1+k/2,1+k);T.unshift(0),Z.unshift(0);var oe=new pe(T),ue=new pe(Z);return new xt(w,w.fromBigInteger(oe),w.fromBigInteger(ue))},xt.decodeFromHex=function(w,b){b.substr(0,2);var k=b.length-2,T=b.substr(2,k/2),Z=b.substr(2+k/2,k/2),oe=new pe(T,16),ue=new pe(Z,16);return new xt(w,w.fromBigInteger(oe),w.fromBigInteger(ue))},xt.prototype.add2D=function(w){if(this.isInfinity())return w;if(w.isInfinity())return this;if(this.x.equals(w.x))return this.y.equals(w.y)?this.twice():this.curve.getInfinity();var b=w.x.subtract(this.x),k=w.y.subtract(this.y).divide(b),T=k.square().subtract(this.x).subtract(w.x),Z=k.multiply(this.x.subtract(T)).subtract(this.y);return new xt(this.curve,T,Z)},xt.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var w=this.curve.fromBigInteger(pe.valueOf(2)),b=this.curve.fromBigInteger(pe.valueOf(3)),k=this.x.square().multiply(b).add(this.curve.a).divide(this.y.multiply(w)),T=k.square().subtract(this.x.multiply(w)),Z=k.multiply(this.x.subtract(T)).subtract(this.y);return new xt(this.curve,T,Z)},xt.prototype.multiply2D=function(w){if(this.isInfinity())return this;if(0==w.signum())return this.curve.getInfinity();var b,k=w,T=k.multiply(new pe("3")),Z=this.negate(),oe=this;for(b=T.bitLength()-2;b>0;--b){oe=oe.twice();var ue=T.testBit(b);ue!=k.testBit(b)&&(oe=oe.add2D(ue?this:Z))}return oe},xt.prototype.isOnCurve=function(){var w=this.getX().toBigInteger(),b=this.getY().toBigInteger(),k=this.curve.getA().toBigInteger(),T=this.curve.getB().toBigInteger(),Z=this.curve.getQ(),oe=b.multiply(b).mod(Z),ue=w.multiply(w).multiply(w).add(k.multiply(w)).add(T).mod(Z);return oe.equals(ue)},xt.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},xt.prototype.validate=function(){var w=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var b=this.getX().toBigInteger(),k=this.getY().toBigInteger();if(b.compareTo(pe.ONE)<0||b.compareTo(w.subtract(pe.ONE))>0)throw new Error("x coordinate out of bounds");if(k.compareTo(pe.ONE)<0||k.compareTo(w.subtract(pe.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(w).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var Jt=function(){var w=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),b=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),k={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function T(ue,Ee,Ce){return Ee?k[Ee]:String.fromCharCode(parseInt(Ce,16))}var Z=new String(""),oe=Object.hasOwnProperty;return function(ue,Ee){var Ce,Re,Me=ue.match(w),je=Me[0],$e=!1;"{"===je?Ce={}:"["===je?Ce=[]:(Ce=[],$e=!0);for(var We=[Ce],st=1-$e,mt=Me.length;st<mt;++st){var ht;switch((je=Me[st]).charCodeAt(0)){default:(ht=We[0])[Re||ht.length]=+je,Re=void 0;break;case 34:if(-1!==(je=je.substring(1,je.length-1)).indexOf("\\")&&(je=je.replace(b,T)),ht=We[0],!Re){if(!(ht instanceof Array)){Re=je||Z;break}Re=ht.length}ht[Re]=je,Re=void 0;break;case 91:We.unshift((ht=We[0])[Re||ht.length]=[]),Re=void 0;break;case 93:case 125:We.shift();break;case 102:(ht=We[0])[Re||ht.length]=!1,Re=void 0;break;case 110:(ht=We[0])[Re||ht.length]=null,Re=void 0;break;case 116:(ht=We[0])[Re||ht.length]=!0,Re=void 0;break;case 123:We.unshift((ht=We[0])[Re||ht.length]={}),Re=void 0}}if($e){if(1!==We.length)throw new Error;Ce=Ce[0]}else if(We.length)throw new Error;return Ee&&(Ce=function Ie(Ge,qe){var Je=Ge[qe];if(Je&&"object"===(void 0===Je?"undefined":x(Je))){var ut=null;for(var gt in Je)if(oe.call(Je,gt)&&Je!==Ge){var Bt=Ie(Je,gt);void 0!==Bt?Je[gt]=Bt:(ut||(ut=[]),ut.push(gt))}if(ut)for(var Pt=ut.length;--Pt>=0;)delete Je[ut[Pt]]}return Ee.call(Ge,qe,Je)}({"":Ce},"")),Ce}}();void 0!==xe&&xe||(S.KJUR=xe={}),void 0!==xe.asn1&&xe.asn1||(xe.asn1={}),xe.asn1.ASN1Util=new function(){this.integerToByteHex=function(w){var b=w.toString(16);return b.length%2==1&&(b="0"+b),b},this.bigIntToMinTwosComplementsHex=function(w){var b=w.toString(16);if("-"!=b.substr(0,1))b.length%2==1?b="0"+b:b.match(/^[0-7]/)||(b="00"+b);else{var k=b.substr(1).length;k%2==1?k+=1:b.match(/^[0-7]/)||(k+=2);for(var T="",Z=0;Z<k;Z++)T+="f";b=new pe(T,16).xor(w).add(pe.ONE).toString(16).replace(/^-/,"")}return b},this.getPEMStringFromHex=function(w,b){return fr(w,b)},this.newObject=function(w){var b=xe.asn1,k=b.ASN1Object,T=b.DERBoolean,Z=b.DERInteger,oe=b.DERBitString,ue=b.DEROctetString,Ee=b.DERNull,Ce=b.DERObjectIdentifier,Re=b.DEREnumerated,Me=b.DERUTF8String,je=b.DERNumericString,$e=b.DERPrintableString,We=b.DERTeletexString,st=b.DERIA5String,mt=b.DERUTCTime,ht=b.DERGeneralizedTime,Ie=b.DERVisibleString,Ge=b.DERBMPString,qe=b.DERSequence,Je=b.DERSet,ut=b.DERTaggedObject,gt=b.ASN1Util.newObject;if(w instanceof b.ASN1Object)return w;var Bt=Object.keys(w);if(1!=Bt.length)throw new Error("key of param shall be only one.");var Pt=Bt[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+Pt+":"))throw new Error("undefined key: "+Pt);if("bool"==Pt)return new T(w[Pt]);if("int"==Pt)return new Z(w[Pt]);if("bitstr"==Pt)return new oe(w[Pt]);if("octstr"==Pt)return new ue(w[Pt]);if("null"==Pt)return new Ee(w[Pt]);if("oid"==Pt)return new Ce(w[Pt]);if("enum"==Pt)return new Re(w[Pt]);if("utf8str"==Pt)return new Me(w[Pt]);if("numstr"==Pt)return new je(w[Pt]);if("prnstr"==Pt)return new $e(w[Pt]);if("telstr"==Pt)return new We(w[Pt]);if("ia5str"==Pt)return new st(w[Pt]);if("utctime"==Pt)return new mt(w[Pt]);if("gentime"==Pt)return new ht(w[Pt]);if("visstr"==Pt)return new Ie(w[Pt]);if("bmpstr"==Pt)return new Ge(w[Pt]);if("asn1"==Pt)return new k(w[Pt]);if("seq"==Pt){for(var cn=w[Pt],Dt=[],$t=0;$t<cn.length;$t++){var Ln=gt(cn[$t]);Dt.push(Ln)}return new qe({array:Dt})}if("set"==Pt){for(cn=w[Pt],Dt=[],$t=0;$t<cn.length;$t++)Ln=gt(cn[$t]),Dt.push(Ln);return new Je({array:Dt})}if("tag"==Pt){var Yn=w[Pt];if("[object Array]"===Object.prototype.toString.call(Yn)&&3==Yn.length){var Wn=gt(Yn[2]);return new ut({tag:Yn[0],explicit:Yn[1],obj:Wn})}return new ut(Yn)}},this.jsonToASN1HEX=function(w){return this.newObject(w).getEncodedHex()}},xe.asn1.ASN1Util.oidHexToInt=function(w){for(var b="",k=parseInt(w.substr(0,2),16),T=(b=Math.floor(k/40)+"."+k%40,""),Z=2;Z<w.length;Z+=2){var oe=("00000000"+parseInt(w.substr(Z,2),16).toString(2)).slice(-8);T+=oe.substr(1,7),"0"==oe.substr(0,1)&&(b=b+"."+new pe(T,2).toString(10),T="")}return b},xe.asn1.ASN1Util.oidIntToHex=function(w){var b=function(Ce){var Re=Ce.toString(16);return 1==Re.length&&(Re="0"+Re),Re},k=function(Ce){var Re="",Me=new pe(Ce,10).toString(2),je=7-Me.length%7;7==je&&(je=0);for(var $e="",We=0;We<je;We++)$e+="0";for(Me=$e+Me,We=0;We<Me.length-1;We+=7){var st=Me.substr(We,7);We!=Me.length-7&&(st="1"+st),Re+=b(parseInt(st,2))}return Re};if(!w.match(/^[0-9.]+$/))throw"malformed oid string: "+w;var T="",Z=w.split("."),oe=40*parseInt(Z[0])+parseInt(Z[1]);T+=b(oe),Z.splice(0,2);for(var ue=0;ue<Z.length;ue++)T+=k(Z[ue]);return T},xe.asn1.ASN1Object=function(w){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+"".length+",v="+this.hV);var b=this.hV.length/2,k=b.toString(16);if(k.length%2==1&&(k="0"+k),b<128)return k;var T=k.length/2;if(T>15)throw"ASN.1 length too long to represent by 8x: n = "+b.toString(16);return(128+T).toString(16)+k},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(b){this.params=b},null!=w&&null!=w.tlv&&(this.hTLV=w.tlv,this.isModified=!1)},xe.asn1.DERAbstractString=function(w){xe.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(b){this.hTLV=null,this.isModified=!0,this.s=b,this.hV=Pr(this.s).toLowerCase()},this.setStringHex=function(b){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=b},this.getFreshValueHex=function(){return this.hV},void 0!==w&&("string"==typeof w?this.setString(w):void 0!==w.str?this.setString(w.str):void 0!==w.hex&&this.setStringHex(w.hex))},d.lang.extend(xe.asn1.DERAbstractString,xe.asn1.ASN1Object),xe.asn1.DERAbstractTime=function(w){xe.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(b){var k=b.getTime()+6e4*b.getTimezoneOffset();return new Date(k)},this.formatDate=function(b,k,T){var Z=this.zeroPadding,oe=this.localDateToUTC(b),ue=String(oe.getFullYear());"utc"==k&&(ue=ue.substr(2,2));var Ee=ue+Z(String(oe.getMonth()+1),2)+Z(String(oe.getDate()),2)+Z(String(oe.getHours()),2)+Z(String(oe.getMinutes()),2)+Z(String(oe.getSeconds()),2);if(!0===T){var Ce=oe.getMilliseconds();if(0!=Ce){var Re=Z(String(Ce),3);Ee=Ee+"."+(Re=Re.replace(/[0]+$/,""))}}return Ee+"Z"},this.zeroPadding=function(b,k){return b.length>=k?b:new Array(k-b.length+1).join("0")+b},this.getString=function(){return this.s},this.setString=function(b){this.hTLV=null,this.isModified=!0,this.s=b,this.hV=on(b)},this.setByDateValue=function(b,k,T,Z,oe,ue){var Ee=new Date(Date.UTC(b,k-1,T,Z,oe,ue,0));this.setByDate(Ee)},this.getFreshValueHex=function(){return this.hV}},d.lang.extend(xe.asn1.DERAbstractTime,xe.asn1.ASN1Object),xe.asn1.DERAbstractStructured=function(w){xe.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(b){this.hTLV=null,this.isModified=!0,this.asn1Array=b},this.appendASN1Object=function(b){this.hTLV=null,this.isModified=!0,this.asn1Array.push(b)},this.asn1Array=new Array,void 0!==w&&void 0!==w.array&&(this.asn1Array=w.array)},d.lang.extend(xe.asn1.DERAbstractStructured,xe.asn1.ASN1Object),xe.asn1.DERBoolean=function(w){xe.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==w?"010100":"0101ff"},d.lang.extend(xe.asn1.DERBoolean,xe.asn1.ASN1Object),xe.asn1.DERInteger=function(w){xe.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(b){this.hTLV=null,this.isModified=!0,this.hV=xe.asn1.ASN1Util.bigIntToMinTwosComplementsHex(b)},this.setByInteger=function(b){var k=new pe(String(b),10);this.setByBigInteger(k)},this.setValueHex=function(b){this.hV=b},this.getFreshValueHex=function(){return this.hV},void 0!==w&&(void 0!==w.bigint?this.setByBigInteger(w.bigint):void 0!==w.int?this.setByInteger(w.int):"number"==typeof w?this.setByInteger(w):void 0!==w.hex&&this.setValueHex(w.hex))},d.lang.extend(xe.asn1.DERInteger,xe.asn1.ASN1Object),xe.asn1.DERBitString=function(w){if(void 0!==w&&void 0!==w.obj){var b=xe.asn1.ASN1Util.newObject(w.obj);w.hex="00"+b.getEncodedHex()}xe.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(k){this.hTLV=null,this.isModified=!0,this.hV=k},this.setUnusedBitsAndHexValue=function(k,T){if(k<0||7<k)throw"unused bits shall be from 0 to 7: u = "+k;var Z="0"+k;this.hTLV=null,this.isModified=!0,this.hV=Z+T},this.setByBinaryString=function(k){var T=8-(k=k.replace(/0+$/,"")).length%8;8==T&&(T=0);for(var Z=0;Z<=T;Z++)k+="0";var oe="";for(Z=0;Z<k.length-1;Z+=8){var ue=k.substr(Z,8),Ee=parseInt(ue,2).toString(16);1==Ee.length&&(Ee="0"+Ee),oe+=Ee}this.hTLV=null,this.isModified=!0,this.hV="0"+T+oe},this.setByBooleanArray=function(k){for(var T="",Z=0;Z<k.length;Z++)T+=1==k[Z]?"1":"0";this.setByBinaryString(T)},this.newFalseArray=function(k){for(var T=new Array(k),Z=0;Z<k;Z++)T[Z]=!1;return T},this.getFreshValueHex=function(){return this.hV},void 0!==w&&("string"==typeof w&&w.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(w):void 0!==w.hex?this.setHexValueIncludingUnusedBits(w.hex):void 0!==w.bin?this.setByBinaryString(w.bin):void 0!==w.array&&this.setByBooleanArray(w.array))},d.lang.extend(xe.asn1.DERBitString,xe.asn1.ASN1Object),xe.asn1.DEROctetString=function(w){if(void 0!==w&&void 0!==w.obj){var b=xe.asn1.ASN1Util.newObject(w.obj);w.hex=b.getEncodedHex()}xe.asn1.DEROctetString.superclass.constructor.call(this,w),this.hT="04"},d.lang.extend(xe.asn1.DEROctetString,xe.asn1.DERAbstractString),xe.asn1.DERNull=function(){xe.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},d.lang.extend(xe.asn1.DERNull,xe.asn1.ASN1Object),xe.asn1.DERObjectIdentifier=function(w){xe.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(b){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=b},this.setValueOidString=function(b){var k=function(Z){var oe=function($e){var We=$e.toString(16);return 1==We.length&&(We="0"+We),We},ue=function($e){var We="",st=parseInt($e,10).toString(2),mt=7-st.length%7;7==mt&&(mt=0);for(var ht="",Ie=0;Ie<mt;Ie++)ht+="0";for(st=ht+st,Ie=0;Ie<st.length-1;Ie+=7){var Ge=st.substr(Ie,7);Ie!=st.length-7&&(Ge="1"+Ge),We+=oe(parseInt(Ge,2))}return We};try{if(!Z.match(/^[0-9.]+$/))return null;var Ee="",Ce=Z.split("."),Re=40*parseInt(Ce[0],10)+parseInt(Ce[1],10);Ee+=oe(Re),Ce.splice(0,2);for(var Me=0;Me<Ce.length;Me++)Ee+=ue(Ce[Me]);return Ee}catch{return null}}(b);if(null==k)throw new Error("malformed oid string: "+b);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=k},this.setValueName=function(b){var k=xe.asn1.x509.OID.name2oid(b);if(""===k)throw new Error("DERObjectIdentifier oidName undefined: "+b);this.setValueOidString(k)},this.setValueNameOrOid=function(b){b.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(b):this.setValueName(b)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(b){"string"==typeof b?this.setValueNameOrOid(b):void 0!==b.oid?this.setValueNameOrOid(b.oid):void 0!==b.name?this.setValueNameOrOid(b.name):void 0!==b.hex&&this.setValueHex(b.hex)},void 0!==w&&this.setByParam(w)},d.lang.extend(xe.asn1.DERObjectIdentifier,xe.asn1.ASN1Object),xe.asn1.DEREnumerated=function(w){xe.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(b){this.hTLV=null,this.isModified=!0,this.hV=xe.asn1.ASN1Util.bigIntToMinTwosComplementsHex(b)},this.setByInteger=function(b){var k=new pe(String(b),10);this.setByBigInteger(k)},this.setValueHex=function(b){this.hV=b},this.getFreshValueHex=function(){return this.hV},void 0!==w&&(void 0!==w.int?this.setByInteger(w.int):"number"==typeof w?this.setByInteger(w):void 0!==w.hex&&this.setValueHex(w.hex))},d.lang.extend(xe.asn1.DEREnumerated,xe.asn1.ASN1Object),xe.asn1.DERUTF8String=function(w){xe.asn1.DERUTF8String.superclass.constructor.call(this,w),this.hT="0c"},d.lang.extend(xe.asn1.DERUTF8String,xe.asn1.DERAbstractString),xe.asn1.DERNumericString=function(w){xe.asn1.DERNumericString.superclass.constructor.call(this,w),this.hT="12"},d.lang.extend(xe.asn1.DERNumericString,xe.asn1.DERAbstractString),xe.asn1.DERPrintableString=function(w){xe.asn1.DERPrintableString.superclass.constructor.call(this,w),this.hT="13"},d.lang.extend(xe.asn1.DERPrintableString,xe.asn1.DERAbstractString),xe.asn1.DERTeletexString=function(w){xe.asn1.DERTeletexString.superclass.constructor.call(this,w),this.hT="14"},d.lang.extend(xe.asn1.DERTeletexString,xe.asn1.DERAbstractString),xe.asn1.DERIA5String=function(w){xe.asn1.DERIA5String.superclass.constructor.call(this,w),this.hT="16"},d.lang.extend(xe.asn1.DERIA5String,xe.asn1.DERAbstractString),xe.asn1.DERVisibleString=function(w){xe.asn1.DERIA5String.superclass.constructor.call(this,w),this.hT="1a"},d.lang.extend(xe.asn1.DERVisibleString,xe.asn1.DERAbstractString),xe.asn1.DERBMPString=function(w){xe.asn1.DERBMPString.superclass.constructor.call(this,w),this.hT="1e"},d.lang.extend(xe.asn1.DERBMPString,xe.asn1.DERAbstractString),xe.asn1.DERUTCTime=function(w){xe.asn1.DERUTCTime.superclass.constructor.call(this,w),this.hT="17",this.setByDate=function(b){this.hTLV=null,this.isModified=!0,this.date=b,this.s=this.formatDate(this.date,"utc"),this.hV=on(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=on(this.s)),this.hV},void 0!==w&&(void 0!==w.str?this.setString(w.str):"string"==typeof w&&w.match(/^[0-9]{12}Z$/)?this.setString(w):void 0!==w.hex?this.setStringHex(w.hex):void 0!==w.date&&this.setByDate(w.date))},d.lang.extend(xe.asn1.DERUTCTime,xe.asn1.DERAbstractTime),xe.asn1.DERGeneralizedTime=function(w){xe.asn1.DERGeneralizedTime.superclass.constructor.call(this,w),this.hT="18",this.withMillis=!1,this.setByDate=function(b){this.hTLV=null,this.isModified=!0,this.date=b,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=on(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=on(this.s)),this.hV},void 0!==w&&(void 0!==w.str?this.setString(w.str):"string"==typeof w&&w.match(/^[0-9]{14}Z$/)?this.setString(w):void 0!==w.hex?this.setStringHex(w.hex):void 0!==w.date&&this.setByDate(w.date),!0===w.millis&&(this.withMillis=!0))},d.lang.extend(xe.asn1.DERGeneralizedTime,xe.asn1.DERAbstractTime),xe.asn1.DERSequence=function(w){xe.asn1.DERSequence.superclass.constructor.call(this,w),this.hT="30",this.getFreshValueHex=function(){for(var b="",k=0;k<this.asn1Array.length;k++)b+=this.asn1Array[k].getEncodedHex();return this.hV=b,this.hV}},d.lang.extend(xe.asn1.DERSequence,xe.asn1.DERAbstractStructured),xe.asn1.DERSet=function(w){xe.asn1.DERSet.superclass.constructor.call(this,w),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var b=new Array,k=0;k<this.asn1Array.length;k++)b.push(this.asn1Array[k].getEncodedHex());return 1==this.sortFlag&&b.sort(),this.hV=b.join(""),this.hV},void 0!==w&&void 0!==w.sortflag&&0==w.sortflag&&(this.sortFlag=!1)},d.lang.extend(xe.asn1.DERSet,xe.asn1.DERAbstractStructured),xe.asn1.DERTaggedObject=function(w){xe.asn1.DERTaggedObject.superclass.constructor.call(this);var b=xe.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(k,T,Z){this.hT=T,this.isExplicit=k,this.asn1Object=Z,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=Z.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,T),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(k){null!=k.tag&&(this.hT=k.tag),null!=k.explicit&&(this.isExplicit=k.explicit),null!=k.tage&&(this.hT=k.tage,this.isExplicit=!0),null!=k.tagi&&(this.hT=k.tagi,this.isExplicit=!1),null!=k.obj&&(k.obj instanceof b.ASN1Object?(this.asn1Object=k.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):"object"==x(k.obj)&&(this.asn1Object=b.ASN1Util.newObject(k.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},null!=w&&this.setByParam(w)},d.lang.extend(xe.asn1.DERTaggedObject,xe.asn1.ASN1Object);var xe,xn,Gt,Rt=new function(){};function bn(w){for(var b=new Array,k=0;k<w.length;k++)b[k]=w.charCodeAt(k);return b}function dt(w){for(var b="",k=0;k<w.length;k++)b+=String.fromCharCode(w[k]);return b}function yt(w){for(var b="",k=0;k<w.length;k++){var T=w[k].toString(16);1==T.length&&(T="0"+T),b+=T}return b}function on(w){return yt(bn(w))}function hn(w){return(w=(w=w.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Bn(w){return w.length%4==2?w+="==":w.length%4==3&&(w+="="),(w=w.replace(/-/g,"+")).replace(/_/g,"/")}function zt(w){return w.length%2==1&&(w="0"+w),hn(ee(w))}function gn(w){return ye(Bn(w))}function Pr(w){return Gi($r(w))}function wn(w){return decodeURIComponent(vi(w))}function Gn(w){for(var b="",k=0;k<w.length-1;k+=2)b+=String.fromCharCode(parseInt(w.substr(k,2),16));return b}function gr(w){for(var b="",k=0;k<w.length;k++)b+=("0"+w.charCodeAt(k).toString(16)).slice(-2);return b}function Zr(w){return ee(w)}function $n(w){return Zr(w).replace(/(.{64})/g,"$1\r\n").replace(/\r\n$/,"")}function Rr(w){return ye(w.replace(/[^0-9A-Za-z\/+=]*/g,""))}function fr(w,b){return"-----BEGIN "+b+"-----\r\n"+$n(w)+"\r\n-----END "+b+"-----\r\n"}function Nr(w,b){if(-1==w.indexOf("-----BEGIN "))throw"can't find PEM header: "+b;return Rr(w=void 0!==b?(w=w.replace(new RegExp("^[^]*-----BEGIN "+b+"-----"),"")).replace(new RegExp("-----END "+b+"-----[^]*$"),""):(w=w.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function ui(w){var b,k,T,Z,oe,ue,Ee,Ce,Re,Me,je;if(je=w.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return Ce=je[1],b=parseInt(Ce),2===Ce.length&&(50<=b&&b<100?b=1900+b:0<=b&&b<50&&(b=2e3+b)),k=parseInt(je[2])-1,T=parseInt(je[3]),Z=parseInt(je[4]),oe=parseInt(je[5]),ue=parseInt(je[6]),Ee=0,""!==(Re=je[7])&&(Me=(Re.substr(1)+"00").substr(0,3),Ee=parseInt(Me)),Date.UTC(b,k,T,Z,oe,ue,Ee);throw"unsupported zulu format: "+w}function sa(w){return~~(ui(w)/1e3)}function Gi(w){return w.replace(/%/g,"")}function vi(w){return w.replace(/(..)/g,"%$1")}function ci(w){var b="malformed IPv6 address";if(!w.match(/^[0-9A-Fa-f:]+$/))throw b;var k=(w=w.toLowerCase()).split(":").length-1;if(k<2)throw b;var T=":".repeat(7-k+2),Z=(w=w.replace("::",T)).split(":");if(8!=Z.length)throw b;for(var oe=0;oe<8;oe++)Z[oe]=("0000"+Z[oe]).slice(-4);return Z.join("")}function Vi(w){if(!w.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var b=(w=w.toLowerCase()).match(/.{1,4}/g),k=0;k<8;k++)b[k]=b[k].replace(/^0+/,""),""==b[k]&&(b[k]="0");var T=(w=":"+b.join(":")+":").match(/:(0:){2,}/g);if(null===T)return w.slice(1,-1);var Z="";for(k=0;k<T.length;k++)T[k].length>Z.length&&(Z=T[k]);return(w=w.replace(Z,"::")).slice(1,-1)}function Pa(w){var b="malformed hex value";if(!w.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw b;if(8!=w.length)return 32==w.length?Vi(w):w;try{return parseInt(w.substr(0,2),16)+"."+parseInt(w.substr(2,2),16)+"."+parseInt(w.substr(4,2),16)+"."+parseInt(w.substr(6,2),16)}catch{throw b}}function $r(w){for(var b=encodeURIComponent(w),k="",T=0;T<b.length;T++)"%"==b[T]?(k+=b.substr(T,3),T+=2):k=k+"%"+on(b[T]);return k}function la(w){return!(w.length%2!=0||!w.match(/^[0-9a-f]+$/)&&!w.match(/^[0-9A-F]+$/))}function $i(w){return w.length%2==1?"0"+w:w.substr(0,1)>"7"?"00"+w:w}Rt.getLblen=function(w,b){if("8"!=w.substr(b+2,1))return 1;var k=parseInt(w.substr(b+3,1));return 0==k?-1:0<k&&k<10?k+1:-2},Rt.getL=function(w,b){var k=Rt.getLblen(w,b);return k<1?"":w.substr(b+2,2*k)},Rt.getVblen=function(w,b){var k;return""==(k=Rt.getL(w,b))?-1:("8"===k.substr(0,1)?new pe(k.substr(2),16):new pe(k,16)).intValue()},Rt.getVidx=function(w,b){var k=Rt.getLblen(w,b);return k<0?k:b+2*(k+1)},Rt.getV=function(w,b){var k=Rt.getVidx(w,b),T=Rt.getVblen(w,b);return w.substr(k,2*T)},Rt.getTLV=function(w,b){return w.substr(b,2)+Rt.getL(w,b)+Rt.getV(w,b)},Rt.getTLVblen=function(w,b){return 2+2*Rt.getLblen(w,b)+2*Rt.getVblen(w,b)},Rt.getNextSiblingIdx=function(w,b){return Rt.getVidx(w,b)+2*Rt.getVblen(w,b)},Rt.getChildIdx=function(w,b){var k,T,Z,oe=Rt,ue=[];k=oe.getVidx(w,b),T=2*oe.getVblen(w,b),"03"==w.substr(b,2)&&(k+=2,T-=2),Z=0;for(var Ee=k;Z<=T;){var Ce=oe.getTLVblen(w,Ee);if((Z+=Ce)<=T&&ue.push(Ee),Ee+=Ce,Z>=T)break}return ue},Rt.getNthChildIdx=function(w,b,k){return Rt.getChildIdx(w,b)[k]},Rt.getIdxbyList=function(w,b,k,T){var Z,oe,ue=Rt;return 0==k.length?void 0!==T&&w.substr(b,2)!==T?-1:b:(Z=k.shift())>=(oe=ue.getChildIdx(w,b)).length?-1:ue.getIdxbyList(w,oe[Z],k,T)},Rt.getIdxbyListEx=function(w,b,k,T){var Z,oe,ue=Rt;if(0==k.length)return void 0!==T&&w.substr(b,2)!==T?-1:b;Z=k.shift(),oe=ue.getChildIdx(w,b);for(var Ee=0,Ce=0;Ce<oe.length;Ce++){var Re=w.substr(oe[Ce],2);if("number"==typeof Z&&!ue.isContextTag(Re)&&Ee==Z||"string"==typeof Z&&ue.isContextTag(Re,Z))return ue.getIdxbyListEx(w,oe[Ce],k,T);ue.isContextTag(Re)||Ee++}return-1},Rt.getTLVbyList=function(w,b,k,T){var Z=Rt,oe=Z.getIdxbyList(w,b,k,T);return-1==oe||oe>=w.length?null:Z.getTLV(w,oe)},Rt.getTLVbyListEx=function(w,b,k,T){var Z=Rt,oe=Z.getIdxbyListEx(w,b,k,T);return-1==oe?null:Z.getTLV(w,oe)},Rt.getVbyList=function(w,b,k,T,Z){var oe,ue,Ee=Rt;return-1==(oe=Ee.getIdxbyList(w,b,k,T))||oe>=w.length?null:(ue=Ee.getV(w,oe),!0===Z&&(ue=ue.substr(2)),ue)},Rt.getVbyListEx=function(w,b,k,T,Z){var oe,ue,Ee=Rt;return-1==(oe=Ee.getIdxbyListEx(w,b,k,T))?null:(ue=Ee.getV(w,oe),"03"==w.substr(oe,2)&&!1!==Z&&(ue=ue.substr(2)),ue)},Rt.getInt=function(w,b,k){null==k&&(k=-1);try{var T=w.substr(b,2);if("02"!=T&&"03"!=T)return k;var Z=Rt.getV(w,b);return"02"==T?parseInt(Z,16):function(ue){try{var Ee=ue.substr(0,2);if("00"==Ee)return parseInt(ue.substr(2),16);var Ce=parseInt(Ee,16),Re=ue.substr(2),Me=parseInt(Re,16).toString(2);return"0"==Me&&(Me="00000000"),Me=Me.slice(0,0-Ce),parseInt(Me,2)}catch{return-1}}(Z)}catch{return k}},Rt.getOID=function(w,b,k){null==k&&(k=null);try{return"06"!=w.substr(b,2)?k:function(Z){if(!la(Z))return null;try{var oe=[],ue=Z.substr(0,2),Ee=parseInt(ue,16);oe[0]=new String(Math.floor(Ee/40)),oe[1]=new String(Ee%40);for(var Ce=Z.substr(2),Re=[],Me=0;Me<Ce.length/2;Me++)Re.push(parseInt(Ce.substr(2*Me,2),16));var je=[],$e="";for(Me=0;Me<Re.length;Me++)128&Re[Me]?$e+=Hi((127&Re[Me]).toString(2),7):($e+=Hi((127&Re[Me]).toString(2),7),je.push(new String(parseInt($e,2))),$e="");var We=oe.join(".");return je.length>0&&(We=We+"."+je.join(".")),We}catch{return null}}(Rt.getV(w,b))}catch{return k}},Rt.getOIDName=function(w,b,k){null==k&&(k=null);try{var T=Rt.getOID(w,b,k);if(T==k)return k;var Z=xe.asn1.x509.OID.oid2name(T);return""==Z?T:Z}catch{return k}},Rt.getString=function(w,b,k){null==k&&(k=null);try{return Gn(Rt.getV(w,b))}catch{return k}},Rt.hextooidstr=function(w){var b=function($e,We){return $e.length>=We?$e:new Array(We-$e.length+1).join("0")+$e},k=[],T=w.substr(0,2),Z=parseInt(T,16);k[0]=new String(Math.floor(Z/40)),k[1]=new String(Z%40);for(var oe=w.substr(2),ue=[],Ee=0;Ee<oe.length/2;Ee++)ue.push(parseInt(oe.substr(2*Ee,2),16));var Ce=[],Re="";for(Ee=0;Ee<ue.length;Ee++)128&ue[Ee]?Re+=b((127&ue[Ee]).toString(2),7):(Re+=b((127&ue[Ee]).toString(2),7),Ce.push(new String(parseInt(Re,2))),Re="");var Me=k.join(".");return Ce.length>0&&(Me=Me+"."+Ce.join(".")),Me},Rt.dump=function(w,b,k,T){var Z=Rt,oe=Z.getV,ue=Z.dump,Ee=Z.getChildIdx,Ce=w;w instanceof xe.asn1.ASN1Object&&(Ce=w.getEncodedHex());var Re=function(Pt,cn){return Pt.length<=2*cn?Pt:Pt.substr(0,cn)+"..(total "+Pt.length/2+"bytes).."+Pt.substr(Pt.length-cn,cn)};void 0===b&&(b={ommit_long_octet:32}),void 0===k&&(k=0),void 0===T&&(T="");var Me,je=b.ommit_long_octet;if("01"==(Me=Ce.substr(k,2)))return"00"==($e=oe(Ce,k))?T+"BOOLEAN FALSE\n":T+"BOOLEAN TRUE\n";if("02"==Me)return T+"INTEGER "+Re($e=oe(Ce,k),je)+"\n";if("03"==Me){var $e=oe(Ce,k);return Z.isASN1HEX($e.substr(2))?(We=T+"BITSTRING, encapsulates\n")+ue($e.substr(2),b,0,T+"  "):T+"BITSTRING "+Re($e,je)+"\n"}if("04"==Me)return $e=oe(Ce,k),Z.isASN1HEX($e)?(We=T+"OCTETSTRING, encapsulates\n",We+=ue($e,b,0,T+"  ")):T+"OCTETSTRING "+Re($e,je)+"\n";if("05"==Me)return T+"NULL\n";if("06"==Me){var st=oe(Ce,k),mt=xe.asn1.ASN1Util.oidHexToInt(st),ht=xe.asn1.x509.OID.oid2name(mt),Ie=mt.replace(/\./g," ");return""!=ht?T+"ObjectIdentifier "+ht+" ("+Ie+")\n":T+"ObjectIdentifier ("+Ie+")\n"}if("0a"==Me)return T+"ENUMERATED "+parseInt(oe(Ce,k))+"\n";if("0c"==Me)return T+"UTF8String '"+wn(oe(Ce,k))+"'\n";if("13"==Me)return T+"PrintableString '"+wn(oe(Ce,k))+"'\n";if("14"==Me)return T+"TeletexString '"+wn(oe(Ce,k))+"'\n";if("16"==Me)return T+"IA5String '"+wn(oe(Ce,k))+"'\n";if("17"==Me)return T+"UTCTime "+wn(oe(Ce,k))+"\n";if("18"==Me)return T+"GeneralizedTime "+wn(oe(Ce,k))+"\n";if("1a"==Me)return T+"VisualString '"+wn(oe(Ce,k))+"'\n";if("1e"==Me)return T+"BMPString '"+wn(oe(Ce,k))+"'\n";if("30"==Me){if("3000"==Ce.substr(k,4))return T+"SEQUENCE {}\n";We=T+"SEQUENCE\n";var Ge=b;if((2==(ut=Ee(Ce,k)).length||3==ut.length)&&"06"==Ce.substr(ut[0],2)&&"04"==Ce.substr(ut[ut.length-1],2)){ht=Z.oidname(oe(Ce,ut[0]));var qe=JSON.parse(JSON.stringify(b));qe.x509ExtName=ht,Ge=qe}for(var Je=0;Je<ut.length;Je++)We+=ue(Ce,Ge,ut[Je],T+"  ");return We}if("31"==Me){We=T+"SET\n";var ut=Ee(Ce,k);for(Je=0;Je<ut.length;Je++)We+=ue(Ce,b,ut[Je],T+"  ");return We}if(0!=(128&(Me=parseInt(Me,16)))){var We,gt=31&Me;if(0!=(32&Me)){for(We=T+"["+gt+"]\n",ut=Ee(Ce,k),Je=0;Je<ut.length;Je++)We+=ue(Ce,b,ut[Je],T+"  ");return We}return $e=oe(Ce,k),Rt.isASN1HEX($e)?(We=T+"["+gt+"]\n")+ue($e,b,0,T+"  "):(("68747470"==$e.substr(0,8)||"subjectAltName"===b.x509ExtName&&2==gt)&&($e=wn($e)),T+"["+gt+"] "+$e+"\n")}return T+"UNKNOWN("+Me+") "+oe(Ce,k)+"\n"},Rt.isContextTag=function(w,b){var k,T;w=w.toLowerCase();try{k=parseInt(w,16)}catch{return-1}if(void 0===b)return 128==(192&k);try{return null!=b.match(/^\[[0-9]+\]$/)&&!((T=parseInt(b.substr(1,b.length-1),10))>31)&&128==(192&k)&&(31&k)==T}catch{return!1}},Rt.isASN1HEX=function(w){var b=Rt;if(w.length%2==1)return!1;var k=b.getVblen(w,0),T=w.substr(0,2),Z=b.getL(w,0);return w.length-T.length-Z.length==2*k},Rt.checkStrictDER=function(w,b,k,T,Z){var oe=Rt;if(void 0===k){if("string"!=typeof w)throw new Error("not hex string");if(w=w.toLowerCase(),!xe.lang.String.isHex(w))throw new Error("not hex string");k=w.length,Z=(T=w.length/2)<128?1:Math.ceil(T.toString(16))+1}if(oe.getL(w,b).length>2*Z)throw new Error("L of TLV too long: idx="+b);var ue=oe.getVblen(w,b);if(ue>T)throw new Error("value of L too long than hex: idx="+b);var Ee=oe.getTLV(w,b),Ce=Ee.length-2-oe.getL(w,b).length;if(Ce!==2*ue)throw new Error("V string length and L's value not the same:"+Ce+"/"+2*ue);if(0===b&&w.length!=Ee.length)throw new Error("total length and TLV length unmatch:"+w.length+"!="+Ee.length);var Re=w.substr(b,2);if("02"===Re){var Me=oe.getVidx(w,b);if("00"==w.substr(Me,2)&&w.charCodeAt(Me+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(Re,16)){for(var je=oe.getVblen(w,b),$e=0,We=oe.getChildIdx(w,b),st=0;st<We.length;st++)$e+=oe.getTLV(w,We[st]).length,oe.checkStrictDER(w,We[st],k,T,Z);if(2*je!=$e)throw new Error("sum of children's TLV length and L unmatch: "+2*je+"!="+$e)}},Rt.oidname=function(w){var b=xe.asn1;xe.lang.String.isHex(w)&&(w=b.ASN1Util.oidHexToInt(w));var k=b.x509.OID.oid2name(w);return""===k&&(k=w),k},void 0!==xe&&xe||(S.KJUR=xe={}),void 0!==xe.lang&&xe.lang||(xe.lang={}),xe.lang.String=function(){},"function"==typeof a?(S.utf8tob64u=xn=function(b){return hn(a.from(b,"utf8").toString("base64"))},S.b64utoutf8=Gt=function(b){return a.from(Bn(b),"base64").toString("utf8")}):(S.utf8tob64u=xn=function(b){return zt(Gi($r(b)))},S.b64utoutf8=Gt=function(b){return decodeURIComponent(vi(gn(b)))}),xe.lang.String.isInteger=function(w){return!!w.match(/^[0-9]+$/)||!!w.match(/^-[0-9]+$/)},xe.lang.String.isHex=function(w){return la(w)},xe.lang.String.isBase64=function(w){return!(!(w=w.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||w.length%4!=0)},xe.lang.String.isBase64URL=function(w){return!w.match(/[+/=]/)&&(w=Bn(w),xe.lang.String.isBase64(w))},xe.lang.String.isIntegerArray=function(w){return!!(w=w.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},xe.lang.String.isPrintable=function(w){return null!==w.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},xe.lang.String.isIA5=function(w){return null!==w.match(/^[\x20-\x21\x23-\x7f]*$/)},xe.lang.String.isMail=function(w){return null!==w.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var Hi=function(b,k,T){return null==T&&(T="0"),b.length>=k?b:new Array(k-b.length+1).join(T)+b};void 0!==xe&&xe||(S.KJUR=xe={}),void 0!==xe.crypto&&xe.crypto||(xe.crypto={}),xe.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:L.algo.MD5,sha1:L.algo.SHA1,sha224:L.algo.SHA224,sha256:L.algo.SHA256,sha384:L.algo.SHA384,sha512:L.algo.SHA512,ripemd160:L.algo.RIPEMD160},this.getDigestInfoHex=function(w,b){if(void 0===this.DIGESTINFOHEAD[b])throw"alg not supported in Util.DIGESTINFOHEAD: "+b;return this.DIGESTINFOHEAD[b]+w},this.getPaddedDigestInfoHex=function(w,b,k){var T=this.getDigestInfoHex(w,b),Z=k/4;if(T.length+22>Z)throw"key is too short for SigAlg: keylen="+k+","+b;for(var ue="00"+T,Ee="",Ce=Z-"0001".length-ue.length,Re=0;Re<Ce;Re+=2)Ee+="ff";return"0001"+Ee+ue},this.hashString=function(w,b){return new xe.crypto.MessageDigest({alg:b}).digestString(w)},this.hashHex=function(w,b){return new xe.crypto.MessageDigest({alg:b}).digestHex(w)},this.sha1=function(w){return this.hashString(w,"sha1")},this.sha256=function(w){return this.hashString(w,"sha256")},this.sha256Hex=function(w){return this.hashHex(w,"sha256")},this.sha512=function(w){return this.hashString(w,"sha512")},this.sha512Hex=function(w){return this.hashHex(w,"sha512")},this.isKey=function(w){return w instanceof et||w instanceof xe.crypto.DSA||w instanceof xe.crypto.ECDSA}},xe.crypto.Util.md5=function(w){return new xe.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(w)},xe.crypto.Util.ripemd160=function(w){return new xe.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(w)},xe.crypto.Util.SECURERANDOMGEN=new me,xe.crypto.Util.getRandomHexOfNbytes=function(w){var b=new Array(w);return xe.crypto.Util.SECURERANDOMGEN.nextBytes(b),yt(b)},xe.crypto.Util.getRandomBigIntegerOfNbytes=function(w){return new pe(xe.crypto.Util.getRandomHexOfNbytes(w),16)},xe.crypto.Util.getRandomHexOfNbits=function(w){var b=w%8,k=new Array((w-b)/8+1);return xe.crypto.Util.SECURERANDOMGEN.nextBytes(k),k[0]=(255<<b&255^255)&k[0],yt(k)},xe.crypto.Util.getRandomBigIntegerOfNbits=function(w){return new pe(xe.crypto.Util.getRandomHexOfNbits(w),16)},xe.crypto.Util.getRandomBigIntegerZeroToMax=function(w){for(var b=w.bitLength();;){var k=xe.crypto.Util.getRandomBigIntegerOfNbits(b);if(-1!=w.compareTo(k))return k}},xe.crypto.Util.getRandomBigIntegerMinToMax=function(w,b){var k=w.compareTo(b);if(1==k)throw"biMin is greater than biMax";if(0==k)return w;var T=b.subtract(w);return xe.crypto.Util.getRandomBigIntegerZeroToMax(T).add(w)},xe.crypto.MessageDigest=function(w){this.setAlgAndProvider=function(b,k){if(null!==(b=xe.crypto.MessageDigest.getCanonicalAlgName(b))&&void 0===k&&(k=xe.crypto.Util.DEFAULTPROVIDER[b]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(b)&&"cryptojs"==k){try{this.md=xe.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[b].create()}catch(T){throw"setAlgAndProvider hash alg set fail alg="+b+"/"+T}this.updateString=function(T){this.md.update(T)},this.updateHex=function(T){var Z=L.enc.Hex.parse(T);this.md.update(Z)},this.digest=function(){return this.md.finalize().toString(L.enc.Hex)},this.digestString=function(T){return this.updateString(T),this.digest()},this.digestHex=function(T){return this.updateHex(T),this.digest()}}if(-1!=":sha256:".indexOf(b)&&"sjcl"==k){try{this.md=new sjcl.hash.sha256}catch(T){throw"setAlgAndProvider hash alg set fail alg="+b+"/"+T}this.updateString=function(T){this.md.update(T)},this.updateHex=function(T){var Z=sjcl.codec.hex.toBits(T);this.md.update(Z)},this.digest=function(){var T=this.md.finalize();return sjcl.codec.hex.fromBits(T)},this.digestString=function(T){return this.updateString(T),this.digest()},this.digestHex=function(T){return this.updateHex(T),this.digest()}}},this.updateString=function(b){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(b){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(b){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(b){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==w&&void 0!==w.alg&&(this.algName=w.alg,void 0===w.prov&&(this.provName=xe.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},xe.crypto.MessageDigest.getCanonicalAlgName=function(w){return"string"==typeof w&&(w=(w=w.toLowerCase()).replace(/-/,"")),w},xe.crypto.MessageDigest.getHashLength=function(w){var b=xe.crypto.MessageDigest,k=b.getCanonicalAlgName(w);if(void 0===b.HASHLENGTH[k])throw"not supported algorithm: "+w;return b.HASHLENGTH[k]},xe.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},xe.crypto.Mac=function(w){this.setAlgAndProvider=function(b,k){if(null==(b=b.toLowerCase())&&(b="hmacsha1"),"hmac"!=(b=b.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+b;void 0===k&&(k=xe.crypto.Util.DEFAULTPROVIDER[b]),this.algProv=b+"/"+k;var T=b.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(T)&&"cryptojs"==k){try{this.mac=L.algo.HMAC.create(xe.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[T],this.pass)}catch(oe){throw"setAlgAndProvider hash alg set fail hashAlg="+T+"/"+oe}this.updateString=function(oe){this.mac.update(oe)},this.updateHex=function(oe){var ue=L.enc.Hex.parse(oe);this.mac.update(ue)},this.doFinal=function(){return this.mac.finalize().toString(L.enc.Hex)},this.doFinalString=function(oe){return this.updateString(oe),this.doFinal()},this.doFinalHex=function(oe){return this.updateHex(oe),this.doFinal()}}},this.updateString=function(b){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(b){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(b){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(b){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(b){if("string"==typeof b){var k=b;return b.length%2!=1&&b.match(/^[0-9A-Fa-f]+$/)||(k=gr(b)),void(this.pass=L.enc.Hex.parse(k))}if("object"!=(void 0===b?"undefined":x(b)))throw"KJUR.crypto.Mac unsupported password type: "+b;if(k=null,void 0!==b.hex){if(b.hex.length%2!=0||!b.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+b.hex;k=b.hex}if(void 0!==b.utf8&&(k=Pr(b.utf8)),void 0!==b.rstr&&(k=gr(b.rstr)),void 0!==b.b64&&(k=ye(b.b64)),void 0!==b.b64u&&(k=gn(b.b64u)),null==k)throw"KJUR.crypto.Mac unsupported password type: "+b;this.pass=L.enc.Hex.parse(k)},void 0!==w&&(void 0!==w.pass&&this.setPassword(w.pass),void 0!==w.alg&&(this.algName=w.alg,void 0===w.prov&&(this.provName=xe.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},xe.crypto.Signature=function(w){var b=null;if(this._setAlgNames=function(){var k=this.algName.match(/^(.+)with(.+)$/);k&&(this.mdAlgName=k[1].toLowerCase(),this.pubkeyAlgName=k[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(k,T){for(var Z="",oe=T/4-k.length,ue=0;ue<oe;ue++)Z+="0";return Z+k},this.setAlgAndProvider=function(k,T){if(this._setAlgNames(),"cryptojs/jsrsa"!=T)throw new Error("provider not supported: "+T);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new xe.crypto.MessageDigest({alg:this.mdAlgName})}catch(Z){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+Z)}this.init=function(Z,oe){var ue=null;try{ue=void 0===oe?qn.getKey(Z):qn.getKey(Z,oe)}catch(Ee){throw"init failed:"+Ee}if(!0===ue.isPrivate)this.prvKey=ue,this.state="SIGN";else{if(!0!==ue.isPublic)throw"init failed.:"+ue;this.pubKey=ue,this.state="VERIFY"}},this.updateString=function(Z){this.md.updateString(Z)},this.updateHex=function(Z){this.md.updateHex(Z)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==xe.crypto.ECDSA&&(this.prvKey=new xe.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof et&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof et&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof xe.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof xe.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(Z){return this.updateString(Z),this.sign()},this.signHex=function(Z){return this.updateHex(Z),this.sign()},this.verify=function(Z){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==xe.crypto.ECDSA&&(this.pubKey=new xe.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof et&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,Z,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof et&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,Z);if(void 0!==xe.crypto.ECDSA&&this.pubKey instanceof xe.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,Z);if(void 0!==xe.crypto.DSA&&this.pubKey instanceof xe.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,Z);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(k,T){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(k){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(k){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(k){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(k){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(k){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=w,void 0!==w&&(void 0!==w.alg&&(this.algName=w.alg,this.provName=void 0===w.prov?xe.crypto.Util.DEFAULTPROVIDER[this.algName]:w.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==w.psssaltlen&&(this.pssSaltLen=w.psssaltlen),void 0!==w.prvkeypem)){if(void 0!==w.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{b=qn.getKey(w.prvkeypem),this.init(b)}catch(k){throw"fatal error to load pem private key: "+k}}},xe.crypto.Cipher=function(w){},xe.crypto.Cipher.encrypt=function(w,b,k){if(b instanceof et&&b.isPublic){var T=xe.crypto.Cipher.getAlgByKeyAndName(b,k);if("RSA"===T)return b.encrypt(w);if("RSAOAEP"===T)return b.encryptOAEP(w,"sha1");var Z=T.match(/^RSAOAEP(\d+)$/);if(null!==Z)return b.encryptOAEP(w,"sha"+Z[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+k}throw"Cipher.encrypt: unsupported key or algorithm"},xe.crypto.Cipher.decrypt=function(w,b,k){if(b instanceof et&&b.isPrivate){var T=xe.crypto.Cipher.getAlgByKeyAndName(b,k);if("RSA"===T)return b.decrypt(w);if("RSAOAEP"===T)return b.decryptOAEP(w,"sha1");var Z=T.match(/^RSAOAEP(\d+)$/);if(null!==Z)return b.decryptOAEP(w,"sha"+Z[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+k}throw"Cipher.decrypt: unsupported key or algorithm"},xe.crypto.Cipher.getAlgByKeyAndName=function(w,b){if(w instanceof et){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(b))return b;if(null==b)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+b}throw"getAlgByKeyAndName: not supported algorithm name: "+b},xe.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==xe&&xe||(S.KJUR=xe={}),void 0!==xe.crypto&&xe.crypto||(xe.crypto={}),xe.crypto.ECDSA=function(w){var b=Error,k=pe,T=xt,Z=xe.crypto.ECDSA,oe=xe.crypto.ECParameterDB,ue=Z.getName,Ce=Rt.getVbyListEx,Re=Rt.isASN1HEX,Me=new me;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(je){return new k(je.bitLength(),Me).mod(je.subtract(k.ONE)).add(k.ONE)},this.setNamedCurve=function(je){this.ecparams=oe.getByName(je),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=je},this.setPrivateKeyHex=function(je){this.isPrivate=!0,this.prvKeyHex=je},this.setPublicKeyHex=function(je){this.isPublic=!0,this.pubKeyHex=je},this.getPublicKeyXYHex=function(){var je=this.pubKeyHex;if("04"!==je.substr(0,2))throw"this method supports uncompressed format(04) only";var $e=this.ecparams.keylen/4;if(je.length!==2+2*$e)throw"malformed public key hex length";var We={};return We.x=je.substr(2,$e),We.y=je.substr(2+$e),We},this.getShortNISTPCurveName=function(){var je=this.curveName;return"secp256r1"===je||"NIST P-256"===je||"P-256"===je||"prime256v1"===je?"P-256":"secp384r1"===je||"NIST P-384"===je||"P-384"===je?"P-384":null},this.generateKeyPairHex=function(){var $e=this.getBigRandom(this.ecparams.n),We=this.ecparams.G.multiply($e),st=We.getX().toBigInteger(),mt=We.getY().toBigInteger(),ht=this.ecparams.keylen/4,Ie=("0000000000"+$e.toString(16)).slice(-ht),Ge="04"+("0000000000"+st.toString(16)).slice(-ht)+("0000000000"+mt.toString(16)).slice(-ht);return this.setPrivateKeyHex(Ie),this.setPublicKeyHex(Ge),{ecprvhex:Ie,ecpubhex:Ge}},this.signWithMessageHash=function(je){return this.signHex(je,this.prvKeyHex)},this.signHex=function(je,$e){var We=new k($e,16),st=this.ecparams.n,mt=new k(je.substring(0,this.ecparams.keylen/4),16);do{var ht=this.getBigRandom(st),Ie=this.ecparams.G.multiply(ht).getX().toBigInteger().mod(st)}while(Ie.compareTo(k.ZERO)<=0);var Ge=ht.modInverse(st).multiply(mt.add(We.multiply(Ie))).mod(st);return Z.biRSSigToASN1Sig(Ie,Ge)},this.sign=function(je,$e){var We=$e,st=this.ecparams.n,mt=k.fromByteArrayUnsigned(je);do{var ht=this.getBigRandom(st),Ie=this.ecparams.G.multiply(ht).getX().toBigInteger().mod(st)}while(Ie.compareTo(pe.ZERO)<=0);var Ge=ht.modInverse(st).multiply(mt.add(We.multiply(Ie))).mod(st);return this.serializeSig(Ie,Ge)},this.verifyWithMessageHash=function(je,$e){return this.verifyHex(je,$e,this.pubKeyHex)},this.verifyHex=function(je,$e,We){try{var st,mt,ht=Z.parseSigHex($e);st=ht.r,mt=ht.s;var Ie=T.decodeFromHex(this.ecparams.curve,We),Ge=new k(je.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(Ge,st,mt,Ie)}catch{return!1}},this.verify=function(je,$e,We){var st,mt,ht;if(Bitcoin.Util.isArray($e)){var Ie=this.parseSig($e);st=Ie.r,mt=Ie.s}else{if("object"!==(void 0===$e?"undefined":x($e))||!$e.r||!$e.s)throw"Invalid value for signature";st=$e.r,mt=$e.s}if(We instanceof xt)ht=We;else{if(!Bitcoin.Util.isArray(We))throw"Invalid format for pubkey value, must be byte array or ECPointFp";ht=T.decodeFrom(this.ecparams.curve,We)}var Ge=k.fromByteArrayUnsigned(je);return this.verifyRaw(Ge,st,mt,ht)},this.verifyRaw=function(je,$e,We,st){var mt=this.ecparams.n,ht=this.ecparams.G;if($e.compareTo(k.ONE)<0||$e.compareTo(mt)>=0||We.compareTo(k.ONE)<0||We.compareTo(mt)>=0)return!1;var Ie=We.modInverse(mt),Ge=je.multiply(Ie).mod(mt),qe=$e.multiply(Ie).mod(mt);return ht.multiply(Ge).add(st.multiply(qe)).getX().toBigInteger().mod(mt).equals($e)},this.serializeSig=function(je,$e){var We=je.toByteArraySigned(),st=$e.toByteArraySigned(),mt=[];return mt.push(2),mt.push(We.length),(mt=mt.concat(We)).push(2),mt.push(st.length),(mt=mt.concat(st)).unshift(mt.length),mt.unshift(48),mt},this.parseSig=function(je){var $e;if(48!=je[0])throw new Error("Signature not a valid DERSequence");if(2!=je[$e=2])throw new Error("First element in signature must be a DERInteger");var We=je.slice($e+2,$e+2+je[$e+1]);if(2!=je[$e+=2+je[$e+1]])throw new Error("Second element in signature must be a DERInteger");var st=je.slice($e+2,$e+2+je[$e+1]);return $e+=2+je[$e+1],{r:k.fromByteArrayUnsigned(We),s:k.fromByteArrayUnsigned(st)}},this.parseSigCompact=function(je){if(65!==je.length)throw"Signature has the wrong length";var $e=je[0]-27;if($e<0||$e>7)throw"Invalid signature type";var We=this.ecparams.n;return{r:k.fromByteArrayUnsigned(je.slice(1,33)).mod(We),s:k.fromByteArrayUnsigned(je.slice(33,65)).mod(We),i:$e}},this.readPKCS5PrvKeyHex=function(je){if(!1===Re(je))throw new Error("not ASN.1 hex string");var $e,We,st;try{$e=Ce(je,0,["[0]",0],"06"),We=Ce(je,0,[1],"04");try{st=Ce(je,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=ue($e),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(st),this.setPrivateKeyHex(We),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(je){if(!1===Re(je))throw new b("not ASN.1 hex string");var $e,We,st;try{Ce(je,0,[1,0],"06"),$e=Ce(je,0,[1,1],"06"),We=Ce(je,0,[2,0,1],"04");try{st=Ce(je,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new b("malformed PKCS#8 plain ECC private key")}if(this.curveName=ue($e),void 0===this.curveName)throw new b("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(st),this.setPrivateKeyHex(We),this.isPublic=!1},this.readPKCS8PubKeyHex=function(je){if(!1===Re(je))throw new b("not ASN.1 hex string");var $e,We;try{Ce(je,0,[0,0],"06"),$e=Ce(je,0,[0,1],"06"),We=Ce(je,0,[1],"03")}catch{throw new b("malformed PKCS#8 ECC public key")}if(this.curveName=ue($e),null===this.curveName)throw new b("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(We)},this.readCertPubKeyHex=function(je,$e){if(!1===Re(je))throw new b("not ASN.1 hex string");var We,st;try{We=Ce(je,0,[0,5,0,1],"06"),st=Ce(je,0,[0,5,1],"03")}catch{throw new b("malformed X.509 certificate ECC public key")}if(this.curveName=ue(We),null===this.curveName)throw new b("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(st)},void 0!==w&&void 0!==w.curve&&(this.curveName=w.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==w&&(void 0!==w.prv&&this.setPrivateKeyHex(w.prv),void 0!==w.pub&&this.setPublicKeyHex(w.pub))},xe.crypto.ECDSA.parseSigHex=function(w){var b=xe.crypto.ECDSA.parseSigHexInHexRS(w);return{r:new pe(b.r,16),s:new pe(b.s,16)}},xe.crypto.ECDSA.parseSigHexInHexRS=function(w){var k=Rt.getChildIdx,T=Rt.getV;if(Rt.checkStrictDER(w,0),"30"!=w.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var Z=k(w,0);if(2!=Z.length)throw new Error("signature shall have two elements");var oe=Z[0],ue=Z[1];if("02"!=w.substr(oe,2))throw new Error("1st item not ASN.1 integer");if("02"!=w.substr(ue,2))throw new Error("2nd item not ASN.1 integer");return{r:T(w,oe),s:T(w,ue)}},xe.crypto.ECDSA.asn1SigToConcatSig=function(w){var b=xe.crypto.ECDSA.parseSigHexInHexRS(w),k=b.r,T=b.s;if("00"==k.substr(0,2)&&k.length%32==2&&(k=k.substr(2)),"00"==T.substr(0,2)&&T.length%32==2&&(T=T.substr(2)),k.length%32==30&&(k="00"+k),T.length%32==30&&(T="00"+T),k.length%32!=0)throw"unknown ECDSA sig r length error";if(T.length%32!=0)throw"unknown ECDSA sig s length error";return k+T},xe.crypto.ECDSA.concatSigToASN1Sig=function(w){if(w.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var b=w.substr(0,w.length/2),k=w.substr(w.length/2);return xe.crypto.ECDSA.hexRSSigToASN1Sig(b,k)},xe.crypto.ECDSA.hexRSSigToASN1Sig=function(w,b){var k=new pe(w,16),T=new pe(b,16);return xe.crypto.ECDSA.biRSSigToASN1Sig(k,T)},xe.crypto.ECDSA.biRSSigToASN1Sig=function(w,b){var k=xe.asn1,T=new k.DERInteger({bigint:w}),Z=new k.DERInteger({bigint:b});return new k.DERSequence({array:[T,Z]}).getEncodedHex()},xe.crypto.ECDSA.getName=function(w){return"2b8104001f"===w?"secp192k1":"2a8648ce3d030107"===w?"secp256r1":"2b8104000a"===w?"secp256k1":"2b81040021"===w?"secp224r1":"2b81040022"===w?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(w)?"secp256r1":-1!=="|secp256k1|".indexOf(w)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(w)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(w)?"secp384r1":null},void 0!==xe&&xe||(S.KJUR=xe={}),void 0!==xe.crypto&&xe.crypto||(xe.crypto={}),xe.crypto.ECParameterDB=new function(){var w={},b={};function k(T){return new pe(T,16)}this.getByName=function(T){var Z=T;if(void 0!==b[Z]&&(Z=b[T]),void 0!==w[Z])return w[Z];throw"unregistered EC curve name: "+Z},this.regist=function(T,Z,oe,ue,Ee,Ce,Re,Me,je,$e,We,st){w[T]={};var mt=k(oe),ht=k(ue),Ie=k(Ee),Ge=k(Ce),qe=k(Re),Je=new kt(mt,ht,Ie),ut=Je.decodePointHex("04"+Me+je);w[T].name=T,w[T].keylen=Z,w[T].curve=Je,w[T].G=ut,w[T].n=Ge,w[T].h=qe,w[T].oid=We,w[T].info=st;for(var gt=0;gt<$e.length;gt++)b[$e[gt]]=T}},xe.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),xe.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),xe.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),xe.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),xe.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),xe.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),xe.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),xe.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),xe.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),xe.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var qn=function(){var w=function(Re,Me,je){return b(L.AES,Re,Me,je)},b=function(Re,Me,je,$e){var We=L.enc.Hex.parse(Me),st=L.enc.Hex.parse(je),mt=L.enc.Hex.parse($e),ht={};ht.key=st,ht.iv=mt,ht.ciphertext=We;var Ie=Re.decrypt(ht,st,{iv:mt});return L.enc.Hex.stringify(Ie)},k=function(Re,Me,je){return T(L.AES,Re,Me,je)},T=function(Re,Me,je,$e){var We=L.enc.Hex.parse(Me),st=L.enc.Hex.parse(je),mt=L.enc.Hex.parse($e),ht=Re.encrypt(We,st,{iv:mt}),Ie=L.enc.Hex.parse(ht.toString());return L.enc.Base64.stringify(Ie)},Z={"AES-256-CBC":{proc:w,eproc:k,keylen:32,ivlen:16},"AES-192-CBC":{proc:w,eproc:k,keylen:24,ivlen:16},"AES-128-CBC":{proc:w,eproc:k,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(Re,Me,je){return b(L.TripleDES,Re,Me,je)},eproc:function(Re,Me,je){return T(L.TripleDES,Re,Me,je)},keylen:24,ivlen:8},"DES-CBC":{proc:function(Re,Me,je){return b(L.DES,Re,Me,je)},eproc:function(Re,Me,je){return T(L.DES,Re,Me,je)},keylen:8,ivlen:8}},oe=function(Re){var Me={},je=Re.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));je&&(Me.cipher=je[1],Me.ivsalt=je[2]);var $e=Re.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));$e&&(Me.type=$e[1]);var We=-1,st=0;-1!=Re.indexOf("\r\n\r\n")&&(We=Re.indexOf("\r\n\r\n"),st=2),-1!=Re.indexOf("\n\n")&&(We=Re.indexOf("\n\n"),st=1);var mt=Re.indexOf("-----END");if(-1!=We&&-1!=mt){var ht=Re.substring(We+2*st,mt-st);ht=ht.replace(/\s+/g,""),Me.data=ht}return Me},ue=function(Re,Me,je){for(var $e=je.substring(0,16),We=L.enc.Hex.parse($e),st=L.enc.Utf8.parse(Me),mt=Z[Re].keylen+Z[Re].ivlen,ht="",Ie=null;;){var Ge=L.algo.MD5.create();if(null!=Ie&&Ge.update(Ie),Ge.update(st),Ge.update(We),Ie=Ge.finalize(),(ht+=L.enc.Hex.stringify(Ie)).length>=2*mt)break}var qe={};return qe.keyhex=ht.substr(0,2*Z[Re].keylen),qe.ivhex=ht.substr(2*Z[Re].keylen,2*Z[Re].ivlen),qe},Ee=function(Re,Me,je,$e){var We=L.enc.Base64.parse(Re),st=L.enc.Hex.stringify(We);return(0,Z[Me].proc)(st,je,$e)};return{version:"1.0.0",parsePKCS5PEM:function(Re){return oe(Re)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(Re,Me,je){return ue(Re,Me,je)},decryptKeyB64:function(Re,Me,je,$e){return Ee(Re,Me,je,$e)},getDecryptedKeyHex:function(Re,Me){var je=oe(Re),$e=je.cipher,We=je.ivsalt,st=je.data,mt=ue($e,Me,We).keyhex;return Ee(st,$e,mt,We)},getEncryptedPKCS5PEMFromPrvKeyHex:function(Re,Me,je,$e,We){var Ie,Ge,st="";if(void 0!==$e&&null!=$e||($e="AES-256-CBC"),void 0===Z[$e])throw"KEYUTIL unsupported algorithm: "+$e;void 0!==We&&null!=We||(We=(Ie=Z[$e].ivlen,Ge=L.lib.WordArray.random(Ie),L.enc.Hex.stringify(Ge)).toUpperCase());var mt=function(Ie,Ge,qe,Je){return(0,Z[Ge].eproc)(Ie,qe,Je)}(Me,$e,ue($e,je,We).keyhex,We);return st="-----BEGIN "+Re+" PRIVATE KEY-----\r\n",st+="Proc-Type: 4,ENCRYPTED\r\n",st+="DEK-Info: "+$e+","+We+"\r\n",st+="\r\n",(st+=mt.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+Re+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(Re){var je=Rt.getChildIdx,$e=Rt.getV,We={},st=je(Re,0);if(2!=st.length)throw"malformed format: SEQUENCE(0).items != 2: "+st.length;We.ciphertext=$e(Re,st[1]);var mt=je(Re,st[0]);if(2!=mt.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+mt.length;if("2a864886f70d01050d"!=$e(Re,mt[0]))throw"this only supports pkcs5PBES2";var ht=je(Re,mt[1]);if(2!=mt.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+ht.length;var Ie=je(Re,ht[1]);if(2!=Ie.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+Ie.length;if("2a864886f70d0307"!=$e(Re,Ie[0]))throw"this only supports TripleDES";We.encryptionSchemeAlg="TripleDES",We.encryptionSchemeIV=$e(Re,Ie[1]);var Ge=je(Re,ht[0]);if(2!=Ge.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+Ge.length;if("2a864886f70d01050c"!=$e(Re,Ge[0]))throw"this only supports pkcs5PBKDF2";var qe=je(Re,Ge[1]);if(qe.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+qe.length;We.pbkdf2Salt=$e(Re,qe[0]);var Je=$e(Re,qe[1]);try{We.pbkdf2Iter=parseInt(Je,16)}catch{throw"malformed format pbkdf2Iter: "+Je}return We},getPBKDF2KeyHexFromParam:function(Re,Me){var je=L.enc.Hex.parse(Re.pbkdf2Salt),We=L.PBKDF2(Me,je,{keySize:6,iterations:Re.pbkdf2Iter});return L.enc.Hex.stringify(We)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(Re,Me){var je=Nr(Re,"ENCRYPTED PRIVATE KEY"),$e=this.parseHexOfEncryptedPKCS8(je),We=qn.getPBKDF2KeyHexFromParam($e,Me),st={};st.ciphertext=L.enc.Hex.parse($e.ciphertext);var mt=L.enc.Hex.parse(We),ht=L.enc.Hex.parse($e.encryptionSchemeIV),Ie=L.TripleDES.decrypt(st,mt,{iv:ht});return L.enc.Hex.stringify(Ie)},getKeyFromEncryptedPKCS8PEM:function(Re,Me){var je=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(Re,Me);return this.getKeyFromPlainPrivatePKCS8Hex(je)},parsePlainPrivatePKCS8Hex:function(Re){var Me=Rt,je=Me.getChildIdx,$e=Me.getV,We={algparam:null};if("30"!=Re.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var st=je(Re,0);if(3!=st.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=Re.substr(st[1],2))throw"malformed PKCS8 private key(code:003)";var mt=je(Re,st[1]);if(2!=mt.length)throw"malformed PKCS8 private key(code:004)";if("06"!=Re.substr(mt[0],2))throw"malformed PKCS8 private key(code:005)";if(We.algoid=$e(Re,mt[0]),"06"==Re.substr(mt[1],2)&&(We.algparam=$e(Re,mt[1])),"04"!=Re.substr(st[2],2))throw"malformed PKCS8 private key(code:006)";return We.keyidx=Me.getVidx(Re,st[2]),We},getKeyFromPlainPrivatePKCS8PEM:function(Re){var Me=Nr(Re,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(Me)},getKeyFromPlainPrivatePKCS8Hex:function(Re){var Me,je=this.parsePlainPrivatePKCS8Hex(Re);if("2a864886f70d010101"==je.algoid)Me=new et;else if("2a8648ce380401"==je.algoid)Me=new xe.crypto.DSA;else{if("2a8648ce3d0201"!=je.algoid)throw"unsupported private key algorithm";Me=new xe.crypto.ECDSA}return Me.readPKCS8PrvKeyHex(Re),Me},_getKeyFromPublicPKCS8Hex:function(Re){var Me,je=Rt.getVbyList(Re,0,[0,0],"06");if("2a864886f70d010101"===je)Me=new et;else if("2a8648ce380401"===je)Me=new xe.crypto.DSA;else{if("2a8648ce3d0201"!==je)throw"unsupported PKCS#8 public key hex";Me=new xe.crypto.ECDSA}return Me.readPKCS8PubKeyHex(Re),Me},parsePublicRawRSAKeyHex:function(Re){var je=Rt.getChildIdx,$e=Rt.getV,We={};if("30"!=Re.substr(0,2))throw"malformed RSA key(code:001)";var st=je(Re,0);if(2!=st.length)throw"malformed RSA key(code:002)";if("02"!=Re.substr(st[0],2))throw"malformed RSA key(code:003)";if(We.n=$e(Re,st[0]),"02"!=Re.substr(st[1],2))throw"malformed RSA key(code:004)";return We.e=$e(Re,st[1]),We},parsePublicPKCS8Hex:function(Re){var Me=Rt,je=Me.getChildIdx,$e=Me.getV,We={algparam:null},st=je(Re,0);if(2!=st.length)throw"outer DERSequence shall have 2 elements: "+st.length;var mt=st[0];if("30"!=Re.substr(mt,2))throw"malformed PKCS8 public key(code:001)";var ht=je(Re,mt);if(2!=ht.length)throw"malformed PKCS8 public key(code:002)";if("06"!=Re.substr(ht[0],2))throw"malformed PKCS8 public key(code:003)";if(We.algoid=$e(Re,ht[0]),"06"==Re.substr(ht[1],2)?We.algparam=$e(Re,ht[1]):"30"==Re.substr(ht[1],2)&&(We.algparam={},We.algparam.p=Me.getVbyList(Re,ht[1],[0],"02"),We.algparam.q=Me.getVbyList(Re,ht[1],[1],"02"),We.algparam.g=Me.getVbyList(Re,ht[1],[2],"02")),"03"!=Re.substr(st[1],2))throw"malformed PKCS8 public key(code:004)";return We.key=$e(Re,st[1]).substr(2),We}}}();qn.getKey=function(w,b,k){var Wn,T=(ht=Rt).getChildIdx,Z=ht.getVbyList,oe=xe.crypto,ue=oe.ECDSA,Ee=oe.DSA,Ce=et,Re=Nr,Me=qn;if(void 0!==Ce&&w instanceof Ce||void 0!==ue&&w instanceof ue||void 0!==Ee&&w instanceof Ee)return w;if(void 0!==w.curve&&void 0!==w.xy&&void 0===w.d)return new ue({pub:w.xy,curve:w.curve});if(void 0!==w.curve&&void 0!==w.d)return new ue({prv:w.d,curve:w.curve});if(void 0===w.kty&&void 0!==w.n&&void 0!==w.e&&void 0===w.d)return($t=new Ce).setPublic(w.n,w.e),$t;if(void 0===w.kty&&void 0!==w.n&&void 0!==w.e&&void 0!==w.d&&void 0!==w.p&&void 0!==w.q&&void 0!==w.dp&&void 0!==w.dq&&void 0!==w.co&&void 0===w.qi)return($t=new Ce).setPrivateEx(w.n,w.e,w.d,w.p,w.q,w.dp,w.dq,w.co),$t;if(void 0===w.kty&&void 0!==w.n&&void 0!==w.e&&void 0!==w.d&&void 0===w.p)return($t=new Ce).setPrivate(w.n,w.e,w.d),$t;if(void 0!==w.p&&void 0!==w.q&&void 0!==w.g&&void 0!==w.y&&void 0===w.x)return($t=new Ee).setPublic(w.p,w.q,w.g,w.y),$t;if(void 0!==w.p&&void 0!==w.q&&void 0!==w.g&&void 0!==w.y&&void 0!==w.x)return($t=new Ee).setPrivate(w.p,w.q,w.g,w.y,w.x),$t;if("RSA"===w.kty&&void 0!==w.n&&void 0!==w.e&&void 0===w.d)return($t=new Ce).setPublic(gn(w.n),gn(w.e)),$t;if("RSA"===w.kty&&void 0!==w.n&&void 0!==w.e&&void 0!==w.d&&void 0!==w.p&&void 0!==w.q&&void 0!==w.dp&&void 0!==w.dq&&void 0!==w.qi)return($t=new Ce).setPrivateEx(gn(w.n),gn(w.e),gn(w.d),gn(w.p),gn(w.q),gn(w.dp),gn(w.dq),gn(w.qi)),$t;if("RSA"===w.kty&&void 0!==w.n&&void 0!==w.e&&void 0!==w.d)return($t=new Ce).setPrivate(gn(w.n),gn(w.e),gn(w.d)),$t;if("EC"===w.kty&&void 0!==w.crv&&void 0!==w.x&&void 0!==w.y&&void 0===w.d){var je=(Dt=new ue({curve:w.crv})).ecparams.keylen/4,$e="04"+("0000000000"+gn(w.x)).slice(-je)+("0000000000"+gn(w.y)).slice(-je);return Dt.setPublicKeyHex($e),Dt}if("EC"===w.kty&&void 0!==w.crv&&void 0!==w.x&&void 0!==w.y&&void 0!==w.d){je=(Dt=new ue({curve:w.crv})).ecparams.keylen/4,$e="04"+("0000000000"+gn(w.x)).slice(-je)+("0000000000"+gn(w.y)).slice(-je);var We=("0000000000"+gn(w.d)).slice(-je);return Dt.setPublicKeyHex($e),Dt.setPrivateKeyHex(We),Dt}if("pkcs5prv"===k){var st,mt=w,ht=Rt;if(9===(st=T(mt,0)).length)($t=new Ce).readPKCS5PrvKeyHex(mt);else if(6===st.length)($t=new Ee).readPKCS5PrvKeyHex(mt);else{if(!(st.length>2&&"04"===mt.substr(st[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";($t=new ue).readPKCS5PrvKeyHex(mt)}return $t}if("pkcs8prv"===k)return Me.getKeyFromPlainPrivatePKCS8Hex(w);if("pkcs8pub"===k)return Me._getKeyFromPublicPKCS8Hex(w);if("x509pub"===k)return Pn.getPublicKeyFromCertHex(w);if(-1!=w.indexOf("-END CERTIFICATE-",0)||-1!=w.indexOf("-END X509 CERTIFICATE-",0)||-1!=w.indexOf("-END TRUSTED CERTIFICATE-",0))return Pn.getPublicKeyFromCertPEM(w);if(-1!=w.indexOf("-END PUBLIC KEY-")){var Ie=Nr(w,"PUBLIC KEY");return Me._getKeyFromPublicPKCS8Hex(Ie)}if(-1!=w.indexOf("-END RSA PRIVATE KEY-")&&-1==w.indexOf("4,ENCRYPTED")){var Ge=Re(w,"RSA PRIVATE KEY");return Me.getKey(Ge,null,"pkcs5prv")}if(-1!=w.indexOf("-END DSA PRIVATE KEY-")&&-1==w.indexOf("4,ENCRYPTED")){var qe=Z(Wn=Re(w,"DSA PRIVATE KEY"),0,[1],"02"),Je=Z(Wn,0,[2],"02"),ut=Z(Wn,0,[3],"02"),gt=Z(Wn,0,[4],"02"),Bt=Z(Wn,0,[5],"02");return($t=new Ee).setPrivate(new pe(qe,16),new pe(Je,16),new pe(ut,16),new pe(gt,16),new pe(Bt,16)),$t}if(-1!=w.indexOf("-END EC PRIVATE KEY-")&&-1==w.indexOf("4,ENCRYPTED"))return Ge=Re(w,"EC PRIVATE KEY"),Me.getKey(Ge,null,"pkcs5prv");if(-1!=w.indexOf("-END PRIVATE KEY-"))return Me.getKeyFromPlainPrivatePKCS8PEM(w);if(-1!=w.indexOf("-END RSA PRIVATE KEY-")&&-1!=w.indexOf("4,ENCRYPTED")){var Pt=Me.getDecryptedKeyHex(w,b),cn=new et;return cn.readPKCS5PrvKeyHex(Pt),cn}if(-1!=w.indexOf("-END EC PRIVATE KEY-")&&-1!=w.indexOf("4,ENCRYPTED")){var Dt,$t=Z(Wn=Me.getDecryptedKeyHex(w,b),0,[1],"04"),Ln=Z(Wn,0,[2,0],"06"),Yn=Z(Wn,0,[3,0],"03").substr(2);if(void 0===xe.crypto.OID.oidhex2name[Ln])throw"undefined OID(hex) in KJUR.crypto.OID: "+Ln;return(Dt=new ue({curve:xe.crypto.OID.oidhex2name[Ln]})).setPublicKeyHex(Yn),Dt.setPrivateKeyHex($t),Dt.isPublic=!1,Dt}if(-1!=w.indexOf("-END DSA PRIVATE KEY-")&&-1!=w.indexOf("4,ENCRYPTED"))return qe=Z(Wn=Me.getDecryptedKeyHex(w,b),0,[1],"02"),Je=Z(Wn,0,[2],"02"),ut=Z(Wn,0,[3],"02"),gt=Z(Wn,0,[4],"02"),Bt=Z(Wn,0,[5],"02"),($t=new Ee).setPrivate(new pe(qe,16),new pe(Je,16),new pe(ut,16),new pe(gt,16),new pe(Bt,16)),$t;if(-1!=w.indexOf("-END ENCRYPTED PRIVATE KEY-"))return Me.getKeyFromEncryptedPKCS8PEM(w,b);throw new Error("not supported argument")},qn.generateKeypair=function(w,b){if("RSA"==w){var k=b;(ue=new et).generate(k,"10001"),ue.isPrivate=!0,ue.isPublic=!0;var T=new et,Z=ue.n.toString(16),oe=ue.e.toString(16);return T.setPublic(Z,oe),T.isPrivate=!1,T.isPublic=!0,(Ee={}).prvKeyObj=ue,Ee.pubKeyObj=T,Ee}if("EC"==w){var ue,Ee,Ce=b,Re=new xe.crypto.ECDSA({curve:Ce}).generateKeyPairHex();return(ue=new xe.crypto.ECDSA({curve:Ce})).setPublicKeyHex(Re.ecpubhex),ue.setPrivateKeyHex(Re.ecprvhex),ue.isPrivate=!0,ue.isPublic=!1,(T=new xe.crypto.ECDSA({curve:Ce})).setPublicKeyHex(Re.ecpubhex),T.isPrivate=!1,T.isPublic=!0,(Ee={}).prvKeyObj=ue,Ee.pubKeyObj=T,Ee}throw"unknown algorithm: "+w},qn.getPEM=function(w,b,k,T,Z,oe){var Ee=xe.asn1,Ce=Ee.DERObjectIdentifier,Re=Ee.DERInteger,Me=Ee.ASN1Util.newObject,$e=xe.crypto,We=$e.DSA,st=$e.ECDSA,mt=et;function ht(Dt){return Me({seq:[{int:0},{int:{bigint:Dt.n}},{int:Dt.e},{int:{bigint:Dt.d}},{int:{bigint:Dt.p}},{int:{bigint:Dt.q}},{int:{bigint:Dt.dmp1}},{int:{bigint:Dt.dmq1}},{int:{bigint:Dt.coeff}}]})}function Ie(Dt){return Me({seq:[{int:1},{octstr:{hex:Dt.prvKeyHex}},{tag:["a0",!0,{oid:{name:Dt.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+Dt.pubKeyHex}}]}]})}function Ge(Dt){return Me({seq:[{int:0},{int:{bigint:Dt.p}},{int:{bigint:Dt.q}},{int:{bigint:Dt.g}},{int:{bigint:Dt.y}},{int:{bigint:Dt.x}}]})}if((void 0!==mt&&w instanceof mt||void 0!==We&&w instanceof We||void 0!==st&&w instanceof st)&&1==w.isPublic&&(void 0===b||"PKCS8PUB"==b))return fr(gt=new(0,Ee.x509.SubjectPublicKeyInfo)(w).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==b&&void 0!==mt&&w instanceof mt&&(void 0===k||null==k)&&1==w.isPrivate)return fr(gt=ht(w).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==b&&void 0!==st&&w instanceof st&&(void 0===k||null==k)&&1==w.isPrivate){var qe=new Ce({name:w.curveName}).getEncodedHex(),Je=Ie(w).getEncodedHex(),ut="";return(ut+=fr(qe,"EC PARAMETERS"))+fr(Je,"EC PRIVATE KEY")}if("PKCS1PRV"==b&&void 0!==We&&w instanceof We&&(void 0===k||null==k)&&1==w.isPrivate)return fr(gt=Ge(w).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==b&&void 0!==mt&&w instanceof mt&&void 0!==k&&null!=k&&1==w.isPrivate){var gt=ht(w).getEncodedHex();return void 0===T&&(T="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",gt,k,T,oe)}if("PKCS5PRV"==b&&void 0!==st&&w instanceof st&&void 0!==k&&null!=k&&1==w.isPrivate)return gt=Ie(w).getEncodedHex(),void 0===T&&(T="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",gt,k,T,oe);if("PKCS5PRV"==b&&void 0!==We&&w instanceof We&&void 0!==k&&null!=k&&1==w.isPrivate)return gt=Ge(w).getEncodedHex(),void 0===T&&(T="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",gt,k,T,oe);var Bt=function($t,Ln){var Yn=Pt($t,Ln);return new Me({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:Yn.pbkdf2Salt}},{int:Yn.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:Yn.encryptionSchemeIV}}]}]}]},{octstr:{hex:Yn.ciphertext}}]}).getEncodedHex()},Pt=function($t,Ln){var Yn=L.lib.WordArray.random(8),Wn=L.lib.WordArray.random(8),jr=L.PBKDF2(Ln,Yn,{keySize:6,iterations:100}),Or=L.enc.Hex.parse($t),yr=L.TripleDES.encrypt(Or,jr,{iv:Wn})+"",pr={};return pr.ciphertext=yr,pr.pbkdf2Salt=L.enc.Hex.stringify(Yn),pr.pbkdf2Iter=100,pr.encryptionSchemeAlg="DES-EDE3-CBC",pr.encryptionSchemeIV=L.enc.Hex.stringify(Wn),pr};if("PKCS8PRV"==b&&null!=mt&&w instanceof mt&&1==w.isPrivate){var cn=ht(w).getEncodedHex();return gt=Me({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:cn}}]}).getEncodedHex(),void 0===k||null==k?fr(gt,"PRIVATE KEY"):fr(Je=Bt(gt,k),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==b&&void 0!==st&&w instanceof st&&1==w.isPrivate)return cn=new Me({seq:[{int:1},{octstr:{hex:w.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+w.pubKeyHex}}]}]}).getEncodedHex(),gt=Me({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:w.curveName}}]},{octstr:{hex:cn}}]}).getEncodedHex(),void 0===k||null==k?fr(gt,"PRIVATE KEY"):fr(Je=Bt(gt,k),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==b&&void 0!==We&&w instanceof We&&1==w.isPrivate)return cn=new Re({bigint:w.x}).getEncodedHex(),gt=Me({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:w.p}},{int:{bigint:w.q}},{int:{bigint:w.g}}]}]},{octstr:{hex:cn}}]}).getEncodedHex(),void 0===k||null==k?fr(gt,"PRIVATE KEY"):fr(Je=Bt(gt,k),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},qn.getKeyFromCSRPEM=function(w){var b=Nr(w,"CERTIFICATE REQUEST");return qn.getKeyFromCSRHex(b)},qn.getKeyFromCSRHex=function(w){var b=qn.parseCSRHex(w);return qn.getKey(b.p8pubkeyhex,null,"pkcs8pub")},qn.parseCSRHex=function(w){var k=Rt.getChildIdx,T=Rt.getTLV,Z={},oe=w;if("30"!=oe.substr(0,2))throw"malformed CSR(code:001)";var ue=k(oe,0);if(ue.length<1)throw"malformed CSR(code:002)";if("30"!=oe.substr(ue[0],2))throw"malformed CSR(code:003)";var Ee=k(oe,ue[0]);if(Ee.length<3)throw"malformed CSR(code:004)";return Z.p8pubkeyhex=T(oe,Ee[2]),Z},qn.getKeyID=function(w){var b=qn,k=Rt;"string"==typeof w&&-1!=w.indexOf("BEGIN ")&&(w=b.getKey(w));var T=Nr(b.getPEM(w)),Z=k.getIdxbyList(T,0,[1]),oe=k.getV(T,Z).substring(2);return xe.crypto.Util.hashHex(oe,"sha1")},qn.getJWKFromKey=function(w){var b={};if(w instanceof et&&w.isPrivate)return b.kty="RSA",b.n=zt(w.n.toString(16)),b.e=zt(w.e.toString(16)),b.d=zt(w.d.toString(16)),b.p=zt(w.p.toString(16)),b.q=zt(w.q.toString(16)),b.dp=zt(w.dmp1.toString(16)),b.dq=zt(w.dmq1.toString(16)),b.qi=zt(w.coeff.toString(16)),b;if(w instanceof et&&w.isPublic)return b.kty="RSA",b.n=zt(w.n.toString(16)),b.e=zt(w.e.toString(16)),b;if(w instanceof xe.crypto.ECDSA&&w.isPrivate){if("P-256"!==(T=w.getShortNISTPCurveName())&&"P-384"!==T)throw"unsupported curve name for JWT: "+T;var k=w.getPublicKeyXYHex();return b.kty="EC",b.crv=T,b.x=zt(k.x),b.y=zt(k.y),b.d=zt(w.prvKeyHex),b}if(w instanceof xe.crypto.ECDSA&&w.isPublic){var T;if("P-256"!==(T=w.getShortNISTPCurveName())&&"P-384"!==T)throw"unsupported curve name for JWT: "+T;return k=w.getPublicKeyXYHex(),b.kty="EC",b.crv=T,b.x=zt(k.x),b.y=zt(k.y),b}throw"not supported key object"},et.getPosArrayOfChildrenFromHex=function(w){return Rt.getChildIdx(w,0)},et.getHexValueArrayOfChildrenFromHex=function(w){var b,k=Rt.getV,T=k(w,(b=et.getPosArrayOfChildrenFromHex(w))[0]),Z=k(w,b[1]),oe=k(w,b[2]),ue=k(w,b[3]),Ee=k(w,b[4]),Ce=k(w,b[5]),Re=k(w,b[6]),Me=k(w,b[7]),je=k(w,b[8]);return(b=new Array).push(T,Z,oe,ue,Ee,Ce,Re,Me,je),b},et.prototype.readPrivateKeyFromPEMString=function(w){var b=Nr(w),k=et.getHexValueArrayOfChildrenFromHex(b);this.setPrivateEx(k[1],k[2],k[3],k[4],k[5],k[6],k[7],k[8])},et.prototype.readPKCS5PrvKeyHex=function(w){var b=et.getHexValueArrayOfChildrenFromHex(w);this.setPrivateEx(b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8])},et.prototype.readPKCS8PrvKeyHex=function(w){var b,k,T,Z,oe,ue,Ee,Ce,Me=Rt.getVbyListEx;if(!1===Rt.isASN1HEX(w))throw new Error("not ASN.1 hex string");try{b=Me(w,0,[2,0,1],"02"),k=Me(w,0,[2,0,2],"02"),T=Me(w,0,[2,0,3],"02"),Z=Me(w,0,[2,0,4],"02"),oe=Me(w,0,[2,0,5],"02"),ue=Me(w,0,[2,0,6],"02"),Ee=Me(w,0,[2,0,7],"02"),Ce=Me(w,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(b,k,T,Z,oe,ue,Ee,Ce)},et.prototype.readPKCS5PubKeyHex=function(w){var b=Rt,k=b.getV;if(!1===b.isASN1HEX(w))throw new Error("keyHex is not ASN.1 hex string");var T=b.getChildIdx(w,0);if(2!==T.length||"02"!==w.substr(T[0],2)||"02"!==w.substr(T[1],2))throw new Error("wrong hex for PKCS#5 public key");var Z=k(w,T[0]),oe=k(w,T[1]);this.setPublic(Z,oe)},et.prototype.readPKCS8PubKeyHex=function(w){var b=Rt;if(!1===b.isASN1HEX(w))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==b.getTLVbyListEx(w,0,[0,0]))throw new Error("not PKCS8 RSA public key");var k=b.getTLVbyListEx(w,0,[1,0]);this.readPKCS5PubKeyHex(k)},et.prototype.readCertPubKeyHex=function(w,b){var k,T;(k=new Pn).readCertHex(w),T=k.getPublicKeyHex(),this.readPKCS8PubKeyHex(T)};var ua=new RegExp("[^0-9a-f]","gi");function ei(w,b){for(var k="",T=b/4-w.length,Z=0;Z<T;Z++)k+="0";return k+w}function di(w,b,k){for(var T="",Z=0;T.length<b;)T+=Gn(k(gr(w+String.fromCharCode.apply(String,[(4278190080&Z)>>24,(16711680&Z)>>16,(65280&Z)>>8,255&Z])))),Z+=1;return T}function qi(w){for(var b in xe.crypto.Util.DIGESTINFOHEAD){var k=xe.crypto.Util.DIGESTINFOHEAD[b],T=k.length;if(w.substring(0,T)==k)return[b,w.substring(T)]}return[]}function Pn(w){var b,k=Rt,T=k.getChildIdx,Z=k.getV,oe=k.getTLV,ue=k.getVbyList,Ee=k.getVbyListEx,Ce=k.getTLVbyList,Re=k.getTLVbyListEx,Me=k.getIdxbyList,je=k.getIdxbyListEx,$e=k.getVidx,We=k.oidname,st=k.hextooidstr,mt=Pn,ht=Nr;try{b=xe.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==Ce(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return Ee(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var Ie=Re(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(Ie)},this.getAlgorithmIdentifierName=function(Ie){for(var Ge in b)if(Ie===b[Ge])return Ge;return We(Ee(Ie,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return Ce(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return mt.hex2dn(this.getIssuerHex())},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return Ce(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return mt.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var Ie=ue(this.hex,0,[0,4+this.foffset,0]);return Ie=Ie.replace(/(..)/g,"%$1"),decodeURIComponent(Ie)},this.getNotAfter=function(){var Ie=ue(this.hex,0,[0,4+this.foffset,1]);return Ie=Ie.replace(/(..)/g,"%$1"),decodeURIComponent(Ie)},this.getPublicKeyHex=function(){return k.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return Me(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var Ie=this.getPublicKeyIdx();return Me(this.hex,Ie,[1,0],"30")},this.getPublicKey=function(){return qn.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var Ie=Ce(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(Ie)},this.getSignatureValueHex=function(){return ue(this.hex,0,[2],"03",!0)},this.verifySignature=function(Ie){var Ge=this.getSignatureAlgorithmField(),qe=this.getSignatureValueHex(),Je=Ce(this.hex,0,[0],"30"),ut=new xe.crypto.Signature({alg:Ge});return ut.init(Ie),ut.updateHex(Je),ut.verify(qe)},this.parseExt=function(Ie){var Ge,qe,Je;if(void 0===Ie){if(3!==this.version)return-1;Ge=Me(Je=this.hex,0,[0,7,0],"30"),qe=T(Je,Ge)}else{Je=Nr(Ie);var ut=Me(Je,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=Z(Je,ut))return void(this.aExtInfo=new Array);Ge=Me(Je,0,[0,3,0,1,0],"30"),qe=T(Je,Ge),this.hex=Je}this.aExtInfo=new Array;for(var gt=0;gt<qe.length;gt++){var Bt={critical:!1},Pt=0;3===T(Je,qe[gt]).length&&(Bt.critical=!0,Pt=1),Bt.oid=k.hextooidstr(ue(Je,qe[gt],[0],"06"));var cn=Me(Je,qe[gt],[1+Pt]);Bt.vidx=$e(Je,cn),this.aExtInfo.push(Bt)}},this.getExtInfo=function(Ie){var Ge=this.aExtInfo,qe=Ie;if(Ie.match(/^[0-9.]+$/)||(qe=xe.asn1.x509.OID.name2oid(Ie)),""!==qe)for(var Je=0;Je<Ge.length;Je++)if(Ge[Je].oid===qe)return Ge[Je]},this.getExtBasicConstraints=function(Ie,Ge){if(void 0===Ie&&void 0===Ge){var qe=this.getExtInfo("basicConstraints");if(void 0===qe)return;Ie=oe(this.hex,qe.vidx),Ge=qe.critical}var Je={extname:"basicConstraints"};if(Ge&&(Je.critical=!0),"3000"===Ie)return Je;if("30030101ff"===Ie)return Je.cA=!0,Je;if("30060101ff02"===Ie.substr(0,12)){var ut=Z(Ie,10),gt=parseInt(ut,16);return Je.cA=!0,Je.pathLen=gt,Je}throw new Error("hExtV parse error: "+Ie)},this.getExtKeyUsage=function(Ie,Ge){if(void 0===Ie&&void 0===Ge){var qe=this.getExtInfo("keyUsage");if(void 0===qe)return;Ie=oe(this.hex,qe.vidx),Ge=qe.critical}var Je={extname:"keyUsage"};return Ge&&(Je.critical=!0),Je.names=this.getExtKeyUsageString(Ie).split(","),Je},this.getExtKeyUsageBin=function(Ie){if(void 0===Ie){var Ge=this.getExtInfo("keyUsage");if(void 0===Ge)return"";Ie=oe(this.hex,Ge.vidx)}if(8!=Ie.length&&10!=Ie.length)throw new Error("malformed key usage value: "+Ie);var qe="000000000000000"+parseInt(Ie.substr(6),16).toString(2);return 8==Ie.length&&(qe=qe.slice(-8)),10==Ie.length&&(qe=qe.slice(-16)),""==(qe=qe.replace(/0+$/,""))&&(qe="0"),qe},this.getExtKeyUsageString=function(Ie){for(var Ge=this.getExtKeyUsageBin(Ie),qe=new Array,Je=0;Je<Ge.length;Je++)"1"==Ge.substr(Je,1)&&qe.push(Pn.KEYUSAGE_NAME[Je]);return qe.join(",")},this.getExtSubjectKeyIdentifier=function(Ie,Ge){if(void 0===Ie&&void 0===Ge){var qe=this.getExtInfo("subjectKeyIdentifier");if(void 0===qe)return;Ie=oe(this.hex,qe.vidx),Ge=qe.critical}var Je={extname:"subjectKeyIdentifier"};Ge&&(Je.critical=!0);var ut=Z(Ie,0);return Je.kid={hex:ut},Je},this.getExtAuthorityKeyIdentifier=function(Ie,Ge){if(void 0===Ie&&void 0===Ge){var qe=this.getExtInfo("authorityKeyIdentifier");if(void 0===qe)return;Ie=oe(this.hex,qe.vidx),Ge=qe.critical}var Je={extname:"authorityKeyIdentifier"};Ge&&(Je.critical=!0);for(var ut=T(Ie,0),gt=0;gt<ut.length;gt++){var Bt=Ie.substr(ut[gt],2);if("80"===Bt&&(Je.kid={hex:Z(Ie,ut[gt])}),"a1"===Bt){var Pt=oe(Ie,ut[gt]),cn=this.getGeneralNames(Pt);Je.issuer=cn[0].dn}"82"===Bt&&(Je.sn={hex:Z(Ie,ut[gt])})}return Je},this.getExtExtKeyUsage=function(Ie,Ge){if(void 0===Ie&&void 0===Ge){var qe=this.getExtInfo("extKeyUsage");if(void 0===qe)return;Ie=oe(this.hex,qe.vidx),Ge=qe.critical}var Je={extname:"extKeyUsage",array:[]};Ge&&(Je.critical=!0);for(var ut=T(Ie,0),gt=0;gt<ut.length;gt++)Je.array.push(We(Z(Ie,ut[gt])));return Je},this.getExtExtKeyUsageName=function(){var Ie=this.getExtInfo("extKeyUsage");if(void 0===Ie)return Ie;var Ge=new Array,qe=oe(this.hex,Ie.vidx);if(""===qe)return Ge;for(var Je=T(qe,0),ut=0;ut<Je.length;ut++)Ge.push(We(Z(qe,Je[ut])));return Ge},this.getExtSubjectAltName=function(Ie,Ge){if(void 0===Ie&&void 0===Ge){var qe=this.getExtInfo("subjectAltName");if(void 0===qe)return;Ie=oe(this.hex,qe.vidx),Ge=qe.critical}var Je={extname:"subjectAltName",array:[]};return Ge&&(Je.critical=!0),Je.array=this.getGeneralNames(Ie),Je},this.getExtIssuerAltName=function(Ie,Ge){if(void 0===Ie&&void 0===Ge){var qe=this.getExtInfo("issuerAltName");if(void 0===qe)return;Ie=oe(this.hex,qe.vidx),Ge=qe.critical}var Je={extname:"issuerAltName",array:[]};return Ge&&(Je.critical=!0),Je.array=this.getGeneralNames(Ie),Je},this.getGeneralNames=function(Ie){for(var Ge=T(Ie,0),qe=[],Je=0;Je<Ge.length;Je++){var ut=this.getGeneralName(oe(Ie,Ge[Je]));void 0!==ut&&qe.push(ut)}return qe},this.getGeneralName=function(Ie){var Ge=Ie.substr(0,2),qe=Z(Ie,0),Je=Gn(qe);return"81"==Ge?{rfc822:Je}:"82"==Ge?{dns:Je}:"86"==Ge?{uri:Je}:"87"==Ge?{ip:Pa(qe)}:"a4"==Ge?{dn:this.getX500Name(qe)}:void 0},this.getExtSubjectAltName2=function(){var Ie,Ge,qe,Je=this.getExtInfo("subjectAltName");if(void 0===Je)return Je;for(var ut=new Array,gt=oe(this.hex,Je.vidx),Bt=T(gt,0),Pt=0;Pt<Bt.length;Pt++)qe=gt.substr(Bt[Pt],2),Ie=Z(gt,Bt[Pt]),"81"===qe&&(Ge=wn(Ie),ut.push(["MAIL",Ge])),"82"===qe&&(Ge=wn(Ie),ut.push(["DNS",Ge])),"84"===qe&&(Ge=Pn.hex2dn(Ie,0),ut.push(["DN",Ge])),"86"===qe&&(Ge=wn(Ie),ut.push(["URI",Ge])),"87"===qe&&(Ge=Pa(Ie),ut.push(["IP",Ge]));return ut},this.getExtCRLDistributionPoints=function(Ie,Ge){if(void 0===Ie&&void 0===Ge){var qe=this.getExtInfo("cRLDistributionPoints");if(void 0===qe)return;Ie=oe(this.hex,qe.vidx),Ge=qe.critical}var Je={extname:"cRLDistributionPoints",array:[]};Ge&&(Je.critical=!0);for(var ut=T(Ie,0),gt=0;gt<ut.length;gt++){var Bt=oe(Ie,ut[gt]);Je.array.push(this.getDistributionPoint(Bt))}return Je},this.getDistributionPoint=function(Ie){for(var Ge={},qe=T(Ie,0),Je=0;Je<qe.length;Je++){var ut=Ie.substr(qe[Je],2),gt=oe(Ie,qe[Je]);"a0"==ut&&(Ge.dpname=this.getDistributionPointName(gt))}return Ge},this.getDistributionPointName=function(Ie){for(var Ge={},qe=T(Ie,0),Je=0;Je<qe.length;Je++){var ut=Ie.substr(qe[Je],2),gt=oe(Ie,qe[Je]);"a0"==ut&&(Ge.full=this.getGeneralNames(gt))}return Ge},this.getExtCRLDistributionPointsURI=function(){var Ie=this.getExtInfo("cRLDistributionPoints");if(void 0===Ie)return Ie;for(var Ge=new Array,qe=T(this.hex,Ie.vidx),Je=0;Je<qe.length;Je++)try{var ut=wn(ue(this.hex,qe[Je],[0,0,0],"86"));Ge.push(ut)}catch{}return Ge},this.getExtAIAInfo=function(){var Ie=this.getExtInfo("authorityInfoAccess");if(void 0===Ie)return Ie;for(var Ge={ocsp:[],caissuer:[]},qe=T(this.hex,Ie.vidx),Je=0;Je<qe.length;Je++){var ut=ue(this.hex,qe[Je],[0],"06"),gt=ue(this.hex,qe[Je],[1],"86");"2b06010505073001"===ut&&Ge.ocsp.push(wn(gt)),"2b06010505073002"===ut&&Ge.caissuer.push(wn(gt))}return Ge},this.getExtAuthorityInfoAccess=function(Ie,Ge){if(void 0===Ie&&void 0===Ge){var qe=this.getExtInfo("authorityInfoAccess");if(void 0===qe)return;Ie=oe(this.hex,qe.vidx),Ge=qe.critical}var Je={extname:"authorityInfoAccess",array:[]};Ge&&(Je.critical=!0);for(var ut=T(Ie,0),gt=0;gt<ut.length;gt++){var Bt=Ee(Ie,ut[gt],[0],"06"),Pt=wn(ue(Ie,ut[gt],[1],"86"));if("2b06010505073001"==Bt)Je.array.push({ocsp:Pt});else{if("2b06010505073002"!=Bt)throw new Error("unknown method: "+Bt);Je.array.push({caissuer:Pt})}}return Je},this.getExtCertificatePolicies=function(Ie,Ge){if(void 0===Ie&&void 0===Ge){var qe=this.getExtInfo("certificatePolicies");if(void 0===qe)return;Ie=oe(this.hex,qe.vidx),Ge=qe.critical}var Je={extname:"certificatePolicies",array:[]};Ge&&(Je.critical=!0);for(var ut=T(Ie,0),gt=0;gt<ut.length;gt++){var Bt=oe(Ie,ut[gt]),Pt=this.getPolicyInformation(Bt);Je.array.push(Pt)}return Je},this.getPolicyInformation=function(Ie){var Ge={},qe=ue(Ie,0,[0],"06");Ge.policyoid=We(qe);var Je=je(Ie,0,[1],"30");if(-1!=Je){Ge.array=[];for(var ut=T(Ie,Je),gt=0;gt<ut.length;gt++){var Bt=oe(Ie,ut[gt]),Pt=this.getPolicyQualifierInfo(Bt);Ge.array.push(Pt)}}return Ge},this.getPolicyQualifierInfo=function(Ie){var Ge={},qe=ue(Ie,0,[0],"06");if("2b06010505070201"===qe){var Je=Ee(Ie,0,[1],"16");Ge.cps=Gn(Je)}else if("2b06010505070202"===qe){var ut=Ce(Ie,0,[1],"30");Ge.unotice=this.getUserNotice(ut)}return Ge},this.getUserNotice=function(Ie){for(var Ge={},qe=T(Ie,0),Je=0;Je<qe.length;Je++){var ut=oe(Ie,qe[Je]);"30"!=ut.substr(0,2)&&(Ge.exptext=this.getDisplayText(ut))}return Ge},this.getDisplayText=function(Ie){var Ge={};return Ge.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[Ie.substr(0,2)],Ge.str=Gn(Z(Ie,0)),Ge},this.getExtCRLNumber=function(Ie,Ge){var qe={extname:"cRLNumber"};if(Ge&&(qe.critical=!0),"02"==Ie.substr(0,2))return qe.num={hex:Z(Ie,0)},qe;throw new Error("hExtV parse error: "+Ie)},this.getExtCRLReason=function(Ie,Ge){var qe={extname:"cRLReason"};if(Ge&&(qe.critical=!0),"0a"==Ie.substr(0,2))return qe.code=parseInt(Z(Ie,0),16),qe;throw new Error("hExtV parse error: "+Ie)},this.getExtOcspNonce=function(Ie,Ge){var qe={extname:"ocspNonce"};Ge&&(qe.critical=!0);var Je=Z(Ie,0);return qe.hex=Je,qe},this.getExtOcspNoCheck=function(Ie,Ge){var qe={extname:"ocspNoCheck"};return Ge&&(qe.critical=!0),qe},this.getExtAdobeTimeStamp=function(Ie,Ge){if(void 0===Ie&&void 0===Ge){var qe=this.getExtInfo("adobeTimeStamp");if(void 0===qe)return;Ie=oe(this.hex,qe.vidx),Ge=qe.critical}var Je={extname:"adobeTimeStamp"};Ge&&(Je.critical=!0);var ut=T(Ie,0);if(ut.length>1){var gt=oe(Ie,ut[1]),Bt=this.getGeneralName(gt);null!=Bt.uri&&(Je.uri=Bt.uri)}if(ut.length>2){var Pt=oe(Ie,ut[2]);"0101ff"==Pt&&(Je.reqauth=!0),"010100"==Pt&&(Je.reqauth=!1)}return Je},this.getX500NameRule=function(Ie){for(var Ge=null,qe=[],Je=0;Je<Ie.length;Je++)for(var ut=Ie[Je],gt=0;gt<ut.length;gt++)qe.push(ut[gt]);for(Je=0;Je<qe.length;Je++){var Bt=qe[Je],Pt=Bt.ds,Dt=Bt.type;if("prn"!=Pt&&"utf8"!=Pt&&"ia5"!=Pt)return"mixed";if("ia5"==Pt){if("CN"!=Dt)return"mixed";if(xe.lang.String.isMail(Bt.value))continue;return"mixed"}if("C"==Dt){if("prn"==Pt)continue;return"mixed"}if(null==Ge)Ge=Pt;else if(Ge!==Pt)return"mixed"}return Ge??"prn"},this.getX500Name=function(Ie){var Ge=this.getX500NameArray(Ie);return{array:Ge,str:this.dnarraytostr(Ge)}},this.getX500NameArray=function(Ie){for(var Ge=[],qe=T(Ie,0),Je=0;Je<qe.length;Je++)Ge.push(this.getRDN(oe(Ie,qe[Je])));return Ge},this.getRDN=function(Ie){for(var Ge=[],qe=T(Ie,0),Je=0;Je<qe.length;Je++)Ge.push(this.getAttrTypeAndValue(oe(Ie,qe[Je])));return Ge},this.getAttrTypeAndValue=function(Ie){var Ge={type:null,value:null,ds:null},qe=T(Ie,0),Je=ue(Ie,qe[0],[],"06"),ut=ue(Ie,qe[1],[]),gt=xe.asn1.ASN1Util.oidHexToInt(Je);return Ge.type=xe.asn1.x509.OID.oid2atype(gt),Ge.value=Gn(ut),Ge.ds=this.HEX2STAG[Ie.substr(qe[1],2)],Ge},this.readCertPEM=function(Ie){this.readCertHex(ht(Ie))},this.readCertHex=function(Ie){this.hex=Ie,this.getVersion();try{Me(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var Ie={};return Ie.version=this.getVersion(),Ie.serial={hex:this.getSerialNumberHex()},Ie.sigalg=this.getSignatureAlgorithmField(),Ie.issuer=this.getIssuer(),Ie.notbefore=this.getNotBefore(),Ie.notafter=this.getNotAfter(),Ie.subject=this.getSubject(),Ie.sbjpubkey=fr(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(Ie.ext=this.getExtParamArray()),Ie.sighex=this.getSignatureValueHex(),Ie},this.getExtParamArray=function(Ie){null==Ie&&-1!=je(this.hex,0,[0,"[3]"])&&(Ie=Re(this.hex,0,[0,"[3]",0],"30"));for(var Ge=[],qe=T(Ie,0),Je=0;Je<qe.length;Je++){var ut=oe(Ie,qe[Je]),gt=this.getExtParam(ut);null!=gt&&Ge.push(gt)}return Ge},this.getExtParam=function(Ie){var Ge=T(Ie,0).length;if(2!=Ge&&3!=Ge)throw new Error("wrong number elements in Extension: "+Ge+" "+Ie);var qe=st(ue(Ie,0,[0],"06")),Je=!1;3==Ge&&"0101ff"==Ce(Ie,0,[1])&&(Je=!0);var ut=Ce(Ie,0,[Ge-1,0]),gt=void 0;if("2.5.29.14"==qe?gt=this.getExtSubjectKeyIdentifier(ut,Je):"2.5.29.15"==qe?gt=this.getExtKeyUsage(ut,Je):"2.5.29.17"==qe?gt=this.getExtSubjectAltName(ut,Je):"2.5.29.18"==qe?gt=this.getExtIssuerAltName(ut,Je):"2.5.29.19"==qe?gt=this.getExtBasicConstraints(ut,Je):"2.5.29.31"==qe?gt=this.getExtCRLDistributionPoints(ut,Je):"2.5.29.32"==qe?gt=this.getExtCertificatePolicies(ut,Je):"2.5.29.35"==qe?gt=this.getExtAuthorityKeyIdentifier(ut,Je):"2.5.29.37"==qe?gt=this.getExtExtKeyUsage(ut,Je):"1.3.6.1.5.5.7.1.1"==qe?gt=this.getExtAuthorityInfoAccess(ut,Je):"2.5.29.20"==qe?gt=this.getExtCRLNumber(ut,Je):"2.5.29.21"==qe?gt=this.getExtCRLReason(ut,Je):"1.3.6.1.5.5.7.48.1.2"==qe?gt=this.getExtOcspNonce(ut,Je):"1.3.6.1.5.5.7.48.1.5"==qe?gt=this.getExtOcspNoCheck(ut,Je):"1.2.840.113583.1.1.9.1"==qe&&(gt=this.getExtAdobeTimeStamp(ut,Je)),null!=gt)return gt;var Bt={extname:qe,extn:ut};return Je&&(Bt.critical=!0),Bt},this.findExt=function(Ie,Ge){for(var qe=0;qe<Ie.length;qe++)if(Ie[qe].extname==Ge)return Ie[qe];return null},this.updateExtCDPFullURI=function(Ie,Ge){var qe=this.findExt(Ie,"cRLDistributionPoints");if(null!=qe&&null!=qe.array)for(var Je=qe.array,ut=0;ut<Je.length;ut++)if(null!=Je[ut].dpname&&null!=Je[ut].dpname.full)for(var gt=Je[ut].dpname.full,Bt=0;Bt<gt.length;Bt++){var Pt=gt[ut];null!=Pt.uri&&(Pt.uri=Ge)}},this.updateExtAIAOCSP=function(Ie,Ge){var qe=this.findExt(Ie,"authorityInfoAccess");if(null!=qe&&null!=qe.array)for(var Je=qe.array,ut=0;ut<Je.length;ut++)null!=Je[ut].ocsp&&(Je[ut].ocsp=Ge)},this.updateExtAIACAIssuer=function(Ie,Ge){var qe=this.findExt(Ie,"authorityInfoAccess");if(null!=qe&&null!=qe.array)for(var Je=qe.array,ut=0;ut<Je.length;ut++)null!=Je[ut].caissuer&&(Je[ut].caissuer=Ge)},this.dnarraytostr=function(Ie){return"/"+Ie.map(function(Ge){return Ge.map(function(ut){return(Bt=ut).type+"="+Bt.value;var Bt}).join("+")}).join("/")},this.getInfo=function(){var Ie,Ge,qe,jr,ut=function(jr){for(var Or="",yr=jr.array,pr=0;pr<yr.length;pr++){var vr=yr[pr];if(Or+="    policy oid: "+vr.policyoid+"\n",void 0!==vr.array)for(var mr=0;mr<vr.array.length;mr++){var Br=vr.array[mr];void 0!==Br.cps&&(Or+="    cps: "+Br.cps+"\n")}}return Or},gt=function(jr){for(var Or="",yr=jr.array,pr=0;pr<yr.length;pr++){var vr=yr[pr];try{void 0!==vr.dpname.full[0].uri&&(Or+="    "+vr.dpname.full[0].uri+"\n")}catch{}try{void 0!==vr.dname.full[0].dn.hex&&(Or+="    "+Pn.hex2dn(vr.dpname.full[0].dn.hex)+"\n")}catch{}}return Or},Bt=function(jr){for(var Or="",yr=jr.array,pr=0;pr<yr.length;pr++){var vr=yr[pr];void 0!==vr.caissuer&&(Or+="    caissuer: "+vr.caissuer+"\n"),void 0!==vr.ocsp&&(Or+="    ocsp: "+vr.ocsp+"\n")}return Or};if(Ie="Basic Fields\n",Ie+="  serial number: "+this.getSerialNumberHex()+"\n",Ie+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",Ie+="  issuer: "+this.getIssuerString()+"\n",Ie+="  notBefore: "+this.getNotBefore()+"\n",Ie+="  notAfter: "+this.getNotAfter()+"\n",Ie+="  subject: "+this.getSubjectString()+"\n",Ie+="  subject public key info: \n",Ie+="    key algorithm: "+(Ge=this.getPublicKey()).type+"\n","RSA"===Ge.type&&(Ie+="    n="+$i(Ge.n.toString(16)).substr(0,16)+"...\n",Ie+="    e="+$i(Ge.e.toString(16))+"\n"),null!=(qe=this.aExtInfo)){Ie+="X509v3 Extensions:\n";for(var Pt=0;Pt<qe.length;Pt++){var cn=qe[Pt],Dt=xe.asn1.x509.OID.oid2name(cn.oid);""===Dt&&(Dt=cn.oid);var $t="";if(!0===cn.critical&&($t="CRITICAL"),Ie+="  "+Dt+" "+$t+":\n","basicConstraints"===Dt){var Ln=this.getExtBasicConstraints();void 0===Ln.cA?Ie+="    {}\n":(Ie+="    cA=true",void 0!==Ln.pathLen&&(Ie+=", pathLen="+Ln.pathLen),Ie+="\n")}else if("keyUsage"===Dt)Ie+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===Dt)Ie+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===Dt){var Yn=this.getExtAuthorityKeyIdentifier();void 0!==Yn.kid&&(Ie+="    kid="+Yn.kid.hex+"\n")}else"extKeyUsage"===Dt?Ie+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"===Dt?Ie+="    "+(jr=this.getExtSubjectAltName(),JSON.stringify(jr.array).replace(/[\[\]\{\}\"]/g,"")+"\n"):"cRLDistributionPoints"===Dt?Ie+=gt(this.getExtCRLDistributionPoints()):"authorityInfoAccess"===Dt?Ie+=Bt(this.getExtAuthorityInfoAccess()):"certificatePolicies"===Dt&&(Ie+=ut(this.getExtCertificatePolicies()))}}return(Ie+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof w&&(-1!=w.indexOf("-----BEGIN")?this.readCertPEM(w):xe.lang.String.isHex(w)&&this.readCertHex(w))}et.prototype.sign=function(w,b){var k=function(Z){return xe.crypto.Util.hashString(Z,b)}(w);return this.signWithMessageHash(k,b)},et.prototype.signWithMessageHash=function(w,b){var k=Fe(xe.crypto.Util.getPaddedDigestInfoHex(w,b,this.n.bitLength()),16);return ei(this.doPrivate(k).toString(16),this.n.bitLength())},et.prototype.signPSS=function(w,b,k){var oe,T=(oe=gr(w),xe.crypto.Util.hashHex(oe,b));return void 0===k&&(k=-1),this.signWithMessageHashPSS(T,b,k)},et.prototype.signWithMessageHashPSS=function(w,b,k){var T,Z=Gn(w),oe=Z.length,ue=this.n.bitLength()-1,Ee=Math.ceil(ue/8),Ce=function(Ie){return xe.crypto.Util.hashHex(Ie,b)};if(-1===k||void 0===k)k=oe;else if(-2===k)k=Ee-oe-2;else if(k<-2)throw new Error("invalid salt length");if(Ee<oe+k+2)throw new Error("data too long");var Re="";k>0&&(Re=new Array(k),(new me).nextBytes(Re),Re=String.fromCharCode.apply(String,Re));var Me=Gn(Ce(gr("\0\0\0\0\0\0\0\0"+Z+Re))),je=[];for(T=0;T<Ee-k-oe-2;T+=1)je[T]=0;var $e=String.fromCharCode.apply(String,je)+"\x01"+Re,We=di(Me,$e.length,Ce),st=[];for(T=0;T<$e.length;T+=1)st[T]=$e.charCodeAt(T)^We.charCodeAt(T);for(st[0]&=~(65280>>8*Ee-ue&255),T=0;T<oe;T++)st.push(Me.charCodeAt(T));return st.push(188),ei(this.doPrivate(new pe(st)).toString(16),this.n.bitLength())},et.prototype.verify=function(w,b){var k=Fe(b=(b=b.replace(ua,"")).replace(/[ \n]+/g,""),16);if(k.bitLength()>this.n.bitLength())return 0;var T=qi(this.doPublic(k).toString(16).replace(/^1f+00/,""));return 0!=T.length&&T[1]==xe.crypto.Util.hashString(w,T[0])},et.prototype.verifyWithMessageHash=function(w,b){if(b.length!=Math.ceil(this.n.bitLength()/4))return!1;var k=Fe(b,16);if(k.bitLength()>this.n.bitLength())return 0;var T=qi(this.doPublic(k).toString(16).replace(/^1f+00/,""));return 0!=T.length&&T[1]==w},et.prototype.verifyPSS=function(w,b,k,T){var ue,Z=(ue=gr(w),xe.crypto.Util.hashHex(ue,k));return void 0===T&&(T=-1),this.verifyWithMessageHashPSS(Z,b,k,T)},et.prototype.verifyWithMessageHashPSS=function(w,b,k,T){if(b.length!=Math.ceil(this.n.bitLength()/4))return!1;var Z,oe=new pe(b,16),ue=function(qe){return xe.crypto.Util.hashHex(qe,k)},Ee=Gn(w),Ce=Ee.length,Re=this.n.bitLength()-1,Me=Math.ceil(Re/8);if(-1===T||void 0===T)T=Ce;else if(-2===T)T=Me-Ce-2;else if(T<-2)throw new Error("invalid salt length");if(Me<Ce+T+2)throw new Error("data too long");var je=this.doPublic(oe).toByteArray();for(Z=0;Z<je.length;Z+=1)je[Z]&=255;for(;je.length<Me;)je.unshift(0);if(188!==je[Me-1])throw new Error("encoded message does not end in 0xbc");var $e=(je=String.fromCharCode.apply(String,je)).substr(0,Me-Ce-1),We=je.substr($e.length,Ce),st=65280>>8*Me-Re&255;if(0!=($e.charCodeAt(0)&st))throw new Error("bits beyond keysize not zero");var mt=di(We,$e.length,ue),ht=[];for(Z=0;Z<$e.length;Z+=1)ht[Z]=$e.charCodeAt(Z)^mt.charCodeAt(Z);ht[0]&=~st;var Ie=Me-Ce-T-2;for(Z=0;Z<Ie;Z+=1)if(0!==ht[Z])throw new Error("leftmost octets not zero");if(1!==ht[Ie])throw new Error("0x01 marker not found");return We===Gn(ue(gr("\0\0\0\0\0\0\0\0"+Ee+String.fromCharCode.apply(String,ht.slice(-T)))))},et.SALT_LEN_HLEN=-1,et.SALT_LEN_MAX=-2,et.SALT_LEN_RECOVER=-2,Pn.hex2dn=function(w,b){if(void 0===b&&(b=0),"30"!==w.substr(b,2))throw new Error("malformed DN");for(var k=new Array,T=Rt.getChildIdx(w,b),Z=0;Z<T.length;Z++)k.push(Pn.hex2rdn(w,T[Z]));return"/"+(k=k.map(function(oe){return oe.replace("/","\\/")})).join("/")},Pn.hex2rdn=function(w,b){if(void 0===b&&(b=0),"31"!==w.substr(b,2))throw new Error("malformed RDN");for(var k=new Array,T=Rt.getChildIdx(w,b),Z=0;Z<T.length;Z++)k.push(Pn.hex2attrTypeValue(w,T[Z]));return(k=k.map(function(oe){return oe.replace("+","\\+")})).join("+")},Pn.hex2attrTypeValue=function(w,b){var k=Rt,T=k.getV;if(void 0===b&&(b=0),"30"!==w.substr(b,2))throw new Error("malformed attribute type and value");var Z=k.getChildIdx(w,b);2!==Z.length||w.substr(Z[0],2);var oe=T(w,Z[0]),ue=xe.asn1.ASN1Util.oidHexToInt(oe);return xe.asn1.x509.OID.oid2atype(ue)+"="+Gn(T(w,Z[1]))},Pn.getPublicKeyFromCertHex=function(w){var b=new Pn;return b.readCertHex(w),b.getPublicKey()},Pn.getPublicKeyFromCertPEM=function(w){var b=new Pn;return b.readCertPEM(w),b.getPublicKey()},Pn.getPublicKeyInfoPropOfCertPEM=function(w){var b,k,T=Rt.getVbyList,Z={algparam:null};return(b=new Pn).readCertPEM(w),k=b.getPublicKeyHex(),Z.keyhex=T(k,0,[1],"03").substr(2),Z.algoid=T(k,0,[0,0],"06"),"2a8648ce3d0201"===Z.algoid&&(Z.algparam=T(k,0,[0,1],"06")),Z},Pn.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==xe&&xe||(S.KJUR=xe={}),void 0!==xe.jws&&xe.jws||(xe.jws={}),xe.jws.JWS=function(){var w=xe.jws.JWS.isSafeJSONString;this.parseJWS=function(b,k){if(void 0===this.parsedJWS||!k&&void 0===this.parsedJWS.sigvalH){var T=b.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==T)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var Z=T[1],oe=T[2],ue=T[3],Ee=Z+"."+oe;if(this.parsedJWS={},this.parsedJWS.headB64U=Z,this.parsedJWS.payloadB64U=oe,this.parsedJWS.sigvalB64U=ue,this.parsedJWS.si=Ee,!k){var Ce=gn(ue),Re=Fe(Ce,16);this.parsedJWS.sigvalH=Ce,this.parsedJWS.sigvalBI=Re}var Me=Gt(Z),je=Gt(oe);if(this.parsedJWS.headS=Me,this.parsedJWS.payloadS=je,!w(Me,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+Me}}},xe.jws.JWS.sign=function(w,b,k,T,Z){var oe,ue,Ee,Re=xe.jws.JWS,Me=Re.readSafeJSONString,je=Re.isSafeJSONString,$e=xe.crypto,We=$e.Mac,st=$e.Signature,mt=JSON;if("string"!=typeof b&&"object"!=(void 0===b?"undefined":x(b)))throw"spHeader must be JSON string or object: "+b;if("object"==(void 0===b?"undefined":x(b))&&(oe=mt.stringify(ue=b)),"string"==typeof b){if(!je(oe=b))throw"JWS Head is not safe JSON string: "+oe;ue=Me(oe)}if(Ee=k,"object"==(void 0===k?"undefined":x(k))&&(Ee=mt.stringify(k)),""!=w&&null!=w||void 0===ue.alg||(w=ue.alg),""!=w&&null!=w&&void 0===ue.alg&&(ue.alg=w,oe=mt.stringify(ue)),w!==ue.alg)throw"alg and sHeader.alg doesn't match: "+w+"!="+ue.alg;var ht=null;if(void 0===Re.jwsalg2sigalg[w])throw"unsupported alg name: "+w;ht=Re.jwsalg2sigalg[w];var Ie=xn(oe)+"."+xn(Ee),Ge="";if("Hmac"==ht.substr(0,4)){if(void 0===T)throw"mac key shall be specified for HS* alg";var qe=new We({alg:ht,prov:"cryptojs",pass:T});qe.updateString(Ie),Ge=qe.doFinal()}else if(-1!=ht.indexOf("withECDSA")){(ut=new st({alg:ht})).init(T,Z),ut.updateString(Ie);var Je=ut.sign();Ge=xe.crypto.ECDSA.asn1SigToConcatSig(Je)}else{var ut;"none"!=ht&&((ut=new st({alg:ht})).init(T,Z),ut.updateString(Ie),Ge=ut.sign())}return Ie+"."+zt(Ge)},xe.jws.JWS.verify=function(w,b,k){var T,oe=xe.jws.JWS,ue=oe.readSafeJSONString,Ee=xe.crypto,Ce=Ee.ECDSA,Re=Ee.Mac,Me=Ee.Signature;void 0!==x(et)&&(T=et);var je=w.split(".");if(3!==je.length)return!1;var ht,$e=je[0]+"."+je[1],We=gn(je[2]),st=ue(Gt(je[0])),mt=null;if(void 0===st.alg)throw"algorithm not specified in header";if(ht=(mt=st.alg).substr(0,2),null!=k&&"[object Array]"===Object.prototype.toString.call(k)&&k.length>0&&-1==(":"+k.join(":")+":").indexOf(":"+mt+":"))throw"algorithm '"+mt+"' not accepted in the list";if("none"!=mt&&null===b)throw"key shall be specified to verify.";if("string"==typeof b&&-1!=b.indexOf("-----BEGIN ")&&(b=qn.getKey(b)),!("RS"!=ht&&"PS"!=ht||b instanceof T))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==ht&&!(b instanceof Ce))throw"key shall be a ECDSA obj for ES* algs";var Ie=null;if(void 0===oe.jwsalg2sigalg[st.alg])throw"unsupported alg name: "+mt;if("none"==(Ie=oe.jwsalg2sigalg[mt]))throw"not supported";if("Hmac"==Ie.substr(0,4)){if(void 0===b)throw"hexadecimal key shall be specified for HMAC";var Ge=new Re({alg:Ie,pass:b});return Ge.updateString($e),We==Ge.doFinal()}if(-1!=Ie.indexOf("withECDSA")){var qe,Je=null;try{Je=Ce.concatSigToASN1Sig(We)}catch{return!1}return(qe=new Me({alg:Ie})).init(b),qe.updateString($e),qe.verify(Je)}return(qe=new Me({alg:Ie})).init(b),qe.updateString($e),qe.verify(We)},xe.jws.JWS.parse=function(w){var k,T,Z=w.split("."),oe={};if(2!=Z.length&&3!=Z.length)throw"malformed sJWS: wrong number of '.' splitted elements";return k=Z[1],3==Z.length&&(T=Z[2]),oe.headerObj=xe.jws.JWS.readSafeJSONString(Gt(Z[0])),oe.payloadObj=xe.jws.JWS.readSafeJSONString(Gt(k)),oe.headerPP=JSON.stringify(oe.headerObj,null,"  "),oe.payloadPP=null==oe.payloadObj?Gt(k):JSON.stringify(oe.payloadObj,null,"  "),void 0!==T&&(oe.sigHex=gn(T)),oe},xe.jws.JWS.verifyJWT=function(w,b,k){var T=xe.jws,Z=T.JWS,oe=Z.readSafeJSONString,ue=Z.inArray,Ee=Z.includedArray,Ce=w.split("."),Re=Ce[0],Me=Ce[1],je=(gn(Ce[2]),oe(Gt(Re))),$e=oe(Gt(Me));if(void 0===je.alg)return!1;if(void 0===k.alg)throw"acceptField.alg shall be specified";if(!ue(je.alg,k.alg)||void 0!==$e.iss&&"object"===x(k.iss)&&!ue($e.iss,k.iss)||void 0!==$e.sub&&"object"===x(k.sub)&&!ue($e.sub,k.sub))return!1;if(void 0!==$e.aud&&"object"===x(k.aud))if("string"==typeof $e.aud){if(!ue($e.aud,k.aud))return!1}else if("object"==x($e.aud)&&!Ee($e.aud,k.aud))return!1;var We=T.IntDate.getNow();return void 0!==k.verifyAt&&"number"==typeof k.verifyAt&&(We=k.verifyAt),void 0!==k.gracePeriod&&"number"==typeof k.gracePeriod||(k.gracePeriod=0),!(void 0!==$e.exp&&"number"==typeof $e.exp&&$e.exp+k.gracePeriod<We||void 0!==$e.nbf&&"number"==typeof $e.nbf&&We<$e.nbf-k.gracePeriod||void 0!==$e.iat&&"number"==typeof $e.iat&&We<$e.iat-k.gracePeriod||void 0!==$e.jti&&void 0!==k.jti&&$e.jti!==k.jti||!Z.verify(w,b,k.alg))},xe.jws.JWS.includedArray=function(w,b){var k=xe.jws.JWS.inArray;if(null===w||"object"!==(void 0===w?"undefined":x(w))||"number"!=typeof w.length)return!1;for(var T=0;T<w.length;T++)if(!k(w[T],b))return!1;return!0},xe.jws.JWS.inArray=function(w,b){if(null===b||"object"!==(void 0===b?"undefined":x(b))||"number"!=typeof b.length)return!1;for(var k=0;k<b.length;k++)if(b[k]==w)return!0;return!1},xe.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},xe.jws.JWS.isSafeJSONString=function(w,b,k){var T=null;try{return"object"!=(void 0===(T=Jt(w))?"undefined":x(T))||T.constructor===Array?0:(b&&(b[k]=T),1)}catch{return 0}},xe.jws.JWS.readSafeJSONString=function(w){var b=null;try{return"object"!=(void 0===(b=Jt(w))?"undefined":x(b))||b.constructor===Array?null:b}catch{return null}},xe.jws.JWS.getEncodedSignatureValueFromJWS=function(w){var b=w.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==b)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return b[1]},xe.jws.JWS.getJWKthumbprint=function(w){if("RSA"!==w.kty&&"EC"!==w.kty&&"oct"!==w.kty)throw"unsupported algorithm for JWK Thumprint";var b="{";if("RSA"===w.kty){if("string"!=typeof w.n||"string"!=typeof w.e)throw"wrong n and e value for RSA key";b+='"e":"'+w.e+'",',b+='"kty":"'+w.kty+'",',b+='"n":"'+w.n+'"}'}else if("EC"===w.kty){if("string"!=typeof w.crv||"string"!=typeof w.x||"string"!=typeof w.y)throw"wrong crv, x and y value for EC key";b+='"crv":"'+w.crv+'",',b+='"kty":"'+w.kty+'",',b+='"x":"'+w.x+'",',b+='"y":"'+w.y+'"}'}else if("oct"===w.kty){if("string"!=typeof w.k)throw"wrong k value for oct(symmetric) key";b+='"kty":"'+w.kty+'",',b+='"k":"'+w.k+'"}'}var k=gr(b);return zt(xe.crypto.Util.hashHex(k,"sha256"))},xe.jws.IntDate={},xe.jws.IntDate.get=function(w){var b=xe.jws.IntDate,k=b.getNow,T=b.getZulu;if("now"==w)return k();if("now + 1hour"==w)return k()+3600;if("now + 1day"==w)return k()+86400;if("now + 1month"==w)return k()+2592e3;if("now + 1year"==w)return k()+31536e3;if(w.match(/Z$/))return T(w);if(w.match(/^[0-9]+$/))return parseInt(w);throw"unsupported format: "+w},xe.jws.IntDate.getZulu=function(w){return sa(w)},xe.jws.IntDate.getNow=function(){return~~(new Date/1e3)},xe.jws.IntDate.intDate2UTCString=function(w){return new Date(1e3*w).toUTCString()},xe.jws.IntDate.intDate2Zulu=function(w){var b=new Date(1e3*w);return("0000"+b.getUTCFullYear()).slice(-4)+("00"+(b.getUTCMonth()+1)).slice(-2)+("00"+b.getUTCDate()).slice(-2)+("00"+b.getUTCHours()).slice(-2)+("00"+b.getUTCMinutes()).slice(-2)+("00"+b.getUTCSeconds()).slice(-2)+"Z"},S.SecureRandom=me,S.rng_seed_time=ge,S.BigInteger=pe,S.RSAKey=et,S.EDSA=xe.crypto.EDSA,S.DSA=xe.crypto.DSA,S.Signature=xe.crypto.Signature,S.MessageDigest=xe.crypto.MessageDigest,S.Mac=xe.crypto.Mac,S.Cipher=xe.crypto.Cipher,S.KEYUTIL=qn,S.ASN1HEX=Rt,S.X509=Pn,S.CryptoJS=L,S.b64tohex=ye,S.b64toBA=be,S.stoBA=bn,S.BAtos=dt,S.BAtohex=yt,S.stohex=on,S.stob64=function(b){return ee(on(b))},S.stob64u=function(b){return hn(ee(on(b)))},S.b64utos=function(b){return dt(be(Bn(b)))},S.b64tob64u=hn,S.b64utob64=Bn,S.hex2b64=ee,S.hextob64u=zt,S.b64utohex=gn,S.utf8tob64u=xn,S.b64utoutf8=Gt,S.utf8tob64=function(b){return ee(Gi($r(b)))},S.b64toutf8=function(b){return decodeURIComponent(vi(ye(b)))},S.utf8tohex=Pr,S.hextoutf8=wn,S.hextorstr=Gn,S.rstrtohex=gr,S.hextob64=Zr,S.hextob64nl=$n,S.b64nltohex=Rr,S.hextopem=fr,S.pemtohex=Nr,S.hextoArrayBuffer=function(b){if(b.length%2!=0)throw"input is not even length";if(null==b.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var k=new ArrayBuffer(b.length/2),T=new DataView(k),Z=0;Z<b.length/2;Z++)T.setUint8(Z,parseInt(b.substr(2*Z,2),16));return k},S.ArrayBuffertohex=function(b){for(var k="",T=new DataView(b),Z=0;Z<b.byteLength;Z++)k+=("00"+T.getUint8(Z).toString(16)).slice(-2);return k},S.zulutomsec=ui,S.zulutosec=sa,S.zulutodate=function(b){return new Date(ui(b))},S.datetozulu=function(b,k,T){var Z,oe=b.getUTCFullYear();if(k){if(oe<1950||2049<oe)throw"not proper year for UTCTime: "+oe;Z=(""+oe).slice(-2)}else Z=("000"+oe).slice(-4);if(Z+=("0"+(b.getUTCMonth()+1)).slice(-2),Z+=("0"+b.getUTCDate()).slice(-2),Z+=("0"+b.getUTCHours()).slice(-2),Z+=("0"+b.getUTCMinutes()).slice(-2),Z+=("0"+b.getUTCSeconds()).slice(-2),T){var ue=b.getUTCMilliseconds();0!==ue&&(Z+="."+(ue=(ue=("00"+ue).slice(-3)).replace(/0+$/g,"")))}return Z+"Z"},S.uricmptohex=Gi,S.hextouricmp=vi,S.ipv6tohex=ci,S.hextoipv6=Vi,S.hextoip=Pa,S.iptohex=function(b){var k="malformed IP address";if(!(b=b.toLowerCase(b)).match(/^[0-9.]+$/)){if(b.match(/^[0-9a-f:]+$/)&&-1!==b.indexOf(":"))return ci(b);throw k}var T=b.split(".");if(4!==T.length)throw k;var Z="";try{for(var oe=0;oe<4;oe++)Z+=("0"+parseInt(T[oe]).toString(16)).slice(-2);return Z}catch{throw k}},S.encodeURIComponentAll=$r,S.newline_toUnix=function(b){return b.replace(/\r\n/gm,"\n")},S.newline_toDos=function(b){return(b=b.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},S.hextoposhex=$i,S.intarystrtohex=function(b){b=(b=(b=b.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return b.split(/,/).map(function(k,T,Z){var oe=parseInt(k);if(oe<0||255<oe)throw"integer not in range 0-255";return("00"+oe.toString(16)).slice(-2)}).join("")}catch(k){throw"malformed integer array string: "+k}},S.strdiffidx=function(b,k){var T=b.length;b.length>k.length&&(T=k.length);for(var Z=0;Z<T;Z++)if(b.charCodeAt(Z)!=k.charCodeAt(Z))return Z;return b.length!=k.length?T:-1},S.KJUR=xe,S.crypto=xe.crypto,S.asn1=xe.asn1,S.jws=xe.jws,S.lang=xe.lang}).call(this,P(28).Buffer)},function(R,S,P){"use strict";(function(a){var x=P(30),F=P(31),j=P(32);function d(){return g.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function h(de,te){if(d()<te)throw new RangeError("Invalid typed array length");return g.TYPED_ARRAY_SUPPORT?(de=new Uint8Array(te)).__proto__=g.prototype:(null===de&&(de=new g(te)),de.length=te),de}function g(de,te,se){if(!(g.TYPED_ARRAY_SUPPORT||this instanceof g))return new g(de,te,se);if("number"==typeof de){if("string"==typeof te)throw new Error("If encoding is specified then the first argument must be a string");return B(this,de)}return N(this,de,te,se)}function N(de,te,se,Pe){if("number"==typeof te)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&te instanceof ArrayBuffer?function(ce,ge,rt,_e){if(rt<0||ge.byteLength<rt)throw new RangeError("'offset' is out of bounds");if(ge.byteLength<rt+(_e||0))throw new RangeError("'length' is out of bounds");return ge=void 0===rt&&void 0===_e?new Uint8Array(ge):void 0===_e?new Uint8Array(ge,rt):new Uint8Array(ge,rt,_e),g.TYPED_ARRAY_SUPPORT?(ce=ge).__proto__=g.prototype:ce=H(ce,ge),ce}(de,te,se,Pe):"string"==typeof te?function(ce,ge,rt){if("string"==typeof rt&&""!==rt||(rt="utf8"),!g.isEncoding(rt))throw new TypeError('"encoding" must be a valid string encoding');var _e=0|K(ge,rt),X=(ce=h(ce,_e)).write(ge,rt);return X!==_e&&(ce=ce.slice(0,X)),ce}(de,te,se):function(ce,ge){if(g.isBuffer(ge)){var rt=0|$(ge.length);return 0===(ce=h(ce,rt)).length||ge.copy(ce,0,0,rt),ce}if(ge){if("undefined"!=typeof ArrayBuffer&&ge.buffer instanceof ArrayBuffer||"length"in ge)return"number"!=typeof ge.length||(X=ge.length)!=X?h(ce,0):H(ce,ge);if("Buffer"===ge.type&&j(ge.data))return H(ce,ge.data)}var X;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(de,te)}function O(de){if("number"!=typeof de)throw new TypeError('"size" argument must be a number');if(de<0)throw new RangeError('"size" argument must not be negative')}function B(de,te){if(O(te),de=h(de,te<0?0:0|$(te)),!g.TYPED_ARRAY_SUPPORT)for(var se=0;se<te;++se)de[se]=0;return de}function H(de,te){var se=te.length<0?0:0|$(te.length);de=h(de,se);for(var Pe=0;Pe<se;Pe+=1)de[Pe]=255&te[Pe];return de}function $(de){if(de>=d())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d().toString(16)+" bytes");return 0|de}function K(de,te){if(g.isBuffer(de))return de.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(de)||de instanceof ArrayBuffer))return de.byteLength;"string"!=typeof de&&(de=""+de);var se=de.length;if(0===se)return 0;for(var Pe=!1;;)switch(te){case"ascii":case"latin1":case"binary":return se;case"utf8":case"utf-8":case void 0:return nt(de).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*se;case"hex":return se>>>1;case"base64":return Be(de).length;default:if(Pe)return nt(de).length;te=(""+te).toLowerCase(),Pe=!0}}function G(de,te,se){var Pe=!1;if((void 0===te||te<0)&&(te=0),te>this.length||((void 0===se||se>this.length)&&(se=this.length),se<=0)||(se>>>=0)<=(te>>>=0))return"";for(de||(de="utf8");;)switch(de){case"hex":return I(this,te,se);case"utf8":case"utf-8":return A(this,te,se);case"ascii":return E(this,te,se);case"latin1":case"binary":return M(this,te,se);case"base64":return y(this,te,se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,te,se);default:if(Pe)throw new TypeError("Unknown encoding: "+de);de=(de+"").toLowerCase(),Pe=!0}}function W(de,te,se){var Pe=de[te];de[te]=de[se],de[se]=Pe}function le(de,te,se,Pe,Le){if(0===de.length)return-1;if("string"==typeof se?(Pe=se,se=0):se>2147483647?se=2147483647:se<-2147483648&&(se=-2147483648),se=+se,isNaN(se)&&(se=Le?0:de.length-1),se<0&&(se=de.length+se),se>=de.length){if(Le)return-1;se=de.length-1}else if(se<0){if(!Le)return-1;se=0}if("string"==typeof te&&(te=g.from(te,Pe)),g.isBuffer(te))return 0===te.length?-1:L(de,te,se,Pe,Le);if("number"==typeof te)return te&=255,g.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?Le?Uint8Array.prototype.indexOf.call(de,te,se):Uint8Array.prototype.lastIndexOf.call(de,te,se):L(de,[te],se,Pe,Le);throw new TypeError("val must be string, number or Buffer")}function L(de,te,se,Pe,Le){var ce,ge=1,rt=de.length,_e=te.length;if(void 0!==Pe&&("ucs2"===(Pe=String(Pe).toLowerCase())||"ucs-2"===Pe||"utf16le"===Pe||"utf-16le"===Pe)){if(de.length<2||te.length<2)return-1;ge=2,rt/=2,_e/=2,se/=2}function X(Fe,He){return 1===ge?Fe[He]:Fe.readUInt16BE(He*ge)}if(Le){var V=-1;for(ce=se;ce<rt;ce++)if(X(de,ce)===X(te,-1===V?0:ce-V)){if(-1===V&&(V=ce),ce-V+1===_e)return V*ge}else-1!==V&&(ce-=ce-V),V=-1}else for(se+_e>rt&&(se=rt-_e),ce=se;ce>=0;ce--){for(var Q=!0,me=0;me<_e;me++)if(X(de,ce+me)!==X(te,me)){Q=!1;break}if(Q)return ce}return-1}function U(de,te,se,Pe){se=Number(se)||0;var Le=de.length-se;Pe?(Pe=Number(Pe))>Le&&(Pe=Le):Pe=Le;var ce=te.length;if(ce%2!=0)throw new TypeError("Invalid hex string");Pe>ce/2&&(Pe=ce/2);for(var ge=0;ge<Pe;++ge){var rt=parseInt(te.substr(2*ge,2),16);if(isNaN(rt))return ge;de[se+ge]=rt}return ge}function z(de,te,se,Pe){return it(nt(te,de.length-se),de,se,Pe)}function ee(de,te,se,Pe){return it(function(ce){for(var ge=[],rt=0;rt<ce.length;++rt)ge.push(255&ce.charCodeAt(rt));return ge}(te),de,se,Pe)}function ye(de,te,se,Pe){return ee(de,te,se,Pe)}function be(de,te,se,Pe){return it(Be(te),de,se,Pe)}function pe(de,te,se,Pe){return it(function(ce,ge){for(var rt,_e,V=[],Q=0;Q<ce.length&&!((ge-=2)<0);++Q)_e=(rt=ce.charCodeAt(Q))>>8,V.push(rt%256),V.push(_e);return V}(te,de.length-se),de,se,Pe)}function y(de,te,se){return x.fromByteArray(0===te&&se===de.length?de:de.slice(te,se))}function A(de,te,se){se=Math.min(de.length,se);for(var Pe=[],Le=te;Le<se;){var ce,ge,rt,_e,X=de[Le],V=null,Q=X>239?4:X>223?3:X>191?2:1;if(Le+Q<=se)switch(Q){case 1:X<128&&(V=X);break;case 2:128==(192&(ce=de[Le+1]))&&(_e=(31&X)<<6|63&ce)>127&&(V=_e);break;case 3:ge=de[Le+2],128==(192&(ce=de[Le+1]))&&128==(192&ge)&&(_e=(15&X)<<12|(63&ce)<<6|63&ge)>2047&&(_e<55296||_e>57343)&&(V=_e);break;case 4:ge=de[Le+2],rt=de[Le+3],128==(192&(ce=de[Le+1]))&&128==(192&ge)&&128==(192&rt)&&(_e=(15&X)<<18|(63&ce)<<12|(63&ge)<<6|63&rt)>65535&&_e<1114112&&(V=_e)}null===V?(V=65533,Q=1):V>65535&&(Pe.push((V-=65536)>>>10&1023|55296),V=56320|1023&V),Pe.push(V),Le+=Q}return function(Fe){var He=Fe.length;if(He<=_)return String.fromCharCode.apply(String,Fe);for(var et="",vt=0;vt<He;)et+=String.fromCharCode.apply(String,Fe.slice(vt,vt+=_));return et}(Pe)}S.Buffer=g,S.SlowBuffer=function(te){return+te!=te&&(te=0),g.alloc(+te)},S.INSPECT_MAX_BYTES=50,g.TYPED_ARRAY_SUPPORT=void 0!==a.TYPED_ARRAY_SUPPORT?a.TYPED_ARRAY_SUPPORT:function(){try{var te=new Uint8Array(1);return te.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===te.foo()&&"function"==typeof te.subarray&&0===te.subarray(1,1).byteLength}catch{return!1}}(),S.kMaxLength=d(),g.poolSize=8192,g._augment=function(de){return de.__proto__=g.prototype,de},g.from=function(de,te,se){return N(null,de,te,se)},g.TYPED_ARRAY_SUPPORT&&(g.prototype.__proto__=Uint8Array.prototype,g.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&g[Symbol.species]===g&&Object.defineProperty(g,Symbol.species,{value:null,configurable:!0})),g.alloc=function(de,te,se){return null,ge=te,rt=se,O(ce=de),ce<=0?h(null,ce):void 0!==ge?"string"==typeof rt?h(null,ce).fill(ge,rt):h(null,ce).fill(ge):h(null,ce);var ce,ge,rt},g.allocUnsafe=function(de){return B(null,de)},g.allocUnsafeSlow=function(de){return B(null,de)},g.isBuffer=function(te){return!(null==te||!te._isBuffer)},g.compare=function(te,se){if(!g.isBuffer(te)||!g.isBuffer(se))throw new TypeError("Arguments must be Buffers");if(te===se)return 0;for(var Pe=te.length,Le=se.length,ce=0,ge=Math.min(Pe,Le);ce<ge;++ce)if(te[ce]!==se[ce]){Pe=te[ce],Le=se[ce];break}return Pe<Le?-1:Le<Pe?1:0},g.isEncoding=function(te){switch(String(te).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(te,se){if(!j(te))throw new TypeError('"list" argument must be an Array of Buffers');if(0===te.length)return g.alloc(0);var Pe;if(void 0===se)for(se=0,Pe=0;Pe<te.length;++Pe)se+=te[Pe].length;var Le=g.allocUnsafe(se),ce=0;for(Pe=0;Pe<te.length;++Pe){var ge=te[Pe];if(!g.isBuffer(ge))throw new TypeError('"list" argument must be an Array of Buffers');ge.copy(Le,ce),ce+=ge.length}return Le},g.byteLength=K,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var te=this.length;if(te%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var se=0;se<te;se+=2)W(this,se,se+1);return this},g.prototype.swap32=function(){var te=this.length;if(te%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var se=0;se<te;se+=4)W(this,se,se+3),W(this,se+1,se+2);return this},g.prototype.swap64=function(){var te=this.length;if(te%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var se=0;se<te;se+=8)W(this,se,se+7),W(this,se+1,se+6),W(this,se+2,se+5),W(this,se+3,se+4);return this},g.prototype.toString=function(){var te=0|this.length;return 0===te?"":0===arguments.length?A(this,0,te):G.apply(this,arguments)},g.prototype.equals=function(te){if(!g.isBuffer(te))throw new TypeError("Argument must be a Buffer");return this===te||0===g.compare(this,te)},g.prototype.inspect=function(){var te="",se=S.INSPECT_MAX_BYTES;return this.length>0&&(te=this.toString("hex",0,se).match(/.{2}/g).join(" "),this.length>se&&(te+=" ... ")),"<Buffer "+te+">"},g.prototype.compare=function(te,se,Pe,Le,ce){if(!g.isBuffer(te))throw new TypeError("Argument must be a Buffer");if(void 0===se&&(se=0),void 0===Pe&&(Pe=te?te.length:0),void 0===Le&&(Le=0),void 0===ce&&(ce=this.length),se<0||Pe>te.length||Le<0||ce>this.length)throw new RangeError("out of range index");if(Le>=ce&&se>=Pe)return 0;if(Le>=ce)return-1;if(se>=Pe)return 1;if(this===te)return 0;for(var ge=(ce>>>=0)-(Le>>>=0),rt=(Pe>>>=0)-(se>>>=0),_e=Math.min(ge,rt),X=this.slice(Le,ce),V=te.slice(se,Pe),Q=0;Q<_e;++Q)if(X[Q]!==V[Q]){ge=X[Q],rt=V[Q];break}return ge<rt?-1:rt<ge?1:0},g.prototype.includes=function(te,se,Pe){return-1!==this.indexOf(te,se,Pe)},g.prototype.indexOf=function(te,se,Pe){return le(this,te,se,Pe,!0)},g.prototype.lastIndexOf=function(te,se,Pe){return le(this,te,se,Pe,!1)},g.prototype.write=function(te,se,Pe,Le){if(void 0===se)Le="utf8",Pe=this.length,se=0;else if(void 0===Pe&&"string"==typeof se)Le=se,Pe=this.length,se=0;else{if(!isFinite(se))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");se|=0,isFinite(Pe)?(Pe|=0,void 0===Le&&(Le="utf8")):(Le=Pe,Pe=void 0)}var ce=this.length-se;if((void 0===Pe||Pe>ce)&&(Pe=ce),te.length>0&&(Pe<0||se<0)||se>this.length)throw new RangeError("Attempt to write outside buffer bounds");Le||(Le="utf8");for(var ge=!1;;)switch(Le){case"hex":return U(this,te,se,Pe);case"utf8":case"utf-8":return z(this,te,se,Pe);case"ascii":return ee(this,te,se,Pe);case"latin1":case"binary":return ye(this,te,se,Pe);case"base64":return be(this,te,se,Pe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,te,se,Pe);default:if(ge)throw new TypeError("Unknown encoding: "+Le);Le=(""+Le).toLowerCase(),ge=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _=4096;function E(de,te,se){var Pe="";se=Math.min(de.length,se);for(var Le=te;Le<se;++Le)Pe+=String.fromCharCode(127&de[Le]);return Pe}function M(de,te,se){var Pe="";se=Math.min(de.length,se);for(var Le=te;Le<se;++Le)Pe+=String.fromCharCode(de[Le]);return Pe}function I(de,te,se){var Pe=de.length;(!te||te<0)&&(te=0),(!se||se<0||se>Pe)&&(se=Pe);for(var Le="",ce=te;ce<se;++ce)Le+=ft(de[ce]);return Le}function ne(de,te,se){for(var Pe=de.slice(te,se),Le="",ce=0;ce<Pe.length;ce+=2)Le+=String.fromCharCode(Pe[ce]+256*Pe[ce+1]);return Le}function fe(de,te,se){if(de%1!=0||de<0)throw new RangeError("offset is not uint");if(de+te>se)throw new RangeError("Trying to access beyond buffer length")}function Ve(de,te,se,Pe,Le,ce){if(!g.isBuffer(de))throw new TypeError('"buffer" argument must be a Buffer instance');if(te>Le||te<ce)throw new RangeError('"value" argument is out of bounds');if(se+Pe>de.length)throw new RangeError("Index out of range")}function ae(de,te,se,Pe){te<0&&(te=65535+te+1);for(var Le=0,ce=Math.min(de.length-se,2);Le<ce;++Le)de[se+Le]=(te&255<<8*(Pe?Le:1-Le))>>>8*(Pe?Le:1-Le)}function ze(de,te,se,Pe){te<0&&(te=4294967295+te+1);for(var Le=0,ce=Math.min(de.length-se,4);Le<ce;++Le)de[se+Le]=te>>>8*(Pe?Le:3-Le)&255}function ot(de,te,se,Pe,Le,ce){if(se+Pe>de.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("Index out of range")}function Ne(de,te,se,Pe,Le){return Le||ot(de,0,se,4),F.write(de,te,se,Pe,23,4),se+4}function Ye(de,te,se,Pe,Le){return Le||ot(de,0,se,8),F.write(de,te,se,Pe,52,8),se+8}g.prototype.slice=function(te,se){var Pe,Le=this.length;if((te=~~te)<0?(te+=Le)<0&&(te=0):te>Le&&(te=Le),(se=void 0===se?Le:~~se)<0?(se+=Le)<0&&(se=0):se>Le&&(se=Le),se<te&&(se=te),g.TYPED_ARRAY_SUPPORT)(Pe=this.subarray(te,se)).__proto__=g.prototype;else{var ce=se-te;Pe=new g(ce,void 0);for(var ge=0;ge<ce;++ge)Pe[ge]=this[ge+te]}return Pe},g.prototype.readUIntLE=function(te,se,Pe){te|=0,se|=0,Pe||fe(te,se,this.length);for(var Le=this[te],ce=1,ge=0;++ge<se&&(ce*=256);)Le+=this[te+ge]*ce;return Le},g.prototype.readUIntBE=function(te,se,Pe){te|=0,se|=0,Pe||fe(te,se,this.length);for(var Le=this[te+--se],ce=1;se>0&&(ce*=256);)Le+=this[te+--se]*ce;return Le},g.prototype.readUInt8=function(te,se){return se||fe(te,1,this.length),this[te]},g.prototype.readUInt16LE=function(te,se){return se||fe(te,2,this.length),this[te]|this[te+1]<<8},g.prototype.readUInt16BE=function(te,se){return se||fe(te,2,this.length),this[te]<<8|this[te+1]},g.prototype.readUInt32LE=function(te,se){return se||fe(te,4,this.length),(this[te]|this[te+1]<<8|this[te+2]<<16)+16777216*this[te+3]},g.prototype.readUInt32BE=function(te,se){return se||fe(te,4,this.length),16777216*this[te]+(this[te+1]<<16|this[te+2]<<8|this[te+3])},g.prototype.readIntLE=function(te,se,Pe){te|=0,se|=0,Pe||fe(te,se,this.length);for(var Le=this[te],ce=1,ge=0;++ge<se&&(ce*=256);)Le+=this[te+ge]*ce;return Le>=(ce*=128)&&(Le-=Math.pow(2,8*se)),Le},g.prototype.readIntBE=function(te,se,Pe){te|=0,se|=0,Pe||fe(te,se,this.length);for(var Le=se,ce=1,ge=this[te+--Le];Le>0&&(ce*=256);)ge+=this[te+--Le]*ce;return ge>=(ce*=128)&&(ge-=Math.pow(2,8*se)),ge},g.prototype.readInt8=function(te,se){return se||fe(te,1,this.length),128&this[te]?-1*(255-this[te]+1):this[te]},g.prototype.readInt16LE=function(te,se){se||fe(te,2,this.length);var Pe=this[te]|this[te+1]<<8;return 32768&Pe?4294901760|Pe:Pe},g.prototype.readInt16BE=function(te,se){se||fe(te,2,this.length);var Pe=this[te+1]|this[te]<<8;return 32768&Pe?4294901760|Pe:Pe},g.prototype.readInt32LE=function(te,se){return se||fe(te,4,this.length),this[te]|this[te+1]<<8|this[te+2]<<16|this[te+3]<<24},g.prototype.readInt32BE=function(te,se){return se||fe(te,4,this.length),this[te]<<24|this[te+1]<<16|this[te+2]<<8|this[te+3]},g.prototype.readFloatLE=function(te,se){return se||fe(te,4,this.length),F.read(this,te,!0,23,4)},g.prototype.readFloatBE=function(te,se){return se||fe(te,4,this.length),F.read(this,te,!1,23,4)},g.prototype.readDoubleLE=function(te,se){return se||fe(te,8,this.length),F.read(this,te,!0,52,8)},g.prototype.readDoubleBE=function(te,se){return se||fe(te,8,this.length),F.read(this,te,!1,52,8)},g.prototype.writeUIntLE=function(te,se,Pe,Le){te=+te,se|=0,Pe|=0,Le||Ve(this,te,se,Pe,Math.pow(2,8*Pe)-1,0);var ce=1,ge=0;for(this[se]=255&te;++ge<Pe&&(ce*=256);)this[se+ge]=te/ce&255;return se+Pe},g.prototype.writeUIntBE=function(te,se,Pe,Le){te=+te,se|=0,Pe|=0,Le||Ve(this,te,se,Pe,Math.pow(2,8*Pe)-1,0);var ce=Pe-1,ge=1;for(this[se+ce]=255&te;--ce>=0&&(ge*=256);)this[se+ce]=te/ge&255;return se+Pe},g.prototype.writeUInt8=function(te,se,Pe){return te=+te,se|=0,Pe||Ve(this,te,se,1,255,0),g.TYPED_ARRAY_SUPPORT||(te=Math.floor(te)),this[se]=255&te,se+1},g.prototype.writeUInt16LE=function(te,se,Pe){return te=+te,se|=0,Pe||Ve(this,te,se,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[se]=255&te,this[se+1]=te>>>8):ae(this,te,se,!0),se+2},g.prototype.writeUInt16BE=function(te,se,Pe){return te=+te,se|=0,Pe||Ve(this,te,se,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[se]=te>>>8,this[se+1]=255&te):ae(this,te,se,!1),se+2},g.prototype.writeUInt32LE=function(te,se,Pe){return te=+te,se|=0,Pe||Ve(this,te,se,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[se+3]=te>>>24,this[se+2]=te>>>16,this[se+1]=te>>>8,this[se]=255&te):ze(this,te,se,!0),se+4},g.prototype.writeUInt32BE=function(te,se,Pe){return te=+te,se|=0,Pe||Ve(this,te,se,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[se]=te>>>24,this[se+1]=te>>>16,this[se+2]=te>>>8,this[se+3]=255&te):ze(this,te,se,!1),se+4},g.prototype.writeIntLE=function(te,se,Pe,Le){if(te=+te,se|=0,!Le){var ce=Math.pow(2,8*Pe-1);Ve(this,te,se,Pe,ce-1,-ce)}var ge=0,rt=1,_e=0;for(this[se]=255&te;++ge<Pe&&(rt*=256);)te<0&&0===_e&&0!==this[se+ge-1]&&(_e=1),this[se+ge]=(te/rt>>0)-_e&255;return se+Pe},g.prototype.writeIntBE=function(te,se,Pe,Le){if(te=+te,se|=0,!Le){var ce=Math.pow(2,8*Pe-1);Ve(this,te,se,Pe,ce-1,-ce)}var ge=Pe-1,rt=1,_e=0;for(this[se+ge]=255&te;--ge>=0&&(rt*=256);)te<0&&0===_e&&0!==this[se+ge+1]&&(_e=1),this[se+ge]=(te/rt>>0)-_e&255;return se+Pe},g.prototype.writeInt8=function(te,se,Pe){return te=+te,se|=0,Pe||Ve(this,te,se,1,127,-128),g.TYPED_ARRAY_SUPPORT||(te=Math.floor(te)),te<0&&(te=255+te+1),this[se]=255&te,se+1},g.prototype.writeInt16LE=function(te,se,Pe){return te=+te,se|=0,Pe||Ve(this,te,se,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[se]=255&te,this[se+1]=te>>>8):ae(this,te,se,!0),se+2},g.prototype.writeInt16BE=function(te,se,Pe){return te=+te,se|=0,Pe||Ve(this,te,se,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[se]=te>>>8,this[se+1]=255&te):ae(this,te,se,!1),se+2},g.prototype.writeInt32LE=function(te,se,Pe){return te=+te,se|=0,Pe||Ve(this,te,se,4,2147483647,-2147483648),g.TYPED_ARRAY_SUPPORT?(this[se]=255&te,this[se+1]=te>>>8,this[se+2]=te>>>16,this[se+3]=te>>>24):ze(this,te,se,!0),se+4},g.prototype.writeInt32BE=function(te,se,Pe){return te=+te,se|=0,Pe||Ve(this,te,se,4,2147483647,-2147483648),te<0&&(te=4294967295+te+1),g.TYPED_ARRAY_SUPPORT?(this[se]=te>>>24,this[se+1]=te>>>16,this[se+2]=te>>>8,this[se+3]=255&te):ze(this,te,se,!1),se+4},g.prototype.writeFloatLE=function(te,se,Pe){return Ne(this,te,se,!0,Pe)},g.prototype.writeFloatBE=function(te,se,Pe){return Ne(this,te,se,!1,Pe)},g.prototype.writeDoubleLE=function(te,se,Pe){return Ye(this,te,se,!0,Pe)},g.prototype.writeDoubleBE=function(te,se,Pe){return Ye(this,te,se,!1,Pe)},g.prototype.copy=function(te,se,Pe,Le){if(Pe||(Pe=0),Le||0===Le||(Le=this.length),se>=te.length&&(se=te.length),se||(se=0),Le>0&&Le<Pe&&(Le=Pe),Le===Pe||0===te.length||0===this.length)return 0;if(se<0)throw new RangeError("targetStart out of bounds");if(Pe<0||Pe>=this.length)throw new RangeError("sourceStart out of bounds");if(Le<0)throw new RangeError("sourceEnd out of bounds");Le>this.length&&(Le=this.length),te.length-se<Le-Pe&&(Le=te.length-se+Pe);var ce,ge=Le-Pe;if(this===te&&Pe<se&&se<Le)for(ce=ge-1;ce>=0;--ce)te[ce+se]=this[ce+Pe];else if(ge<1e3||!g.TYPED_ARRAY_SUPPORT)for(ce=0;ce<ge;++ce)te[ce+se]=this[ce+Pe];else Uint8Array.prototype.set.call(te,this.subarray(Pe,Pe+ge),se);return ge},g.prototype.fill=function(te,se,Pe,Le){if("string"==typeof te){if("string"==typeof se?(Le=se,se=0,Pe=this.length):"string"==typeof Pe&&(Le=Pe,Pe=this.length),1===te.length){var ce=te.charCodeAt(0);ce<256&&(te=ce)}if(void 0!==Le&&"string"!=typeof Le)throw new TypeError("encoding must be a string");if("string"==typeof Le&&!g.isEncoding(Le))throw new TypeError("Unknown encoding: "+Le)}else"number"==typeof te&&(te&=255);if(se<0||this.length<se||this.length<Pe)throw new RangeError("Out of range index");if(Pe<=se)return this;var ge;if(se>>>=0,Pe=void 0===Pe?this.length:Pe>>>0,te||(te=0),"number"==typeof te)for(ge=se;ge<Pe;++ge)this[ge]=te;else{var rt=g.isBuffer(te)?te:nt(new g(te,Le).toString()),_e=rt.length;for(ge=0;ge<Pe-se;++ge)this[ge+se]=rt[ge%_e]}return this};var Ze=/[^+\/0-9A-Za-z-_]/g;function ft(de){return de<16?"0"+de.toString(16):de.toString(16)}function nt(de,te){var se;te=te||1/0;for(var Pe=de.length,Le=null,ce=[],ge=0;ge<Pe;++ge){if((se=de.charCodeAt(ge))>55295&&se<57344){if(!Le){if(se>56319){(te-=3)>-1&&ce.push(239,191,189);continue}if(ge+1===Pe){(te-=3)>-1&&ce.push(239,191,189);continue}Le=se;continue}if(se<56320){(te-=3)>-1&&ce.push(239,191,189),Le=se;continue}se=65536+(Le-55296<<10|se-56320)}else Le&&(te-=3)>-1&&ce.push(239,191,189);if(Le=null,se<128){if((te-=1)<0)break;ce.push(se)}else if(se<2048){if((te-=2)<0)break;ce.push(se>>6|192,63&se|128)}else if(se<65536){if((te-=3)<0)break;ce.push(se>>12|224,se>>6&63|128,63&se|128)}else{if(!(se<1114112))throw new Error("Invalid code point");if((te-=4)<0)break;ce.push(se>>18|240,se>>12&63|128,se>>6&63|128,63&se|128)}}return ce}function Be(de){return x.toByteArray(function(se){if((se=(Le=se,Le.trim?Le.trim():Le.replace(/^\s+|\s+$/g,"")).replace(Ze,"")).length<2)return"";for(var Le;se.length%4!=0;)se+="=";return se}(de))}function it(de,te,se,Pe){for(var Le=0;Le<Pe&&!(Le+se>=te.length||Le>=de.length);++Le)te[Le+se]=de[Le];return Le}}).call(this,P(29))},function(R,S){var P;P=function(){return this}();try{P=P||new Function("return this")()}catch{"object"==typeof window&&(P=window)}R.exports=P},function(R,S,P){"use strict";S.byteLength=function(B){var H=g(B),K=H[1];return 3*(H[0]+K)/4-K},S.toByteArray=function(B){var H,$,be,K=g(B),G=K[0],W=K[1],le=new F(3*(G+(be=W))/4-be),L=0,U=W>0?G-4:G;for($=0;$<U;$+=4)H=x[B.charCodeAt($)]<<18|x[B.charCodeAt($+1)]<<12|x[B.charCodeAt($+2)]<<6|x[B.charCodeAt($+3)],le[L++]=H>>16&255,le[L++]=H>>8&255,le[L++]=255&H;return 2===W&&(H=x[B.charCodeAt($)]<<2|x[B.charCodeAt($+1)]>>4,le[L++]=255&H),1===W&&(H=x[B.charCodeAt($)]<<10|x[B.charCodeAt($+1)]<<4|x[B.charCodeAt($+2)]>>2,le[L++]=H>>8&255,le[L++]=255&H),le},S.fromByteArray=function(B){for(var H,$=B.length,K=$%3,G=[],W=16383,le=0,L=$-K;le<L;le+=W)G.push(N(B,le,le+W>L?L:le+W));return 1===K?G.push(a[(H=B[$-1])>>2]+a[H<<4&63]+"=="):2===K&&G.push(a[(H=(B[$-2]<<8)+B[$-1])>>10]+a[H>>4&63]+a[H<<2&63]+"="),G.join("")};for(var a=[],x=[],F="undefined"!=typeof Uint8Array?Uint8Array:Array,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,h=j.length;d<h;++d)a[d]=j[d],x[j.charCodeAt(d)]=d;function g(O){var B=O.length;if(B%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var H=O.indexOf("=");return-1===H&&(H=B),[H,H===B?0:4-H%4]}function N(O,B,H){for(var K,G=[],W=B;W<H;W+=3)G.push(a[(K=(O[W]<<16&16711680)+(O[W+1]<<8&65280)+(255&O[W+2]))>>18&63]+a[K>>12&63]+a[K>>6&63]+a[63&K]);return G.join("")}x["-".charCodeAt(0)]=62,x["_".charCodeAt(0)]=63},function(R,S){S.read=function(P,a,x,F,j){var d,h,g=8*j-F-1,N=(1<<g)-1,O=N>>1,B=-7,H=x?j-1:0,$=x?-1:1,K=P[a+H];for(H+=$,d=K&(1<<-B)-1,K>>=-B,B+=g;B>0;d=256*d+P[a+H],H+=$,B-=8);for(h=d&(1<<-B)-1,d>>=-B,B+=F;B>0;h=256*h+P[a+H],H+=$,B-=8);if(0===d)d=1-O;else{if(d===N)return h?NaN:1/0*(K?-1:1);h+=Math.pow(2,F),d-=O}return(K?-1:1)*h*Math.pow(2,d-F)},S.write=function(P,a,x,F,j,d){var h,g,N,O=8*d-j-1,B=(1<<O)-1,H=B>>1,$=23===j?Math.pow(2,-24)-Math.pow(2,-77):0,K=F?0:d-1,G=F?1:-1,W=a<0||0===a&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(g=isNaN(a)?1:0,h=B):(h=Math.floor(Math.log(a)/Math.LN2),a*(N=Math.pow(2,-h))<1&&(h--,N*=2),(a+=h+H>=1?$/N:$*Math.pow(2,1-H))*N>=2&&(h++,N/=2),h+H>=B?(g=0,h=B):h+H>=1?(g=(a*N-1)*Math.pow(2,j),h+=H):(g=a*Math.pow(2,H-1)*Math.pow(2,j),h=0));j>=8;P[x+K]=255&g,K+=G,g/=256,j-=8);for(h=h<<j|g,O+=j;O>0;P[x+K]=255&h,K+=G,h/=256,O-=8);P[x+K-G]|=128*W}},function(R,S){var P={}.toString;R.exports=Array.isArray||function(a){return"[object Array]"==P.call(a)}},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(F){var j=F.jws,d=F.KeyUtil,h=F.X509,g=F.crypto,N=F.hextob64u,O=F.b64tohex,B=F.AllowedSigningAlgs;return function(){function H(){!function(K,G){if(!(K instanceof G))throw new TypeError("Cannot call a class as a function")}(this,H)}return H.parseJwt=function(K){a.Log.debug("JoseUtil.parseJwt");try{var G=j.JWS.parse(K);return{header:G.headerObj,payload:G.payloadObj}}catch(W){a.Log.error(W)}},H.validateJwt=function(K,G,W,le,L,U,z){a.Log.debug("JoseUtil.validateJwt");try{if("RSA"===G.kty)if(G.e&&G.n)G=d.getKey(G);else{if(!G.x5c||!G.x5c.length)return a.Log.error("JoseUtil.validateJwt: RSA key missing key material",G),Promise.reject(new Error("RSA key missing key material"));var ee=O(G.x5c[0]);G=h.getPublicKeyFromCertHex(ee)}else{if("EC"!==G.kty)return a.Log.error("JoseUtil.validateJwt: Unsupported key type",G&&G.kty),Promise.reject(new Error(G.kty));if(!(G.crv&&G.x&&G.y))return a.Log.error("JoseUtil.validateJwt: EC key missing key material",G),Promise.reject(new Error("EC key missing key material"));G=d.getKey(G)}return H._validateJwt(K,G,W,le,L,U,z)}catch(ye){return a.Log.error(ye&&ye.message||ye),Promise.reject("JWT validation failed")}},H.validateJwtAttributes=function(K,G,W,le,L,U){le||(le=0),L||(L=parseInt(Date.now()/1e3));var z=H.parseJwt(K).payload;if(!z.iss)return a.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(z.iss!==G)return a.Log.error("JoseUtil._validateJwt: Invalid issuer in token",z.iss),Promise.reject(new Error("Invalid issuer in token: "+z.iss));if(!z.aud)return a.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(z.aud===W||Array.isArray(z.aud)&&z.aud.indexOf(W)>=0))return a.Log.error("JoseUtil._validateJwt: Invalid audience in token",z.aud),Promise.reject(new Error("Invalid audience in token: "+z.aud));if(z.azp&&z.azp!==W)return a.Log.error("JoseUtil._validateJwt: Invalid azp in token",z.azp),Promise.reject(new Error("Invalid azp in token: "+z.azp));if(!U){var ee=L+le,ye=L-le;if(!z.iat)return a.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(ee<z.iat)return a.Log.error("JoseUtil._validateJwt: iat is in the future",z.iat),Promise.reject(new Error("iat is in the future: "+z.iat));if(z.nbf&&ee<z.nbf)return a.Log.error("JoseUtil._validateJwt: nbf is in the future",z.nbf),Promise.reject(new Error("nbf is in the future: "+z.nbf));if(!z.exp)return a.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(z.exp<ye)return a.Log.error("JoseUtil._validateJwt: exp is in the past",z.exp),Promise.reject(new Error("exp is in the past:"+z.exp))}return Promise.resolve(z)},H._validateJwt=function(K,G,W,le,L,U,z){return H.validateJwtAttributes(K,W,le,L,U,z).then(function(ee){try{return j.JWS.verify(K,G,B)?ee:(a.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(ye){return a.Log.error(ye&&ye.message||ye),Promise.reject(new Error("signature validation failed"))}})},H.hashString=function(K,G){try{return g.Util.hashString(K,G)}catch(W){a.Log.error(W)}},H.hexToBase64Url=function(K){try{return N(K)}catch(G){a.Log.error(G)}},H}()};var a=P(0);R.exports=S.default},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.SigninResponse=void 0;var a=function(){function j(d,h){for(var g=0;g<h.length;g++){var N=h[g];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(d,N.key,N)}}return function(d,h,g){return h&&j(d.prototype,h),g&&j(d,g),d}}(),x=P(3);function F(j,d){if(!(j instanceof d))throw new TypeError("Cannot call a class as a function")}S.SigninResponse=function(){function j(d){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";F(this,j);var g=x.UrlUtility.parseUrlFragment(d,h);this.error=g.error,this.error_description=g.error_description,this.error_uri=g.error_uri,this.code=g.code,this.state=g.state,this.id_token=g.id_token,this.session_state=g.session_state,this.access_token=g.access_token,this.token_type=g.token_type,this.scope=g.scope,this.profile=void 0,this.expires_in=g.expires_in}return a(j,[{key:"expires_in",get:function(){if(this.expires_at){var h=parseInt(Date.now()/1e3);return this.expires_at-h}},set:function(h){var g=parseInt(h);if("number"==typeof g&&g>0){var N=parseInt(Date.now()/1e3);this.expires_at=N+g}}},{key:"expired",get:function(){var h=this.expires_in;if(void 0!==h)return h<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),j}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.SignoutRequest=void 0;var a=P(0),x=P(3),F=P(9);S.SignoutRequest=function j(d){var h=d.url,g=d.id_token_hint,N=d.post_logout_redirect_uri,O=d.data,B=d.extraQueryParams,H=d.request_type;if(function(G,W){if(!(G instanceof W))throw new TypeError("Cannot call a class as a function")}(this,j),!h)throw a.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var $ in g&&(h=x.UrlUtility.addQueryParam(h,"id_token_hint",g)),N&&(h=x.UrlUtility.addQueryParam(h,"post_logout_redirect_uri",N),O&&(this.state=new F.State({data:O,request_type:H}),h=x.UrlUtility.addQueryParam(h,"state",this.state.id))),B)h=x.UrlUtility.addQueryParam(h,$,B[$]);this.url=h}},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.SignoutResponse=void 0;var a=P(3);S.SignoutResponse=function x(F){!function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,x);var j=a.UrlUtility.parseUrlFragment(F,"?");this.error=j.error,this.error_description=j.error_description,this.error_uri=j.error_uri,this.state=j.state}},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.InMemoryWebStorage=void 0;var a=function(){function F(j,d){for(var h=0;h<d.length;h++){var g=d[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(j,g.key,g)}}return function(j,d,h){return d&&F(j.prototype,d),h&&F(j,h),j}}(),x=P(0);S.InMemoryWebStorage=function(){function F(){(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,F),this._data={}}return F.prototype.getItem=function(d){return x.Log.debug("InMemoryWebStorage.getItem",d),this._data[d]},F.prototype.setItem=function(d,h){x.Log.debug("InMemoryWebStorage.setItem",d),this._data[d]=h},F.prototype.removeItem=function(d){x.Log.debug("InMemoryWebStorage.removeItem",d),delete this._data[d]},F.prototype.key=function(d){return Object.getOwnPropertyNames(this._data)[d]},a(F,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),F}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.UserManager=void 0;var a=function(){function W(le,L){for(var U=0;U<L.length;U++){var z=L[U];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(le,z.key,z)}}return function(le,L,U){return L&&W(le.prototype,L),U&&W(le,U),le}}(),x=P(0),F=P(10),j=P(39),d=P(15),h=P(45),g=P(47),N=P(18),O=P(8),B=P(20),H=P(11),$=P(4);function K(W,le){if(!(W instanceof le))throw new TypeError("Cannot call a class as a function")}function G(W,le){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!le||"object"!=typeof le&&"function"!=typeof le?W:le}S.UserManager=function(W){function le(){var L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.SilentRenewService,z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:N.SessionMonitor,ee=arguments.length>3&&void 0!==arguments[3]?arguments[3]:B.TokenRevocationClient,ye=arguments.length>4&&void 0!==arguments[4]?arguments[4]:H.TokenClient,be=arguments.length>5&&void 0!==arguments[5]?arguments[5]:$.JoseUtil;K(this,le),L instanceof j.UserManagerSettings||(L=new j.UserManagerSettings(L));var pe=G(this,W.call(this,L));return pe._events=new h.UserManagerEvents(L),pe._silentRenewService=new U(pe),pe.settings.automaticSilentRenew&&(x.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),pe.startSilentRenew()),pe.settings.monitorSession&&(x.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),pe._sessionMonitor=new z(pe)),pe._tokenRevocationClient=new ee(pe._settings),pe._tokenClient=new ye(pe._settings),pe._joseUtil=be,pe}return function(U,z){if("function"!=typeof z&&null!==z)throw new TypeError("Super expression must either be null or a function, not "+typeof z);U.prototype=Object.create(z&&z.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(U,z):U.__proto__=z)}(le,W),le.prototype.getUser=function(){var U=this;return this._loadUser().then(function(z){return z?(x.Log.info("UserManager.getUser: user loaded"),U._events.load(z,!1),z):(x.Log.info("UserManager.getUser: user not found in storage"),null)})},le.prototype.removeUser=function(){var U=this;return this.storeUser(null).then(function(){x.Log.info("UserManager.removeUser: user removed from storage"),U._events.unload()})},le.prototype.signinRedirect=function(){var U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(U=Object.assign({},U)).request_type="si:r",this._signinStart(U,this._redirectNavigator,{useReplaceToNavigate:U.useReplaceToNavigate}).then(function(){x.Log.info("UserManager.signinRedirect: successful")})},le.prototype.signinRedirectCallback=function(U){return this._signinEnd(U||this._redirectNavigator.url).then(function(z){return z.profile&&z.profile.sub?x.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",z.profile.sub):x.Log.info("UserManager.signinRedirectCallback: no sub"),z})},le.prototype.signinPopup=function(){var U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(U=Object.assign({},U)).request_type="si:p";var z=U.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return z?(U.redirect_uri=z,U.display="popup",this._signin(U,this._popupNavigator,{startUrl:z,popupWindowFeatures:U.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:U.popupWindowTarget||this.settings.popupWindowTarget}).then(function(ee){return ee&&(ee.profile&&ee.profile.sub?x.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",ee.profile.sub):x.Log.info("UserManager.signinPopup: no sub")),ee})):(x.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},le.prototype.signinPopupCallback=function(U){return this._signinCallback(U,this._popupNavigator).then(function(z){return z&&(z.profile&&z.profile.sub?x.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",z.profile.sub):x.Log.info("UserManager.signinPopupCallback: no sub")),z}).catch(function(z){x.Log.error(z.message)})},le.prototype.signinSilent=function(){var U=this,z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return z=Object.assign({},z),this._loadUser().then(function(ee){return ee&&ee.refresh_token?(z.refresh_token=ee.refresh_token,U._useRefreshToken(z)):(z.request_type="si:s",z.id_token_hint=z.id_token_hint||U.settings.includeIdTokenInSilentRenew&&ee&&ee.id_token,ee&&U._settings.validateSubOnSilentRenew&&(x.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",ee.profile.sub),z.current_sub=ee.profile.sub),U._signinSilentIframe(z))})},le.prototype._useRefreshToken=function(){var U=this;return this._tokenClient.exchangeRefreshToken(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).then(function(ee){return ee?ee.access_token?U._loadUser().then(function(ye){if(ye){var be=Promise.resolve();return ee.id_token&&(be=U._validateIdTokenFromTokenRefreshToken(ye.profile,ee.id_token)),be.then(function(){return x.Log.debug("UserManager._useRefreshToken: refresh token response success"),ye.id_token=ee.id_token||ye.id_token,ye.access_token=ee.access_token,ye.refresh_token=ee.refresh_token||ye.refresh_token,ye.expires_in=ee.expires_in,U.storeUser(ye).then(function(){return U._events.load(ye),ye})})}return null}):(x.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(x.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},le.prototype._validateIdTokenFromTokenRefreshToken=function(U,z){var ee=this;return this._metadataService.getIssuer().then(function(ye){return ee.settings.getEpochTime().then(function(be){return ee._joseUtil.validateJwtAttributes(z,ye,ee._settings.client_id,ee._settings.clockSkew,be).then(function(pe){return pe?pe.sub!==U.sub?(x.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):pe.auth_time&&pe.auth_time!==U.auth_time?(x.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):pe.azp&&pe.azp!==U.azp?(x.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!pe.azp&&U.azp?(x.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(x.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},le.prototype._signinSilentIframe=function(){var U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},z=U.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return z?(U.redirect_uri=z,U.prompt=U.prompt||"none",this._signin(U,this._iframeNavigator,{startUrl:z,silentRequestTimeout:U.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(ee){return ee&&(ee.profile&&ee.profile.sub?x.Log.info("UserManager.signinSilent: successful, signed in sub: ",ee.profile.sub):x.Log.info("UserManager.signinSilent: no sub")),ee})):(x.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},le.prototype.signinSilentCallback=function(U){return this._signinCallback(U,this._iframeNavigator).then(function(z){return z&&(z.profile&&z.profile.sub?x.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",z.profile.sub):x.Log.info("UserManager.signinSilentCallback: no sub")),z})},le.prototype.signinCallback=function(U){var z=this;return this.readSigninResponseState(U).then(function(ee){var ye=ee.state;return"si:r"===ye.request_type?z.signinRedirectCallback(U):"si:p"===ye.request_type?z.signinPopupCallback(U):"si:s"===ye.request_type?z.signinSilentCallback(U):Promise.reject(new Error("invalid response_type in state"))})},le.prototype.signoutCallback=function(U,z){var ee=this;return this.readSignoutResponseState(U).then(function(ye){var be=ye.state,pe=ye.response;return be?"so:r"===be.request_type?ee.signoutRedirectCallback(U):"so:p"===be.request_type?ee.signoutPopupCallback(U,z):Promise.reject(new Error("invalid response_type in state")):pe})},le.prototype.querySessionStatus=function(){var U=this,z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(z=Object.assign({},z)).request_type="si:s";var ee=z.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return ee?(z.redirect_uri=ee,z.prompt="none",z.response_type=z.response_type||this.settings.query_status_response_type,z.scope=z.scope||"openid",z.skipUserInfo=!0,this._signinStart(z,this._iframeNavigator,{startUrl:ee,silentRequestTimeout:z.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(ye){return U.processSigninResponse(ye.url).then(function(be){if(x.Log.debug("UserManager.querySessionStatus: got signin response"),be.session_state&&be.profile.sub)return x.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",be.profile.sub),{session_state:be.session_state,sub:be.profile.sub,sid:be.profile.sid};x.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(be){if(be.session_state&&U.settings.monitorAnonymousSession&&("login_required"==be.message||"consent_required"==be.message||"interaction_required"==be.message||"account_selection_required"==be.message))return x.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:be.session_state};throw be})})):(x.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},le.prototype._signin=function(U,z){var ee=this;return this._signinStart(U,z,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).then(function(be){return ee._signinEnd(be.url,U)})},le.prototype._signinStart=function(U,z){var ee=this,ye=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return z.prepare(ye).then(function(be){return x.Log.debug("UserManager._signinStart: got navigator window handle"),ee.createSigninRequest(U).then(function(pe){return x.Log.debug("UserManager._signinStart: got signin request"),ye.url=pe.url,ye.id=pe.state.id,be.navigate(ye)}).catch(function(pe){throw be.close&&(x.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),be.close()),pe})})},le.prototype._signinEnd=function(U){var z=this,ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(U).then(function(ye){x.Log.debug("UserManager._signinEnd: got signin response");var be=new d.User(ye);if(ee.current_sub){if(ee.current_sub!==be.profile.sub)return x.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",be.profile.sub),Promise.reject(new Error("login_required"));x.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return z.storeUser(be).then(function(){return x.Log.debug("UserManager._signinEnd: user stored"),z._events.load(be),be})})},le.prototype._signinCallback=function(U,z){x.Log.debug("UserManager._signinCallback");var ee="query"===this._settings.response_mode||!this._settings.response_mode&&O.SigninRequest.isCode(this._settings.response_type)?"?":"#";return z.callback(U,void 0,ee)},le.prototype.signoutRedirect=function(){var U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(U=Object.assign({},U)).request_type="so:r";var z=U.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return z&&(U.post_logout_redirect_uri=z),this._signoutStart(U,this._redirectNavigator,{useReplaceToNavigate:U.useReplaceToNavigate}).then(function(){x.Log.info("UserManager.signoutRedirect: successful")})},le.prototype.signoutRedirectCallback=function(U){return this._signoutEnd(U||this._redirectNavigator.url).then(function(z){return x.Log.info("UserManager.signoutRedirectCallback: successful"),z})},le.prototype.signoutPopup=function(){var U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(U=Object.assign({},U)).request_type="so:p";var z=U.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return U.post_logout_redirect_uri=z,U.display="popup",U.post_logout_redirect_uri&&(U.state=U.state||{}),this._signout(U,this._popupNavigator,{startUrl:z,popupWindowFeatures:U.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:U.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){x.Log.info("UserManager.signoutPopup: successful")})},le.prototype.signoutPopupCallback=function(U,z){return void 0===z&&"boolean"==typeof U&&(z=U,U=null),this._popupNavigator.callback(U,z,"?").then(function(){x.Log.info("UserManager.signoutPopupCallback: successful")})},le.prototype._signout=function(U,z){var ee=this;return this._signoutStart(U,z,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).then(function(be){return ee._signoutEnd(be.url)})},le.prototype._signoutStart=function(){var U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},z=this,ye=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments[1].prepare(ye).then(function(be){return x.Log.debug("UserManager._signoutStart: got navigator window handle"),z._loadUser().then(function(pe){return x.Log.debug("UserManager._signoutStart: loaded current user from storage"),(z._settings.revokeAccessTokenOnSignout?z._revokeInternal(pe):Promise.resolve()).then(function(){var y=U.id_token_hint||pe&&pe.id_token;return y&&(x.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),U.id_token_hint=y),z.removeUser().then(function(){return x.Log.debug("UserManager._signoutStart: user removed, creating signout request"),z.createSignoutRequest(U).then(function(A){return x.Log.debug("UserManager._signoutStart: got signout request"),ye.url=A.url,A.state&&(ye.id=A.state.id),be.navigate(ye)})})})}).catch(function(pe){throw be.close&&(x.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),be.close()),pe})})},le.prototype._signoutEnd=function(U){return this.processSignoutResponse(U).then(function(z){return x.Log.debug("UserManager._signoutEnd: got signout response"),z})},le.prototype.revokeAccessToken=function(){var U=this;return this._loadUser().then(function(z){return U._revokeInternal(z,!0).then(function(ee){if(ee)return x.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),z.access_token=null,z.refresh_token=null,z.expires_at=null,z.token_type=null,U.storeUser(z).then(function(){x.Log.debug("UserManager.revokeAccessToken: user stored"),U._events.load(z)})})}).then(function(){x.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},le.prototype._revokeInternal=function(U,z){var ee=this;if(U){var be=U.refresh_token;return this._revokeAccessTokenInternal(U.access_token,z).then(function(pe){return ee._revokeRefreshTokenInternal(be,z).then(function(y){return pe||y||x.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),pe||y})})}return Promise.resolve(!1)},le.prototype._revokeAccessTokenInternal=function(U,z){return!U||U.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(U,z).then(function(){return!0})},le.prototype._revokeRefreshTokenInternal=function(U,z){return U?this._tokenRevocationClient.revoke(U,z,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},le.prototype.startSilentRenew=function(){this._silentRenewService.start()},le.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},le.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(U){return U?(x.Log.debug("UserManager._loadUser: user storageString loaded"),d.User.fromStorageString(U)):(x.Log.debug("UserManager._loadUser: no user storageString"),null)})},le.prototype.storeUser=function(U){if(U){x.Log.debug("UserManager.storeUser: storing user");var z=U.toStorageString();return this._userStore.set(this._userStoreKey,z)}return x.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},a(le,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),le}(F.OidcClient)},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.UserManagerSettings=void 0;var a=function(){function H($,K){for(var G=0;G<K.length;G++){var W=K[G];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty($,W.key,W)}}return function($,K,G){return K&&H($.prototype,K),G&&H($,G),$}}(),x=(P(0),P(5)),F=P(40),j=P(41),d=P(43),h=P(6),g=P(1),N=P(8);function O(H,$){if(!(H instanceof $))throw new TypeError("Cannot call a class as a function")}function B(H,$){if(!H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!$||"object"!=typeof $&&"function"!=typeof $?H:$}S.UserManagerSettings=function(H){function $(){var K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},G=K.popup_redirect_uri,W=K.popup_post_logout_redirect_uri,le=K.popupWindowFeatures,L=K.popupWindowTarget,U=K.silent_redirect_uri,z=K.silentRequestTimeout,ee=K.automaticSilentRenew,ye=void 0!==ee&&ee,be=K.validateSubOnSilentRenew,pe=void 0!==be&&be,y=K.includeIdTokenInSilentRenew,A=void 0===y||y,_=K.monitorSession,E=void 0===_||_,M=K.monitorAnonymousSession,I=void 0!==M&&M,ne=K.checkSessionInterval,fe=void 0===ne?2e3:ne,Ve=K.stopCheckSessionOnError,ae=void 0===Ve||Ve,ze=K.query_status_response_type,ot=K.revokeAccessTokenOnSignout,Ne=void 0!==ot&&ot,Ye=K.accessTokenExpiringNotificationTime,Ze=void 0===Ye?60:Ye,ft=K.redirectNavigator,nt=void 0===ft?new F.RedirectNavigator:ft,Be=K.popupNavigator,it=void 0===Be?new j.PopupNavigator:Be,de=K.iframeNavigator,te=void 0===de?new d.IFrameNavigator:de,se=K.userStore,Pe=void 0===se?new h.WebStorageStateStore({store:g.Global.sessionStorage}):se;O(this,$);var Le=B(this,H.call(this,arguments[0]));return Le._popup_redirect_uri=G,Le._popup_post_logout_redirect_uri=W,Le._popupWindowFeatures=le,Le._popupWindowTarget=L,Le._silent_redirect_uri=U,Le._silentRequestTimeout=z,Le._automaticSilentRenew=ye,Le._validateSubOnSilentRenew=pe,Le._includeIdTokenInSilentRenew=A,Le._accessTokenExpiringNotificationTime=Ze,Le._monitorSession=E,Le._monitorAnonymousSession=I,Le._checkSessionInterval=fe,Le._stopCheckSessionOnError=ae,Le._query_status_response_type=ze||(arguments[0]&&arguments[0].response_type?N.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":"id_token"),Le._revokeAccessTokenOnSignout=Ne,Le._redirectNavigator=nt,Le._popupNavigator=it,Le._iframeNavigator=te,Le._userStore=Pe,Le}return function(G,W){if("function"!=typeof W&&null!==W)throw new TypeError("Super expression must either be null or a function, not "+typeof W);G.prototype=Object.create(W&&W.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(G,W):G.__proto__=W)}($,H),a($,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),$}(x.OidcClientSettings)},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.RedirectNavigator=void 0;var a=function(){function F(j,d){for(var h=0;h<d.length;h++){var g=d[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(j,g.key,g)}}return function(j,d,h){return d&&F(j.prototype,d),h&&F(j,h),j}}(),x=P(0);S.RedirectNavigator=function(){function F(){!function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}(this,F)}return F.prototype.prepare=function(){return Promise.resolve(this)},F.prototype.navigate=function(d){return d&&d.url?(d.useReplaceToNavigate?window.location.replace(d.url):window.location=d.url,Promise.resolve()):(x.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},a(F,[{key:"url",get:function(){return window.location.href}}]),F}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.PopupNavigator=void 0;var a=P(0),x=P(42);S.PopupNavigator=function(){function F(){!function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}(this,F)}return F.prototype.prepare=function(d){var h=new x.PopupWindow(d);return Promise.resolve(h)},F.prototype.callback=function(d,h,g){a.Log.debug("PopupNavigator.callback");try{return x.PopupWindow.notifyOpener(d,h,g),Promise.resolve()}catch(N){return Promise.reject(N)}},F}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.PopupWindow=void 0;var a=function(){function j(d,h){for(var g=0;g<h.length;g++){var N=h[g];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(d,N.key,N)}}return function(d,h,g){return h&&j(d.prototype,h),g&&j(d,g),d}}(),x=P(0),F=P(3);S.PopupWindow=function(){function j(d){var h=this;(function(B,H){if(!(B instanceof H))throw new TypeError("Cannot call a class as a function")})(this,j),this._promise=new Promise(function(O,B){h._resolve=O,h._reject=B}),this._popup=window.open("",d.popupWindowTarget||"_blank",d.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;"),this._popup&&(x.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return j.prototype.navigate=function(h){return this._popup?h&&h.url?(x.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=h.id,this._id&&(window["popupCallback_"+h.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=h.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},j.prototype._success=function(h){x.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(h)},j.prototype._error=function(h){x.Log.error("PopupWindow.error: ",h),this._cleanup(),this._reject(new Error(h))},j.prototype.close=function(){this._cleanup(!1)},j.prototype._cleanup=function(h){x.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!h&&this._popup.close(),this._popup=null},j.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},j.prototype._callback=function(h,g){this._cleanup(g),h?(x.Log.debug("PopupWindow.callback success"),this._success({url:h})):(x.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},j.notifyOpener=function(h,g,N){if(window.opener){if(h=h||window.location.href){var O=F.UrlUtility.parseUrlFragment(h,N);if(O.state){var H=window.opener["popupCallback_"+O.state];H?(x.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),H(h,g)):x.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else x.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else x.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},a(j,[{key:"promise",get:function(){return this._promise}}]),j}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.IFrameNavigator=void 0;var a=P(0),x=P(44);S.IFrameNavigator=function(){function F(){!function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}(this,F)}return F.prototype.prepare=function(d){var h=new x.IFrameWindow(d);return Promise.resolve(h)},F.prototype.callback=function(d){a.Log.debug("IFrameNavigator.callback");try{return x.IFrameWindow.notifyParent(d),Promise.resolve()}catch(h){return Promise.reject(h)}},F}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.IFrameWindow=void 0;var a=function(){function F(j,d){for(var h=0;h<d.length;h++){var g=d[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(j,g.key,g)}}return function(j,d,h){return d&&F(j.prototype,d),h&&F(j,h),j}}(),x=P(0);S.IFrameWindow=function(){function F(j){var d=this;(function(g,N){if(!(g instanceof N))throw new TypeError("Cannot call a class as a function")})(this,F),this._promise=new Promise(function(h,g){d._resolve=h,d._reject=g}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return F.prototype.navigate=function(d){if(d&&d.url){var h=d.silentRequestTimeout||1e4;x.Log.debug("IFrameWindow.navigate: Using timeout of:",h),this._timer=window.setTimeout(this._timeout.bind(this),h),this._frame.src=d.url}else this._error("No url provided");return this.promise},F.prototype._success=function(d){this._cleanup(),x.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(d)},F.prototype._error=function(d){this._cleanup(),x.Log.error(d),this._reject(new Error(d))},F.prototype.close=function(){this._cleanup()},F.prototype._cleanup=function(){this._frame&&(x.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},F.prototype._timeout=function(){x.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},F.prototype._message=function(d){if(x.Log.debug("IFrameWindow.message"),this._timer&&d.origin===this._origin&&d.source===this._frame.contentWindow&&"string"==typeof d.data&&(d.data.startsWith("http://")||d.data.startsWith("https://"))){var h=d.data;h?this._success({url:h}):this._error("Invalid response from frame")}},F.notifyParent=function(d){x.Log.debug("IFrameWindow.notifyParent"),(d=d||window.location.href)&&(x.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(d,location.protocol+"//"+location.host))},a(F,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),F}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.UserManagerEvents=void 0;var a=P(0),x=P(16),F=P(17);S.UserManagerEvents=function(j){function d(h){!function(O,B){if(!(O instanceof B))throw new TypeError("Cannot call a class as a function")}(this,d);var g=function(O,B){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!B||"object"!=typeof B&&"function"!=typeof B?O:B}(this,j.call(this,h));return g._userLoaded=new F.Event("User loaded"),g._userUnloaded=new F.Event("User unloaded"),g._silentRenewError=new F.Event("Silent renew error"),g._userSignedIn=new F.Event("User signed in"),g._userSignedOut=new F.Event("User signed out"),g._userSessionChanged=new F.Event("User session changed"),g}return function(g,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function, not "+typeof N);g.prototype=Object.create(N&&N.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(g,N):g.__proto__=N)}(d,j),d.prototype.load=function(g){var N=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];a.Log.debug("UserManagerEvents.load"),j.prototype.load.call(this,g),N&&this._userLoaded.raise(g)},d.prototype.unload=function(){a.Log.debug("UserManagerEvents.unload"),j.prototype.unload.call(this),this._userUnloaded.raise()},d.prototype.addUserLoaded=function(g){this._userLoaded.addHandler(g)},d.prototype.removeUserLoaded=function(g){this._userLoaded.removeHandler(g)},d.prototype.addUserUnloaded=function(g){this._userUnloaded.addHandler(g)},d.prototype.removeUserUnloaded=function(g){this._userUnloaded.removeHandler(g)},d.prototype.addSilentRenewError=function(g){this._silentRenewError.addHandler(g)},d.prototype.removeSilentRenewError=function(g){this._silentRenewError.removeHandler(g)},d.prototype._raiseSilentRenewError=function(g){a.Log.debug("UserManagerEvents._raiseSilentRenewError",g.message),this._silentRenewError.raise(g)},d.prototype.addUserSignedIn=function(g){this._userSignedIn.addHandler(g)},d.prototype.removeUserSignedIn=function(g){this._userSignedIn.removeHandler(g)},d.prototype._raiseUserSignedIn=function(){a.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},d.prototype.addUserSignedOut=function(g){this._userSignedOut.addHandler(g)},d.prototype.removeUserSignedOut=function(g){this._userSignedOut.removeHandler(g)},d.prototype._raiseUserSignedOut=function(){a.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},d.prototype.addUserSessionChanged=function(g){this._userSessionChanged.addHandler(g)},d.prototype.removeUserSessionChanged=function(g){this._userSessionChanged.removeHandler(g)},d.prototype._raiseUserSessionChanged=function(){a.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},d}(x.AccessTokenEvents)},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Timer=void 0;var a=function(){function g(N,O){for(var B=0;B<O.length;B++){var H=O[B];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(N,H.key,H)}}return function(N,O,B){return O&&g(N.prototype,O),B&&g(N,B),N}}(),x=P(0),F=P(1),j=P(17);function d(g,N){if(!(g instanceof N))throw new TypeError("Cannot call a class as a function")}function h(g,N){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||"object"!=typeof N&&"function"!=typeof N?g:N}S.Timer=function(g){function N(O){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F.Global.timer,H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;d(this,N);var $=h(this,g.call(this,O));return $._timer=B,$._nowFunc=H||function(){return Date.now()/1e3},$}return function(B,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function, not "+typeof H);B.prototype=Object.create(H&&H.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(B,H):B.__proto__=H)}(N,g),N.prototype.init=function(B){B<=0&&(B=1),B=parseInt(B);var H=this.now+B;if(this.expiration===H&&this._timerHandle)x.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),x.Log.debug("Timer.init timer "+this._name+" for duration:",B),this._expiration=H;var $=5;B<$&&($=B),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*$)}},N.prototype.cancel=function(){this._timerHandle&&(x.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},N.prototype._callback=function(){x.Log.debug("Timer.callback; "+this._name+" timer expires in:",this._expiration-this.now),this._expiration<=this.now&&(this.cancel(),g.prototype.raise.call(this))},a(N,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),N}(j.Event)},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.SilentRenewService=void 0;var a=P(0);S.SilentRenewService=function(){function x(F){(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,x),this._userManager=F}return x.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(j){}).catch(function(j){a.Log.error("SilentRenewService.start: Error from getUser:",j.message)}))},x.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},x.prototype._tokenExpiring=function(){var j=this;this._userManager.signinSilent().then(function(d){a.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(d){a.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",d.message),j._userManager.events._raiseSilentRenewError(d)})},x}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CordovaPopupNavigator=void 0;var a=P(21);S.CordovaPopupNavigator=function(){function x(){!function(j,d){if(!(j instanceof d))throw new TypeError("Cannot call a class as a function")}(this,x)}return x.prototype.prepare=function(j){var d=new a.CordovaPopupWindow(j);return Promise.resolve(d)},x}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CordovaIFrameNavigator=void 0;var a=P(21);S.CordovaIFrameNavigator=function(){function x(){!function(j,d){if(!(j instanceof d))throw new TypeError("Cannot call a class as a function")}(this,x)}return x.prototype.prepare=function(j){j.popupWindowFeatures="hidden=yes";var d=new a.CordovaPopupWindow(j);return Promise.resolve(d)},x}()},function(R,S,P){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Version="1.11.5"}])},7434:we=>{var R=String.prototype.replace,S=/%20/g;we.exports={default:"RFC3986",formatters:{RFC1738:function(a){return R.call(a,S,"+")},RFC3986:function(a){return String(a)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},3670:(we,R,S)=>{var P=S(1799),a=S(364),x=S(7434);we.exports={formats:x,parse:a,stringify:P}},364:(we,R,S)=>{var P=S(8477),a=Object.prototype.hasOwnProperty,x=Array.isArray,F={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:P.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},d=function($,K){return $&&"string"==typeof $&&K.comma&&$.indexOf(",")>-1?$.split(","):$},B=function(K,G,W,le){if(K){var L=W.allowDots?K.replace(/\.([^.[]+)/g,"[$1]"):K,z=/(\[[^[\]]*])/g,ee=W.depth>0&&/(\[[^[\]]*])/.exec(L),ye=ee?L.slice(0,ee.index):L,be=[];if(ye){if(!W.plainObjects&&a.call(Object.prototype,ye)&&!W.allowPrototypes)return;be.push(ye)}for(var pe=0;W.depth>0&&null!==(ee=z.exec(L))&&pe<W.depth;){if(pe+=1,!W.plainObjects&&a.call(Object.prototype,ee[1].slice(1,-1))&&!W.allowPrototypes)return;be.push(ee[1])}return ee&&be.push("["+L.slice(ee.index)+"]"),function($,K,G,W){for(var le=W?K:d(K,G),L=$.length-1;L>=0;--L){var U,z=$[L];if("[]"===z&&G.parseArrays)U=[].concat(le);else{U=G.plainObjects?Object.create(null):{};var ee="["===z.charAt(0)&&"]"===z.charAt(z.length-1)?z.slice(1,-1):z,ye=parseInt(ee,10);G.parseArrays||""!==ee?!isNaN(ye)&&z!==ee&&String(ye)===ee&&ye>=0&&G.parseArrays&&ye<=G.arrayLimit?(U=[])[ye]=le:"__proto__"!==ee&&(U[ee]=le):U={0:le}}le=U}return le}(be,G,W,le)}};we.exports=function($,K){var G=function(K){if(!K)return F;if(null!=K.decoder&&"function"!=typeof K.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==K.charset&&"utf-8"!==K.charset&&"iso-8859-1"!==K.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");return{allowDots:void 0===K.allowDots?F.allowDots:!!K.allowDots,allowPrototypes:"boolean"==typeof K.allowPrototypes?K.allowPrototypes:F.allowPrototypes,allowSparse:"boolean"==typeof K.allowSparse?K.allowSparse:F.allowSparse,arrayLimit:"number"==typeof K.arrayLimit?K.arrayLimit:F.arrayLimit,charset:void 0===K.charset?F.charset:K.charset,charsetSentinel:"boolean"==typeof K.charsetSentinel?K.charsetSentinel:F.charsetSentinel,comma:"boolean"==typeof K.comma?K.comma:F.comma,decoder:"function"==typeof K.decoder?K.decoder:F.decoder,delimiter:"string"==typeof K.delimiter||P.isRegExp(K.delimiter)?K.delimiter:F.delimiter,depth:"number"==typeof K.depth||!1===K.depth?+K.depth:F.depth,ignoreQueryPrefix:!0===K.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof K.interpretNumericEntities?K.interpretNumericEntities:F.interpretNumericEntities,parameterLimit:"number"==typeof K.parameterLimit?K.parameterLimit:F.parameterLimit,parseArrays:!1!==K.parseArrays,plainObjects:"boolean"==typeof K.plainObjects?K.plainObjects:F.plainObjects,strictNullHandling:"boolean"==typeof K.strictNullHandling?K.strictNullHandling:F.strictNullHandling}}(K);if(""===$||null==$)return G.plainObjects?Object.create(null):{};for(var W="string"==typeof $?function(K,G){var ee,W={},U=(G.ignoreQueryPrefix?K.replace(/^\?/,""):K).split(G.delimiter,G.parameterLimit===1/0?void 0:G.parameterLimit),z=-1,ye=G.charset;if(G.charsetSentinel)for(ee=0;ee<U.length;++ee)0===U[ee].indexOf("utf8=")&&("utf8=%E2%9C%93"===U[ee]?ye="utf-8":"utf8=%26%2310003%3B"===U[ee]&&(ye="iso-8859-1"),z=ee,ee=U.length);for(ee=0;ee<U.length;++ee)if(ee!==z){var A,_,be=U[ee],pe=be.indexOf("]="),y=-1===pe?be.indexOf("="):pe+1;-1===y?(A=G.decoder(be,F.decoder,ye,"key"),_=G.strictNullHandling?null:""):(A=G.decoder(be.slice(0,y),F.decoder,ye,"key"),_=P.maybeMap(d(be.slice(y+1),G),function(E){return G.decoder(E,F.decoder,ye,"value")})),_&&G.interpretNumericEntities&&"iso-8859-1"===ye&&(_=_.replace(/&#(\d+);/g,function(K,G){return String.fromCharCode(parseInt(G,10))})),be.indexOf("[]=")>-1&&(_=x(_)?[_]:_),W[A]=a.call(W,A)?P.combine(W[A],_):_}return W}($,G):$,le=G.plainObjects?Object.create(null):{},L=Object.keys(W),U=0;U<L.length;++U){var z=L[U],ee=B(z,W[z],G,"string"==typeof $);le=P.merge(le,ee,G)}return!0===G.allowSparse?le:P.compact(le)}},1799:(we,R,S)=>{var P=S(8432),a=S(8477),x=S(7434),F=Object.prototype.hasOwnProperty,j={brackets:function(L){return L+"[]"},comma:"comma",indices:function(L,U){return L+"["+U+"]"},repeat:function(L){return L}},d=Array.isArray,h=String.prototype.split,g=Array.prototype.push,N=function(le,L){g.apply(le,d(L)?L:[L])},O=Date.prototype.toISOString,B=x.default,H={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:a.encode,encodeValuesOnly:!1,format:B,formatter:x.formatters[B],indices:!1,serializeDate:function(L){return O.call(L)},skipNulls:!1,strictNullHandling:!1},K={},G=function le(L,U,z,ee,ye,be,pe,y,A,_,E,M,I,ne,fe){for(var Ve=L,ae=fe,ze=0,ot=!1;void 0!==(ae=ae.get(K))&&!ot;){var Ne=ae.get(L);if(ze+=1,void 0!==Ne){if(Ne===ze)throw new RangeError("Cyclic object value");ot=!0}void 0===ae.get(K)&&(ze=0)}if("function"==typeof pe?Ve=pe(U,Ve):Ve instanceof Date?Ve=_(Ve):"comma"===z&&d(Ve)&&(Ve=a.maybeMap(Ve,function(ge){return ge instanceof Date?_(ge):ge})),null===Ve){if(ee)return be&&!I?be(U,H.encoder,ne,"key",E):U;Ve=""}if(function(L){return"string"==typeof L||"number"==typeof L||"boolean"==typeof L||"symbol"==typeof L||"bigint"==typeof L}(Ve)||a.isBuffer(Ve)){if(be){var Ye=I?U:be(U,H.encoder,ne,"key",E);if("comma"===z&&I){for(var Ze=h.call(String(Ve),","),ft="",nt=0;nt<Ze.length;++nt)ft+=(0===nt?"":",")+M(be(Ze[nt],H.encoder,ne,"value",E));return[M(Ye)+"="+ft]}return[M(Ye)+"="+M(be(Ve,H.encoder,ne,"value",E))]}return[M(U)+"="+M(String(Ve))]}var it,Be=[];if(void 0===Ve)return Be;if("comma"===z&&d(Ve))it=[{value:Ve.length>0?Ve.join(",")||null:void 0}];else if(d(pe))it=pe;else{var de=Object.keys(Ve);it=y?de.sort(y):de}for(var te=0;te<it.length;++te){var se=it[te],Pe="object"==typeof se&&void 0!==se.value?se.value:Ve[se];if(!ye||null!==Pe){var Le=d(Ve)?"function"==typeof z?z(U,se):U:U+(A?"."+se:"["+se+"]");fe.set(L,ze);var ce=P();ce.set(K,fe),N(Be,le(Pe,Le,z,ee,ye,be,pe,y,A,_,E,M,I,ne,ce))}}return Be};we.exports=function(le,L){var ee,U=le,z=function(L){if(!L)return H;if(null!=L.encoder&&"function"!=typeof L.encoder)throw new TypeError("Encoder has to be a function.");var U=L.charset||H.charset;if(void 0!==L.charset&&"utf-8"!==L.charset&&"iso-8859-1"!==L.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var z=x.default;if(void 0!==L.format){if(!F.call(x.formatters,L.format))throw new TypeError("Unknown format option provided.");z=L.format}var ee=x.formatters[z],ye=H.filter;return("function"==typeof L.filter||d(L.filter))&&(ye=L.filter),{addQueryPrefix:"boolean"==typeof L.addQueryPrefix?L.addQueryPrefix:H.addQueryPrefix,allowDots:void 0===L.allowDots?H.allowDots:!!L.allowDots,charset:U,charsetSentinel:"boolean"==typeof L.charsetSentinel?L.charsetSentinel:H.charsetSentinel,delimiter:void 0===L.delimiter?H.delimiter:L.delimiter,encode:"boolean"==typeof L.encode?L.encode:H.encode,encoder:"function"==typeof L.encoder?L.encoder:H.encoder,encodeValuesOnly:"boolean"==typeof L.encodeValuesOnly?L.encodeValuesOnly:H.encodeValuesOnly,filter:ye,format:z,formatter:ee,serializeDate:"function"==typeof L.serializeDate?L.serializeDate:H.serializeDate,skipNulls:"boolean"==typeof L.skipNulls?L.skipNulls:H.skipNulls,sort:"function"==typeof L.sort?L.sort:null,strictNullHandling:"boolean"==typeof L.strictNullHandling?L.strictNullHandling:H.strictNullHandling}}(L);"function"==typeof z.filter?U=(0,z.filter)("",U):d(z.filter)&&(ee=z.filter);var be=[];if("object"!=typeof U||null===U)return"";var y=j[L&&L.arrayFormat in j?L.arrayFormat:L&&"indices"in L?L.indices?"indices":"repeat":"indices"];ee||(ee=Object.keys(U)),z.sort&&ee.sort(z.sort);for(var A=P(),_=0;_<ee.length;++_){var E=ee[_];z.skipNulls&&null===U[E]||N(be,G(U[E],E,y,z.strictNullHandling,z.skipNulls,z.encode?z.encoder:null,z.filter,z.sort,z.allowDots,z.serializeDate,z.format,z.formatter,z.encodeValuesOnly,z.charset,A))}var M=be.join(z.delimiter),I=!0===z.addQueryPrefix?"?":"";return z.charsetSentinel&&(I+="iso-8859-1"===z.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),M.length>0?I+M:""}},8477:(we,R,S)=>{var P=S(7434),a=Object.prototype.hasOwnProperty,x=Array.isArray,F=function(){for(var W=[],le=0;le<256;++le)W.push("%"+((le<16?"0":"")+le.toString(16)).toUpperCase());return W}(),d=function(le,L){for(var U=L&&L.plainObjects?Object.create(null):{},z=0;z<le.length;++z)void 0!==le[z]&&(U[z]=le[z]);return U};we.exports={arrayToObject:d,assign:function(le,L){return Object.keys(L).reduce(function(U,z){return U[z]=L[z],U},le)},combine:function(le,L){return[].concat(le,L)},compact:function(le){for(var L=[{obj:{o:le},prop:"o"}],U=[],z=0;z<L.length;++z)for(var ee=L[z],ye=ee.obj[ee.prop],be=Object.keys(ye),pe=0;pe<be.length;++pe){var y=be[pe],A=ye[y];"object"==typeof A&&null!==A&&-1===U.indexOf(A)&&(L.push({obj:ye,prop:y}),U.push(A))}return function(le){for(;le.length>1;){var L=le.pop(),U=L.obj[L.prop];if(x(U)){for(var z=[],ee=0;ee<U.length;++ee)void 0!==U[ee]&&z.push(U[ee]);L.obj[L.prop]=z}}}(L),le},decode:function(W,le,L){var U=W.replace(/\+/g," ");if("iso-8859-1"===L)return U.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(U)}catch{return U}},encode:function(le,L,U,z,ee){if(0===le.length)return le;var ye=le;if("symbol"==typeof le?ye=Symbol.prototype.toString.call(le):"string"!=typeof le&&(ye=String(le)),"iso-8859-1"===U)return escape(ye).replace(/%u[0-9a-f]{4}/gi,function(A){return"%26%23"+parseInt(A.slice(2),16)+"%3B"});for(var be="",pe=0;pe<ye.length;++pe){var y=ye.charCodeAt(pe);45===y||46===y||95===y||126===y||y>=48&&y<=57||y>=65&&y<=90||y>=97&&y<=122||ee===P.RFC1738&&(40===y||41===y)?be+=ye.charAt(pe):y<128?be+=F[y]:y<2048?be+=F[192|y>>6]+F[128|63&y]:y<55296||y>=57344?be+=F[224|y>>12]+F[128|y>>6&63]+F[128|63&y]:(y=65536+((1023&y)<<10|1023&ye.charCodeAt(pe+=1)),be+=F[240|y>>18]+F[128|y>>12&63]+F[128|y>>6&63]+F[128|63&y])}return be},isBuffer:function(le){return!(!le||"object"!=typeof le||!(le.constructor&&le.constructor.isBuffer&&le.constructor.isBuffer(le)))},isRegExp:function(le){return"[object RegExp]"===Object.prototype.toString.call(le)},maybeMap:function(le,L){if(x(le)){for(var U=[],z=0;z<le.length;z+=1)U.push(L(le[z]));return U}return L(le)},merge:function W(le,L,U){if(!L)return le;if("object"!=typeof L){if(x(le))le.push(L);else{if(!le||"object"!=typeof le)return[le,L];(U&&(U.plainObjects||U.allowPrototypes)||!a.call(Object.prototype,L))&&(le[L]=!0)}return le}if(!le||"object"!=typeof le)return[le].concat(L);var z=le;return x(le)&&!x(L)&&(z=d(le,U)),x(le)&&x(L)?(L.forEach(function(ee,ye){if(a.call(le,ye)){var be=le[ye];be&&"object"==typeof be&&ee&&"object"==typeof ee?le[ye]=W(be,ee,U):le.push(ee)}else le[ye]=ee}),le):Object.keys(L).reduce(function(ee,ye){var be=L[ye];return ee[ye]=a.call(ee,ye)?W(ee[ye],be,U):be,ee},z)}}},9877:(we,R,S)=>{var a=S(6712),x=S(1856),F=S(5381);function j(c){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+c,C=1;C<arguments.length;C++)m+="&args[]="+encodeURIComponent(arguments[C]);return"Minified React error #"+c+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!a)throw Error(j(227));function d(c,m,C,q,ie,Se,Te,Ke,_t){var wt=Array.prototype.slice.call(arguments,3);try{m.apply(C,wt)}catch(Lt){this.onError(Lt)}}var h=!1,g=null,N=!1,O=null,B={onError:function(c){h=!0,g=c}};function H(c,m,C,q,ie,Se,Te,Ke,_t){h=!1,g=null,d.apply(B,arguments)}var K=null,G=null,W=null;function le(c,m,C){var q=c.type||"unknown-event";c.currentTarget=W(C),function $(c,m,C,q,ie,Se,Te,Ke,_t){if(H.apply(this,arguments),h){if(!h)throw Error(j(198));var wt=g;h=!1,g=null,N||(N=!0,O=wt)}}(q,m,void 0,c),c.currentTarget=null}var L=null,U={};function z(){if(L)for(var c in U){var m=U[c],C=L.indexOf(c);if(!(-1<C))throw Error(j(96,c));if(!ye[C]){if(!m.extractEvents)throw Error(j(97,c));for(var q in ye[C]=m,C=m.eventTypes){var ie=void 0,Se=C[q],Te=m,Ke=q;if(be.hasOwnProperty(Ke))throw Error(j(99,Ke));be[Ke]=Se;var _t=Se.phasedRegistrationNames;if(_t){for(ie in _t)_t.hasOwnProperty(ie)&&ee(_t[ie],Te,Ke);ie=!0}else Se.registrationName?(ee(Se.registrationName,Te,Ke),ie=!0):ie=!1;if(!ie)throw Error(j(98,q,c))}}}}function ee(c,m,C){if(pe[c])throw Error(j(100,c));pe[c]=m,y[c]=m.eventTypes[C].dependencies}var ye=[],be={},pe={},y={};function A(c){var C,m=!1;for(C in c)if(c.hasOwnProperty(C)){var q=c[C];if(!U.hasOwnProperty(C)||U[C]!==q){if(U[C])throw Error(j(102,C));U[C]=q,m=!0}}m&&z()}var _=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),E=null,M=null,I=null;function ne(c){if(c=G(c)){if("function"!=typeof E)throw Error(j(280));var m=c.stateNode;m&&(m=K(m),E(c.stateNode,c.type,m))}}function fe(c){M?I?I.push(c):I=[c]:M=c}function Ve(){if(M){var c=M,m=I;if(I=M=null,ne(c),m)for(c=0;c<m.length;c++)ne(m[c])}}function ae(c,m){return c(m)}function ze(c,m,C,q,ie){return c(m,C,q,ie)}function ot(){}var Ne=ae,Ye=!1,Ze=!1;function ft(){(null!==M||null!==I)&&(ot(),Ve())}function nt(c,m,C){if(Ze)return c(m,C);Ze=!0;try{return Ne(c,m,C)}finally{Ze=!1,ft()}}var Be=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,it=Object.prototype.hasOwnProperty,de={},te={};function ce(c,m,C,q,ie,Se){this.acceptsBooleans=2===m||3===m||4===m,this.attributeName=q,this.attributeNamespace=ie,this.mustUseProperty=C,this.propertyName=c,this.type=m,this.sanitizeURL=Se}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){ge[c]=new ce(c,0,!1,c,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var m=c[0];ge[m]=new ce(m,1,!1,c[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){ge[c]=new ce(c,2,!1,c.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){ge[c]=new ce(c,2,!1,c,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){ge[c]=new ce(c,3,!1,c.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(c){ge[c]=new ce(c,3,!0,c,null,!1)}),["capture","download"].forEach(function(c){ge[c]=new ce(c,4,!1,c,null,!1)}),["cols","rows","size","span"].forEach(function(c){ge[c]=new ce(c,6,!1,c,null,!1)}),["rowSpan","start"].forEach(function(c){ge[c]=new ce(c,5,!1,c.toLowerCase(),null,!1)});var rt=/[\-:]([a-z])/g;function _e(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var m=c.replace(rt,_e);ge[m]=new ce(m,1,!1,c,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var m=c.replace(rt,_e);ge[m]=new ce(m,1,!1,c,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var m=c.replace(rt,_e);ge[m]=new ce(m,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(c){ge[c]=new ce(c,1,!1,c.toLowerCase(),null,!1)}),ge.xlinkHref=new ce("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(c){ge[c]=new ce(c,1,!1,c.toLowerCase(),null,!0)});var X=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function V(c,m,C,q){var ie=ge.hasOwnProperty(m)?ge[m]:null;(null!==ie?0===ie.type:!q&&2<m.length&&("o"===m[0]||"O"===m[0])&&("n"===m[1]||"N"===m[1]))||(function Le(c,m,C,q){if(null==m||function Pe(c,m,C,q){if(null!==C&&0===C.type)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return!q&&(null!==C?!C.acceptsBooleans:"data-"!==(c=c.toLowerCase().slice(0,5))&&"aria-"!==c);default:return!1}}(c,m,C,q))return!0;if(q)return!1;if(null!==C)switch(C.type){case 3:return!m;case 4:return!1===m;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}(m,C,ie,q)&&(C=null),q||null===ie?function se(c){return!!it.call(te,c)||!it.call(de,c)&&(Be.test(c)?te[c]=!0:(de[c]=!0,!1))}(m)&&(null===C?c.removeAttribute(m):c.setAttribute(m,""+C)):ie.mustUseProperty?c[ie.propertyName]=null===C?3!==ie.type&&"":C:(m=ie.attributeName,q=ie.attributeNamespace,null===C?c.removeAttribute(m):(C=3===(ie=ie.type)||4===ie&&!0===C?"":""+C,q?c.setAttributeNS(q,m,C):c.setAttribute(m,C))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var Q=/^(.*)[\\\/]/,me="function"==typeof Symbol&&Symbol.for,Fe=me?Symbol.for("react.element"):60103,He=me?Symbol.for("react.portal"):60106,et=me?Symbol.for("react.fragment"):60107,vt=me?Symbol.for("react.strict_mode"):60108,xt=me?Symbol.for("react.profiler"):60114,kt=me?Symbol.for("react.provider"):60109,Jt=me?Symbol.for("react.context"):60110,xe=me?Symbol.for("react.concurrent_mode"):60111,xn=me?Symbol.for("react.forward_ref"):60112,Gt=me?Symbol.for("react.suspense"):60113,Rt=me?Symbol.for("react.suspense_list"):60120,bn=me?Symbol.for("react.memo"):60115,dt=me?Symbol.for("react.lazy"):60116,yt=me?Symbol.for("react.block"):60121,on="function"==typeof Symbol&&Symbol.iterator;function hn(c){return null===c||"object"!=typeof c?null:"function"==typeof(c=on&&c[on]||c["@@iterator"])?c:null}function zt(c){if(null==c)return null;if("function"==typeof c)return c.displayName||c.name||null;if("string"==typeof c)return c;switch(c){case et:return"Fragment";case He:return"Portal";case xt:return"Profiler";case vt:return"StrictMode";case Gt:return"Suspense";case Rt:return"SuspenseList"}if("object"==typeof c)switch(c.$$typeof){case Jt:return"Context.Consumer";case kt:return"Context.Provider";case xn:var m=c.render;return m=m.displayName||m.name||"",c.displayName||(""!==m?"ForwardRef("+m+")":"ForwardRef");case bn:return zt(c.type);case yt:return zt(c.render);case dt:if(c=1===c._status?c._result:null)return zt(c)}return null}function gn(c){var m="";do{e:switch(c.tag){case 3:case 4:case 6:case 7:case 10:case 9:var C="";break e;default:var q=c._debugOwner,ie=c._debugSource,Se=zt(c.type);C=null,q&&(C=zt(q.type)),q=Se,Se="",ie?Se=" (at "+ie.fileName.replace(Q,"")+":"+ie.lineNumber+")":C&&(Se=" (created by "+C+")"),C="\n    in "+(q||"Unknown")+Se}m+=C,c=c.return}while(c);return m}function Pr(c){switch(typeof c){case"boolean":case"number":case"object":case"string":case"undefined":return c;default:return""}}function wn(c){var m=c.type;return(c=c.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===m||"radio"===m)}function gr(c){c._valueTracker||(c._valueTracker=function Gn(c){var m=wn(c)?"checked":"value",C=Object.getOwnPropertyDescriptor(c.constructor.prototype,m),q=""+c[m];if(!c.hasOwnProperty(m)&&void 0!==C&&"function"==typeof C.get&&"function"==typeof C.set){var ie=C.get,Se=C.set;return Object.defineProperty(c,m,{configurable:!0,get:function(){return ie.call(this)},set:function(Te){q=""+Te,Se.call(this,Te)}}),Object.defineProperty(c,m,{enumerable:C.enumerable}),{getValue:function(){return q},setValue:function(Te){q=""+Te},stopTracking:function(){c._valueTracker=null,delete c[m]}}}}(c))}function Zr(c){if(!c)return!1;var m=c._valueTracker;if(!m)return!0;var C=m.getValue(),q="";return c&&(q=wn(c)?c.checked?"true":"false":c.value),(c=q)!==C&&(m.setValue(c),!0)}function $n(c,m){return x({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m.checked??c._wrapperState.initialChecked})}function Rr(c,m){var C=m.defaultValue??"",q=null!=m.checked?m.checked:m.defaultChecked;C=Pr(null!=m.value?m.value:C),c._wrapperState={initialChecked:q,initialValue:C,controlled:"checkbox"===m.type||"radio"===m.type?null!=m.checked:null!=m.value}}function fr(c,m){null!=(m=m.checked)&&V(c,"checked",m,!1)}function Nr(c,m){fr(c,m);var C=Pr(m.value),q=m.type;if(null!=C)"number"===q?(0===C&&""===c.value||c.value!=C)&&(c.value=""+C):c.value!==""+C&&(c.value=""+C);else if("submit"===q||"reset"===q)return void c.removeAttribute("value");m.hasOwnProperty("value")?sa(c,m.type,C):m.hasOwnProperty("defaultValue")&&sa(c,m.type,Pr(m.defaultValue)),null==m.checked&&null!=m.defaultChecked&&(c.defaultChecked=!!m.defaultChecked)}function ui(c,m,C){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var q=m.type;if(("submit"===q||"reset"===q)&&null==m.value)return;m=""+c._wrapperState.initialValue,C||m===c.value||(c.value=m),c.defaultValue=m}""!==(C=c.name)&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,""!==C&&(c.name=C)}function sa(c,m,C){("number"!==m||c.ownerDocument.activeElement!==c)&&(null==C?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+C&&(c.defaultValue=""+C))}function vi(c,m){return c=x({children:void 0},m),(m=function Gi(c){var m="";return a.Children.forEach(c,function(C){null!=C&&(m+=C)}),m}(m.children))&&(c.children=m),c}function ci(c,m,C,q){if(c=c.options,m){m={};for(var ie=0;ie<C.length;ie++)m["$"+C[ie]]=!0;for(C=0;C<c.length;C++)ie=m.hasOwnProperty("$"+c[C].value),c[C].selected!==ie&&(c[C].selected=ie),ie&&q&&(c[C].defaultSelected=!0)}else{for(C=""+Pr(C),m=null,ie=0;ie<c.length;ie++){if(c[ie].value===C)return c[ie].selected=!0,void(q&&(c[ie].defaultSelected=!0));null!==m||c[ie].disabled||(m=c[ie])}null!==m&&(m.selected=!0)}}function Vi(c,m){if(null!=m.dangerouslySetInnerHTML)throw Error(j(91));return x({},m,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Pa(c,m){var C=m.value;if(null==C){if(C=m.children,m=m.defaultValue,null!=C){if(null!=m)throw Error(j(92));if(Array.isArray(C)){if(!(1>=C.length))throw Error(j(93));C=C[0]}m=C}null==m&&(m=""),C=m}c._wrapperState={initialValue:Pr(C)}}function $r(c,m){var C=Pr(m.value),q=Pr(m.defaultValue);null!=C&&((C=""+C)!==c.value&&(c.value=C),null==m.defaultValue&&c.defaultValue!==C&&(c.defaultValue=C)),null!=q&&(c.defaultValue=""+q)}function la(c){var m=c.textContent;m===c._wrapperState.initialValue&&""!==m&&null!==m&&(c.value=m)}function Hi(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qn(c,m){return null==c||"http://www.w3.org/1999/xhtml"===c?Hi(m):"http://www.w3.org/2000/svg"===c&&"foreignObject"===m?"http://www.w3.org/1999/xhtml":c}var ua,c,ei=(c=function(c,m){if("http://www.w3.org/2000/svg"!==c.namespaceURI||"innerHTML"in c)c.innerHTML=m;else{for((ua=ua||document.createElement("div")).innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=ua.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;m.firstChild;)c.appendChild(m.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(m,C,q,ie){MSApp.execUnsafeLocalFunction(function(){return c(m,C)})}:c);function di(c,m){if(m){var C=c.firstChild;if(C&&C===c.lastChild&&3===C.nodeType)return void(C.nodeValue=m)}c.textContent=m}function qi(c,m){var C={};return C[c.toLowerCase()]=m.toLowerCase(),C["Webkit"+c]="webkit"+m,C["Moz"+c]="moz"+m,C}var Pn={animationend:qi("Animation","AnimationEnd"),animationiteration:qi("Animation","AnimationIteration"),animationstart:qi("Animation","AnimationStart"),transitionend:qi("Transition","TransitionEnd")},Ho={},qo={};function ca(c){if(Ho[c])return Ho[c];if(!Pn[c])return c;var C,m=Pn[c];for(C in m)if(m.hasOwnProperty(C)&&C in qo)return Ho[c]=m[C];return c}_&&(qo=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);var yo=ca("animationend"),Cs=ca("animationiteration"),xs=ca("animationstart"),yl=ca("transitionend"),Ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vo=new("function"==typeof WeakMap?WeakMap:Map);function Ss(c){var m=vo.get(c);return void 0===m&&vo.set(c,m=new Map),m}function w(c){var m=c,C=c;if(c.alternate)for(;m.return;)m=m.return;else{c=m;do{0!=(1026&(m=c).effectTag)&&(C=m.return),c=m.return}while(c)}return 3===m.tag?C:null}function b(c){if(13===c.tag){var m=c.memoizedState;if(null===m&&null!==(c=c.alternate)&&(m=c.memoizedState),null!==m)return m.dehydrated}return null}function k(c){if(w(c)!==c)throw Error(j(188))}function oe(c,m){if(null==m)throw Error(j(30));return null==c?m:Array.isArray(c)?Array.isArray(m)?(c.push.apply(c,m),c):(c.push(m),c):Array.isArray(m)?[c].concat(m):[c,m]}function ue(c,m,C){Array.isArray(c)?c.forEach(m,C):c&&m.call(C,c)}var Ee=null;function Ce(c){if(c){var m=c._dispatchListeners,C=c._dispatchInstances;if(Array.isArray(m))for(var q=0;q<m.length&&!c.isPropagationStopped();q++)le(c,m[q],C[q]);else m&&le(c,m,C);c._dispatchListeners=null,c._dispatchInstances=null,c.isPersistent()||c.constructor.release(c)}}function Re(c){if(null!==c&&(Ee=oe(Ee,c)),c=Ee,Ee=null,c){if(ue(c,Ce),Ee)throw Error(j(95));if(N)throw c=O,N=!1,O=null,c}}function Me(c){return(c=c.target||c.srcElement||window).correspondingUseElement&&(c=c.correspondingUseElement),3===c.nodeType?c.parentNode:c}function je(c){if(!_)return!1;var m=(c="on"+c)in document;return m||((m=document.createElement("div")).setAttribute(c,"return;"),m="function"==typeof m[c]),m}var $e=[];function We(c){c.topLevelType=null,c.nativeEvent=null,c.targetInst=null,c.ancestors.length=0,10>$e.length&&$e.push(c)}function st(c,m,C,q){if($e.length){var ie=$e.pop();return ie.topLevelType=c,ie.eventSystemFlags=q,ie.nativeEvent=m,ie.targetInst=C,ie}return{topLevelType:c,eventSystemFlags:q,nativeEvent:m,targetInst:C,ancestors:[]}}function mt(c){var m=c.targetInst,C=m;do{if(!C){c.ancestors.push(C);break}var q=C;if(3===q.tag)q=q.stateNode.containerInfo;else{for(;q.return;)q=q.return;q=3!==q.tag?null:q.stateNode.containerInfo}if(!q)break;5!==(m=C.tag)&&6!==m||c.ancestors.push(C),C=Cl(q)}while(C);for(C=0;C<c.ancestors.length;C++){m=c.ancestors[C];var ie=Me(c.nativeEvent);q=c.topLevelType;var Se=c.nativeEvent,Te=c.eventSystemFlags;0===C&&(Te|=64);for(var Ke=null,_t=0;_t<ye.length;_t++){var wt=ye[_t];wt&&(wt=wt.extractEvents(q,m,Se,ie,Te))&&(Ke=oe(Ke,wt))}Re(Ke)}}function ht(c,m,C){if(!C.has(c)){switch(c){case"scroll":Hr(m,"scroll",!0);break;case"focus":case"blur":Hr(m,"focus",!0),Hr(m,"blur",!0),C.set("blur",null),C.set("focus",null);break;case"cancel":case"close":je(c)&&Hr(m,c,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ta.indexOf(c)&&Hn(c,m)}C.set(c,null)}}var Ie,Ge,qe,Je=!1,ut=[],gt=null,Bt=null,Pt=null,cn=new Map,Dt=new Map,$t=[],Ln="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Yn="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function jr(c,m,C,q,ie){return{blockedOn:c,topLevelType:m,eventSystemFlags:32|C,nativeEvent:ie,container:q}}function Or(c,m){switch(c){case"focus":case"blur":gt=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":cn.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(m.pointerId)}}function yr(c,m,C,q,ie,Se){return null===c||c.nativeEvent!==Se?(c=jr(m,C,q,ie,Se),null!==m&&null!==(m=xl(m))&&Ge(m),c):(c.eventSystemFlags|=q,c)}function vr(c){var m=Cl(c.target);if(null!==m){var C=w(m);if(null!==C)if(13===(m=C.tag)){if(null!==(m=b(C)))return c.blockedOn=m,void F.unstable_runWithPriority(c.priority,function(){qe(C)})}else if(3===m&&C.stateNode.hydrate)return void(c.blockedOn=3===C.tag?C.stateNode.containerInfo:null)}c.blockedOn=null}function mr(c){if(null!==c.blockedOn)return!1;var m=Ni(c.topLevelType,c.eventSystemFlags,c.container,c.nativeEvent);if(null!==m){var C=xl(m);return null!==C&&Ge(C),c.blockedOn=m,!1}return!0}function Br(c,m,C){mr(c)&&C.delete(m)}function Ko(){for(Je=!1;0<ut.length;){var c=ut[0];if(null!==c.blockedOn){null!==(c=xl(c.blockedOn))&&Ie(c);break}var m=Ni(c.topLevelType,c.eventSystemFlags,c.container,c.nativeEvent);null!==m?c.blockedOn=m:ut.shift()}null!==gt&&mr(gt)&&(gt=null),null!==Bt&&mr(Bt)&&(Bt=null),null!==Pt&&mr(Pt)&&(Pt=null),cn.forEach(Br),Dt.forEach(Br)}function Ki(c,m){c.blockedOn===m&&(c.blockedOn=null,Je||(Je=!0,F.unstable_scheduleCallback(F.unstable_NormalPriority,Ko)))}function Xo(c){function m(ie){return Ki(ie,c)}if(0<ut.length){Ki(ut[0],c);for(var C=1;C<ut.length;C++){var q=ut[C];q.blockedOn===c&&(q.blockedOn=null)}}for(null!==gt&&Ki(gt,c),null!==Bt&&Ki(Bt,c),null!==Pt&&Ki(Pt,c),cn.forEach(m),Dt.forEach(m),C=0;C<$t.length;C++)(q=$t[C]).blockedOn===c&&(q.blockedOn=null);for(;0<$t.length&&null===(C=$t[0]).blockedOn;)vr(C),null===C.blockedOn&&$t.shift()}var Ga={},Es=new Map,$a=new Map,Ri=["abort","abort",yo,"animationEnd",Cs,"animationIteration",xs,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",yl,"transitionEnd","waiting","waiting"];function ti(c,m){for(var C=0;C<c.length;C+=2){var q=c[C],ie=c[C+1],Se="on"+(ie[0].toUpperCase()+ie.slice(1));Se={phasedRegistrationNames:{bubbled:Se,captured:Se+"Capture"},dependencies:[q],eventPriority:m},$a.set(q,m),Es.set(q,Se),Ga[ie]=Se}}ti("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),ti("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),ti(Ri,2);for(var Wo="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ha=0;Ha<Wo.length;Ha++)$a.set(Wo[Ha],0);var As=F.unstable_UserBlockingPriority,Is=F.unstable_runWithPriority,_o=!0;function Hn(c,m){Hr(m,c,!1)}function Hr(c,m,C){var q=$a.get(m);switch(void 0===q?2:q){case 0:q=qa.bind(null,m,1,c);break;case 1:q=da.bind(null,m,1,c);break;default:q=An.bind(null,m,1,c)}c.addEventListener(m,q,!!C)}function qa(c,m,C,q){Ye||ot();var ie=An,Se=Ye;Ye=!0;try{ze(ie,c,m,C,q)}finally{(Ye=Se)||ft()}}function da(c,m,C,q){Is(As,An.bind(null,c,m,C,q))}function An(c,m,C,q){if(_o)if(0<ut.length&&-1<Ln.indexOf(c))c=jr(null,c,m,C,q),ut.push(c);else{var ie=Ni(c,m,C,q);if(null===ie)Or(c,q);else if(-1<Ln.indexOf(c))c=jr(ie,c,m,C,q),ut.push(c);else if(!function pr(c,m,C,q,ie){switch(m){case"focus":return gt=yr(gt,c,m,C,q,ie),!0;case"dragenter":return Bt=yr(Bt,c,m,C,q,ie),!0;case"mouseover":return Pt=yr(Pt,c,m,C,q,ie),!0;case"pointerover":var Se=ie.pointerId;return cn.set(Se,yr(cn.get(Se)||null,c,m,C,q,ie)),!0;case"gotpointercapture":return Dt.set(Se=ie.pointerId,yr(Dt.get(Se)||null,c,m,C,q,ie)),!0}return!1}(ie,c,m,C,q)){Or(c,q),c=st(c,q,null,m);try{nt(mt,c)}finally{We(c)}}}}function Ni(c,m,C,q){if(null!==(C=Cl(C=Me(q)))){var ie=w(C);if(null===ie)C=null;else{var Se=ie.tag;if(13===Se){if(null!==(C=b(ie)))return C;C=null}else if(3===Se){if(ie.stateNode.hydrate)return 3===ie.tag?ie.stateNode.containerInfo:null;C=null}else ie!==C&&(C=null)}}c=st(c,q,C,m);try{nt(mt,c)}finally{We(c)}return null}var Xi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_r=["Webkit","ms","Moz","O"];function vl(c,m,C){return null==m||"boolean"==typeof m||""===m?"":C||"number"!=typeof m||0===m||Xi.hasOwnProperty(c)&&Xi[c]?(""+m).trim():m+"px"}function ka(c,m){for(var C in c=c.style,m)if(m.hasOwnProperty(C)){var q=0===C.indexOf("--"),ie=vl(C,m[C],q);"float"===C&&(C="cssFloat"),q?c.setProperty(C,ie):c[C]=ie}}Object.keys(Xi).forEach(function(c){_r.forEach(function(m){m=m+c.charAt(0).toUpperCase()+c.substring(1),Xi[m]=Xi[c]})});var Ka=x({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _l(c,m){if(m){if(Ka[c]&&(null!=m.children||null!=m.dangerouslySetInnerHTML))throw Error(j(137,c,""));if(null!=m.dangerouslySetInnerHTML){if(null!=m.children)throw Error(j(60));if("object"!=typeof m.dangerouslySetInnerHTML||!("__html"in m.dangerouslySetInnerHTML))throw Error(j(61))}if(null!=m.style&&"object"!=typeof m.style)throw Error(j(62,""))}}function bl(c,m){if(-1===c.indexOf("-"))return"string"==typeof m.is;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wl="http://www.w3.org/1999/xhtml";function Xa(c,m){var C=Ss(c=9===c.nodeType||11===c.nodeType?c:c.ownerDocument);m=y[m];for(var q=0;q<m.length;q++)ht(m[q],c,C)}function hu(){}function Hc(c){if(void 0===(c=c||("undefined"!=typeof document?document:void 0)))return null;try{return c.activeElement||c.body}catch{return c.body}}function pp(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function mp(c,m){var q,C=pp(c);for(c=0;C;){if(3===C.nodeType){if(q=c+C.textContent.length,c<=m&&q>=m)return{node:C,offset:m-c};c=q}e:{for(;C;){if(C.nextSibling){C=C.nextSibling;break e}C=C.parentNode}C=void 0}C=pp(C)}}function ug(c,m){return!(!c||!m)&&(c===m||(!c||3!==c.nodeType)&&(m&&3===m.nodeType?ug(c,m.parentNode):"contains"in c?c.contains(m):!!c.compareDocumentPosition&&!!(16&c.compareDocumentPosition(m))))}function qc(){for(var c=window,m=Hc();m instanceof c.HTMLIFrameElement;){try{var C="string"==typeof m.contentWindow.location.href}catch{C=!1}if(!C)break;m=Hc((c=m.contentWindow).document)}return m}function gu(c){var m=c&&c.nodeName&&c.nodeName.toLowerCase();return m&&("input"===m&&("text"===c.type||"search"===c.type||"tel"===c.type||"url"===c.type||"password"===c.type)||"textarea"===m||"true"===c.contentEditable)}var Wc=null,yp=null;function vp(c,m){switch(c){case"button":case"input":case"select":case"textarea":return!!m.autoFocus}return!1}function Jc(c,m){return"textarea"===c||"option"===c||"noscript"===c||"string"==typeof m.children||"number"==typeof m.children||"object"==typeof m.dangerouslySetInnerHTML&&null!==m.dangerouslySetInnerHTML&&null!=m.dangerouslySetInnerHTML.__html}var yu="function"==typeof setTimeout?setTimeout:void 0,_p="function"==typeof clearTimeout?clearTimeout:void 0;function Ps(c){for(;null!=c;c=c.nextSibling){var m=c.nodeType;if(1===m||3===m)break}return c}function bp(c){c=c.previousSibling;for(var m=0;c;){if(8===c.nodeType){var C=c.data;if("$"===C||"$!"===C||"$?"===C){if(0===m)return c;m--}else"/$"===C&&m++}c=c.previousSibling}return null}var Qc=Math.random().toString(36).slice(2),bo="__reactInternalInstance$"+Qc,vu="__reactEventHandlers$"+Qc,_u="__reactContainere$"+Qc;function Cl(c){var m=c[bo];if(m)return m;for(var C=c.parentNode;C;){if(m=C[_u]||C[bo]){if(C=m.alternate,null!==m.child||null!==C&&null!==C.child)for(c=bp(c);null!==c;){if(C=c[bo])return C;c=bp(c)}return m}C=(c=C).parentNode}return null}function xl(c){return!(c=c[bo]||c[_u])||5!==c.tag&&6!==c.tag&&13!==c.tag&&3!==c.tag?null:c}function wo(c){if(5===c.tag||6===c.tag)return c.stateNode;throw Error(j(33))}function bu(c){return c[vu]||null}function Wa(c){do{c=c.return}while(c&&5!==c.tag);return c||null}function wp(c,m){var C=c.stateNode;if(!C)return null;var q=K(C);if(!q)return null;C=q[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(q=!q.disabled)||(q=!("button"===(c=c.type)||"input"===c||"select"===c||"textarea"===c)),c=!q;break e;default:c=!1}if(c)return null;if(C&&"function"!=typeof C)throw Error(j(231,m,typeof C));return C}function Cp(c,m,C){(m=wp(c,C.dispatchConfig.phasedRegistrationNames[m]))&&(C._dispatchListeners=oe(C._dispatchListeners,m),C._dispatchInstances=oe(C._dispatchInstances,c))}function cg(c){if(c&&c.dispatchConfig.phasedRegistrationNames){for(var m=c._targetInst,C=[];m;)C.push(m),m=Wa(m);for(m=C.length;0<m--;)Cp(C[m],"captured",c);for(m=0;m<C.length;m++)Cp(C[m],"bubbled",c)}}function Yc(c,m,C){c&&C&&C.dispatchConfig.registrationName&&(m=wp(c,C.dispatchConfig.registrationName))&&(C._dispatchListeners=oe(C._dispatchListeners,m),C._dispatchInstances=oe(C._dispatchInstances,c))}function Ts(c){ue(c,cg)}var Co=null,Zc=null,wu=null;function xp(){if(wu)return wu;var c,q,m=Zc,C=m.length,ie="value"in Co?Co.value:Co.textContent,Se=ie.length;for(c=0;c<C&&m[c]===ie[c];c++);var Te=C-c;for(q=1;q<=Te&&m[C-q]===ie[Se-q];q++);return wu=ie.slice(c,1<q?1-q:void 0)}function Cu(){return!0}function xu(){return!1}function Wi(c,m,C,q){for(var ie in this.dispatchConfig=c,this._targetInst=m,this.nativeEvent=C,c=this.constructor.Interface)c.hasOwnProperty(ie)&&((m=c[ie])?this[ie]=m(C):"target"===ie?this.target=q:this[ie]=C[ie]);return this.isDefaultPrevented=(null!=C.defaultPrevented?C.defaultPrevented:!1===C.returnValue)?Cu:xu,this.isPropagationStopped=xu,this}function dg(c,m,C,q){if(this.eventPool.length){var ie=this.eventPool.pop();return this.call(ie,c,m,C,q),ie}return new this(c,m,C,q)}function fg(c){if(!(c instanceof this))throw Error(j(279));c.destructor(),10>this.eventPool.length&&this.eventPool.push(c)}function Sp(c){c.eventPool=[],c.getPooled=dg,c.release=fg}x(Wi.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():"unknown"!=typeof c.returnValue&&(c.returnValue=!1),this.isDefaultPrevented=Cu)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():"unknown"!=typeof c.cancelBubble&&(c.cancelBubble=!0),this.isPropagationStopped=Cu)},persist:function(){this.isPersistent=Cu},isPersistent:xu,destructor:function(){var m,c=this.constructor.Interface;for(m in c)this[m]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=xu,this._dispatchInstances=this._dispatchListeners=null}}),Wi.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Wi.extend=function(c){function m(){}function C(){return q.apply(this,arguments)}var q=this;m.prototype=q.prototype;var ie=new m;return x(ie,C.prototype),(C.prototype=ie).constructor=C,C.Interface=x({},q.Interface,c),C.extend=q.extend,Sp(C),C},Sp(Wi);var pg=Wi.extend({data:null}),mg=Wi.extend({data:null}),hg=[9,13,27,32],ed=_&&"CompositionEvent"in window,Sl=null;_&&"documentMode"in document&&(Sl=document.documentMode);var c0=_&&"TextEvent"in window&&!Sl,Ep=_&&(!ed||Sl&&8<Sl&&11>=Sl),Ap=String.fromCharCode(32),Ja={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ip=!1;function Pp(c,m){switch(c){case"keyup":return-1!==hg.indexOf(m.keyCode);case"keydown":return 229!==m.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Tp(c){return"object"==typeof(c=c.detail)&&"data"in c?c.data:null}var ks=!1,yg={eventTypes:Ja,extractEvents:function(c,m,C,q){var ie;if(ed)e:{switch(c){case"compositionstart":var Se=Ja.compositionStart;break e;case"compositionend":Se=Ja.compositionEnd;break e;case"compositionupdate":Se=Ja.compositionUpdate;break e}Se=void 0}else ks?Pp(c,C)&&(Se=Ja.compositionEnd):"keydown"===c&&229===C.keyCode&&(Se=Ja.compositionStart);return Se?(Ep&&"ko"!==C.locale&&(ks||Se!==Ja.compositionStart?Se===Ja.compositionEnd&&ks&&(ie=xp()):(Zc="value"in(Co=q)?Co.value:Co.textContent,ks=!0)),Se=pg.getPooled(Se,m,C,q),(ie||null!==(ie=Tp(C)))&&(Se.data=ie),Ts(Se),ie=Se):ie=null,(c=c0?function d0(c,m){switch(c){case"compositionend":return Tp(m);case"keypress":return 32!==m.which?null:(Ip=!0,Ap);case"textInput":return(c=m.data)===Ap&&Ip?null:c;default:return null}}(c,C):function gg(c,m){if(ks)return"compositionend"===c||!ed&&Pp(c,m)?(c=xp(),wu=Zc=Co=null,ks=!1,c):null;switch(c){case"paste":default:return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return Ep&&"ko"!==m.locale?null:m.data}}(c,C))?((m=mg.getPooled(Ja.beforeInput,m,C,q)).data=c,Ts(m)):m=null,null===ie?m:null===m?ie:[ie,m]}},vg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kp(c){var m=c&&c.nodeName&&c.nodeName.toLowerCase();return"input"===m?!!vg[c.type]:"textarea"===m}var Vp={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Rp(c,m,C){return(c=Wi.getPooled(Vp.change,c,m,C)).type="change",fe(C),Ts(c),c}var Su=null,El=null;function _g(c){Re(c)}function Al(c){if(Zr(wo(c)))return c}function bg(c,m){if("change"===c)return m}var td=!1;function Np(){Su&&(Su.detachEvent("onpropertychange",Op),El=Su=null)}function Op(c){if("value"===c.propertyName&&Al(El))if(c=Rp(El,c,Me(c)),Ye)Re(c);else{Ye=!0;try{ae(_g,c)}finally{Ye=!1,ft()}}}function wg(c,m,C){"focus"===c?(Np(),El=C,(Su=m).attachEvent("onpropertychange",Op)):"blur"===c&&Np()}function f0(c){if("selectionchange"===c||"keyup"===c||"keydown"===c)return Al(El)}function Cg(c,m){if("click"===c)return Al(m)}function xg(c,m){if("input"===c||"change"===c)return Al(m)}_&&(td=je("input")&&(!document.documentMode||9<document.documentMode));var Sg={eventTypes:Vp,_isInputEventSupported:td,extractEvents:function(c,m,C,q){var ie=m?wo(m):window,Se=ie.nodeName&&ie.nodeName.toLowerCase();if("select"===Se||"input"===Se&&"file"===ie.type)var Te=bg;else if(kp(ie))if(td)Te=xg;else{Te=f0;var Ke=wg}else(Se=ie.nodeName)&&"input"===Se.toLowerCase()&&("checkbox"===ie.type||"radio"===ie.type)&&(Te=Cg);if(Te&&(Te=Te(c,m)))return Rp(Te,C,q);Ke&&Ke(c,ie,m),"blur"===c&&(c=ie._wrapperState)&&c.controlled&&"number"===ie.type&&sa(ie,"number",ie.value)}},Il=Wi.extend({view:null,detail:null}),Eg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ag(c){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(c):!!(c=Eg[c])&&!!m[c]}function nd(){return Ag}var Ig=0,Fp=0,Mp=!1,Dp=!1,Pl=Il.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:nd,button:null,buttons:null,relatedTarget:function(c){return c.relatedTarget||(c.fromElement===c.srcElement?c.toElement:c.fromElement)},movementX:function(c){if("movementX"in c)return c.movementX;var m=Ig;return Ig=c.screenX,Mp?"mousemove"===c.type?c.screenX-m:0:(Mp=!0,0)},movementY:function(c){if("movementY"in c)return c.movementY;var m=Fp;return Fp=c.screenY,Dp?"mousemove"===c.type?c.screenY-m:0:(Dp=!0,0)}}),jp=Pl.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Tl={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},p0={eventTypes:Tl,extractEvents:function(c,m,C,q,ie){var Se="mouseover"===c||"pointerover"===c,Te="mouseout"===c||"pointerout"===c;if(Se&&0==(32&ie)&&(C.relatedTarget||C.fromElement)||!Te&&!Se)return null;if(Se=q.window===q?q:(Se=q.ownerDocument)?Se.defaultView||Se.parentWindow:window,Te?(Te=m,null!==(m=(m=C.relatedTarget||C.toElement)?Cl(m):null)&&(m!==w(m)||5!==m.tag&&6!==m.tag)&&(m=null)):Te=null,Te===m)return null;if("mouseout"===c||"mouseover"===c)var _t=Pl,wt=Tl.mouseLeave,Lt=Tl.mouseEnter,Ht="mouse";else("pointerout"===c||"pointerover"===c)&&(_t=jp,wt=Tl.pointerLeave,Lt=Tl.pointerEnter,Ht="pointer");if(c=null==Te?Se:wo(Te),Se=null==m?Se:wo(m),(wt=_t.getPooled(wt,Te,C,q)).type=Ht+"leave",wt.target=c,wt.relatedTarget=Se,(C=_t.getPooled(Lt,m,C,q)).type=Ht+"enter",C.target=Se,C.relatedTarget=c,Ht=m,(q=Te)&&Ht)e:{for(Lt=Ht,Te=0,c=_t=q;c;c=Wa(c))Te++;for(c=0,m=Lt;m;m=Wa(m))c++;for(;0<Te-c;)_t=Wa(_t),Te--;for(;0<c-Te;)Lt=Wa(Lt),c--;for(;Te--;){if(_t===Lt||_t===Lt.alternate)break e;_t=Wa(_t),Lt=Wa(Lt)}_t=null}else _t=null;for(Lt=_t,_t=[];q&&q!==Lt&&(null===(Te=q.alternate)||Te!==Lt);)_t.push(q),q=Wa(q);for(q=[];Ht&&Ht!==Lt&&(null===(Te=Ht.alternate)||Te!==Lt);)q.push(Ht),Ht=Wa(Ht);for(Ht=0;Ht<_t.length;Ht++)Yc(_t[Ht],"bubbled",wt);for(Ht=q.length;0<Ht--;)Yc(q[Ht],"captured",C);return 0==(64&ie)?[wt]:[wt,C]}},Jo="function"==typeof Object.is?Object.is:function Pg(c,m){return c===m&&(0!==c||1/c==1/m)||c!=c&&m!=m},Bp=Object.prototype.hasOwnProperty;function kl(c,m){if(Jo(c,m))return!0;if("object"!=typeof c||null===c||"object"!=typeof m||null===m)return!1;var C=Object.keys(c),q=Object.keys(m);if(C.length!==q.length)return!1;for(q=0;q<C.length;q++)if(!Bp.call(m,C[q])||!Jo(c[C[q]],m[C[q]]))return!1;return!0}var Tg=_&&"documentMode"in document&&11>=document.documentMode,Lp={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Vs=null,rd=null,Eu=null,id=!1;function kg(c,m){var C=m.window===m?m.document:9===m.nodeType?m:m.ownerDocument;return id||null==Vs||Vs!==Hc(C)?null:(C="selectionStart"in(C=Vs)&&gu(C)?{start:C.selectionStart,end:C.selectionEnd}:{anchorNode:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset},Eu&&kl(Eu,C)?null:(Eu=C,(c=Wi.getPooled(Lp.select,rd,c,m)).type="select",c.target=Vs,Ts(c),c))}var Up={eventTypes:Lp,extractEvents:function(c,m,C,q,ie,Se){if(!(Se=!(ie=Se||(q.window===q?q.document:9===q.nodeType?q:q.ownerDocument)))){e:{ie=Ss(ie),Se=y.onSelect;for(var Te=0;Te<Se.length;Te++)if(!ie.has(Se[Te])){ie=!1;break e}ie=!0}Se=!ie}if(Se)return null;switch(ie=m?wo(m):window,c){case"focus":(kp(ie)||"true"===ie.contentEditable)&&(Vs=ie,rd=m,Eu=null);break;case"blur":Eu=rd=Vs=null;break;case"mousedown":id=!0;break;case"contextmenu":case"mouseup":case"dragend":return id=!1,kg(C,q);case"selectionchange":if(Tg)break;case"keydown":case"keyup":return kg(C,q)}return null}},m0=Wi.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Rs=Wi.extend({clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Vg=Il.extend({relatedTarget:null});function Au(c){var m=c.keyCode;return"charCode"in c?0===(c=c.charCode)&&13===m&&(c=13):c=m,10===c&&(c=13),32<=c||13===c?c:0}var Rg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ng={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Og=Il.extend({key:function(c){if(c.key){var m=Rg[c.key]||c.key;if("Unidentified"!==m)return m}return"keypress"===c.type?13===(c=Au(c))?"Enter":String.fromCharCode(c):"keydown"===c.type||"keyup"===c.type?Ng[c.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:nd,charCode:function(c){return"keypress"===c.type?Au(c):0},keyCode:function(c){return"keydown"===c.type||"keyup"===c.type?c.keyCode:0},which:function(c){return"keypress"===c.type?Au(c):"keydown"===c.type||"keyup"===c.type?c.keyCode:0}}),Fg=Pl.extend({dataTransfer:null}),Mg=Il.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:nd}),Iu=Wi.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),zp=Pl.extend({deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:null,deltaMode:null}),Pu={eventTypes:Ga,extractEvents:function(c,m,C,q){var ie=Es.get(c);if(!ie)return null;switch(c){case"keypress":if(0===Au(C))return null;case"keydown":case"keyup":c=Og;break;case"blur":case"focus":c=Vg;break;case"click":if(2===C.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=Pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=Fg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Mg;break;case yo:case Cs:case xs:c=m0;break;case yl:c=Iu;break;case"scroll":c=Il;break;case"wheel":c=zp;break;case"copy":case"cut":case"paste":c=Rs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=jp;break;default:c=Wi}return Ts(m=c.getPooled(ie,m,C,q)),m}};if(L)throw Error(j(101));L=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),z(),K=bu,G=xl,W=wo,A({SimpleEventPlugin:Pu,EnterLeaveEventPlugin:p0,ChangeEventPlugin:Sg,SelectEventPlugin:Up,BeforeInputEventPlugin:yg});var ve=[],Qa=-1;function sr(c){0>Qa||(c.current=ve[Qa],ve[Qa]=null,Qa--)}function br(c,m){Qa++,ve[Qa]=c.current,c.current=m}var xo={},ni={current:xo},_i={current:!1},ur=xo;function So(c,m){var C=c.type.contextTypes;if(!C)return xo;var q=c.stateNode;if(q&&q.__reactInternalMemoizedUnmaskedChildContext===m)return q.__reactInternalMemoizedMaskedChildContext;var Se,ie={};for(Se in C)ie[Se]=m[Se];return q&&((c=c.stateNode).__reactInternalMemoizedUnmaskedChildContext=m,c.__reactInternalMemoizedMaskedChildContext=ie),ie}function bi(c){return null!=c.childContextTypes}function Tu(){sr(_i),sr(ni)}function Gp(c,m,C){if(ni.current!==xo)throw Error(j(168));br(ni,m),br(_i,C)}function Tn(c,m,C){var q=c.stateNode;if(c=m.childContextTypes,"function"!=typeof q.getChildContext)return C;for(var ie in q=q.getChildContext())if(!(ie in c))throw Error(j(108,zt(m)||"Unknown",ie));return x({},C,{},q)}function Nn(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||xo,ur=ni.current,br(ni,c),br(_i,_i.current),!0}function Zn(c,m,C){var q=c.stateNode;if(!q)throw Error(j(169));C?(c=Tn(c,m,ur),q.__reactInternalMemoizedMergedChildContext=c,sr(_i),sr(ni),br(ni,c)):sr(_i),br(_i,C)}var ad=F.unstable_runWithPriority,wr=F.unstable_scheduleCallback,Oi=F.unstable_cancelCallback,nn=F.unstable_requestPaint,Ya=F.unstable_now,fa=F.unstable_getCurrentPriorityLevel,Za=F.unstable_ImmediatePriority,Va=F.unstable_UserBlockingPriority,ke=F.unstable_NormalPriority,Ns=F.unstable_LowPriority,$p=F.unstable_IdlePriority,Hp={},Eo=F.unstable_shouldYield,qp=void 0!==nn?nn:function(){},eo=null,Qo=null,od=!1,Kp=Ya(),Ji=1e4>Kp?Ya:function(){return Ya()-Kp};function Zt(){switch(fa()){case Za:return 99;case Va:return 98;case ke:return 97;case Ns:return 96;case $p:return 95;default:throw Error(j(332))}}function ir(c){switch(c){case 99:return Za;case 98:return Va;case 97:return ke;case 96:return Ns;case 95:return $p;default:throw Error(j(332))}}function ri(c,m){return c=ir(c),ad(c,m)}function sd(c,m,C){return c=ir(c),wr(c,m,C)}function Xp(c){return null===eo?(eo=[c],Qo=wr(Za,Dg)):eo.push(c),Hp}function Ra(){if(null!==Qo){var c=Qo;Qo=null,Oi(c)}Dg()}function Dg(){if(!od&&null!==eo){od=!0;var c=0;try{var m=eo;ri(99,function(){for(;c<m.length;c++){var C=m[c];do{C=C(!0)}while(null!==C)}}),eo=null}catch(C){throw null!==eo&&(eo=eo.slice(c+1)),wr(Za,Ra),C}finally{od=!1}}}function ku(c,m,C){return 1073741821-(1+((1073741821-c+m/10)/(C/=10)|0))*C}function pa(c,m){if(c&&c.defaultProps)for(var C in m=x({},m),c=c.defaultProps)void 0===m[C]&&(m[C]=c[C]);return m}var Vu={current:null},ld=null,wi=null,Vl=null;function Ao(){Vl=wi=ld=null}function ud(c){var m=Vu.current;sr(Vu),c.type._context._currentValue=m}function cd(c,m){for(;null!==c;){var C=c.alternate;if(c.childExpirationTime<m)c.childExpirationTime=m,null!==C&&C.childExpirationTime<m&&(C.childExpirationTime=m);else{if(!(null!==C&&C.childExpirationTime<m))break;C.childExpirationTime=m}c=c.return}}function Yo(c,m){ld=c,Vl=wi=null,null!==(c=c.dependencies)&&null!==c.firstContext&&(c.expirationTime>=m&&(pi=!0),c.firstContext=null)}function Qi(c,m){if(Vl!==c&&!1!==m&&0!==m)if(("number"!=typeof m||1073741823===m)&&(Vl=c,m=1073741823),m={context:c,observedBits:m,next:null},null===wi){if(null===ld)throw Error(j(308));wi=m,ld.dependencies={expirationTime:0,firstContext:m,responders:null}}else wi=wi.next=m;return c._currentValue}var to=!1;function Os(c){c.updateQueue={baseState:c.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function fi(c,m){m.updateQueue===(c=c.updateQueue)&&(m.updateQueue={baseState:c.baseState,baseQueue:c.baseQueue,shared:c.shared,effects:c.effects})}function Io(c,m){return(c={expirationTime:c,suspenseConfig:m,tag:0,payload:null,callback:null,next:null}).next=c}function Na(c,m){if(null!==(c=c.updateQueue)){var C=(c=c.shared).pending;null===C?m.next=m:(m.next=C.next,C.next=m),c.pending=m}}function Rl(c,m){var C=c.alternate;null!==C&&fi(C,c),null===(C=(c=c.updateQueue).baseQueue)?(c.baseQueue=m.next=m,m.next=m):(m.next=C.next,C.next=m)}function Ru(c,m,C,q){var ie=c.updateQueue;to=!1;var Se=ie.baseQueue,Te=ie.shared.pending;if(null!==Te){if(null!==Se){var Ke=Se.next;Se.next=Te.next,Te.next=Ke}Se=Te,ie.shared.pending=null,null!==(Ke=c.alternate)&&null!==(Ke=Ke.updateQueue)&&(Ke.baseQueue=Te)}if(null!==Se){var _t=ie.baseState,wt=0,Lt=null,Ht=null,Sn=null;if(null!==(Ke=Se.next))for(var kn=Ke;;){if((Te=kn.expirationTime)<q){var ea={expirationTime:kn.expirationTime,suspenseConfig:kn.suspenseConfig,tag:kn.tag,payload:kn.payload,callback:kn.callback,next:null};null===Sn?(Ht=Sn=ea,Lt=_t):Sn=Sn.next=ea,Te>wt&&(wt=Te)}else{null!==Sn&&(Sn=Sn.next={expirationTime:1073741823,suspenseConfig:kn.suspenseConfig,tag:kn.tag,payload:kn.payload,callback:kn.callback,next:null}),fm(Te,kn.suspenseConfig);e:{var Xr=c,pt=kn;switch(Te=m,ea=C,pt.tag){case 1:if("function"==typeof(Xr=pt.payload)){_t=Xr.call(ea,_t,Te);break e}_t=Xr;break e;case 3:Xr.effectTag=-4097&Xr.effectTag|64;case 0:if(null==(Te="function"==typeof(Xr=pt.payload)?Xr.call(ea,_t,Te):Xr))break e;_t=x({},_t,Te);break e;case 2:to=!0}}null!==kn.callback&&(c.effectTag|=32,null===(Te=ie.effects)?ie.effects=[kn]:Te.push(kn))}if(null===(kn=kn.next)||kn===Ke){if(null===(Te=ie.shared.pending))break;kn=Se.next=Te.next,Te.next=Ke,ie.baseQueue=Se=Te,ie.shared.pending=null}}null===Sn?Lt=_t:Sn.next=Ht,ie.baseState=Lt,ie.baseQueue=Sn,ic(wt),c.expirationTime=wt,c.memoizedState=_t}}function Wp(c,m,C){if(c=m.effects,m.effects=null,null!==c)for(m=0;m<c.length;m++){var q=c[m],ie=q.callback;if(null!==ie){if(q.callback=null,q=ie,ie=C,"function"!=typeof q)throw Error(j(191,q));q.call(ie)}}}var Fs=X.ReactCurrentBatchConfig,Jp=(new a.Component).refs;function Nu(c,m,C,q){C=null==(C=C(q,m=c.memoizedState))?m:x({},m,C),c.memoizedState=C,0===c.expirationTime&&(c.updateQueue.baseState=C)}var dd={isMounted:function(c){return!!(c=c._reactInternalFiber)&&w(c)===c},enqueueSetState:function(c,m,C){c=c._reactInternalFiber;var q=Ci(),ie=Fs.suspense;(ie=Io(q=ls(q,c,ie),ie)).payload=m,null!=C&&(ie.callback=C),Na(c,ie),us(c,q)},enqueueReplaceState:function(c,m,C){c=c._reactInternalFiber;var q=Ci(),ie=Fs.suspense;(ie=Io(q=ls(q,c,ie),ie)).tag=1,ie.payload=m,null!=C&&(ie.callback=C),Na(c,ie),us(c,q)},enqueueForceUpdate:function(c,m){c=c._reactInternalFiber;var C=Ci(),q=Fs.suspense;(q=Io(C=ls(C,c,q),q)).tag=2,null!=m&&(q.callback=m),Na(c,q),us(c,C)}};function fd(c,m,C,q,ie,Se,Te){return"function"==typeof(c=c.stateNode).shouldComponentUpdate?c.shouldComponentUpdate(q,Se,Te):!(m.prototype&&m.prototype.isPureReactComponent&&kl(C,q)&&kl(ie,Se))}function Qp(c,m,C){var q=!1,ie=xo,Se=m.contextType;return"object"==typeof Se&&null!==Se?Se=Qi(Se):(ie=bi(m)?ur:ni.current,Se=(q=null!=(q=m.contextTypes))?So(c,ie):xo),m=new m(C,Se),c.memoizedState=null!=m.state?m.state:null,m.updater=dd,c.stateNode=m,m._reactInternalFiber=c,q&&((c=c.stateNode).__reactInternalMemoizedUnmaskedChildContext=ie,c.__reactInternalMemoizedMaskedChildContext=Se),m}function Yp(c,m,C,q){c=m.state,"function"==typeof m.componentWillReceiveProps&&m.componentWillReceiveProps(C,q),"function"==typeof m.UNSAFE_componentWillReceiveProps&&m.UNSAFE_componentWillReceiveProps(C,q),m.state!==c&&dd.enqueueReplaceState(m,m.state,null)}function Ou(c,m,C,q){var ie=c.stateNode;ie.props=C,ie.state=c.memoizedState,ie.refs=Jp,Os(c);var Se=m.contextType;"object"==typeof Se&&null!==Se?ie.context=Qi(Se):(Se=bi(m)?ur:ni.current,ie.context=So(c,Se)),Ru(c,C,ie,q),ie.state=c.memoizedState,"function"==typeof(Se=m.getDerivedStateFromProps)&&(Nu(c,m,Se,C),ie.state=c.memoizedState),"function"==typeof m.getDerivedStateFromProps||"function"==typeof ie.getSnapshotBeforeUpdate||"function"!=typeof ie.UNSAFE_componentWillMount&&"function"!=typeof ie.componentWillMount||(m=ie.state,"function"==typeof ie.componentWillMount&&ie.componentWillMount(),"function"==typeof ie.UNSAFE_componentWillMount&&ie.UNSAFE_componentWillMount(),m!==ie.state&&dd.enqueueReplaceState(ie,ie.state,null),Ru(c,C,ie,q),ie.state=c.memoizedState),"function"==typeof ie.componentDidMount&&(c.effectTag|=4)}var ma=Array.isArray;function Fi(c,m,C){if(null!==(c=C.ref)&&"function"!=typeof c&&"object"!=typeof c){if(C._owner){if(C=C._owner){if(1!==C.tag)throw Error(j(309));var q=C.stateNode}if(!q)throw Error(j(147,c));var ie=""+c;return null!==m&&null!==m.ref&&"function"==typeof m.ref&&m.ref._stringRef===ie?m.ref:((m=function(Se){var Te=q.refs;Te===Jp&&(Te=q.refs={}),null===Se?delete Te[ie]:Te[ie]=Se})._stringRef=ie,m)}if("string"!=typeof c)throw Error(j(284));if(!C._owner)throw Error(j(290,c))}return c}function Fu(c,m){if("textarea"!==c.type)throw Error(j(31,"[object Object]"===Object.prototype.toString.call(m)?"object with keys {"+Object.keys(m).join(", ")+"}":m,""))}function Zp(c){function m(pt,lt){if(c){var Et=pt.lastEffect;null!==Et?(Et.nextEffect=lt,pt.lastEffect=lt):pt.firstEffect=pt.lastEffect=lt,lt.nextEffect=null,lt.effectTag=8}}function C(pt,lt){if(!c)return null;for(;null!==lt;)m(pt,lt),lt=lt.sibling;return null}function q(pt,lt){for(pt=new Map;null!==lt;)pt.set(null!==lt.key?lt.key:lt.index,lt),lt=lt.sibling;return pt}function ie(pt,lt){return(pt=Ks(pt,lt)).index=0,pt.sibling=null,pt}function Se(pt,lt,Et){return pt.index=Et,c?null!==(Et=pt.alternate)?(Et=Et.index)<lt?(pt.effectTag=2,lt):Et:(pt.effectTag=2,lt):lt}function Te(pt){return c&&null===pt.alternate&&(pt.effectTag=2),pt}function Ke(pt,lt,Et,Nt){return null===lt||6!==lt.tag?((lt=mm(Et,pt.mode,Nt)).return=pt,lt):((lt=ie(lt,Et)).return=pt,lt)}function _t(pt,lt,Et,Nt){return null!==lt&&lt.elementType===Et.type?((Nt=ie(lt,Et.props)).ref=Fi(pt,lt,Et),Nt.return=pt,Nt):((Nt=sc(Et.type,Et.key,Et.props,null,pt.mode,Nt)).ref=Fi(pt,lt,Et),Nt.return=pt,Nt)}function wt(pt,lt,Et,Nt){return null===lt||4!==lt.tag||lt.stateNode.containerInfo!==Et.containerInfo||lt.stateNode.implementation!==Et.implementation?((lt=er(Et,pt.mode,Nt)).return=pt,lt):((lt=ie(lt,Et.children||[])).return=pt,lt)}function Lt(pt,lt,Et,Nt,jt){return null===lt||7!==lt.tag?((lt=No(Et,pt.mode,Nt,jt)).return=pt,lt):((lt=ie(lt,Et)).return=pt,lt)}function Ht(pt,lt,Et){if("string"==typeof lt||"number"==typeof lt)return(lt=mm(""+lt,pt.mode,Et)).return=pt,lt;if("object"==typeof lt&&null!==lt){switch(lt.$$typeof){case Fe:return(Et=sc(lt.type,lt.key,lt.props,null,pt.mode,Et)).ref=Fi(pt,null,lt),Et.return=pt,Et;case He:return(lt=er(lt,pt.mode,Et)).return=pt,lt}if(ma(lt)||hn(lt))return(lt=No(lt,pt.mode,Et,null)).return=pt,lt;Fu(pt,lt)}return null}function Sn(pt,lt,Et,Nt){var jt=null!==lt?lt.key:null;if("string"==typeof Et||"number"==typeof Et)return null!==jt?null:Ke(pt,lt,""+Et,Nt);if("object"==typeof Et&&null!==Et){switch(Et.$$typeof){case Fe:return Et.key===jt?Et.type===et?Lt(pt,lt,Et.props.children,Nt,jt):_t(pt,lt,Et,Nt):null;case He:return Et.key===jt?wt(pt,lt,Et,Nt):null}if(ma(Et)||hn(Et))return null!==jt?null:Lt(pt,lt,Et,Nt,null);Fu(pt,Et)}return null}function kn(pt,lt,Et,Nt,jt){if("string"==typeof Nt||"number"==typeof Nt)return Ke(lt,pt=pt.get(Et)||null,""+Nt,jt);if("object"==typeof Nt&&null!==Nt){switch(Nt.$$typeof){case Fe:return pt=pt.get(null===Nt.key?Et:Nt.key)||null,Nt.type===et?Lt(lt,pt,Nt.props.children,jt,Nt.key):_t(lt,pt,Nt,jt);case He:return wt(lt,pt=pt.get(null===Nt.key?Et:Nt.key)||null,Nt,jt)}if(ma(Nt)||hn(Nt))return Lt(lt,pt=pt.get(Et)||null,Nt,jt,null);Fu(lt,Nt)}return null}return function(pt,lt,Et,Nt){var jt="object"==typeof Et&&null!==Et&&Et.type===et&&null===Et.key;jt&&(Et=Et.props.children);var qt="object"==typeof Et&&null!==Et;if(qt)switch(Et.$$typeof){case Fe:e:{for(qt=Et.key,jt=lt;null!==jt;){if(jt.key===qt){if(7===jt.tag){if(Et.type===et){C(pt,jt.sibling),(lt=ie(jt,Et.props.children)).return=pt,pt=lt;break e}}else if(jt.elementType===Et.type){C(pt,jt.sibling),(lt=ie(jt,Et.props)).ref=Fi(pt,jt,Et),lt.return=pt,pt=lt;break e}C(pt,jt);break}m(pt,jt),jt=jt.sibling}Et.type===et?((lt=No(Et.props.children,pt.mode,Nt,Et.key)).return=pt,pt=lt):((Nt=sc(Et.type,Et.key,Et.props,null,pt.mode,Nt)).ref=Fi(pt,lt,Et),Nt.return=pt,pt=Nt)}return Te(pt);case He:e:{for(jt=Et.key;null!==lt;){if(lt.key===jt){if(4===lt.tag&&lt.stateNode.containerInfo===Et.containerInfo&&lt.stateNode.implementation===Et.implementation){C(pt,lt.sibling),(lt=ie(lt,Et.children||[])).return=pt,pt=lt;break e}C(pt,lt);break}m(pt,lt),lt=lt.sibling}(lt=er(Et,pt.mode,Nt)).return=pt,pt=lt}return Te(pt)}if("string"==typeof Et||"number"==typeof Et)return Et=""+Et,null!==lt&&6===lt.tag?(C(pt,lt.sibling),(lt=ie(lt,Et)).return=pt,pt=lt):(C(pt,lt),(lt=mm(Et,pt.mode,Nt)).return=pt,pt=lt),Te(pt);if(ma(Et))return function ea(pt,lt,Et,Nt){for(var jt=null,qt=null,en=lt,Vn=lt=0,cr=null;null!==en&&Vn<Et.length;Vn++){en.index>Vn?(cr=en,en=null):cr=en.sibling;var dn=Sn(pt,en,Et[Vn],Nt);if(null===dn){null===en&&(en=cr);break}c&&en&&null===dn.alternate&&m(pt,en),lt=Se(dn,lt,Vn),null===qt?jt=dn:qt.sibling=dn,qt=dn,en=cr}if(Vn===Et.length)return C(pt,en),jt;if(null===en){for(;Vn<Et.length;Vn++)null!==(en=Ht(pt,Et[Vn],Nt))&&(lt=Se(en,lt,Vn),null===qt?jt=en:qt.sibling=en,qt=en);return jt}for(en=q(pt,en);Vn<Et.length;Vn++)null!==(cr=kn(en,pt,Vn,Et[Vn],Nt))&&(c&&null!==cr.alternate&&en.delete(null===cr.key?Vn:cr.key),lt=Se(cr,lt,Vn),null===qt?jt=cr:qt.sibling=cr,qt=cr);return c&&en.forEach(function(Mo){return m(pt,Mo)}),jt}(pt,lt,Et,Nt);if(hn(Et))return function Xr(pt,lt,Et,Nt){var jt=hn(Et);if("function"!=typeof jt)throw Error(j(150));if(null==(Et=jt.call(Et)))throw Error(j(151));for(var qt=jt=null,en=lt,Vn=lt=0,cr=null,dn=Et.next();null!==en&&!dn.done;Vn++,dn=Et.next()){en.index>Vn?(cr=en,en=null):cr=en.sibling;var Mo=Sn(pt,en,dn.value,Nt);if(null===Mo){null===en&&(en=cr);break}c&&en&&null===Mo.alternate&&m(pt,en),lt=Se(Mo,lt,Vn),null===qt?jt=Mo:qt.sibling=Mo,qt=Mo,en=cr}if(dn.done)return C(pt,en),jt;if(null===en){for(;!dn.done;Vn++,dn=Et.next())null!==(dn=Ht(pt,dn.value,Nt))&&(lt=Se(dn,lt,Vn),null===qt?jt=dn:qt.sibling=dn,qt=dn);return jt}for(en=q(pt,en);!dn.done;Vn++,dn=Et.next())null!==(dn=kn(en,pt,Vn,dn.value,Nt))&&(c&&null!==dn.alternate&&en.delete(null===dn.key?Vn:dn.key),lt=Se(dn,lt,Vn),null===qt?jt=dn:qt.sibling=dn,qt=dn);return c&&en.forEach(function(vm){return m(pt,vm)}),jt}(pt,lt,Et,Nt);if(qt&&Fu(pt,Et),void 0===Et&&!jt)switch(pt.tag){case 1:case 0:throw pt=pt.type,Error(j(152,pt.displayName||pt.name||"Component"))}return C(pt,lt)}}var Ms=Zp(!0),pd=Zp(!1),Nl={},Oa={current:Nl},Ol={current:Nl},Fl={current:Nl};function Zo(c){if(c===Nl)throw Error(j(174));return c}function md(c,m){switch(br(Fl,m),br(Ol,c),br(Oa,Nl),c=m.nodeType){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:qn(null,"");break;default:m=qn(m=(c=8===c?m.parentNode:m).namespaceURI||null,c=c.tagName)}sr(Oa),br(Oa,m)}function Po(){sr(Oa),sr(Ol),sr(Fl)}function hd(c){Zo(Fl.current);var m=Zo(Oa.current),C=qn(m,c.type);m!==C&&(br(Ol,c),br(Oa,C))}function Ds(c){Ol.current===c&&(sr(Oa),sr(Ol))}var lr={current:0};function Ml(c){for(var m=c;null!==m;){if(13===m.tag){var C=m.memoizedState;if(null!==C&&(null===(C=C.dehydrated)||"$?"===C.data||"$!"===C.data))return m}else if(19===m.tag&&void 0!==m.memoizedProps.revealOrder){if(0!=(64&m.effectTag))return m}else if(null!==m.child){m.child.return=m,m=m.child;continue}if(m===c)break;for(;null===m.sibling;){if(null===m.return||m.return===c)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function Mu(c,m){return{responder:c,props:m}}var Dl=X.ReactCurrentDispatcher,Mi=X.ReactCurrentBatchConfig,ha=0,Fr=null,ii=null,Lr=null,jl=!1;function Yi(){throw Error(j(321))}function Du(c,m){if(null===m)return!1;for(var C=0;C<m.length&&C<c.length;C++)if(!Jo(c[C],m[C]))return!1;return!0}function gd(c,m,C,q,ie,Se){if(ha=Se,Fr=m,m.memoizedState=null,m.updateQueue=null,m.expirationTime=0,Dl.current=null===c||null===c.memoizedState?jg:Bg,c=C(q,ie),m.expirationTime===ha){Se=0;do{if(m.expirationTime=0,!(25>Se))throw Error(j(301));Se+=1,Lr=ii=null,m.updateQueue=null,Dl.current=Lg,c=C(q,ie)}while(m.expirationTime===ha)}if(Dl.current=Lu,m=null!==ii&&null!==ii.next,ha=0,Lr=ii=Fr=null,jl=!1,m)throw Error(j(300));return c}function ga(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Lr?Fr.memoizedState=Lr=c:Lr=Lr.next=c,Lr}function es(){if(null===ii){var c=Fr.alternate;c=null!==c?c.memoizedState:null}else c=ii.next;var m=null===Lr?Fr.memoizedState:Lr.next;if(null!==m)Lr=m,ii=c;else{if(null===c)throw Error(j(310));c={memoizedState:(ii=c).memoizedState,baseState:ii.baseState,baseQueue:ii.baseQueue,queue:ii.queue,next:null},null===Lr?Fr.memoizedState=Lr=c:Lr=Lr.next=c}return Lr}function ts(c,m){return"function"==typeof m?m(c):m}function ju(c){var m=es(),C=m.queue;if(null===C)throw Error(j(311));C.lastRenderedReducer=c;var q=ii,ie=q.baseQueue,Se=C.pending;if(null!==Se){if(null!==ie){var Te=ie.next;ie.next=Se.next,Se.next=Te}q.baseQueue=ie=Se,C.pending=null}if(null!==ie){q=q.baseState;var Ke=Te=Se=null,_t=ie=ie.next;do{var wt=_t.expirationTime;if(wt<ha){var Lt={expirationTime:_t.expirationTime,suspenseConfig:_t.suspenseConfig,action:_t.action,eagerReducer:_t.eagerReducer,eagerState:_t.eagerState,next:null};null===Ke?(Te=Ke=Lt,Se=q):Ke=Ke.next=Lt,wt>Fr.expirationTime&&(Fr.expirationTime=wt,ic(wt))}else null!==Ke&&(Ke=Ke.next={expirationTime:1073741823,suspenseConfig:_t.suspenseConfig,action:_t.action,eagerReducer:_t.eagerReducer,eagerState:_t.eagerState,next:null}),fm(wt,_t.suspenseConfig),q=_t.eagerReducer===c?_t.eagerState:c(q,_t.action);_t=_t.next}while(null!==_t&&_t!==ie);null===Ke?Se=q:Ke.next=Te,Jo(q,m.memoizedState)||(pi=!0),m.memoizedState=q,m.baseState=Se,m.baseQueue=Ke,C.lastRenderedState=q}return[m.memoizedState,C.dispatch]}function yd(c){var m=es(),C=m.queue;if(null===C)throw Error(j(311));C.lastRenderedReducer=c;var q=C.dispatch,ie=C.pending,Se=m.memoizedState;if(null!==ie){C.pending=null;var Te=ie=ie.next;do{Se=c(Se,Te.action),Te=Te.next}while(Te!==ie);Jo(Se,m.memoizedState)||(pi=!0),m.memoizedState=Se,null===m.baseQueue&&(m.baseState=Se),C.lastRenderedState=Se}return[Se,q]}function em(c){var m=ga();return"function"==typeof c&&(c=c()),m.memoizedState=m.baseState=c,c=(c=m.queue={pending:null,dispatch:null,lastRenderedReducer:ts,lastRenderedState:c}).dispatch=rm.bind(null,Fr,c),[m.memoizedState,c]}function no(c,m,C,q){return c={tag:c,create:m,destroy:C,deps:q,next:null},null===(m=Fr.updateQueue)?(Fr.updateQueue=m={lastEffect:null},m.lastEffect=c.next=c):null===(C=m.lastEffect)?m.lastEffect=c.next=c:(q=C.next,C.next=c,c.next=q,m.lastEffect=c),c}function vd(){return es().memoizedState}function ns(c,m,C,q){var ie=ga();Fr.effectTag|=c,ie.memoizedState=no(1|m,C,void 0,void 0===q?null:q)}function Bu(c,m,C,q){var ie=es();q=void 0===q?null:q;var Se=void 0;if(null!==ii){var Te=ii.memoizedState;if(Se=Te.destroy,null!==q&&Du(q,Te.deps))return void no(m,C,Se,q)}Fr.effectTag|=c,ie.memoizedState=no(1|m,C,Se,q)}function _d(c,m){return ns(516,4,c,m)}function rs(c,m){return Bu(516,4,c,m)}function Bl(c,m){return Bu(4,2,c,m)}function qr(c,m){return"function"==typeof m?(c=c(),m(c),function(){m(null)}):null!=m?(c=c(),m.current=c,function(){m.current=null}):void 0}function tm(c,m,C){return C=null!=C?C.concat([c]):null,Bu(4,2,qr.bind(null,m,c),C)}function nm(){}function bd(c,m){return ga().memoizedState=[c,void 0===m?null:m],c}function ar(c,m){var C=es();m=void 0===m?null:m;var q=C.memoizedState;return null!==q&&null!==m&&Du(m,q[1])?q[0]:(C.memoizedState=[c,m],c)}function Kn(c,m){var C=es();m=void 0===m?null:m;var q=C.memoizedState;return null!==q&&null!==m&&Du(m,q[1])?q[0]:(c=c(),C.memoizedState=[c,m],c)}function wd(c,m,C){var q=Zt();ri(98>q?98:q,function(){c(!0)}),ri(97<q?97:q,function(){var ie=Mi.suspense;Mi.suspense=void 0===m?null:m;try{c(!1),C()}finally{Mi.suspense=ie}})}function rm(c,m,C){var q=Ci(),ie=Fs.suspense;ie={expirationTime:q=ls(q,c,ie),suspenseConfig:ie,action:C,eagerReducer:null,eagerState:null,next:null};var Se=m.pending;if(null===Se?ie.next=ie:(ie.next=Se.next,Se.next=ie),m.pending=ie,Se=c.alternate,c===Fr||null!==Se&&Se===Fr)jl=!0,ie.expirationTime=ha,Fr.expirationTime=ha;else{if(0===c.expirationTime&&(null===Se||0===Se.expirationTime)&&null!==(Se=m.lastRenderedReducer))try{var Te=m.lastRenderedState,Ke=Se(Te,C);if(ie.eagerReducer=Se,ie.eagerState=Ke,Jo(Ke,Te))return}catch{}us(c,q)}}var Lu={readContext:Qi,useCallback:Yi,useContext:Yi,useEffect:Yi,useImperativeHandle:Yi,useLayoutEffect:Yi,useMemo:Yi,useReducer:Yi,useRef:Yi,useState:Yi,useDebugValue:Yi,useResponder:Yi,useDeferredValue:Yi,useTransition:Yi},jg={readContext:Qi,useCallback:bd,useContext:Qi,useEffect:_d,useImperativeHandle:function(c,m,C){return C=null!=C?C.concat([c]):null,ns(4,2,qr.bind(null,m,c),C)},useLayoutEffect:function(c,m){return ns(4,2,c,m)},useMemo:function(c,m){var C=ga();return m=void 0===m?null:m,c=c(),C.memoizedState=[c,m],c},useReducer:function(c,m,C){var q=ga();return m=void 0!==C?C(m):m,q.memoizedState=q.baseState=m,c=(c=q.queue={pending:null,dispatch:null,lastRenderedReducer:c,lastRenderedState:m}).dispatch=rm.bind(null,Fr,c),[q.memoizedState,c]},useRef:function(c){return ga().memoizedState={current:c}},useState:em,useDebugValue:nm,useResponder:Mu,useDeferredValue:function(c,m){var C=em(c),q=C[0],ie=C[1];return _d(function(){var Se=Mi.suspense;Mi.suspense=void 0===m?null:m;try{ie(c)}finally{Mi.suspense=Se}},[c,m]),q},useTransition:function(c){var m=em(!1),C=m[0];return[bd(wd.bind(null,m=m[1],c),[m,c]),C]}},Bg={readContext:Qi,useCallback:ar,useContext:Qi,useEffect:rs,useImperativeHandle:tm,useLayoutEffect:Bl,useMemo:Kn,useReducer:ju,useRef:vd,useState:function(){return ju(ts)},useDebugValue:nm,useResponder:Mu,useDeferredValue:function(c,m){var C=ju(ts),q=C[0],ie=C[1];return rs(function(){var Se=Mi.suspense;Mi.suspense=void 0===m?null:m;try{ie(c)}finally{Mi.suspense=Se}},[c,m]),q},useTransition:function(c){var m=ju(ts),C=m[0];return[ar(wd.bind(null,m=m[1],c),[m,c]),C]}},Lg={readContext:Qi,useCallback:ar,useContext:Qi,useEffect:rs,useImperativeHandle:tm,useLayoutEffect:Bl,useMemo:Kn,useReducer:yd,useRef:vd,useState:function(){return yd(ts)},useDebugValue:nm,useResponder:Mu,useDeferredValue:function(c,m){var C=yd(ts),q=C[0],ie=C[1];return rs(function(){var Se=Mi.suspense;Mi.suspense=void 0===m?null:m;try{ie(c)}finally{Mi.suspense=Se}},[c,m]),q},useTransition:function(c){var m=yd(ts),C=m[0];return[ar(wd.bind(null,m=m[1],c),[m,c]),C]}},ro=null,To=null,io=!1;function It(c,m){var C=Kr(5,null,null,0);C.elementType="DELETED",C.type="DELETED",C.stateNode=m,C.return=c,C.effectTag=8,null!==c.lastEffect?(c.lastEffect.nextEffect=C,c.lastEffect=C):c.firstEffect=c.lastEffect=C}function Uu(c,m){switch(c.tag){case 5:return null!==(m=1!==m.nodeType||c.type.toLowerCase()!==m.nodeName.toLowerCase()?null:m)&&(c.stateNode=m,!0);case 6:return null!==(m=""===c.pendingProps||3!==m.nodeType?null:m)&&(c.stateNode=m,!0);default:return!1}}function Ll(c){if(io){var m=To;if(m){var C=m;if(!Uu(c,m)){if(!(m=Ps(C.nextSibling))||!Uu(c,m))return c.effectTag=-1025&c.effectTag|2,io=!1,void(ro=c);It(ro,C)}ro=c,To=Ps(m.firstChild)}else c.effectTag=-1025&c.effectTag|2,io=!1,ro=c}}function im(c){for(c=c.return;null!==c&&5!==c.tag&&3!==c.tag&&13!==c.tag;)c=c.return;ro=c}function Ul(c){if(c!==ro)return!1;if(!io)return im(c),io=!0,!1;var m=c.type;if(5!==c.tag||"head"!==m&&"body"!==m&&!Jc(m,c.memoizedProps))for(m=To;m;)It(c,m),m=Ps(m.nextSibling);if(im(c),13===c.tag){if(!(c=null!==(c=c.memoizedState)?c.dehydrated:null))throw Error(j(317));e:{for(c=c.nextSibling,m=0;c;){if(8===c.nodeType){var C=c.data;if("/$"===C){if(0===m){To=Ps(c.nextSibling);break e}m--}else"$"!==C&&"$!"!==C&&"$?"!==C||m++}c=c.nextSibling}To=null}}else To=ro?Ps(c.stateNode.nextSibling):null;return!0}function ko(){To=ro=null,io=!1}var Ug=X.ReactCurrentOwner,pi=!1;function ai(c,m,C,q){m.child=null===c?pd(m,null,C,q):Ms(m,c.child,C,q)}function zu(c,m,C,q,ie){C=C.render;var Se=m.ref;return Yo(m,ie),q=gd(c,m,C,q,Se,ie),null===c||pi?(m.effectTag|=1,ai(c,m,q,ie),m.child):(m.updateQueue=c.updateQueue,m.effectTag&=-517,c.expirationTime<=ie&&(c.expirationTime=0),Di(c,m,ie))}function js(c,m,C,q,ie,Se){if(null===c){var Te=C.type;return"function"!=typeof Te||Yd(Te)||void 0!==Te.defaultProps||null!==C.compare||void 0!==C.defaultProps?((c=sc(C.type,null,q,null,m.mode,Se)).ref=m.ref,c.return=m,m.child=c):(m.tag=15,m.type=Te,zg(c,m,Te,q,ie,Se))}return Te=c.child,ie<Se&&(C=null!==(C=C.compare)?C:kl)(ie=Te.memoizedProps,q)&&c.ref===m.ref?Di(c,m,Se):(m.effectTag|=1,(c=Ks(Te,q)).ref=m.ref,c.return=m,m.child=c)}function zg(c,m,C,q,ie,Se){return null!==c&&kl(c.memoizedProps,q)&&c.ref===m.ref&&(pi=!1,ie<Se)?(m.expirationTime=c.expirationTime,Di(c,m,Se)):Gu(c,m,C,q,Se)}function Cd(c,m){var C=m.ref;(null===c&&null!==C||null!==c&&c.ref!==C)&&(m.effectTag|=128)}function Gu(c,m,C,q,ie){var Se=bi(C)?ur:ni.current;return Se=So(m,Se),Yo(m,ie),C=gd(c,m,C,q,Se,ie),null===c||pi?(m.effectTag|=1,ai(c,m,C,ie),m.child):(m.updateQueue=c.updateQueue,m.effectTag&=-517,c.expirationTime<=ie&&(c.expirationTime=0),Di(c,m,ie))}function xd(c,m,C,q,ie){if(bi(C)){var Se=!0;Nn(m)}else Se=!1;if(Yo(m,ie),null===m.stateNode)null!==c&&(c.alternate=null,m.alternate=null,m.effectTag|=2),Qp(m,C,q),Ou(m,C,q,ie),q=!0;else if(null===c){var Te=m.stateNode,Ke=m.memoizedProps;Te.props=Ke;var _t=Te.context,wt=C.contextType;wt="object"==typeof wt&&null!==wt?Qi(wt):So(m,wt=bi(C)?ur:ni.current);var Lt=C.getDerivedStateFromProps,Ht="function"==typeof Lt||"function"==typeof Te.getSnapshotBeforeUpdate;Ht||"function"!=typeof Te.UNSAFE_componentWillReceiveProps&&"function"!=typeof Te.componentWillReceiveProps||(Ke!==q||_t!==wt)&&Yp(m,Te,q,wt),to=!1;var Sn=m.memoizedState;Te.state=Sn,Ru(m,q,Te,ie),_t=m.memoizedState,Ke!==q||Sn!==_t||_i.current||to?("function"==typeof Lt&&(Nu(m,C,Lt,q),_t=m.memoizedState),(Ke=to||fd(m,C,Ke,q,Sn,_t,wt))?(Ht||"function"!=typeof Te.UNSAFE_componentWillMount&&"function"!=typeof Te.componentWillMount||("function"==typeof Te.componentWillMount&&Te.componentWillMount(),"function"==typeof Te.UNSAFE_componentWillMount&&Te.UNSAFE_componentWillMount()),"function"==typeof Te.componentDidMount&&(m.effectTag|=4)):("function"==typeof Te.componentDidMount&&(m.effectTag|=4),m.memoizedProps=q,m.memoizedState=_t),Te.props=q,Te.state=_t,Te.context=wt,q=Ke):("function"==typeof Te.componentDidMount&&(m.effectTag|=4),q=!1)}else Te=m.stateNode,fi(c,m),Ke=m.memoizedProps,Te.props=m.type===m.elementType?Ke:pa(m.type,Ke),_t=Te.context,wt="object"==typeof(wt=C.contextType)&&null!==wt?Qi(wt):So(m,wt=bi(C)?ur:ni.current),(Ht="function"==typeof(Lt=C.getDerivedStateFromProps)||"function"==typeof Te.getSnapshotBeforeUpdate)||"function"!=typeof Te.UNSAFE_componentWillReceiveProps&&"function"!=typeof Te.componentWillReceiveProps||(Ke!==q||_t!==wt)&&Yp(m,Te,q,wt),to=!1,Te.state=_t=m.memoizedState,Ru(m,q,Te,ie),Sn=m.memoizedState,Ke!==q||_t!==Sn||_i.current||to?("function"==typeof Lt&&(Nu(m,C,Lt,q),Sn=m.memoizedState),(Lt=to||fd(m,C,Ke,q,_t,Sn,wt))?(Ht||"function"!=typeof Te.UNSAFE_componentWillUpdate&&"function"!=typeof Te.componentWillUpdate||("function"==typeof Te.componentWillUpdate&&Te.componentWillUpdate(q,Sn,wt),"function"==typeof Te.UNSAFE_componentWillUpdate&&Te.UNSAFE_componentWillUpdate(q,Sn,wt)),"function"==typeof Te.componentDidUpdate&&(m.effectTag|=4),"function"==typeof Te.getSnapshotBeforeUpdate&&(m.effectTag|=256)):("function"!=typeof Te.componentDidUpdate||Ke===c.memoizedProps&&_t===c.memoizedState||(m.effectTag|=4),"function"!=typeof Te.getSnapshotBeforeUpdate||Ke===c.memoizedProps&&_t===c.memoizedState||(m.effectTag|=256),m.memoizedProps=q,m.memoizedState=Sn),Te.props=q,Te.state=Sn,Te.context=wt,q=Lt):("function"!=typeof Te.componentDidUpdate||Ke===c.memoizedProps&&_t===c.memoizedState||(m.effectTag|=4),"function"!=typeof Te.getSnapshotBeforeUpdate||Ke===c.memoizedProps&&_t===c.memoizedState||(m.effectTag|=256),q=!1);return Sd(c,m,C,q,Se,ie)}function Sd(c,m,C,q,ie,Se){Cd(c,m);var Te=0!=(64&m.effectTag);if(!q&&!Te)return ie&&Zn(m,C,!1),Di(c,m,Se);q=m.stateNode,Ug.current=m;var Ke=Te&&"function"!=typeof C.getDerivedStateFromError?null:q.render();return m.effectTag|=1,null!==c&&Te?(m.child=Ms(m,c.child,null,Se),m.child=Ms(m,null,Ke,Se)):ai(c,m,Ke,Se),m.memoizedState=q.state,ie&&Zn(m,C,!0),m.child}function Ed(c){var m=c.stateNode;m.pendingContext?Gp(0,m.pendingContext,m.pendingContext!==m.context):m.context&&Gp(0,m.context,!1),md(c,m.containerInfo)}var Td,Vd,Hu,Ad={dehydrated:null,retryTime:0};function Id(c,m,C){var Ke,q=m.mode,ie=m.pendingProps,Se=lr.current,Te=!1;if((Ke=0!=(64&m.effectTag))||(Ke=0!=(2&Se)&&(null===c||null!==c.memoizedState)),Ke?(Te=!0,m.effectTag&=-65):null!==c&&null===c.memoizedState||void 0===ie.fallback||!0===ie.unstable_avoidThisFallback||(Se|=1),br(lr,1&Se),null===c){if(void 0!==ie.fallback&&Ll(m),Te){if(Te=ie.fallback,(ie=No(null,q,0,null)).return=m,0==(2&m.mode))for(ie.child=c=null!==m.memoizedState?m.child.child:m.child;null!==c;)c.return=ie,c=c.sibling;return(C=No(Te,q,C,null)).return=m,ie.sibling=C,m.memoizedState=Ad,m.child=ie,C}return q=ie.children,m.memoizedState=null,m.child=pd(m,null,q,C)}if(null!==c.memoizedState){if(q=(c=c.child).sibling,Te){if(ie=ie.fallback,(C=Ks(c,c.pendingProps)).return=m,0==(2&m.mode)&&(Te=null!==m.memoizedState?m.child.child:m.child)!==c.child)for(C.child=Te;null!==Te;)Te.return=C,Te=Te.sibling;return(q=Ks(q,ie)).return=m,C.sibling=q,C.childExpirationTime=0,m.memoizedState=Ad,m.child=C,q}return C=Ms(m,c.child,ie.children,C),m.memoizedState=null,m.child=C}if(c=c.child,Te){if(Te=ie.fallback,(ie=No(null,q,0,null)).return=m,ie.child=c,null!==c&&(c.return=ie),0==(2&m.mode))for(ie.child=c=null!==m.memoizedState?m.child.child:m.child;null!==c;)c.return=ie,c=c.sibling;return(C=No(Te,q,C,null)).return=m,ie.sibling=C,C.effectTag|=2,ie.childExpirationTime=0,m.memoizedState=Ad,m.child=ie,C}return m.memoizedState=null,m.child=Ms(m,c,ie.children,C)}function mi(c,m){c.expirationTime<m&&(c.expirationTime=m);var C=c.alternate;null!==C&&C.expirationTime<m&&(C.expirationTime=m),cd(c.return,m)}function $u(c,m,C,q,ie,Se){var Te=c.memoizedState;null===Te?c.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:q,tail:C,tailExpiration:0,tailMode:ie,lastEffect:Se}:(Te.isBackwards=m,Te.rendering=null,Te.renderingStartTime=0,Te.last=q,Te.tail=C,Te.tailExpiration=0,Te.tailMode=ie,Te.lastEffect=Se)}function Pd(c,m,C){var q=m.pendingProps,ie=q.revealOrder,Se=q.tail;if(ai(c,m,q.children,C),0!=(2&(q=lr.current)))q=1&q|2,m.effectTag|=64;else{if(null!==c&&0!=(64&c.effectTag))e:for(c=m.child;null!==c;){if(13===c.tag)null!==c.memoizedState&&mi(c,C);else if(19===c.tag)mi(c,C);else if(null!==c.child){c.child.return=c,c=c.child;continue}if(c===m)break e;for(;null===c.sibling;){if(null===c.return||c.return===m)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}q&=1}if(br(lr,q),0==(2&m.mode))m.memoizedState=null;else switch(ie){case"forwards":for(C=m.child,ie=null;null!==C;)null!==(c=C.alternate)&&null===Ml(c)&&(ie=C),C=C.sibling;null===(C=ie)?(ie=m.child,m.child=null):(ie=C.sibling,C.sibling=null),$u(m,!1,ie,C,Se,m.lastEffect);break;case"backwards":for(C=null,ie=m.child,m.child=null;null!==ie;){if(null!==(c=ie.alternate)&&null===Ml(c)){m.child=ie;break}c=ie.sibling,ie.sibling=C,C=ie,ie=c}$u(m,!0,C,null,Se,m.lastEffect);break;case"together":$u(m,!1,null,null,void 0,m.lastEffect);break;default:m.memoizedState=null}return m.child}function Di(c,m,C){null!==c&&(m.dependencies=c.dependencies);var q=m.expirationTime;if(0!==q&&ic(q),m.childExpirationTime<C)return null;if(null!==c&&m.child!==c.child)throw Error(j(153));if(null!==m.child){for(C=Ks(c=m.child,c.pendingProps),m.child=C,C.return=m;null!==c.sibling;)(C=C.sibling=Ks(c=c.sibling,c.pendingProps)).return=m;C.sibling=null}return m.child}function Bs(c,m){switch(c.tailMode){case"hidden":m=c.tail;for(var C=null;null!==m;)null!==m.alternate&&(C=m),m=m.sibling;null===C?c.tail=null:C.sibling=null;break;case"collapsed":C=c.tail;for(var q=null;null!==C;)null!==C.alternate&&(q=C),C=C.sibling;null===q?m||null===c.tail?c.tail=null:c.tail.sibling=null:q.sibling=null}}function Gg(c,m,C){var q=m.pendingProps;switch(m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return bi(m.type)&&Tu(),null;case 3:return Po(),sr(_i),sr(ni),(C=m.stateNode).pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),null!==c&&null!==c.child||!Ul(m)||(m.effectTag|=4),null;case 5:Ds(m),C=Zo(Fl.current);var ie=m.type;if(null!==c&&null!=m.stateNode)Vd(c,m,ie,q,C),c.ref!==m.ref&&(m.effectTag|=128);else{if(!q){if(null===m.stateNode)throw Error(j(166));return null}if(c=Zo(Oa.current),Ul(m)){ie=m.type;var Se=m.memoizedProps;switch((q=m.stateNode)[bo]=m,q[vu]=Se,ie){case"iframe":case"object":case"embed":Hn("load",q);break;case"video":case"audio":for(c=0;c<Ta.length;c++)Hn(Ta[c],q);break;case"source":Hn("error",q);break;case"img":case"image":case"link":Hn("error",q),Hn("load",q);break;case"form":Hn("reset",q),Hn("submit",q);break;case"details":Hn("toggle",q);break;case"input":Rr(q,Se),Hn("invalid",q),Xa(C,"onChange");break;case"select":q._wrapperState={wasMultiple:!!Se.multiple},Hn("invalid",q),Xa(C,"onChange");break;case"textarea":Pa(q,Se),Hn("invalid",q),Xa(C,"onChange")}for(var Te in _l(ie,Se),c=null,Se)if(Se.hasOwnProperty(Te)){var Ke=Se[Te];"children"===Te?"string"==typeof Ke?q.textContent!==Ke&&(c=["children",Ke]):"number"==typeof Ke&&q.textContent!==""+Ke&&(c=["children",""+Ke]):pe.hasOwnProperty(Te)&&null!=Ke&&Xa(C,Te)}switch(ie){case"input":gr(q),ui(q,Se,!0);break;case"textarea":gr(q),la(q);break;case"select":case"option":break;default:"function"==typeof Se.onClick&&(q.onclick=hu)}m.updateQueue=C=c,null!==C&&(m.effectTag|=4)}else{switch(Te=9===C.nodeType?C:C.ownerDocument,c===wl&&(c=Hi(ie)),c===wl?"script"===ie?((c=Te.createElement("div")).innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):"string"==typeof q.is?c=Te.createElement(ie,{is:q.is}):(c=Te.createElement(ie),"select"===ie&&(Te=c,q.multiple?Te.multiple=!0:q.size&&(Te.size=q.size))):c=Te.createElementNS(c,ie),c[bo]=m,c[vu]=q,Td(c,m),m.stateNode=c,Te=bl(ie,q),ie){case"iframe":case"object":case"embed":Hn("load",c),Ke=q;break;case"video":case"audio":for(Ke=0;Ke<Ta.length;Ke++)Hn(Ta[Ke],c);Ke=q;break;case"source":Hn("error",c),Ke=q;break;case"img":case"image":case"link":Hn("error",c),Hn("load",c),Ke=q;break;case"form":Hn("reset",c),Hn("submit",c),Ke=q;break;case"details":Hn("toggle",c),Ke=q;break;case"input":Rr(c,q),Ke=$n(c,q),Hn("invalid",c),Xa(C,"onChange");break;case"option":Ke=vi(c,q);break;case"select":c._wrapperState={wasMultiple:!!q.multiple},Ke=x({},q,{value:void 0}),Hn("invalid",c),Xa(C,"onChange");break;case"textarea":Pa(c,q),Ke=Vi(c,q),Hn("invalid",c),Xa(C,"onChange");break;default:Ke=q}_l(ie,Ke);var _t=Ke;for(Se in _t)if(_t.hasOwnProperty(Se)){var wt=_t[Se];"style"===Se?ka(c,wt):"dangerouslySetInnerHTML"===Se?null!=(wt=wt?wt.__html:void 0)&&ei(c,wt):"children"===Se?"string"==typeof wt?("textarea"!==ie||""!==wt)&&di(c,wt):"number"==typeof wt&&di(c,""+wt):"suppressContentEditableWarning"!==Se&&"suppressHydrationWarning"!==Se&&"autoFocus"!==Se&&(pe.hasOwnProperty(Se)?null!=wt&&Xa(C,Se):null!=wt&&V(c,Se,wt,Te))}switch(ie){case"input":gr(c),ui(c,q,!1);break;case"textarea":gr(c),la(c);break;case"option":null!=q.value&&c.setAttribute("value",""+Pr(q.value));break;case"select":c.multiple=!!q.multiple,null!=(C=q.value)?ci(c,!!q.multiple,C,!1):null!=q.defaultValue&&ci(c,!!q.multiple,q.defaultValue,!0);break;default:"function"==typeof Ke.onClick&&(c.onclick=hu)}vp(ie,q)&&(m.effectTag|=4)}null!==m.ref&&(m.effectTag|=128)}return null;case 6:if(c&&null!=m.stateNode)Hu(0,m,c.memoizedProps,q);else{if("string"!=typeof q&&null===m.stateNode)throw Error(j(166));C=Zo(Fl.current),Zo(Oa.current),Ul(m)?(q=m.memoizedProps,(C=m.stateNode)[bo]=m,C.nodeValue!==q&&(m.effectTag|=4)):((C=(9===C.nodeType?C:C.ownerDocument).createTextNode(q))[bo]=m,m.stateNode=C)}return null;case 13:return sr(lr),q=m.memoizedState,0!=(64&m.effectTag)?(m.expirationTime=C,m):(C=null!==q,q=!1,null===c?void 0!==m.memoizedProps.fallback&&Ul(m):(q=null!==(ie=c.memoizedState),C||null===ie||null!==(ie=c.child.sibling)&&(null!==(Se=m.firstEffect)?(m.firstEffect=ie,ie.nextEffect=Se):(m.firstEffect=m.lastEffect=ie,ie.nextEffect=null),ie.effectTag=8)),C&&!q&&0!=(2&m.mode)&&(null===c&&!0!==m.memoizedProps.unstable_avoidThisFallback||0!=(1&lr.current)?Ur===Vo&&(Ur=Xu):((Ur===Vo||Ur===Xu)&&(Ur=Wu),0!==as&&null!==Zi&&(Fo(Zi,ji),hm(Zi,as)))),(C||q)&&(m.effectTag|=4),null);case 4:return Po(),null;case 10:return ud(m),null;case 19:if(sr(lr),null===(q=m.memoizedState))return null;if(ie=0!=(64&m.effectTag),null===(Se=q.rendering)){if(ie)Bs(q,!1);else if(Ur!==Vo||null!==c&&0!=(64&c.effectTag))for(Se=m.child;null!==Se;){if(null!==(c=Ml(Se))){for(m.effectTag|=64,Bs(q,!1),null!==(ie=c.updateQueue)&&(m.updateQueue=ie,m.effectTag|=4),null===q.lastEffect&&(m.firstEffect=null),m.lastEffect=q.lastEffect,q=m.child;null!==q;)Se=C,(ie=q).effectTag&=2,ie.nextEffect=null,ie.firstEffect=null,ie.lastEffect=null,null===(c=ie.alternate)?(ie.childExpirationTime=0,ie.expirationTime=Se,ie.child=null,ie.memoizedProps=null,ie.memoizedState=null,ie.updateQueue=null,ie.dependencies=null):(ie.childExpirationTime=c.childExpirationTime,ie.expirationTime=c.expirationTime,ie.child=c.child,ie.memoizedProps=c.memoizedProps,ie.memoizedState=c.memoizedState,ie.updateQueue=c.updateQueue,ie.dependencies=null===(Se=c.dependencies)?null:{expirationTime:Se.expirationTime,firstContext:Se.firstContext,responders:Se.responders}),q=q.sibling;return br(lr,1&lr.current|2),m.child}Se=Se.sibling}}else{if(!ie)if(null!==(c=Ml(Se))){if(m.effectTag|=64,ie=!0,null!==(C=c.updateQueue)&&(m.updateQueue=C,m.effectTag|=4),Bs(q,!0),null===q.tail&&"hidden"===q.tailMode&&!Se.alternate)return null!==(m=m.lastEffect=q.lastEffect)&&(m.nextEffect=null),null}else 2*Ji()-q.renderingStartTime>q.tailExpiration&&1<C&&(m.effectTag|=64,ie=!0,Bs(q,!1),m.expirationTime=m.childExpirationTime=C-1);q.isBackwards?(Se.sibling=m.child,m.child=Se):(null!==(C=q.last)?C.sibling=Se:m.child=Se,q.last=Se)}return null!==q.tail?(0===q.tailExpiration&&(q.tailExpiration=Ji()+500),q.rendering=C=q.tail,q.tail=C.sibling,q.lastEffect=m.lastEffect,q.renderingStartTime=Ji(),C.sibling=null,m=lr.current,br(lr,ie?1&m|2:1&m),C):null}throw Error(j(156,m.tag))}function $g(c){switch(c.tag){case 1:bi(c.type)&&Tu();var m=c.effectTag;return 4096&m?(c.effectTag=-4097&m|64,c):null;case 3:if(Po(),sr(_i),sr(ni),0!=(64&(m=c.effectTag)))throw Error(j(285));return c.effectTag=-4097&m|64,c;case 5:return Ds(c),null;case 13:return sr(lr),4096&(m=c.effectTag)?(c.effectTag=-4097&m|64,c):null;case 19:return sr(lr),null;case 4:return Po(),null;case 10:return ud(c),null;default:return null}}function Ls(c,m){return{value:c,source:m,stack:gn(m)}}Td=function(c,m){for(var C=m.child;null!==C;){if(5===C.tag||6===C.tag)c.appendChild(C.stateNode);else if(4!==C.tag&&null!==C.child){C.child.return=C,C=C.child;continue}if(C===m)break;for(;null===C.sibling;){if(null===C.return||C.return===m)return;C=C.return}C.sibling.return=C.return,C=C.sibling}},Vd=function(c,m,C,q,ie){var Se=c.memoizedProps;if(Se!==q){var Ke,_t,Te=m.stateNode;switch(Zo(Oa.current),c=null,C){case"input":Se=$n(Te,Se),q=$n(Te,q),c=[];break;case"option":Se=vi(Te,Se),q=vi(Te,q),c=[];break;case"select":Se=x({},Se,{value:void 0}),q=x({},q,{value:void 0}),c=[];break;case"textarea":Se=Vi(Te,Se),q=Vi(Te,q),c=[];break;default:"function"!=typeof Se.onClick&&"function"==typeof q.onClick&&(Te.onclick=hu)}for(Ke in _l(C,q),C=null,Se)if(!q.hasOwnProperty(Ke)&&Se.hasOwnProperty(Ke)&&null!=Se[Ke])if("style"===Ke)for(_t in Te=Se[Ke])Te.hasOwnProperty(_t)&&(C||(C={}),C[_t]="");else"dangerouslySetInnerHTML"!==Ke&&"children"!==Ke&&"suppressContentEditableWarning"!==Ke&&"suppressHydrationWarning"!==Ke&&"autoFocus"!==Ke&&(pe.hasOwnProperty(Ke)?c||(c=[]):(c=c||[]).push(Ke,null));for(Ke in q){var wt=q[Ke];if(Te=null!=Se?Se[Ke]:void 0,q.hasOwnProperty(Ke)&&wt!==Te&&(null!=wt||null!=Te))if("style"===Ke)if(Te){for(_t in Te)!Te.hasOwnProperty(_t)||wt&&wt.hasOwnProperty(_t)||(C||(C={}),C[_t]="");for(_t in wt)wt.hasOwnProperty(_t)&&Te[_t]!==wt[_t]&&(C||(C={}),C[_t]=wt[_t])}else C||(c||(c=[]),c.push(Ke,C)),C=wt;else"dangerouslySetInnerHTML"===Ke?(Te=Te?Te.__html:void 0,null!=(wt=wt?wt.__html:void 0)&&Te!==wt&&(c=c||[]).push(Ke,wt)):"children"===Ke?Te===wt||"string"!=typeof wt&&"number"!=typeof wt||(c=c||[]).push(Ke,""+wt):"suppressContentEditableWarning"!==Ke&&"suppressHydrationWarning"!==Ke&&(pe.hasOwnProperty(Ke)?(null!=wt&&Xa(ie,Ke),c||Te===wt||(c=[])):(c=c||[]).push(Ke,wt))}C&&(c=c||[]).push("style",C),(m.updateQueue=ie=c)&&(m.effectTag|=4)}},Hu=function(c,m,C,q){C!==q&&(m.effectTag|=4)};var Rd="function"==typeof WeakSet?WeakSet:Set;function zl(c,m){var C=m.source,q=m.stack;null===q&&null!==C&&(q=gn(C)),null!==C&&zt(C.type),m=m.value,null!==c&&1===c.tag&&zt(c.type);try{console.error(m)}catch(ie){setTimeout(function(){throw ie})}}function am(c){var m=c.ref;if(null!==m)if("function"==typeof m)try{m(null)}catch(C){ds(c,C)}else m.current=null}function qu(c,m){switch(m.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&m.effectTag&&null!==c){var C=c.memoizedProps,q=c.memoizedState;m=(c=m.stateNode).getSnapshotBeforeUpdate(m.elementType===m.type?C:pa(m.type,C),q),c.__reactInternalSnapshotBeforeUpdate=m}return}throw Error(j(163))}function om(c,m){if(null!==(m=null!==(m=m.updateQueue)?m.lastEffect:null)){var C=m=m.next;do{if((C.tag&c)===c){var q=C.destroy;C.destroy=void 0,void 0!==q&&q()}C=C.next}while(C!==m)}}function Od(c,m){if(null!==(m=null!==(m=m.updateQueue)?m.lastEffect:null)){var C=m=m.next;do{(C.tag&c)===c&&(C.destroy=(0,C.create)()),C=C.next}while(C!==m)}}function Fd(c,m,C){switch(C.tag){case 0:case 11:case 15:case 22:return void Od(3,C);case 1:if(c=C.stateNode,4&C.effectTag)if(null===m)c.componentDidMount();else{var q=C.elementType===C.type?m.memoizedProps:pa(C.type,m.memoizedProps);c.componentDidUpdate(q,m.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}return void(null!==(m=C.updateQueue)&&Wp(C,m,c));case 3:if(null!==(m=C.updateQueue)){if(c=null,null!==C.child)switch(C.child.tag){case 5:case 1:c=C.child.stateNode}Wp(C,m,c)}return;case 5:return c=C.stateNode,void(null===m&&4&C.effectTag&&vp(C.type,C.memoizedProps)&&c.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===C.memoizedState&&(C=C.alternate,null!==C&&(C=C.memoizedState,null!==C&&(C=C.dehydrated,null!==C&&Xo(C)))))}throw Error(j(163))}function Md(c,m,C){switch("function"==typeof Qd&&Qd(m),m.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(c=m.updateQueue)&&null!==(c=c.lastEffect)){var q=c.next;ri(97<C?97:C,function(){var ie=q;do{var Se=ie.destroy;if(void 0!==Se){var Te=m;try{Se()}catch(Ke){ds(Te,Ke)}}ie=ie.next}while(ie!==q)})}break;case 1:am(m),"function"==typeof(C=m.stateNode).componentWillUnmount&&function Nd(c,m){try{m.props=c.memoizedProps,m.state=c.memoizedState,m.componentWillUnmount()}catch(C){ds(c,C)}}(m,C);break;case 5:am(m);break;case 4:Gl(c,m,C)}}function Dd(c){var m=c.alternate;c.return=null,c.child=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.alternate=null,c.firstEffect=null,c.lastEffect=null,c.pendingProps=null,c.memoizedProps=null,c.stateNode=null,null!==m&&Dd(m)}function sm(c){return 5===c.tag||3===c.tag||4===c.tag}function jd(c){e:{for(var m=c.return;null!==m;){if(sm(m)){var C=m;break e}m=m.return}throw Error(j(160))}switch(m=C.stateNode,C.tag){case 5:var q=!1;break;case 3:case 4:m=m.containerInfo,q=!0;break;default:throw Error(j(161))}16&C.effectTag&&(di(m,""),C.effectTag&=-17);e:t:for(C=c;;){for(;null===C.sibling;){if(null===C.return||sm(C.return)){C=null;break e}C=C.return}for(C.sibling.return=C.return,C=C.sibling;5!==C.tag&&6!==C.tag&&18!==C.tag;){if(2&C.effectTag||null===C.child||4===C.tag)continue t;C.child.return=C,C=C.child}if(!(2&C.effectTag)){C=C.stateNode;break e}}q?lm(c,C,m):Bd(c,C,m)}function lm(c,m,C){var q=c.tag,ie=5===q||6===q;if(ie)c=ie?c.stateNode:c.stateNode.instance,m?8===C.nodeType?C.parentNode.insertBefore(c,m):C.insertBefore(c,m):(8===C.nodeType?(m=C.parentNode).insertBefore(c,C):(m=C).appendChild(c),null!=(C=C._reactRootContainer)||null!==m.onclick||(m.onclick=hu));else if(4!==q&&null!==(c=c.child))for(lm(c,m,C),c=c.sibling;null!==c;)lm(c,m,C),c=c.sibling}function Bd(c,m,C){var q=c.tag,ie=5===q||6===q;if(ie)c=ie?c.stateNode:c.stateNode.instance,m?C.insertBefore(c,m):C.appendChild(c);else if(4!==q&&null!==(c=c.child))for(Bd(c,m,C),c=c.sibling;null!==c;)Bd(c,m,C),c=c.sibling}function Gl(c,m,C){for(var Se,Te,q=m,ie=!1;;){if(!ie){ie=q.return;e:for(;;){if(null===ie)throw Error(j(160));switch(Se=ie.stateNode,ie.tag){case 5:Te=!1;break e;case 3:case 4:Se=Se.containerInfo,Te=!0;break e}ie=ie.return}ie=!0}if(5===q.tag||6===q.tag){e:for(var Ke=c,_t=q,wt=C,Lt=_t;;)if(Md(Ke,Lt,wt),null!==Lt.child&&4!==Lt.tag)Lt.child.return=Lt,Lt=Lt.child;else{if(Lt===_t)break e;for(;null===Lt.sibling;){if(null===Lt.return||Lt.return===_t)break e;Lt=Lt.return}Lt.sibling.return=Lt.return,Lt=Lt.sibling}Te?(_t=q.stateNode,8===(Ke=Se).nodeType?Ke.parentNode.removeChild(_t):Ke.removeChild(_t)):Se.removeChild(q.stateNode)}else if(4===q.tag){if(null!==q.child){Se=q.stateNode.containerInfo,Te=!0,q.child.return=q,q=q.child;continue}}else if(Md(c,q,C),null!==q.child){q.child.return=q,q=q.child;continue}if(q===m)break;for(;null===q.sibling;){if(null===q.return||q.return===m)return;4===(q=q.return).tag&&(ie=!1)}q.sibling.return=q.return,q=q.sibling}}function Ld(c,m){switch(m.tag){case 0:case 11:case 14:case 15:case 22:return void om(3,m);case 1:case 12:case 17:return;case 5:var C=m.stateNode;if(null!=C){var q=m.memoizedProps,ie=null!==c?c.memoizedProps:q;c=m.type;var Se=m.updateQueue;if(m.updateQueue=null,null!==Se){for(C[vu]=q,"input"===c&&"radio"===q.type&&null!=q.name&&fr(C,q),bl(c,ie),m=bl(c,q),ie=0;ie<Se.length;ie+=2){var Te=Se[ie],Ke=Se[ie+1];"style"===Te?ka(C,Ke):"dangerouslySetInnerHTML"===Te?ei(C,Ke):"children"===Te?di(C,Ke):V(C,Te,Ke,m)}switch(c){case"input":Nr(C,q);break;case"textarea":$r(C,q);break;case"select":m=C._wrapperState.wasMultiple,C._wrapperState.wasMultiple=!!q.multiple,null!=(c=q.value)?ci(C,!!q.multiple,c,!1):m!==!!q.multiple&&(null!=q.defaultValue?ci(C,!!q.multiple,q.defaultValue,!0):ci(C,!!q.multiple,q.multiple?[]:"",!1))}}}return;case 6:if(null===m.stateNode)throw Error(j(162));return void(m.stateNode.nodeValue=m.memoizedProps);case 3:return void((m=m.stateNode).hydrate&&(m.hydrate=!1,Xo(m.containerInfo)));case 13:if(C=m,null===m.memoizedState?q=!1:(q=!0,C=m.child,cm=Ji()),null!==C)e:for(c=C;;){if(5===c.tag)Se=c.stateNode,q?"function"==typeof(Se=Se.style).setProperty?Se.setProperty("display","none","important"):Se.display="none":(Se=c.stateNode,ie=null!=(ie=c.memoizedProps.style)&&ie.hasOwnProperty("display")?ie.display:null,Se.style.display=vl("display",ie));else if(6===c.tag)c.stateNode.nodeValue=q?"":c.memoizedProps;else{if(13===c.tag&&null!==c.memoizedState&&null===c.memoizedState.dehydrated){(Se=c.child.sibling).return=c,c=Se;continue}if(null!==c.child){c.child.return=c,c=c.child;continue}}if(c===C)break;for(;null===c.sibling;){if(null===c.return||c.return===C)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}return void Ud(m);case 19:return void Ud(m)}throw Error(j(163))}function Ud(c){var m=c.updateQueue;if(null!==m){c.updateQueue=null;var C=c.stateNode;null===C&&(C=c.stateNode=new Rd),m.forEach(function(q){var ie=Qg.bind(null,c,q);C.has(q)||(C.add(q),q.then(ie,ie))})}}var zd="function"==typeof WeakMap?WeakMap:Map;function Gd(c,m,C){(C=Io(C,null)).tag=3,C.payload={element:null};var q=m.value;return C.callback=function(){Hl||(Hl=!0,Yu=q),zl(c,m)},C}function $d(c,m,C){(C=Io(C,null)).tag=3;var q=c.type.getDerivedStateFromError;if("function"==typeof q){var ie=m.value;C.payload=function(){return zl(c,m),q(ie)}}var Se=c.stateNode;return null!==Se&&"function"==typeof Se.componentDidCatch&&(C.callback=function(){"function"!=typeof q&&(null===os?os=new Set([this]):os.add(this),zl(c,m));var Te=m.stack;this.componentDidCatch(m.value,{componentStack:null!==Te?Te:""})}),C}var ql,um=Math.ceil,Ku=X.ReactCurrentDispatcher,Jn=X.ReactCurrentOwner,Vo=0,Xu=3,Wu=4,sn=0,Zi=null,yn=null,ji=0,Ur=Vo,Qu=null,zr=1073741823,is=1073741823,Us=null,as=0,zs=!1,cm=0,Qt=null,Hl=!1,Yu=null,os=null,Zu=!1,ec=null,ss=90,$s=null,hi=0,Kd=null,tc=0;function Ci(){return 0!=(48&sn)?1073741821-(Ji()/10|0):0!==tc?tc:tc=1073741821-(Ji()/10|0)}function ls(c,m,C){if(0==(2&(m=m.mode)))return 1073741823;var q=Zt();if(0==(4&m))return 99===q?1073741823:1073741822;if(0!=(16&sn))return ji;if(null!==C)c=ku(c,0|C.timeoutMs||5e3,250);else switch(q){case 99:c=1073741823;break;case 98:c=ku(c,150,100);break;case 97:case 96:c=ku(c,5e3,250);break;case 95:c=2;break;default:throw Error(j(326))}return null!==Zi&&c===ji&&--c,c}function us(c,m){if(50<hi)throw hi=0,Kd=null,Error(j(185));if(null!==(c=Xd(c,m))){var C=Zt();1073741823===m?0!=(8&sn)&&0==(48&sn)?Ro(c):(oi(c),0===sn&&Ra()):oi(c),0==(4&sn)||98!==C&&99!==C||(null===$s?$s=new Map([[c,m]]):(void 0===(C=$s.get(c))||C>m)&&$s.set(c,m))}}function Xd(c,m){c.expirationTime<m&&(c.expirationTime=m);var C=c.alternate;null!==C&&C.expirationTime<m&&(C.expirationTime=m);var q=c.return,ie=null;if(null===q&&3===c.tag)ie=c.stateNode;else for(;null!==q;){if(C=q.alternate,q.childExpirationTime<m&&(q.childExpirationTime=m),null!==C&&C.childExpirationTime<m&&(C.childExpirationTime=m),null===q.return&&3===q.tag){ie=q.stateNode;break}q=q.return}return null!==ie&&(Zi===ie&&(ic(m),Ur===Wu&&Fo(ie,ji)),hm(ie,m)),ie}function Wd(c){var m=c.lastExpiredTime;if(0!==m||!Oo(c,m=c.firstPendingTime))return m;var C=c.lastPingedTime;return 2>=(c=C>(c=c.nextKnownPendingLevel)?C:c)&&m!==c?0:c}function oi(c){if(0!==c.lastExpiredTime)c.callbackExpirationTime=1073741823,c.callbackPriority=99,c.callbackNode=Xp(Ro.bind(null,c));else{var m=Wd(c),C=c.callbackNode;if(0===m)null!==C&&(c.callbackNode=null,c.callbackExpirationTime=0,c.callbackPriority=90);else{var q=Ci();if(q=1073741823===m?99:1===m||2===m?95:0>=(q=10*(1073741821-m)-10*(1073741821-q))?99:250>=q?98:5250>=q?97:95,null!==C){if(c.callbackExpirationTime===m&&c.callbackPriority>=q)return;C!==Hp&&Oi(C)}c.callbackExpirationTime=m,c.callbackPriority=q,m=1073741823===m?Xp(Ro.bind(null,c)):sd(q,dm.bind(null,c),{timeout:10*(1073741821-m)-Ji()}),c.callbackNode=m}}}function dm(c,m){if(tc=0,m)return gm(c,m=Ci()),oi(c),null;var C=Wd(c);if(0!==C){if(m=c.callbackNode,0!=(48&sn))throw Error(j(327));if(Hs(),c===Zi&&C===ji||ao(c,C),null!==yn){var q=sn;sn|=16;for(var ie=rc();;)try{Xg();break}catch(Ke){nc(c,Ke)}if(Ao(),sn=q,Ku.current=ie,1===Ur)throw m=Qu,ao(c,C),Fo(c,C),oi(c),m;if(null===yn)switch(ie=c.finishedWork=c.current.alternate,c.finishedExpirationTime=C,q=Ur,Zi=null,q){case Vo:case 1:throw Error(j(345));case 2:gm(c,2<C?2:C);break;case Xu:if(Fo(c,C),C===(q=c.lastSuspendedTime)&&(c.nextKnownPendingLevel=Jd(ie)),1073741823===zr&&10<(ie=cm+500-Ji())){if(zs){var Se=c.lastPingedTime;if(0===Se||Se>=C){c.lastPingedTime=C,ao(c,C);break}}if(0!==(Se=Wd(c))&&Se!==C)break;if(0!==q&&q!==C){c.lastPingedTime=q;break}c.timeoutHandle=yu(cs.bind(null,c),ie);break}cs(c);break;case Wu:if(Fo(c,C),C===(q=c.lastSuspendedTime)&&(c.nextKnownPendingLevel=Jd(ie)),zs&&(0===(ie=c.lastPingedTime)||ie>=C)){c.lastPingedTime=C,ao(c,C);break}if(0!==(ie=Wd(c))&&ie!==C)break;if(0!==q&&q!==C){c.lastPingedTime=q;break}if(1073741823!==is?q=10*(1073741821-is)-Ji():1073741823===zr?q=0:(q=10*(1073741821-zr)-5e3,0>(q=(ie=Ji())-q)&&(q=0),(C=10*(1073741821-C)-ie)<(q=(120>q?120:480>q?480:1080>q?1080:1920>q?1920:3e3>q?3e3:4320>q?4320:1960*um(q/1960))-q)&&(q=C)),10<q){c.timeoutHandle=yu(cs.bind(null,c),q);break}cs(c);break;case 5:if(1073741823!==zr&&null!==Us){Se=zr;var Te=Us;if(0>=(q=0|Te.busyMinDurationMs)?q=0:(ie=0|Te.busyDelayMs,q=(Se=Ji()-(10*(1073741821-Se)-(0|Te.timeoutMs||5e3)))<=ie?0:ie+q-Se),10<q){Fo(c,C),c.timeoutHandle=yu(cs.bind(null,c),q);break}}cs(c);break;default:throw Error(j(329))}if(oi(c),c.callbackNode===m)return dm.bind(null,c)}}return null}function Ro(c){var m=c.lastExpiredTime;if(m=0!==m?m:1073741823,0!=(48&sn))throw Error(j(327));if(Hs(),c===Zi&&m===ji||ao(c,m),null!==yn){var C=sn;sn|=16;for(var q=rc();;)try{Kg();break}catch(ie){nc(c,ie)}if(Ao(),sn=C,Ku.current=q,1===Ur)throw C=Qu,ao(c,m),Fo(c,m),oi(c),C;if(null!==yn)throw Error(j(261));c.finishedWork=c.current.alternate,c.finishedExpirationTime=m,Zi=null,cs(c),oi(c)}return null}function Qe(c,m){var C=sn;sn&=-2,sn|=8;try{return c(m)}finally{0===(sn=C)&&Ra()}}function ao(c,m){c.finishedWork=null,c.finishedExpirationTime=0;var C=c.timeoutHandle;if(-1!==C&&(c.timeoutHandle=-1,_p(C)),null!==yn)for(C=yn.return;null!==C;){var q=C;switch(q.tag){case 1:null!=(q=q.type.childContextTypes)&&Tu();break;case 3:Po(),sr(_i),sr(ni);break;case 5:Ds(q);break;case 4:Po();break;case 13:case 19:sr(lr);break;case 10:ud(q)}C=C.return}Zi=c,yn=Ks(c.current,null),ji=m,Ur=Vo,Qu=null,is=zr=1073741823,Us=null,as=0,zs=!1}function nc(c,m){for(;;){try{if(Ao(),Dl.current=Lu,jl)for(var C=Fr.memoizedState;null!==C;){var q=C.queue;null!==q&&(q.pending=null),C=C.next}if(ha=0,Lr=ii=Fr=null,jl=!1,null===yn||null===yn.return)return Ur=1,Qu=m,yn=null;e:{var ie=c,Se=yn.return,Te=yn,Ke=m;if(m=ji,Te.effectTag|=2048,Te.firstEffect=Te.lastEffect=null,null!==Ke&&"object"==typeof Ke&&"function"==typeof Ke.then){var _t=Ke;if(0==(2&Te.mode)){var wt=Te.alternate;wt?(Te.updateQueue=wt.updateQueue,Te.memoizedState=wt.memoizedState,Te.expirationTime=wt.expirationTime):(Te.updateQueue=null,Te.memoizedState=null)}var Lt=0!=(1&lr.current),Ht=Se;do{var Sn;if(Sn=13===Ht.tag){var kn=Ht.memoizedState;if(null!==kn)Sn=null!==kn.dehydrated;else{var ea=Ht.memoizedProps;Sn=void 0!==ea.fallback&&(!0!==ea.unstable_avoidThisFallback||!Lt)}}if(Sn){var Xr=Ht.updateQueue;if(null===Xr){var pt=new Set;pt.add(_t),Ht.updateQueue=pt}else Xr.add(_t);if(0==(2&Ht.mode)){if(Ht.effectTag|=64,Te.effectTag&=-2981,1===Te.tag)if(null===Te.alternate)Te.tag=17;else{var lt=Io(1073741823,null);lt.tag=2,Na(Te,lt)}Te.expirationTime=1073741823;break e}Ke=void 0,Te=m;var Et=ie.pingCache;if(null===Et?(Et=ie.pingCache=new zd).set(_t,Ke=new Set):void 0===(Ke=Et.get(_t))&&Et.set(_t,Ke=new Set),!Ke.has(Te)){Ke.add(Te);var Nt=Jg.bind(null,ie,_t,Te);_t.then(Nt,Nt)}Ht.effectTag|=4096,Ht.expirationTime=m;break e}Ht=Ht.return}while(null!==Ht);Ke=Error((zt(Te.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+gn(Te))}5!==Ur&&(Ur=2),Ke=Ls(Ke,Te),Ht=Se;do{switch(Ht.tag){case 3:_t=Ke,Ht.effectTag|=4096,Ht.expirationTime=m,Rl(Ht,Gd(Ht,_t,m));break e;case 1:_t=Ke;var en=Ht.stateNode;if(0==(64&Ht.effectTag)&&("function"==typeof Ht.type.getDerivedStateFromError||null!==en&&"function"==typeof en.componentDidCatch&&(null===os||!os.has(en)))){Ht.effectTag|=4096,Ht.expirationTime=m,Rl(Ht,$d(Ht,_t,m));break e}}Ht=Ht.return}while(null!==Ht)}yn=ac(yn)}catch(cr){m=cr;continue}break}}function rc(){var c=Ku.current;return Ku.current=Lu,null===c?Lu:c}function fm(c,m){c<zr&&2<c&&(zr=c),null!==m&&c<is&&2<c&&(is=c,Us=m)}function ic(c){c>as&&(as=c)}function Kg(){for(;null!==yn;)yn=pm(yn)}function Xg(){for(;null!==yn&&!Eo();)yn=pm(yn)}function pm(c){var m=ql(c.alternate,c,ji);return c.memoizedProps=c.pendingProps,null===m&&(m=ac(c)),Jn.current=null,m}function ac(c){yn=c;do{var m=yn.alternate;if(c=yn.return,0==(2048&yn.effectTag)){if(m=Gg(m,yn,ji),1===ji||1!==yn.childExpirationTime){for(var C=0,q=yn.child;null!==q;){var ie=q.expirationTime,Se=q.childExpirationTime;ie>C&&(C=ie),Se>C&&(C=Se),q=q.sibling}yn.childExpirationTime=C}if(null!==m)return m;null!==c&&0==(2048&c.effectTag)&&(null===c.firstEffect&&(c.firstEffect=yn.firstEffect),null!==yn.lastEffect&&(null!==c.lastEffect&&(c.lastEffect.nextEffect=yn.firstEffect),c.lastEffect=yn.lastEffect),1<yn.effectTag&&(null!==c.lastEffect?c.lastEffect.nextEffect=yn:c.firstEffect=yn,c.lastEffect=yn))}else{if(null!==(m=$g(yn)))return m.effectTag&=2047,m;null!==c&&(c.firstEffect=c.lastEffect=null,c.effectTag|=2048)}if(null!==(m=yn.sibling))return m;yn=c}while(null!==yn);return Ur===Vo&&(Ur=5),null}function Jd(c){var m=c.expirationTime;return m>(c=c.childExpirationTime)?m:c}function cs(c){var m=Zt();return ri(99,Ut.bind(null,c,m)),null}function Ut(c,m){do{Hs()}while(null!==ec);if(0!=(48&sn))throw Error(j(327));var C=c.finishedWork,q=c.finishedExpirationTime;if(null===C)return null;if(c.finishedWork=null,c.finishedExpirationTime=0,C===c.current)throw Error(j(177));c.callbackNode=null,c.callbackExpirationTime=0,c.callbackPriority=90,c.nextKnownPendingLevel=0;var ie=Jd(C);if(c.firstPendingTime=ie,q<=c.lastSuspendedTime?c.firstSuspendedTime=c.lastSuspendedTime=c.nextKnownPendingLevel=0:q<=c.firstSuspendedTime&&(c.firstSuspendedTime=q-1),q<=c.lastPingedTime&&(c.lastPingedTime=0),q<=c.lastExpiredTime&&(c.lastExpiredTime=0),c===Zi&&(yn=Zi=null,ji=0),1<C.effectTag?null!==C.lastEffect?(C.lastEffect.nextEffect=C,ie=C.firstEffect):ie=C:ie=C.firstEffect,null!==ie){var Se=sn;sn|=32,Jn.current=null,Wc=_o;var Te=qc();if(gu(Te)){if("selectionStart"in Te)var Ke={start:Te.selectionStart,end:Te.selectionEnd};else{var _t=(Ke=(Ke=Te.ownerDocument)&&Ke.defaultView||window).getSelection&&Ke.getSelection();if(_t&&0!==_t.rangeCount){Ke=_t.anchorNode;var wt=_t.anchorOffset,Lt=_t.focusNode;_t=_t.focusOffset;var Ht=0,Sn=-1,kn=-1,ea=0,Xr=0,pt=Te,lt=null;t:for(;;){for(var Et;pt!==Ke||0!==wt&&3!==pt.nodeType||(Sn=Ht+wt),pt!==Lt||0!==_t&&3!==pt.nodeType||(kn=Ht+_t),3===pt.nodeType&&(Ht+=pt.nodeValue.length),null!==(Et=pt.firstChild);)lt=pt,pt=Et;for(;;){if(pt===Te)break t;if(lt===Ke&&++ea===wt&&(Sn=Ht),lt===Lt&&++Xr===_t&&(kn=Ht),null!==(Et=pt.nextSibling))break;lt=(pt=lt).parentNode}pt=Et}Ke=-1===Sn||-1===kn?null:{start:Sn,end:kn}}else Ke=null}Ke=Ke||{start:0,end:0}}else Ke=null;yp={activeElementDetached:null,focusedElem:Te,selectionRange:Ke},_o=!1,Qt=ie;do{try{rn()}catch(dn){if(null===Qt)throw Error(j(330));ds(Qt,dn),Qt=Qt.nextEffect}}while(null!==Qt);Qt=ie;do{try{for(Te=c,Ke=m;null!==Qt;){var Nt=Qt.effectTag;if(16&Nt&&di(Qt.stateNode,""),128&Nt){var jt=Qt.alternate;if(null!==jt){var qt=jt.ref;null!==qt&&("function"==typeof qt?qt(null):qt.current=null)}}switch(1038&Nt){case 2:jd(Qt),Qt.effectTag&=-3;break;case 6:jd(Qt),Qt.effectTag&=-3,Ld(Qt.alternate,Qt);break;case 1024:Qt.effectTag&=-1025;break;case 1028:Qt.effectTag&=-1025,Ld(Qt.alternate,Qt);break;case 4:Ld(Qt.alternate,Qt);break;case 8:Gl(Te,wt=Qt,Ke),Dd(wt)}Qt=Qt.nextEffect}}catch(dn){if(null===Qt)throw Error(j(330));ds(Qt,dn),Qt=Qt.nextEffect}}while(null!==Qt);if(qt=yp,jt=qc(),Ke=qt.selectionRange,jt!==(Nt=qt.focusedElem)&&Nt&&Nt.ownerDocument&&ug(Nt.ownerDocument.documentElement,Nt)){for((null!==Ke&&gu(Nt)&&(jt=Ke.start,void 0===(qt=Ke.end)&&(qt=jt),"selectionStart"in Nt?(Nt.selectionStart=jt,Nt.selectionEnd=Math.min(qt,Nt.value.length)):(qt=(jt=Nt.ownerDocument||document)&&jt.defaultView||window).getSelection&&(qt=qt.getSelection(),wt=Nt.textContent.length,Te=Math.min(Ke.start,wt),Ke=void 0===Ke.end?Te:Math.min(Ke.end,wt),!qt.extend&&Te>Ke&&(wt=Ke,Ke=Te,Te=wt),wt=mp(Nt,Te),Lt=mp(Nt,Ke),wt&&Lt&&(1!==qt.rangeCount||qt.anchorNode!==wt.node||qt.anchorOffset!==wt.offset||qt.focusNode!==Lt.node||qt.focusOffset!==Lt.offset)&&((jt=jt.createRange()).setStart(wt.node,wt.offset),qt.removeAllRanges(),Te>Ke?(qt.addRange(jt),qt.extend(Lt.node,Lt.offset)):(jt.setEnd(Lt.node,Lt.offset),qt.addRange(jt))))),jt=[],qt=Nt);qt=qt.parentNode;)1===qt.nodeType&&jt.push({element:qt,left:qt.scrollLeft,top:qt.scrollTop});for("function"==typeof Nt.focus&&Nt.focus(),Nt=0;Nt<jt.length;Nt++)(qt=jt[Nt]).element.scrollLeft=qt.left,qt.element.scrollTop=qt.top}_o=!!Wc,yp=Wc=null,c.current=C,Qt=ie;do{try{for(Nt=c;null!==Qt;){var en=Qt.effectTag;if(36&en&&Fd(Nt,Qt.alternate,Qt),128&en){jt=void 0;var Vn=Qt.ref;if(null!==Vn)jt=Qt.stateNode,"function"==typeof Vn?Vn(jt):Vn.current=jt}Qt=Qt.nextEffect}}catch(dn){if(null===Qt)throw Error(j(330));ds(Qt,dn),Qt=Qt.nextEffect}}while(null!==Qt);Qt=null,qp(),sn=Se}else c.current=C;if(Zu)Zu=!1,ec=c,ss=m;else for(Qt=ie;null!==Qt;)m=Qt.nextEffect,Qt.nextEffect=null,Qt=m;if(0===(m=c.firstPendingTime)&&(os=null),1073741823===m?c===Kd?hi++:(hi=0,Kd=c):hi=0,"function"==typeof re&&re(C.stateNode,q),oi(c),Hl)throw Hl=!1,c=Yu,Yu=null,c;return 0!=(8&sn)||Ra(),null}function rn(){for(;null!==Qt;){var c=Qt.effectTag;0!=(256&c)&&qu(Qt.alternate,Qt),0==(512&c)||Zu||(Zu=!0,sd(97,function(){return Hs(),null})),Qt=Qt.nextEffect}}function Hs(){if(90!==ss){var c=97<ss?97:ss;return ss=90,ri(c,Wg)}}function Wg(){if(null===ec)return!1;var c=ec;if(ec=null,0!=(48&sn))throw Error(j(331));var m=sn;for(sn|=32,c=c.current.firstEffect;null!==c;){try{var C=c;if(0!=(512&C.effectTag))switch(C.tag){case 0:case 11:case 15:case 22:om(5,C),Od(5,C)}}catch(q){if(null===c)throw Error(j(330));ds(c,q)}C=c.nextEffect,c.nextEffect=null,c=C}return sn=m,Ra(),!0}function oc(c,m,C){Na(c,m=Gd(c,m=Ls(C,m),1073741823)),null!==(c=Xd(c,1073741823))&&oi(c)}function ds(c,m){if(3===c.tag)oc(c,c,m);else for(var C=c.return;null!==C;){if(3===C.tag){oc(C,c,m);break}if(1===C.tag){var q=C.stateNode;if("function"==typeof C.type.getDerivedStateFromError||"function"==typeof q.componentDidCatch&&(null===os||!os.has(q))){Na(C,c=$d(C,c=Ls(m,c),1073741823)),null!==(C=Xd(C,1073741823))&&oi(C);break}}C=C.return}}function Jg(c,m,C){var q=c.pingCache;null!==q&&q.delete(m),Zi===c&&ji===C?Ur===Wu||Ur===Xu&&1073741823===zr&&Ji()-cm<500?ao(c,ji):zs=!0:Oo(c,C)&&(0!==(m=c.lastPingedTime)&&m<C||(c.lastPingedTime=C,oi(c)))}function Qg(c,m){var C=c.stateNode;null!==C&&C.delete(m),0==(m=0)&&(m=ls(m=Ci(),c,null)),null!==(c=Xd(c,m))&&oi(c)}ql=function(c,m,C){var q=m.expirationTime;if(null!==c){var ie=m.pendingProps;if(c.memoizedProps!==ie||_i.current)pi=!0;else{if(q<C){switch(pi=!1,m.tag){case 3:Ed(m),ko();break;case 5:if(hd(m),4&m.mode&&1!==C&&ie.hidden)return m.expirationTime=m.childExpirationTime=1,null;break;case 1:bi(m.type)&&Nn(m);break;case 4:md(m,m.stateNode.containerInfo);break;case 10:q=m.memoizedProps.value,br(Vu,(ie=m.type._context)._currentValue),ie._currentValue=q;break;case 13:if(null!==m.memoizedState)return 0!==(q=m.child.childExpirationTime)&&q>=C?Id(c,m,C):(br(lr,1&lr.current),null!==(m=Di(c,m,C))?m.sibling:null);br(lr,1&lr.current);break;case 19:if(q=m.childExpirationTime>=C,0!=(64&c.effectTag)){if(q)return Pd(c,m,C);m.effectTag|=64}if(null!==(ie=m.memoizedState)&&(ie.rendering=null,ie.tail=null),br(lr,lr.current),!q)return null}return Di(c,m,C)}pi=!1}}else pi=!1;switch(m.expirationTime=0,m.tag){case 2:if(q=m.type,null!==c&&(c.alternate=null,m.alternate=null,m.effectTag|=2),c=m.pendingProps,ie=So(m,ni.current),Yo(m,C),ie=gd(null,m,q,c,ie,C),m.effectTag|=1,"object"==typeof ie&&null!==ie&&"function"==typeof ie.render&&void 0===ie.$$typeof){if(m.tag=1,m.memoizedState=null,m.updateQueue=null,bi(q)){var Se=!0;Nn(m)}else Se=!1;m.memoizedState=null!=ie.state?ie.state:null,Os(m);var Te=q.getDerivedStateFromProps;"function"==typeof Te&&Nu(m,q,Te,c),ie.updater=dd,m.stateNode=ie,ie._reactInternalFiber=m,Ou(m,q,c,C),m=Sd(null,m,q,!0,Se,C)}else m.tag=0,ai(null,m,ie,C),m=m.child;return m;case 16:e:{if(ie=m.elementType,null!==c&&(c.alternate=null,m.alternate=null,m.effectTag|=2),c=m.pendingProps,function Bn(c){if(-1===c._status){c._status=0;var m=c._ctor;m=m(),c._result=m,m.then(function(C){0===c._status&&(C=C.default,c._status=1,c._result=C)},function(C){0===c._status&&(c._status=2,c._result=C)})}}(ie),1!==ie._status)throw ie._result;switch(m.type=ie=ie._result,Se=m.tag=function Zg(c){if("function"==typeof c)return Yd(c)?1:0;if(null!=c){if((c=c.$$typeof)===xn)return 11;if(c===bn)return 14}return 2}(ie),c=pa(ie,c),Se){case 0:m=Gu(null,m,ie,c,C);break e;case 1:m=xd(null,m,ie,c,C);break e;case 11:m=zu(null,m,ie,c,C);break e;case 14:m=js(null,m,ie,pa(ie.type,c),q,C);break e}throw Error(j(306,ie,""))}return m;case 0:return ie=m.pendingProps,Gu(c,m,q=m.type,ie=m.elementType===q?ie:pa(q,ie),C);case 1:return ie=m.pendingProps,xd(c,m,q=m.type,ie=m.elementType===q?ie:pa(q,ie),C);case 3:if(Ed(m),q=m.updateQueue,null===c||null===q)throw Error(j(282));if(q=m.pendingProps,ie=null!==(ie=m.memoizedState)?ie.element:null,fi(c,m),Ru(m,q,null,C),(q=m.memoizedState.element)===ie)ko(),m=Di(c,m,C);else{if((ie=m.stateNode.hydrate)&&(To=Ps(m.stateNode.containerInfo.firstChild),ro=m,ie=io=!0),ie)for(C=pd(m,null,q,C),m.child=C;C;)C.effectTag=-3&C.effectTag|1024,C=C.sibling;else ai(c,m,q,C),ko();m=m.child}return m;case 5:return hd(m),null===c&&Ll(m),Se=null!==c?c.memoizedProps:null,Te=(ie=m.pendingProps).children,Jc(q=m.type,ie)?Te=null:null!==Se&&Jc(q,Se)&&(m.effectTag|=16),Cd(c,m),4&m.mode&&1!==C&&ie.hidden?(m.expirationTime=m.childExpirationTime=1,m=null):(ai(c,m,Te,C),m=m.child),m;case 6:return null===c&&Ll(m),null;case 13:return Id(c,m,C);case 4:return md(m,m.stateNode.containerInfo),q=m.pendingProps,null===c?m.child=Ms(m,null,q,C):ai(c,m,q,C),m.child;case 11:return ie=m.pendingProps,zu(c,m,q=m.type,ie=m.elementType===q?ie:pa(q,ie),C);case 7:return ai(c,m,m.pendingProps,C),m.child;case 8:case 12:return ai(c,m,m.pendingProps.children,C),m.child;case 10:e:{q=m.type._context,Te=m.memoizedProps,Se=(ie=m.pendingProps).value;var Ke=m.type._context;if(br(Vu,Ke._currentValue),Ke._currentValue=Se,null!==Te)if(0==(Se=Jo(Ke=Te.value,Se)?0:0|("function"==typeof q._calculateChangedBits?q._calculateChangedBits(Ke,Se):1073741823))){if(Te.children===ie.children&&!_i.current){m=Di(c,m,C);break e}}else for(null!==(Ke=m.child)&&(Ke.return=m);null!==Ke;){var _t=Ke.dependencies;if(null!==_t){Te=Ke.child;for(var wt=_t.firstContext;null!==wt;){if(wt.context===q&&0!=(wt.observedBits&Se)){1===Ke.tag&&((wt=Io(C,null)).tag=2,Na(Ke,wt)),Ke.expirationTime<C&&(Ke.expirationTime=C),null!==(wt=Ke.alternate)&&wt.expirationTime<C&&(wt.expirationTime=C),cd(Ke.return,C),_t.expirationTime<C&&(_t.expirationTime=C);break}wt=wt.next}}else Te=10===Ke.tag&&Ke.type===m.type?null:Ke.child;if(null!==Te)Te.return=Ke;else for(Te=Ke;null!==Te;){if(Te===m){Te=null;break}if(null!==(Ke=Te.sibling)){Ke.return=Te.return,Te=Ke;break}Te=Te.return}Ke=Te}ai(c,m,ie.children,C),m=m.child}return m;case 9:return ie=m.type,q=(Se=m.pendingProps).children,Yo(m,C),q=q(ie=Qi(ie,Se.unstable_observedBits)),m.effectTag|=1,ai(c,m,q,C),m.child;case 14:return Se=pa(ie=m.type,m.pendingProps),js(c,m,ie,Se=pa(ie.type,Se),q,C);case 15:return zg(c,m,m.type,m.pendingProps,q,C);case 17:return ie=m.pendingProps,ie=m.elementType===(q=m.type)?ie:pa(q,ie),null!==c&&(c.alternate=null,m.alternate=null,m.effectTag|=2),m.tag=1,bi(q)?(c=!0,Nn(m)):c=!1,Yo(m,C),Qp(m,q,ie),Ou(m,q,ie,C),Sd(null,m,q,!0,c,C);case 19:return Pd(c,m,C)}throw Error(j(156,m.tag))};var re=null,Qd=null;function _a(c,m,C,q){this.tag=c,this.key=C,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=q,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Kr(c,m,C,q){return new _a(c,m,C,q)}function Yd(c){return!(!(c=c.prototype)||!c.isReactComponent)}function Ks(c,m){var C=c.alternate;return null===C?((C=Kr(c.tag,m,c.key,c.mode)).elementType=c.elementType,C.type=c.type,C.stateNode=c.stateNode,C.alternate=c,c.alternate=C):(C.pendingProps=m,C.effectTag=0,C.nextEffect=null,C.firstEffect=null,C.lastEffect=null),C.childExpirationTime=c.childExpirationTime,C.expirationTime=c.expirationTime,C.child=c.child,C.memoizedProps=c.memoizedProps,C.memoizedState=c.memoizedState,C.updateQueue=c.updateQueue,C.dependencies=null===(m=c.dependencies)?null:{expirationTime:m.expirationTime,firstContext:m.firstContext,responders:m.responders},C.sibling=c.sibling,C.index=c.index,C.ref=c.ref,C}function sc(c,m,C,q,ie,Se){var Te=2;if(q=c,"function"==typeof c)Yd(c)&&(Te=1);else if("string"==typeof c)Te=5;else e:switch(c){case et:return No(C.children,ie,Se,m);case xe:Te=8,ie|=7;break;case vt:Te=8,ie|=1;break;case xt:return(c=Kr(12,C,m,8|ie)).elementType=xt,c.type=xt,c.expirationTime=Se,c;case Gt:return(c=Kr(13,C,m,ie)).type=Gt,c.elementType=Gt,c.expirationTime=Se,c;case Rt:return(c=Kr(19,C,m,ie)).elementType=Rt,c.expirationTime=Se,c;default:if("object"==typeof c&&null!==c)switch(c.$$typeof){case kt:Te=10;break e;case Jt:Te=9;break e;case xn:Te=11;break e;case bn:Te=14;break e;case dt:Te=16,q=null;break e;case yt:Te=22;break e}throw Error(j(130,null==c?c:typeof c,""))}return(m=Kr(Te,C,m,ie)).elementType=c,m.type=q,m.expirationTime=Se,m}function No(c,m,C,q){return(c=Kr(7,c,q,m)).expirationTime=C,c}function mm(c,m,C){return(c=Kr(6,c,null,m)).expirationTime=C,c}function er(c,m,C){return(m=Kr(4,null!==c.children?c.children:[],c.key,m)).expirationTime=C,m.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},m}function ey(c,m,C){this.tag=m,this.current=null,this.containerInfo=c,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=C,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Oo(c,m){var C=c.firstSuspendedTime;return c=c.lastSuspendedTime,0!==C&&C>=m&&c<=m}function Fo(c,m){var C=c.firstSuspendedTime,q=c.lastSuspendedTime;C<m&&(c.firstSuspendedTime=m),(q>m||0===C)&&(c.lastSuspendedTime=m),m<=c.lastPingedTime&&(c.lastPingedTime=0),m<=c.lastExpiredTime&&(c.lastExpiredTime=0)}function hm(c,m){m>c.firstPendingTime&&(c.firstPendingTime=m);var C=c.firstSuspendedTime;0!==C&&(m>=C?c.firstSuspendedTime=c.lastSuspendedTime=c.nextKnownPendingLevel=0:m>=c.lastSuspendedTime&&(c.lastSuspendedTime=m+1),m>c.nextKnownPendingLevel&&(c.nextKnownPendingLevel=m))}function gm(c,m){var C=c.lastExpiredTime;(0===C||C>m)&&(c.lastExpiredTime=m)}function lc(c,m,C,q){var ie=m.current,Se=Ci(),Te=Fs.suspense;Se=ls(Se,ie,Te);e:if(C){t:{if(w(C=C._reactInternalFiber)!==C||1!==C.tag)throw Error(j(170));var Ke=C;do{switch(Ke.tag){case 3:Ke=Ke.stateNode.context;break t;case 1:if(bi(Ke.type)){Ke=Ke.stateNode.__reactInternalMemoizedMergedChildContext;break t}}Ke=Ke.return}while(null!==Ke);throw Error(j(171))}if(1===C.tag){var _t=C.type;if(bi(_t)){C=Tn(C,_t,Ke);break e}}C=Ke}else C=xo;return null===m.context?m.context=C:m.pendingContext=C,(m=Io(Se,Te)).payload={element:c},null!==(q=void 0===q?null:q)&&(m.callback=q),Na(ie,m),us(ie,Se),Se}function Zd(c){return(c=c.current).child?c.child.stateNode:null}function ym(c,m){null!==(c=c.memoizedState)&&null!==c.dehydrated&&c.retryTime<m&&(c.retryTime=m)}function uc(c,m){ym(c,m),(c=c.alternate)&&ym(c,m)}function ef(c,m,C){var q=new ey(c,m,C=null!=C&&!0===C.hydrate),ie=Kr(3,null,null,2===m?7:1===m?3:0);q.current=ie,ie.stateNode=q,Os(ie),c[_u]=q.current,C&&0!==m&&function Wn(c,m){var C=Ss(m);Ln.forEach(function(q){ht(q,m,C)}),Yn.forEach(function(q){ht(q,m,C)})}(0,9===c.nodeType?c:c.ownerDocument),this._internalRoot=q}function Xs(c){return!(!c||1!==c.nodeType&&9!==c.nodeType&&11!==c.nodeType&&(8!==c.nodeType||" react-mount-point-unstable "!==c.nodeValue))}function cc(c,m,C,q,ie){var Se=C._reactRootContainer;if(Se){var Te=Se._internalRoot;if("function"==typeof ie){var Ke=ie;ie=function(){var wt=Zd(Te);Ke.call(wt)}}lc(m,Te,c,ie)}else{if(Se=C._reactRootContainer=function tf(c,m){if(m||(m=!(!(m=c?9===c.nodeType?c.documentElement:c.firstChild:null)||1!==m.nodeType||!m.hasAttribute("data-reactroot"))),!m)for(var C;C=c.lastChild;)c.removeChild(C);return new ef(c,0,m?{hydrate:!0}:void 0)}(C,q),Te=Se._internalRoot,"function"==typeof ie){var _t=ie;ie=function(){var wt=Zd(Te);_t.call(wt)}}Qe(function(){lc(m,Te,c,ie)})}return Zd(Te)}ef.prototype.render=function(c){lc(c,this._internalRoot,null,null)},ef.prototype.unmount=function(){var c=this._internalRoot,m=c.containerInfo;lc(null,c,null,function(){m[_u]=null})},Ie=function(c){if(13===c.tag){var m=ku(Ci(),150,100);us(c,m),uc(c,m)}},Ge=function(c){13===c.tag&&(us(c,3),uc(c,3))},qe=function(c){if(13===c.tag){var m=Ci();us(c,m=ls(m,c,null)),uc(c,m)}},E=function(c,m,C){switch(m){case"input":if(Nr(c,C),m=C.name,"radio"===C.type&&null!=m){for(C=c;C.parentNode;)C=C.parentNode;for(C=C.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<C.length;m++){var q=C[m];if(q!==c&&q.form===c.form){var ie=bu(q);if(!ie)throw Error(j(90));Zr(q),Nr(q,ie)}}}break;case"textarea":$r(c,C);break;case"select":null!=(m=C.value)&&ci(c,!!C.multiple,m,!1)}},ae=function qg(c,m){var C=sn;sn|=1;try{return c(m)}finally{0===(sn=C)&&Ra()}},ze=function(c,m,C,q,ie){var Se=sn;sn|=4;try{return ri(98,c.bind(null,m,C,q,ie))}finally{0===(sn=Se)&&Ra()}},ot=function(){0==(49&sn)&&(function Hg(){if(null!==$s){var c=$s;$s=null,c.forEach(function(m,C){gm(C,m),oi(C)}),Ra()}}(),Hs())},Ne=function(c,m){var C=sn;sn|=2;try{return c(m)}finally{0===(sn=C)&&Ra()}};(function(c){var m=c.findFiberByHostInstance;!function Yg(c){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)return!0;try{var C=m.inject(c);re=function(q){try{m.onCommitFiberRoot(C,q,void 0,64==(64&q.current.effectTag))}catch{}},Qd=function(q){try{m.onCommitFiberUnmount(C,q)}catch{}}}catch{}}(x({},c,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(C){return null===(C=function Z(c){if(c=function T(c){var m=c.alternate;if(!m){if(null===(m=w(c)))throw Error(j(188));return m!==c?null:c}for(var C=c,q=m;;){var ie=C.return;if(null===ie)break;var Se=ie.alternate;if(null===Se){if(null!==(q=ie.return)){C=q;continue}break}if(ie.child===Se.child){for(Se=ie.child;Se;){if(Se===C)return k(ie),c;if(Se===q)return k(ie),m;Se=Se.sibling}throw Error(j(188))}if(C.return!==q.return)C=ie,q=Se;else{for(var Te=!1,Ke=ie.child;Ke;){if(Ke===C){Te=!0,C=ie,q=Se;break}if(Ke===q){Te=!0,q=ie,C=Se;break}Ke=Ke.sibling}if(!Te){for(Ke=Se.child;Ke;){if(Ke===C){Te=!0,C=Se,q=ie;break}if(Ke===q){Te=!0,q=Se,C=ie;break}Ke=Ke.sibling}if(!Te)throw Error(j(189))}}if(C.alternate!==q)throw Error(j(190))}if(3!==C.tag)throw Error(j(188));return C.stateNode.current===C?c:m}(c),!c)return null;for(var m=c;;){if(5===m.tag||6===m.tag)return m;if(m.child)m.child.return=m,m=m.child;else{if(m===c)break;for(;!m.sibling;){if(!m.return||m.return===c)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}}return null}(C))?null:C.stateNode},findFiberByHostInstance:function(C){return m?m(C):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:Cl,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),R.render=function(c,m,C){if(!Xs(m))throw Error(j(200));return cc(null,c,m,!1,C)},R.unmountComponentAtNode=function(c){if(!Xs(c))throw Error(j(40));return!!c._reactRootContainer&&(Qe(function(){cc(null,null,c,!1,function(){c._reactRootContainer=null,c[_u]=null})}),!0)}},7628:(we,R,S)=>{(function P(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P)}catch(a){console.error(a)}})(),we.exports=S(9877)},298:(we,R,S)=>{var P=S(1856),a="function"==typeof Symbol&&Symbol.for,x=a?Symbol.for("react.element"):60103,F=a?Symbol.for("react.portal"):60106,j=a?Symbol.for("react.fragment"):60107,d=a?Symbol.for("react.strict_mode"):60108,h=a?Symbol.for("react.profiler"):60114,g=a?Symbol.for("react.provider"):60109,N=a?Symbol.for("react.context"):60110,O=a?Symbol.for("react.forward_ref"):60112,B=a?Symbol.for("react.suspense"):60113,H=a?Symbol.for("react.memo"):60115,$=a?Symbol.for("react.lazy"):60116,K="function"==typeof Symbol&&Symbol.iterator;function G(Be){for(var it="https://reactjs.org/docs/error-decoder.html?invariant="+Be,de=1;de<arguments.length;de++)it+="&args[]="+encodeURIComponent(arguments[de]);return"Minified React error #"+Be+"; visit "+it+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},le={};function L(Be,it,de){this.props=Be,this.context=it,this.refs=le,this.updater=de||W}function U(){}function z(Be,it,de){this.props=Be,this.context=it,this.refs=le,this.updater=de||W}L.prototype.isReactComponent={},L.prototype.setState=function(Be,it){if("object"!=typeof Be&&"function"!=typeof Be&&null!=Be)throw Error(G(85));this.updater.enqueueSetState(this,Be,it,"setState")},L.prototype.forceUpdate=function(Be){this.updater.enqueueForceUpdate(this,Be,"forceUpdate")},U.prototype=L.prototype;var ee=z.prototype=new U;ee.constructor=z,P(ee,L.prototype),ee.isPureReactComponent=!0;var ye={current:null},be=Object.prototype.hasOwnProperty,pe={key:!0,ref:!0,__self:!0,__source:!0};function y(Be,it,de){var te,se={},Pe=null,Le=null;if(null!=it)for(te in void 0!==it.ref&&(Le=it.ref),void 0!==it.key&&(Pe=""+it.key),it)be.call(it,te)&&!pe.hasOwnProperty(te)&&(se[te]=it[te]);var ce=arguments.length-2;if(1===ce)se.children=de;else if(1<ce){for(var ge=Array(ce),rt=0;rt<ce;rt++)ge[rt]=arguments[rt+2];se.children=ge}if(Be&&Be.defaultProps)for(te in ce=Be.defaultProps)void 0===se[te]&&(se[te]=ce[te]);return{$$typeof:x,type:Be,key:Pe,ref:Le,props:se,_owner:ye.current}}function _(Be){return"object"==typeof Be&&null!==Be&&Be.$$typeof===x}var M=/\/+/g,I=[];function ne(Be,it,de,te){if(I.length){var se=I.pop();return se.result=Be,se.keyPrefix=it,se.func=de,se.context=te,se.count=0,se}return{result:Be,keyPrefix:it,func:de,context:te,count:0}}function fe(Be){Be.result=null,Be.keyPrefix=null,Be.func=null,Be.context=null,Be.count=0,10>I.length&&I.push(Be)}function Ve(Be,it,de,te){var se=typeof Be;("undefined"===se||"boolean"===se)&&(Be=null);var Pe=!1;if(null===Be)Pe=!0;else switch(se){case"string":case"number":Pe=!0;break;case"object":switch(Be.$$typeof){case x:case F:Pe=!0}}if(Pe)return de(te,Be,""===it?"."+ze(Be,0):it),1;if(Pe=0,it=""===it?".":it+":",Array.isArray(Be))for(var Le=0;Le<Be.length;Le++){var ce=it+ze(se=Be[Le],Le);Pe+=Ve(se,ce,de,te)}else if("function"==typeof(ce=null===Be||"object"!=typeof Be?null:"function"==typeof(ce=K&&Be[K]||Be["@@iterator"])?ce:null))for(Be=ce.call(Be),Le=0;!(se=Be.next()).done;)Pe+=Ve(se=se.value,ce=it+ze(se,Le++),de,te);else if("object"===se)throw de=""+Be,Error(G(31,"[object Object]"===de?"object with keys {"+Object.keys(Be).join(", ")+"}":de,""));return Pe}function ae(Be,it,de){return null==Be?0:Ve(Be,"",it,de)}function ze(Be,it){return"object"==typeof Be&&null!==Be&&null!=Be.key?function E(Be){var it={"=":"=0",":":"=2"};return"$"+(""+Be).replace(/[=:]/g,function(de){return it[de]})}(Be.key):it.toString(36)}function ot(Be,it){Be.func.call(Be.context,it,Be.count++)}function Ne(Be,it,de){var te=Be.result,se=Be.keyPrefix;Be=Be.func.call(Be.context,it,Be.count++),Array.isArray(Be)?Ye(Be,te,de,function(Pe){return Pe}):null!=Be&&(_(Be)&&(Be=function A(Be,it){return{$$typeof:x,type:Be.type,key:it,ref:Be.ref,props:Be.props,_owner:Be._owner}}(Be,se+(!Be.key||it&&it.key===Be.key?"":(""+Be.key).replace(M,"$&/")+"/")+de)),te.push(Be))}function Ye(Be,it,de,te,se){var Pe="";null!=de&&(Pe=(""+de).replace(M,"$&/")+"/"),ae(Be,Ne,it=ne(it,Pe,te,se)),fe(it)}var Ze={current:null};function ft(){var Be=Ze.current;if(null===Be)throw Error(G(321));return Be}var nt={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:ye,IsSomeRendererActing:{current:!1},assign:P};R.Children={map:function(Be,it,de){if(null==Be)return Be;var te=[];return Ye(Be,te,null,it,de),te},forEach:function(Be,it,de){if(null==Be)return Be;ae(Be,ot,it=ne(null,null,it,de)),fe(it)},count:function(Be){return ae(Be,function(){return null},null)},toArray:function(Be){var it=[];return Ye(Be,it,null,function(de){return de}),it},only:function(Be){if(!_(Be))throw Error(G(143));return Be}},R.Component=L,R.Fragment=j,R.Profiler=h,R.PureComponent=z,R.StrictMode=d,R.Suspense=B,R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nt,R.cloneElement=function(Be,it,de){if(null==Be)throw Error(G(267,Be));var te=P({},Be.props),se=Be.key,Pe=Be.ref,Le=Be._owner;if(null!=it){if(void 0!==it.ref&&(Pe=it.ref,Le=ye.current),void 0!==it.key&&(se=""+it.key),Be.type&&Be.type.defaultProps)var ce=Be.type.defaultProps;for(ge in it)be.call(it,ge)&&!pe.hasOwnProperty(ge)&&(te[ge]=void 0===it[ge]&&void 0!==ce?ce[ge]:it[ge])}var ge=arguments.length-2;if(1===ge)te.children=de;else if(1<ge){ce=Array(ge);for(var rt=0;rt<ge;rt++)ce[rt]=arguments[rt+2];te.children=ce}return{$$typeof:x,type:Be.type,key:se,ref:Pe,props:te,_owner:Le}},R.createContext=function(Be,it){return void 0===it&&(it=null),(Be={$$typeof:N,_calculateChangedBits:it,_currentValue:Be,_currentValue2:Be,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:g,_context:Be},Be.Consumer=Be},R.createElement=y,R.createFactory=function(Be){var it=y.bind(null,Be);return it.type=Be,it},R.createRef=function(){return{current:null}},R.forwardRef=function(Be){return{$$typeof:O,render:Be}},R.isValidElement=_,R.lazy=function(Be){return{$$typeof:$,_ctor:Be,_status:-1,_result:null}},R.memo=function(Be,it){return{$$typeof:H,type:Be,compare:void 0===it?null:it}},R.useCallback=function(Be,it){return ft().useCallback(Be,it)},R.useContext=function(Be,it){return ft().useContext(Be,it)},R.useDebugValue=function(){},R.useEffect=function(Be,it){return ft().useEffect(Be,it)},R.useImperativeHandle=function(Be,it,de){return ft().useImperativeHandle(Be,it,de)},R.useLayoutEffect=function(Be,it){return ft().useLayoutEffect(Be,it)},R.useMemo=function(Be,it){return ft().useMemo(Be,it)},R.useReducer=function(Be,it,de){return ft().useReducer(Be,it,de)},R.useRef=function(Be){return ft().useRef(Be)},R.useState=function(Be){return ft().useState(Be)},R.version="16.14.0"},6712:(we,R,S)=>{we.exports=S(298)},7446:we=>{var S={};function P(d,h,g){g||(g=Error);var O=function(B){function H($,K,G){return B.call(this,function N(B,H,$){return"string"==typeof h?h:h(B,H,$)}($,K,G))||this}return function R(d,h){d.prototype=Object.create(h.prototype),d.prototype.constructor=d,d.__proto__=h}(H,B),H}(g);O.prototype.name=g.name,O.prototype.code=d,S[d]=O}function a(d,h){if(Array.isArray(d)){var g=d.length;return d=d.map(function(N){return String(N)}),g>2?"one of ".concat(h," ").concat(d.slice(0,g-1).join(", "),", or ")+d[g-1]:2===g?"one of ".concat(h," ").concat(d[0]," or ").concat(d[1]):"of ".concat(h," ").concat(d[0])}return"of ".concat(h," ").concat(String(d))}P("ERR_INVALID_OPT_VALUE",function(d,h){return'The value "'+h+'" is invalid for option "'+d+'"'},TypeError),P("ERR_INVALID_ARG_TYPE",function(d,h,g){var N,O;if("string"==typeof h&&function x(d,h,g){return d.substr(!g||g<0?0:+g,h.length)===h}(h,"not ")?(N="must not be",h=h.replace(/^not /,"")):N="must be",function F(d,h,g){return(void 0===g||g>d.length)&&(g=d.length),d.substring(g-h.length,g)===h}(d," argument"))O="The ".concat(d," ").concat(N," ").concat(a(h,"type"));else{var B=function j(d,h,g){return"number"!=typeof g&&(g=0),!(g+h.length>d.length)&&-1!==d.indexOf(h,g)}(d,".")?"property":"argument";O='The "'.concat(d,'" ').concat(B," ").concat(N," ").concat(a(h,"type"))}return O+". Received type ".concat(typeof g)},TypeError),P("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),P("ERR_METHOD_NOT_IMPLEMENTED",function(d){return"The "+d+" method is not implemented"}),P("ERR_STREAM_PREMATURE_CLOSE","Premature close"),P("ERR_STREAM_DESTROYED",function(d){return"Cannot call "+d+" after a stream was destroyed"}),P("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),P("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),P("ERR_STREAM_WRITE_AFTER_END","write after end"),P("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),P("ERR_UNKNOWN_ENCODING",function(d){return"Unknown encoding: "+d},TypeError),P("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),we.exports.q=S},9800:(we,R,S)=>{var P=Object.keys||function(O){var B=[];for(var H in O)B.push(H);return B};we.exports=h;var a=S(1396),x=S(1120);S(5035)(h,a);for(var F=P(x.prototype),j=0;j<F.length;j++){var d=F[j];h.prototype[d]||(h.prototype[d]=x.prototype[d])}function h(O){if(!(this instanceof h))return new h(O);a.call(this,O),x.call(this,O),this.allowHalfOpen=!0,O&&(!1===O.readable&&(this.readable=!1),!1===O.writable&&(this.writable=!1),!1===O.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",g)))}function g(){this._writableState.ended||process.nextTick(N,this)}function N(O){O.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(B){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=B,this._writableState.destroyed=B)}})},1908:(we,R,S)=>{we.exports=a;var P=S(8157);function a(x){if(!(this instanceof a))return new a(x);P.call(this,x)}S(5035)(a,P),a.prototype._transform=function(x,F,j){j(null,x)}},1396:(we,R,S)=>{var P;we.exports=_,_.ReadableState=A,S(3358);var O,x=function(ge,rt){return ge.listeners(rt).length},F=S(8431),j=S(3195).Buffer,d=global.Uint8Array||function(){},N=S(4616);O=N&&N.debuglog?N.debuglog("stream"):function(){};var z,ee,ye,B=S(350),H=S(5923),K=S(1561).getHighWaterMark,G=S(7446).q,W=G.ERR_INVALID_ARG_TYPE,le=G.ERR_STREAM_PUSH_AFTER_EOF,L=G.ERR_METHOD_NOT_IMPLEMENTED,U=G.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;S(5035)(_,F);var be=H.errorOrDestroy,pe=["error","close","destroy","pause","resume"];function A(ce,ge,rt){P=P||S(9800),"boolean"!=typeof rt&&(rt=ge instanceof P),this.objectMode=!!(ce=ce||{}).objectMode,rt&&(this.objectMode=this.objectMode||!!ce.readableObjectMode),this.highWaterMark=K(this,ce,"readableHighWaterMark",rt),this.buffer=new B,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==ce.emitClose,this.autoDestroy=!!ce.autoDestroy,this.destroyed=!1,this.defaultEncoding=ce.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ce.encoding&&(z||(z=S(4547).s),this.decoder=new z(ce.encoding),this.encoding=ce.encoding)}function _(ce){if(P=P||S(9800),!(this instanceof _))return new _(ce);this._readableState=new A(ce,this,this instanceof P),this.readable=!0,ce&&("function"==typeof ce.read&&(this._read=ce.read),"function"==typeof ce.destroy&&(this._destroy=ce.destroy)),F.call(this)}function E(ce,ge,rt,_e,X){O("readableAddChunk",ge);var Q,V=ce._readableState;if(null===ge)V.reading=!1,function ae(ce,ge){if(O("onEofChunk"),!ge.ended){if(ge.decoder){var rt=ge.decoder.end();rt&&rt.length&&(ge.buffer.push(rt),ge.length+=ge.objectMode?1:rt.length)}ge.ended=!0,ge.sync?ze(ce):(ge.needReadable=!1,ge.emittedReadable||(ge.emittedReadable=!0,ot(ce)))}}(ce,V);else if(X||(Q=function I(ce,ge){var rt;return!function g(ce){return j.isBuffer(ce)||ce instanceof d}(ge)&&"string"!=typeof ge&&void 0!==ge&&!ce.objectMode&&(rt=new W("chunk",["string","Buffer","Uint8Array"],ge)),rt}(V,ge)),Q)be(ce,Q);else if(V.objectMode||ge&&ge.length>0)if("string"!=typeof ge&&!V.objectMode&&Object.getPrototypeOf(ge)!==j.prototype&&(ge=function h(ce){return j.from(ce)}(ge)),_e)V.endEmitted?be(ce,new U):M(ce,V,ge,!0);else if(V.ended)be(ce,new le);else{if(V.destroyed)return!1;V.reading=!1,V.decoder&&!rt?(ge=V.decoder.write(ge),V.objectMode||0!==ge.length?M(ce,V,ge,!1):Ne(ce,V)):M(ce,V,ge,!1)}else _e||(V.reading=!1,Ne(ce,V));return!V.ended&&(V.length<V.highWaterMark||0===V.length)}function M(ce,ge,rt,_e){ge.flowing&&0===ge.length&&!ge.sync?(ge.awaitDrain=0,ce.emit("data",rt)):(ge.length+=ge.objectMode?1:rt.length,_e?ge.buffer.unshift(rt):ge.buffer.push(rt),ge.needReadable&&ze(ce)),Ne(ce,ge)}Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(ge){!this._readableState||(this._readableState.destroyed=ge)}}),_.prototype.destroy=H.destroy,_.prototype._undestroy=H.undestroy,_.prototype._destroy=function(ce,ge){ge(ce)},_.prototype.push=function(ce,ge){var _e,rt=this._readableState;return rt.objectMode?_e=!0:"string"==typeof ce&&((ge=ge||rt.defaultEncoding)!==rt.encoding&&(ce=j.from(ce,ge),ge=""),_e=!0),E(this,ce,ge,!1,_e)},_.prototype.unshift=function(ce){return E(this,ce,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(ce){z||(z=S(4547).s);var ge=new z(ce);this._readableState.decoder=ge,this._readableState.encoding=this._readableState.decoder.encoding;for(var rt=this._readableState.buffer.head,_e="";null!==rt;)_e+=ge.write(rt.data),rt=rt.next;return this._readableState.buffer.clear(),""!==_e&&this._readableState.buffer.push(_e),this._readableState.length=_e.length,this};var ne=1073741824;function Ve(ce,ge){return ce<=0||0===ge.length&&ge.ended?0:ge.objectMode?1:ce!=ce?ge.flowing&&ge.length?ge.buffer.head.data.length:ge.length:(ce>ge.highWaterMark&&(ge.highWaterMark=function fe(ce){return ce>=ne?ce=ne:(ce--,ce|=ce>>>1,ce|=ce>>>2,ce|=ce>>>4,ce|=ce>>>8,ce|=ce>>>16,ce++),ce}(ce)),ce<=ge.length?ce:ge.ended?ge.length:(ge.needReadable=!0,0))}function ze(ce){var ge=ce._readableState;O("emitReadable",ge.needReadable,ge.emittedReadable),ge.needReadable=!1,ge.emittedReadable||(O("emitReadable",ge.flowing),ge.emittedReadable=!0,process.nextTick(ot,ce))}function ot(ce){var ge=ce._readableState;O("emitReadable_",ge.destroyed,ge.length,ge.ended),!ge.destroyed&&(ge.length||ge.ended)&&(ce.emit("readable"),ge.emittedReadable=!1),ge.needReadable=!ge.flowing&&!ge.ended&&ge.length<=ge.highWaterMark,de(ce)}function Ne(ce,ge){ge.readingMore||(ge.readingMore=!0,process.nextTick(Ye,ce,ge))}function Ye(ce,ge){for(;!ge.reading&&!ge.ended&&(ge.length<ge.highWaterMark||ge.flowing&&0===ge.length);){var rt=ge.length;if(O("maybeReadMore read 0"),ce.read(0),rt===ge.length)break}ge.readingMore=!1}function ft(ce){var ge=ce._readableState;ge.readableListening=ce.listenerCount("readable")>0,ge.resumeScheduled&&!ge.paused?ge.flowing=!0:ce.listenerCount("data")>0&&ce.resume()}function nt(ce){O("readable nexttick read 0"),ce.read(0)}function it(ce,ge){O("resume",ge.reading),ge.reading||ce.read(0),ge.resumeScheduled=!1,ce.emit("resume"),de(ce),ge.flowing&&!ge.reading&&ce.read(0)}function de(ce){var ge=ce._readableState;for(O("flow",ge.flowing);ge.flowing&&null!==ce.read(););}function te(ce,ge){return 0===ge.length?null:(ge.objectMode?rt=ge.buffer.shift():!ce||ce>=ge.length?(rt=ge.decoder?ge.buffer.join(""):1===ge.buffer.length?ge.buffer.first():ge.buffer.concat(ge.length),ge.buffer.clear()):rt=ge.buffer.consume(ce,ge.decoder),rt);var rt}function se(ce){var ge=ce._readableState;O("endReadable",ge.endEmitted),ge.endEmitted||(ge.ended=!0,process.nextTick(Pe,ge,ce))}function Pe(ce,ge){if(O("endReadableNT",ce.endEmitted,ce.length),!ce.endEmitted&&0===ce.length&&(ce.endEmitted=!0,ge.readable=!1,ge.emit("end"),ce.autoDestroy)){var rt=ge._writableState;(!rt||rt.autoDestroy&&rt.finished)&&ge.destroy()}}function Le(ce,ge){for(var rt=0,_e=ce.length;rt<_e;rt++)if(ce[rt]===ge)return rt;return-1}_.prototype.read=function(ce){O("read",ce),ce=parseInt(ce,10);var ge=this._readableState,rt=ce;if(0!==ce&&(ge.emittedReadable=!1),0===ce&&ge.needReadable&&((0!==ge.highWaterMark?ge.length>=ge.highWaterMark:ge.length>0)||ge.ended))return O("read: emitReadable",ge.length,ge.ended),0===ge.length&&ge.ended?se(this):ze(this),null;if(0===(ce=Ve(ce,ge))&&ge.ended)return 0===ge.length&&se(this),null;var X,_e=ge.needReadable;return O("need readable",_e),(0===ge.length||ge.length-ce<ge.highWaterMark)&&O("length less than watermark",_e=!0),ge.ended||ge.reading?O("reading or ended",_e=!1):_e&&(O("do read"),ge.reading=!0,ge.sync=!0,0===ge.length&&(ge.needReadable=!0),this._read(ge.highWaterMark),ge.sync=!1,ge.reading||(ce=Ve(rt,ge))),null===(X=ce>0?te(ce,ge):null)?(ge.needReadable=ge.length<=ge.highWaterMark,ce=0):(ge.length-=ce,ge.awaitDrain=0),0===ge.length&&(ge.ended||(ge.needReadable=!0),rt!==ce&&ge.ended&&se(this)),null!==X&&this.emit("data",X),X},_.prototype._read=function(ce){be(this,new L("_read()"))},_.prototype.pipe=function(ce,ge){var rt=this,_e=this._readableState;switch(_e.pipesCount){case 0:_e.pipes=ce;break;case 1:_e.pipes=[_e.pipes,ce];break;default:_e.pipes.push(ce)}_e.pipesCount+=1,O("pipe count=%d opts=%j",_e.pipesCount,ge);var V=ge&&!1===ge.end||ce===process.stdout||ce===process.stderr?xe:me;function me(){O("onend"),ce.end()}_e.endEmitted?process.nextTick(V):rt.once("end",V),ce.on("unpipe",function Q(xn,Gt){O("onunpipe"),xn===rt&&Gt&&!1===Gt.hasUnpiped&&(Gt.hasUnpiped=!0,function et(){O("cleanup"),ce.removeListener("close",kt),ce.removeListener("finish",Jt),ce.removeListener("drain",Fe),ce.removeListener("error",xt),ce.removeListener("unpipe",Q),rt.removeListener("end",me),rt.removeListener("end",xe),rt.removeListener("data",vt),He=!0,_e.awaitDrain&&(!ce._writableState||ce._writableState.needDrain)&&Fe()}())});var Fe=function Ze(ce){return function(){var rt=ce._readableState;O("pipeOnDrain",rt.awaitDrain),rt.awaitDrain&&rt.awaitDrain--,0===rt.awaitDrain&&x(ce,"data")&&(rt.flowing=!0,de(ce))}}(rt);ce.on("drain",Fe);var He=!1;function vt(xn){O("ondata");var Gt=ce.write(xn);O("dest.write",Gt),!1===Gt&&((1===_e.pipesCount&&_e.pipes===ce||_e.pipesCount>1&&-1!==Le(_e.pipes,ce))&&!He&&(O("false write response, pause",_e.awaitDrain),_e.awaitDrain++),rt.pause())}function xt(xn){O("onerror",xn),xe(),ce.removeListener("error",xt),0===x(ce,"error")&&be(ce,xn)}function kt(){ce.removeListener("finish",Jt),xe()}function Jt(){O("onfinish"),ce.removeListener("close",kt),xe()}function xe(){O("unpipe"),rt.unpipe(ce)}return rt.on("data",vt),function y(ce,ge,rt){if("function"==typeof ce.prependListener)return ce.prependListener(ge,rt);ce._events&&ce._events[ge]?Array.isArray(ce._events[ge])?ce._events[ge].unshift(rt):ce._events[ge]=[rt,ce._events[ge]]:ce.on(ge,rt)}(ce,"error",xt),ce.once("close",kt),ce.once("finish",Jt),ce.emit("pipe",rt),_e.flowing||(O("pipe resume"),rt.resume()),ce},_.prototype.unpipe=function(ce){var ge=this._readableState,rt={hasUnpiped:!1};if(0===ge.pipesCount)return this;if(1===ge.pipesCount)return ce&&ce!==ge.pipes||(ce||(ce=ge.pipes),ge.pipes=null,ge.pipesCount=0,ge.flowing=!1,ce&&ce.emit("unpipe",this,rt)),this;if(!ce){var _e=ge.pipes,X=ge.pipesCount;ge.pipes=null,ge.pipesCount=0,ge.flowing=!1;for(var V=0;V<X;V++)_e[V].emit("unpipe",this,{hasUnpiped:!1});return this}var Q=Le(ge.pipes,ce);return-1===Q||(ge.pipes.splice(Q,1),ge.pipesCount-=1,1===ge.pipesCount&&(ge.pipes=ge.pipes[0]),ce.emit("unpipe",this,rt)),this},_.prototype.addListener=_.prototype.on=function(ce,ge){var rt=F.prototype.on.call(this,ce,ge),_e=this._readableState;return"data"===ce?(_e.readableListening=this.listenerCount("readable")>0,!1!==_e.flowing&&this.resume()):"readable"===ce&&!_e.endEmitted&&!_e.readableListening&&(_e.readableListening=_e.needReadable=!0,_e.flowing=!1,_e.emittedReadable=!1,O("on readable",_e.length,_e.reading),_e.length?ze(this):_e.reading||process.nextTick(nt,this)),rt},_.prototype.removeListener=function(ce,ge){var rt=F.prototype.removeListener.call(this,ce,ge);return"readable"===ce&&process.nextTick(ft,this),rt},_.prototype.removeAllListeners=function(ce){var ge=F.prototype.removeAllListeners.apply(this,arguments);return("readable"===ce||void 0===ce)&&process.nextTick(ft,this),ge},_.prototype.resume=function(){var ce=this._readableState;return ce.flowing||(O("resume"),ce.flowing=!ce.readableListening,function Be(ce,ge){ge.resumeScheduled||(ge.resumeScheduled=!0,process.nextTick(it,ce,ge))}(this,ce)),ce.paused=!1,this},_.prototype.pause=function(){return O("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(O("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},_.prototype.wrap=function(ce){var ge=this,rt=this._readableState,_e=!1;for(var X in ce.on("end",function(){if(O("wrapped end"),rt.decoder&&!rt.ended){var Q=rt.decoder.end();Q&&Q.length&&ge.push(Q)}ge.push(null)}),ce.on("data",function(Q){O("wrapped data"),rt.decoder&&(Q=rt.decoder.write(Q)),rt.objectMode&&null==Q||!(rt.objectMode||Q&&Q.length)||ge.push(Q)||(_e=!0,ce.pause())}),ce)void 0===this[X]&&"function"==typeof ce[X]&&(this[X]=function(me){return function(){return ce[me].apply(ce,arguments)}}(X));for(var V=0;V<pe.length;V++)ce.on(pe[V],this.emit.bind(this,pe[V]));return this._read=function(Q){O("wrapped _read",Q),_e&&(_e=!1,ce.resume())},this},"function"==typeof Symbol&&(_.prototype[Symbol.asyncIterator]=function(){return void 0===ee&&(ee=S(2325)),ee(this)}),Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(_.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(_.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ge){this._readableState&&(this._readableState.flowing=ge)}}),_._fromList=te,Object.defineProperty(_.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(_.from=function(ce,ge){return void 0===ye&&(ye=S(6757)),ye(_,ce,ge)})},8157:(we,R,S)=>{we.exports=g;var P=S(7446).q,a=P.ERR_METHOD_NOT_IMPLEMENTED,x=P.ERR_MULTIPLE_CALLBACK,F=P.ERR_TRANSFORM_ALREADY_TRANSFORMING,j=P.ERR_TRANSFORM_WITH_LENGTH_0,d=S(9800);function h(B,H){var $=this._transformState;$.transforming=!1;var K=$.writecb;if(null===K)return this.emit("error",new x);$.writechunk=null,$.writecb=null,null!=H&&this.push(H),K(B);var G=this._readableState;G.reading=!1,(G.needReadable||G.length<G.highWaterMark)&&this._read(G.highWaterMark)}function g(B){if(!(this instanceof g))return new g(B);d.call(this,B),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,B&&("function"==typeof B.transform&&(this._transform=B.transform),"function"==typeof B.flush&&(this._flush=B.flush)),this.on("prefinish",N)}function N(){var B=this;"function"!=typeof this._flush||this._readableState.destroyed?O(this,null,null):this._flush(function(H,$){O(B,H,$)})}function O(B,H,$){if(H)return B.emit("error",H);if(null!=$&&B.push($),B._writableState.length)throw new j;if(B._transformState.transforming)throw new F;return B.push(null)}S(5035)(g,d),g.prototype.push=function(B,H){return this._transformState.needTransform=!1,d.prototype.push.call(this,B,H)},g.prototype._transform=function(B,H,$){$(new a("_transform()"))},g.prototype._write=function(B,H,$){var K=this._transformState;if(K.writecb=$,K.writechunk=B,K.writeencoding=H,!K.transforming){var G=this._readableState;(K.needTransform||G.needReadable||G.length<G.highWaterMark)&&this._read(G.highWaterMark)}},g.prototype._read=function(B){var H=this._transformState;null===H.writechunk||H.transforming?H.needTransform=!0:(H.transforming=!0,this._transform(H.writechunk,H.writeencoding,H.afterTransform))},g.prototype._destroy=function(B,H){d.prototype._destroy.call(this,B,function($){H($)})}},1120:(we,R,S)=>{function a(de){var te=this;this.next=null,this.entry=null,this.finish=function(){!function it(de,te,se){var Pe=de.entry;for(de.entry=null;Pe;){var Le=Pe.callback;te.pendingcb--,Le(se),Pe=Pe.next}te.corkedRequestsFree.next=de}(te,de)}}var x;we.exports=A,A.WritableState=pe;var y,F={deprecate:S(8059)},j=S(8431),d=S(3195).Buffer,h=global.Uint8Array||function(){},O=S(5923),H=S(1561).getHighWaterMark,$=S(7446).q,K=$.ERR_INVALID_ARG_TYPE,G=$.ERR_METHOD_NOT_IMPLEMENTED,W=$.ERR_MULTIPLE_CALLBACK,le=$.ERR_STREAM_CANNOT_PIPE,L=$.ERR_STREAM_DESTROYED,U=$.ERR_STREAM_NULL_VALUES,z=$.ERR_STREAM_WRITE_AFTER_END,ee=$.ERR_UNKNOWN_ENCODING,ye=O.errorOrDestroy;function be(){}function pe(de,te,se){x=x||S(9800),"boolean"!=typeof se&&(se=te instanceof x),this.objectMode=!!(de=de||{}).objectMode,se&&(this.objectMode=this.objectMode||!!de.writableObjectMode),this.highWaterMark=H(this,de,"writableHighWaterMark",se),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===de.decodeStrings),this.defaultEncoding=de.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Le){!function ae(de,te){var se=de._writableState,Pe=se.sync,Le=se.writecb;if("function"!=typeof Le)throw new W;if(function Ve(de){de.writing=!1,de.writecb=null,de.length-=de.writelen,de.writelen=0}(se),te)!function fe(de,te,se,Pe,Le){--te.pendingcb,se?(process.nextTick(Le,Pe),process.nextTick(nt,de,te),de._writableState.errorEmitted=!0,ye(de,Pe)):(Le(Pe),de._writableState.errorEmitted=!0,ye(de,Pe),nt(de,te))}(de,se,Pe,te,Le);else{var ce=Ye(se)||de.destroyed;!ce&&!se.corked&&!se.bufferProcessing&&se.bufferedRequest&&Ne(de,se),Pe?process.nextTick(ze,de,se,ce,Le):ze(de,se,ce,Le)}}(te,Le)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==de.emitClose,this.autoDestroy=!!de.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function A(de){var te=this instanceof(x=x||S(9800));if(!te&&!y.call(A,this))return new A(de);this._writableState=new pe(de,this,te),this.writable=!0,de&&("function"==typeof de.write&&(this._write=de.write),"function"==typeof de.writev&&(this._writev=de.writev),"function"==typeof de.destroy&&(this._destroy=de.destroy),"function"==typeof de.final&&(this._final=de.final)),j.call(this)}function ne(de,te,se,Pe,Le,ce,ge){te.writelen=Pe,te.writecb=ge,te.writing=!0,te.sync=!0,te.destroyed?te.onwrite(new L("write")):se?de._writev(Le,te.onwrite):de._write(Le,ce,te.onwrite),te.sync=!1}function ze(de,te,se,Pe){se||function ot(de,te){0===te.length&&te.needDrain&&(te.needDrain=!1,de.emit("drain"))}(de,te),te.pendingcb--,Pe(),nt(de,te)}function Ne(de,te){te.bufferProcessing=!0;var se=te.bufferedRequest;if(de._writev&&se&&se.next){var Le=new Array(te.bufferedRequestCount),ce=te.corkedRequestsFree;ce.entry=se;for(var ge=0,rt=!0;se;)Le[ge]=se,se.isBuf||(rt=!1),se=se.next,ge+=1;Le.allBuffers=rt,ne(de,te,!0,te.length,Le,"",ce.finish),te.pendingcb++,te.lastBufferedRequest=null,ce.next?(te.corkedRequestsFree=ce.next,ce.next=null):te.corkedRequestsFree=new a(te),te.bufferedRequestCount=0}else{for(;se;){var _e=se.chunk;if(ne(de,te,!1,te.objectMode?1:_e.length,_e,se.encoding,se.callback),se=se.next,te.bufferedRequestCount--,te.writing)break}null===se&&(te.lastBufferedRequest=null)}te.bufferedRequest=se,te.bufferProcessing=!1}function Ye(de){return de.ending&&0===de.length&&null===de.bufferedRequest&&!de.finished&&!de.writing}function Ze(de,te){de._final(function(se){te.pendingcb--,se&&ye(de,se),te.prefinished=!0,de.emit("prefinish"),nt(de,te)})}function nt(de,te){var se=Ye(te);if(se&&(function ft(de,te){!te.prefinished&&!te.finalCalled&&("function"!=typeof de._final||te.destroyed?(te.prefinished=!0,de.emit("prefinish")):(te.pendingcb++,te.finalCalled=!0,process.nextTick(Ze,de,te)))}(de,te),0===te.pendingcb&&(te.finished=!0,de.emit("finish"),te.autoDestroy))){var Pe=de._readableState;(!Pe||Pe.autoDestroy&&Pe.endEmitted)&&de.destroy()}return se}S(5035)(A,j),pe.prototype.getBuffer=function(){for(var te=this.bufferedRequest,se=[];te;)se.push(te),te=te.next;return se},function(){try{Object.defineProperty(pe.prototype,"buffer",{get:F.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(y=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(te){return!!y.call(this,te)||this===A&&te&&te._writableState instanceof pe}})):y=function(te){return te instanceof this},A.prototype.pipe=function(){ye(this,new le)},A.prototype.write=function(de,te,se){var Pe=this._writableState,Le=!1,ce=!Pe.objectMode&&function N(de){return d.isBuffer(de)||de instanceof h}(de);return ce&&!d.isBuffer(de)&&(de=function g(de){return d.from(de)}(de)),"function"==typeof te&&(se=te,te=null),ce?te="buffer":te||(te=Pe.defaultEncoding),"function"!=typeof se&&(se=be),Pe.ending?function _(de,te){var se=new z;ye(de,se),process.nextTick(te,se)}(this,se):(ce||function E(de,te,se,Pe){var Le;return null===se?Le=new U:"string"!=typeof se&&!te.objectMode&&(Le=new K("chunk",["string","Buffer"],se)),!Le||(ye(de,Le),process.nextTick(Pe,Le),!1)}(this,Pe,de,se))&&(Pe.pendingcb++,Le=function I(de,te,se,Pe,Le,ce){if(!se){var ge=function M(de,te,se){return!de.objectMode&&!1!==de.decodeStrings&&"string"==typeof te&&(te=d.from(te,se)),te}(te,Pe,Le);Pe!==ge&&(se=!0,Le="buffer",Pe=ge)}var rt=te.objectMode?1:Pe.length;te.length+=rt;var _e=te.length<te.highWaterMark;if(_e||(te.needDrain=!0),te.writing||te.corked){var X=te.lastBufferedRequest;te.lastBufferedRequest={chunk:Pe,encoding:Le,isBuf:se,callback:ce,next:null},X?X.next=te.lastBufferedRequest:te.bufferedRequest=te.lastBufferedRequest,te.bufferedRequestCount+=1}else ne(de,te,!1,rt,Pe,Le,ce);return _e}(this,Pe,ce,de,te,se)),Le},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var de=this._writableState;de.corked&&(de.corked--,!de.writing&&!de.corked&&!de.bufferProcessing&&de.bufferedRequest&&Ne(this,de))},A.prototype.setDefaultEncoding=function(te){if("string"==typeof te&&(te=te.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((te+"").toLowerCase())>-1))throw new ee(te);return this._writableState.defaultEncoding=te,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(de,te,se){se(new G("_write()"))},A.prototype._writev=null,A.prototype.end=function(de,te,se){var Pe=this._writableState;return"function"==typeof de?(se=de,de=null,te=null):"function"==typeof te&&(se=te,te=null),null!=de&&this.write(de,te),Pe.corked&&(Pe.corked=1,this.uncork()),Pe.ending||function Be(de,te,se){te.ending=!0,nt(de,te),se&&(te.finished?process.nextTick(se):de.once("finish",se)),te.ended=!0,de.writable=!1}(this,Pe,se),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(te){!this._writableState||(this._writableState.destroyed=te)}}),A.prototype.destroy=O.destroy,A.prototype._undestroy=O.undestroy,A.prototype._destroy=function(de,te){te(de)}},2325:(we,R,S)=>{var P;function a(L,U,z){return U in L?Object.defineProperty(L,U,{value:z,enumerable:!0,configurable:!0,writable:!0}):L[U]=z,L}var x=S(7722),F=Symbol("lastResolve"),j=Symbol("lastReject"),d=Symbol("error"),h=Symbol("ended"),g=Symbol("lastPromise"),N=Symbol("handlePromise"),O=Symbol("stream");function B(L,U){return{value:L,done:U}}function H(L){var U=L[F];if(null!==U){var z=L[O].read();null!==z&&(L[g]=null,L[F]=null,L[j]=null,U(B(z,!1)))}}function $(L){process.nextTick(H,L)}var G=Object.getPrototypeOf(function(){}),W=Object.setPrototypeOf((a(P={get stream(){return this[O]},next:function(){var U=this,z=this[d];if(null!==z)return Promise.reject(z);if(this[h])return Promise.resolve(B(void 0,!0));if(this[O].destroyed)return new Promise(function(pe,y){process.nextTick(function(){U[d]?y(U[d]):pe(B(void 0,!0))})});var ye,ee=this[g];if(ee)ye=new Promise(function K(L,U){return function(z,ee){L.then(function(){U[h]?z(B(void 0,!0)):U[N](z,ee)},ee)}}(ee,this));else{var be=this[O].read();if(null!==be)return Promise.resolve(B(be,!1));ye=new Promise(this[N])}return this[g]=ye,ye}},Symbol.asyncIterator,function(){return this}),a(P,"return",function(){var U=this;return new Promise(function(z,ee){U[O].destroy(null,function(ye){ye?ee(ye):z(B(void 0,!0))})})}),P),G);we.exports=function(U){var z,ee=Object.create(W,(a(z={},O,{value:U,writable:!0}),a(z,F,{value:null,writable:!0}),a(z,j,{value:null,writable:!0}),a(z,d,{value:null,writable:!0}),a(z,h,{value:U._readableState.endEmitted,writable:!0}),a(z,N,{value:function(be,pe){var y=ee[O].read();y?(ee[g]=null,ee[F]=null,ee[j]=null,be(B(y,!1))):(ee[F]=be,ee[j]=pe)},writable:!0}),z));return ee[g]=null,x(U,function(ye){if(ye&&"ERR_STREAM_PREMATURE_CLOSE"!==ye.code){var be=ee[j];return null!==be&&(ee[g]=null,ee[F]=null,ee[j]=null,be(ye)),void(ee[d]=ye)}var pe=ee[F];null!==pe&&(ee[g]=null,ee[F]=null,ee[j]=null,pe(B(void 0,!0))),ee[h]=!0}),U.on("readable",$.bind(null,ee)),ee}},350:(we,R,S)=>{function P($,K){var G=Object.keys($);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols($);K&&(W=W.filter(function(le){return Object.getOwnPropertyDescriptor($,le).enumerable})),G.push.apply(G,W)}return G}function x($,K,G){return K in $?Object.defineProperty($,K,{value:G,enumerable:!0,configurable:!0,writable:!0}):$[K]=G,$}function j($,K){for(var G=0;G<K.length;G++){var W=K[G];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty($,W.key,W)}}var g=S(3195).Buffer,O=S(2361).inspect,B=O&&O.custom||"inspect";function H($,K,G){g.prototype.copy.call($,K,G)}we.exports=function(){function $(){(function F($,K){if(!($ instanceof K))throw new TypeError("Cannot call a class as a function")})(this,$),this.head=null,this.tail=null,this.length=0}return function d($,K,G){K&&j($.prototype,K),G&&j($,G)}($,[{key:"push",value:function(G){var W={data:G,next:null};this.length>0?this.tail.next=W:this.head=W,this.tail=W,++this.length}},{key:"unshift",value:function(G){var W={data:G,next:this.head};0===this.length&&(this.tail=W),this.head=W,++this.length}},{key:"shift",value:function(){if(0!==this.length){var G=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,G}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(G){if(0===this.length)return"";for(var W=this.head,le=""+W.data;W=W.next;)le+=G+W.data;return le}},{key:"concat",value:function(G){if(0===this.length)return g.alloc(0);for(var W=g.allocUnsafe(G>>>0),le=this.head,L=0;le;)H(le.data,W,L),L+=le.data.length,le=le.next;return W}},{key:"consume",value:function(G,W){var le;return G<this.head.data.length?(le=this.head.data.slice(0,G),this.head.data=this.head.data.slice(G)):le=G===this.head.data.length?this.shift():W?this._getString(G):this._getBuffer(G),le}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(G){var W=this.head,le=1,L=W.data;for(G-=L.length;W=W.next;){var U=W.data,z=G>U.length?U.length:G;if(L+=z===U.length?U:U.slice(0,G),0==(G-=z)){z===U.length?(++le,this.head=W.next?W.next:this.tail=null):(this.head=W,W.data=U.slice(z));break}++le}return this.length-=le,L}},{key:"_getBuffer",value:function(G){var W=g.allocUnsafe(G),le=this.head,L=1;for(le.data.copy(W),G-=le.data.length;le=le.next;){var U=le.data,z=G>U.length?U.length:G;if(U.copy(W,W.length-G,0,z),0==(G-=z)){z===U.length?(++L,this.head=le.next?le.next:this.tail=null):(this.head=le,le.data=U.slice(z));break}++L}return this.length-=L,W}},{key:B,value:function(G,W){return O(this,function a($){for(var K=1;K<arguments.length;K++){var G=null!=arguments[K]?arguments[K]:{};K%2?P(Object(G),!0).forEach(function(W){x($,W,G[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(G)):P(Object(G)).forEach(function(W){Object.defineProperty($,W,Object.getOwnPropertyDescriptor(G,W))})}return $}({},W,{depth:0,customInspect:!1}))}}]),$}()},5923:we=>{function S(j,d){x(j,d),P(j)}function P(j){j._writableState&&!j._writableState.emitClose||j._readableState&&!j._readableState.emitClose||j.emit("close")}function x(j,d){j.emit("error",d)}we.exports={destroy:function R(j,d){var h=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(d?d(j):j&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(x,this,j)):process.nextTick(x,this,j)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(j||null,function(O){!d&&O?h._writableState?h._writableState.errorEmitted?process.nextTick(P,h):(h._writableState.errorEmitted=!0,process.nextTick(S,h,O)):process.nextTick(S,h,O):d?(process.nextTick(P,h),d(O)):process.nextTick(P,h)}),this)},undestroy:function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function F(j,d){var h=j._readableState,g=j._writableState;h&&h.autoDestroy||g&&g.autoDestroy?j.destroy(d):j.emit("error",d)}}},7722:(we,R,S)=>{var P=S(7446).q.ERR_STREAM_PREMATURE_CLOSE;function x(){}we.exports=function j(d,h,g){if("function"==typeof h)return j(d,null,h);h||(h={}),g=function a(d){var h=!1;return function(){if(!h){h=!0;for(var g=arguments.length,N=new Array(g),O=0;O<g;O++)N[O]=arguments[O];d.apply(this,N)}}}(g||x);var N=h.readable||!1!==h.readable&&d.readable,O=h.writable||!1!==h.writable&&d.writable,B=function(){d.writable||$()},H=d._writableState&&d._writableState.finished,$=function(){O=!1,H=!0,N||g.call(d)},K=d._readableState&&d._readableState.endEmitted,G=function(){N=!1,K=!0,O||g.call(d)},W=function(z){g.call(d,z)},le=function(){var z;return N&&!K?((!d._readableState||!d._readableState.ended)&&(z=new P),g.call(d,z)):O&&!H?((!d._writableState||!d._writableState.ended)&&(z=new P),g.call(d,z)):void 0},L=function(){d.req.on("finish",$)};return function F(d){return d.setHeader&&"function"==typeof d.abort}(d)?(d.on("complete",$),d.on("abort",le),d.req?L():d.on("request",L)):O&&!d._writableState&&(d.on("end",B),d.on("close",B)),d.on("end",G),d.on("finish",$),!1!==h.error&&d.on("error",W),d.on("close",le),function(){d.removeListener("complete",$),d.removeListener("abort",le),d.removeListener("request",L),d.req&&d.req.removeListener("finish",$),d.removeListener("end",B),d.removeListener("close",B),d.removeListener("finish",$),d.removeListener("end",G),d.removeListener("error",W),d.removeListener("close",le)}}},6757:we=>{we.exports=function(){throw new Error("Readable.from is not available in the browser")}},8096:(we,R,S)=>{var P,x=S(7446).q,F=x.ERR_MISSING_ARGS,j=x.ERR_STREAM_DESTROYED;function d($){if($)throw $}function g($,K,G,W){W=function a($){var K=!1;return function(){K||(K=!0,$.apply(void 0,arguments))}}(W);var le=!1;$.on("close",function(){le=!0}),void 0===P&&(P=S(7722)),P($,{readable:K,writable:G},function(U){if(U)return W(U);le=!0,W()});var L=!1;return function(U){if(!le&&!L){if(L=!0,function h($){return $.setHeader&&"function"==typeof $.abort}($))return $.abort();if("function"==typeof $.destroy)return $.destroy();W(U||new j("pipe"))}}}function N($){$()}function O($,K){return $.pipe(K)}function B($){return $.length&&"function"==typeof $[$.length-1]?$.pop():d}we.exports=function H(){for(var $=arguments.length,K=new Array($),G=0;G<$;G++)K[G]=arguments[G];var W=B(K);if(Array.isArray(K[0])&&(K=K[0]),K.length<2)throw new F("streams");var le,L=K.map(function(U,z){var ee=z<K.length-1;return g(U,ee,z>0,function(be){le||(le=be),be&&L.forEach(N),!ee&&(L.forEach(N),W(le))})});return K.reduce(O)}},1561:(we,R,S)=>{var P=S(7446).q.ERR_INVALID_OPT_VALUE;we.exports={getHighWaterMark:function x(F,j,d,h){var g=function a(F,j,d){return null!=F.highWaterMark?F.highWaterMark:j?F[d]:null}(j,h,d);if(null!=g){if(!isFinite(g)||Math.floor(g)!==g||g<0)throw new P(h?d:"highWaterMark",g);return Math.floor(g)}return F.objectMode?16:16384}}},8431:(we,R,S)=>{we.exports=S(3358).EventEmitter},8055:function(we){"undefined"!=typeof self&&self,we.exports=function(R){var S={};function P(a){if(S[a])return S[a].exports;var x=S[a]={i:a,l:!1,exports:{}};return R[a].call(x.exports,x,x.exports,P),x.l=!0,x.exports}return P.m=R,P.c=S,P.d=function(a,x,F){P.o(a,x)||Object.defineProperty(a,x,{enumerable:!0,get:F})},P.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},P.t=function(a,x){if(1&x&&(a=P(a)),8&x||4&x&&"object"==typeof a&&a&&a.__esModule)return a;var F=Object.create(null);if(P.r(F),Object.defineProperty(F,"default",{enumerable:!0,value:a}),2&x&&"string"!=typeof a)for(var j in a)P.d(F,j,function(d){return a[d]}.bind(null,j));return F},P.n=function(a){var x=a&&a.__esModule?function(){return a.default}:function(){return a};return P.d(x,"a",x),x},P.o=function(a,x){return Object.prototype.hasOwnProperty.call(a,x)},P.p="",P(P.s=0)}([function(R,S,P){const{types:a,iterableTypes:x,errors:F}=P(1),j=P(2),d={[a.NUMBER]:j.isNumber,[a.BOOLEAN]:j.isBoolean,[a.STRING]:j.isString,[a.DATE]:j.isDate,[a.UNDEFINED]:j.isUndefined,[a.NULL]:j.isNull,[a.ARRAY]:j.isArray,[a.MAP]:j.isMap,[a.SET]:j.isSet,[a.ITERABLE_OBJECT]:j.isIterableObject},h={[a.DATE]:j.areDatesEqual};function g($){const K=Object.keys(d);let G=a.DEFAULT;for(let W=0;W<K.length;W+=1)if(d[K[W]]($)){G=K[W];break}return G}function O($,K,G,W,le){const L={op:G,path:W};return"add"!==G&&"update"!==G||(L.val=K),le&&"add"!==G&&(L.oldVal=$),L}function B($,K,G,W,le){const L=g($),U=g(K),z=W||[],ee=le||[];if((ye=L)===U&&x.indexOf(ye)>=0){const ye=function(y,A,_){if(_===a.ARRAY){const E=new Array(y.length>A.length?y.length:A.length);return E.fill(0),new Set(E.map((M,I)=>I))}return new Set(Object.keys(y).concat(Object.keys(A)))}($,K,L).values();let{value:be,done:pe}=ye.next();for(;!pe;){Object.prototype.hasOwnProperty.call($,be)?Object.prototype.hasOwnProperty.call(K,be)?B($[be],K[be],G,z.concat(be),ee):ee.push(O($[be],K[be],"delete",z.concat(be),G)):ee.push(O($[be],K[be],"add",z.concat(be),G));const y=ye.next();be=y.value,pe=y.done}}else{const ye=function N($,K,G,W){let le;return G===a.UNDEFINED&&W!==a.UNDEFINED?le="add":G!==a.UNDEFINED&&W===a.UNDEFINED?le="delete":(L=$,U=K,(z=G)===W&&(h[z]?h[z](L,U):L===U)?j.noop():le="update"),le;var L,U,z}($,K,L,U);null!=ye&&ee.push(O($,K,ye,W,G))}var ye;return ee}const H={add:j.setValueByPath,update:j.setValueByPath,delete:j.deleteValueByPath};R.exports={getDiff:($,K,G=!1)=>B($,K,G),applyDiff:($,K,G)=>function(W,le,L){if(!(le instanceof Array))throw new Error(F.INVALID_DIFF_FORMAT);let U=W;return le.forEach(z=>{const{op:ee,val:ye,path:be}=z;if(!H[ee])throw new Error(F.INVALID_DIFF_OP);U=H[ee](U,be,ye,L)}),U}($,K,G)}},function(R,S){const P={NUMBER:"NUMBER",BOOLEAN:"BOOLEAN",STRING:"STRING",NULL:"NULL",UNDEFINED:"UNDEFINED",DATE:"DATE",ARRAY:"ARRAY",MAP:"MAP",SET:"SET",ITERABLE_OBJECT:"ITERABLE_OBJECT",DEFAULT:"OBJECT"};R.exports={types:P,iterableTypes:[P.ITERABLE_OBJECT,P.MAP,P.ARRAY,P.SET],errors:{EMPTY_DIFF:"No diff object is provided, Nothing to apply",INVALID_DIFF_FORMAT:"Invalid diff format",INVALID_DIFF_OP:"Unsupported operation provided into diff object"}}},function(R,S){const P=h=>g=>g instanceof h,a=P(Date),x=P(Array),F=P(Map),j=P(Set),d=h=>"[object Object]"===Object.prototype.toString.call(h);R.exports={isNumber:h=>"number"==typeof h,isBoolean:h=>"boolean"==typeof h,isString:h=>"string"==typeof h,isDate:a,isUndefined:h=>void 0===h,isNull:h=>null===h,isArray:x,isMap:F,isSet:j,isIterableObject:d,noop:()=>{},areDatesEqual:(h,g)=>h.getTime()===g.getTime(),setValueByPath:function(h,g=[],N,O){if(!x(g))throw new Error(`Diff path: "${g}" is not valid`);const{length:B}=g;if(0===B)return N;let H=h;for(let $=0;$<B;$+=1){const K=g[$];if(!H)throw new Error(`Invalid path: "${g}" for object: ${JSON.stringify(h,null,2)}`);if(null==K)throw new Error(`Invalid path: "${g}" for object: ${JSON.stringify(h,null,2)}`);$!==B-1?(H=H[K],O&&O(H)):H[K]=N}return h},deleteValueByPath:function(h,g){const N=g||[];if(0===N.length)return;let O=h;const{length:B}=N;for(let H=0;H<B;H+=1)if(H!==B-1){if(!O[N[H]])throw new Error(`Invalid path: "${g}" for object: ${JSON.stringify(h,null,2)}`);O=O[N[H]]}else if(d(O))delete O[N[H]];else{const $=parseInt(N[H],10);for(;O.length>$;)O.pop()}return h}}}])},6362:(we,R,S)=>{S.d(R,{b:()=>x});var P=S(9525),a=S(2971);function x(F,j){return(0,a.m)(j)?(0,P.z)(F,j,1):(0,P.z)(F,1)}},7580:(we,R,S)=>{S.d(R,{V:()=>N});var P=S(6936),a=S(7885),x=S(1944),F=S(4987),j=S(7543),d=S(3945),h=S(1817);const g=(0,j.d)(B=>function($=null){B(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=$});function N(B,H){const{first:$,each:K,with:G=O,scheduler:W=H??P.z,meta:le=null}=(0,a.q)(B)?{first:B}:"number"==typeof B?{each:B}:B;if(null==$&&null==K)throw new TypeError("No timeout provided.");return(0,x.e)((L,U)=>{let z,ee,ye=null,be=0;const pe=y=>{ee=(0,h.f)(U,W,()=>{try{z.unsubscribe(),(0,F.Xf)(G({meta:le,lastValue:ye,seen:be})).subscribe(U)}catch(A){U.error(A)}},y)};z=L.subscribe((0,d.x)(U,y=>{null==ee||ee.unsubscribe(),be++,U.next(ye=y),K>0&&pe(K)},void 0,void 0,()=>{(null==ee?void 0:ee.closed)||null==ee||ee.unsubscribe(),ye=null})),!be&&pe(null!=$?"number"==typeof $?$:+$-W.now():K)})}function O(B){throw new g(B)}},538:(we,R,S)=>{S.d(R,{M:()=>h});var P=S(1944),a=S(3945),x=S(4987),F=S(9173),j=S(9635),d=S(420);function h(...g){const N=(0,d.jO)(g);return(0,P.e)((O,B)=>{const H=g.length,$=new Array(H);let K=g.map(()=>!1),G=!1;for(let W=0;W<H;W++)(0,x.Xf)(g[W]).subscribe((0,a.x)(B,le=>{$[W]=le,!G&&!K[W]&&(K[W]=!0,(G=K.every(F.y))&&(K=null))},j.Z));O.subscribe((0,a.x)(B,W=>{if(G){const le=[W,...$];B.next(N?N(...le):le)}}))})}},4915:(we,R,S)=>{S.d(R,{N:()=>j});var P=S(5417),x=S(1010);const j=new class F extends x.v{}(class a extends P.o{constructor(g,N){super(g,N),this.scheduler=g,this.work=N}schedule(g,N=0){return N>0?super.schedule(g,N):(this.delay=N,this.state=g,this.scheduler.flush(this),this)}execute(g,N){return N>0||this.closed?super.execute(g,N):this._execute(g,N)}requestAsyncId(g,N,O=0){return null!=O&&O>0||null==O&&this.delay>0?super.requestAsyncId(g,N,O):g.flush(this)}})},9708:(we,R,S)=>{var P=S(3195),a=P.Buffer;function x(j,d){for(var h in j)d[h]=j[h]}function F(j,d,h){return a(j,d,h)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?we.exports=P:(x(P,R),R.Buffer=F),F.prototype=Object.create(a.prototype),x(a,F),F.from=function(j,d,h){if("number"==typeof j)throw new TypeError("Argument must not be a number");return a(j,d,h)},F.alloc=function(j,d,h){if("number"!=typeof j)throw new TypeError("Argument must be a number");var g=a(j);return void 0!==d?"string"==typeof h?g.fill(d,h):g.fill(d):g.fill(0),g},F.allocUnsafe=function(j){if("number"!=typeof j)throw new TypeError("Argument must be a number");return a(j)},F.allocUnsafeSlow=function(j){if("number"!=typeof j)throw new TypeError("Argument must be a number");return P.SlowBuffer(j)}},3774:(we,R)=>{var S,P,a,x,F;if("undefined"==typeof window||"function"!=typeof MessageChannel){var j=null,d=null,h=function(){if(null!==j)try{var Ze=R.unstable_now();j(!0,Ze),j=null}catch(ft){throw setTimeout(h,0),ft}},g=Date.now();R.unstable_now=function(){return Date.now()-g},S=function(Ze){null!==j?setTimeout(S,0,Ze):(j=Ze,setTimeout(h,0))},P=function(Ze,ft){d=setTimeout(Ze,ft)},a=function(){clearTimeout(d)},x=function(){return!1},F=R.unstable_forceFrameRate=function(){}}else{var N=window.performance,O=window.Date,B=window.setTimeout,H=window.clearTimeout;if("undefined"!=typeof console){var $=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof $&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof N&&"function"==typeof N.now)R.unstable_now=function(){return N.now()};else{var K=O.now();R.unstable_now=function(){return O.now()-K}}var G=!1,W=null,le=-1,L=5,U=0;x=function(){return R.unstable_now()>=U},F=function(){},R.unstable_forceFrameRate=function(Ze){0>Ze||125<Ze?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):L=0<Ze?Math.floor(1e3/Ze):5};var z=new MessageChannel,ee=z.port2;z.port1.onmessage=function(){if(null!==W){var Ze=R.unstable_now();U=Ze+L;try{W(!0,Ze)?ee.postMessage(null):(G=!1,W=null)}catch(ft){throw ee.postMessage(null),ft}}else G=!1},S=function(Ze){W=Ze,G||(G=!0,ee.postMessage(null))},P=function(Ze,ft){le=B(function(){Ze(R.unstable_now())},ft)},a=function(){H(le),le=-1}}function ye(Ze,ft){var nt=Ze.length;Ze.push(ft);e:for(;;){var Be=nt-1>>>1,it=Ze[Be];if(!(void 0!==it&&0<y(it,ft)))break e;Ze[Be]=ft,Ze[nt]=it,nt=Be}}function be(Ze){return void 0===(Ze=Ze[0])?null:Ze}function pe(Ze){var ft=Ze[0];if(void 0!==ft){var nt=Ze.pop();if(nt!==ft){Ze[0]=nt;e:for(var Be=0,it=Ze.length;Be<it;){var de=2*(Be+1)-1,te=Ze[de],se=de+1,Pe=Ze[se];if(void 0!==te&&0>y(te,nt))void 0!==Pe&&0>y(Pe,te)?(Ze[Be]=Pe,Ze[se]=nt,Be=se):(Ze[Be]=te,Ze[de]=nt,Be=de);else{if(!(void 0!==Pe&&0>y(Pe,nt)))break e;Ze[Be]=Pe,Ze[se]=nt,Be=se}}}return ft}return null}function y(Ze,ft){var nt=Ze.sortIndex-ft.sortIndex;return 0!==nt?nt:Ze.id-ft.id}var A=[],_=[],E=1,M=null,I=3,ne=!1,fe=!1,Ve=!1;function ae(Ze){for(var ft=be(_);null!==ft;){if(null===ft.callback)pe(_);else{if(!(ft.startTime<=Ze))break;pe(_),ft.sortIndex=ft.expirationTime,ye(A,ft)}ft=be(_)}}function ze(Ze){if(Ve=!1,ae(Ze),!fe)if(null!==be(A))fe=!0,S(ot);else{var ft=be(_);null!==ft&&P(ze,ft.startTime-Ze)}}function ot(Ze,ft){fe=!1,Ve&&(Ve=!1,a()),ne=!0;var nt=I;try{for(ae(ft),M=be(A);null!==M&&(!(M.expirationTime>ft)||Ze&&!x());){var Be=M.callback;if(null!==Be){M.callback=null,I=M.priorityLevel;var it=Be(M.expirationTime<=ft);ft=R.unstable_now(),"function"==typeof it?M.callback=it:M===be(A)&&pe(A),ae(ft)}else pe(A);M=be(A)}if(null!==M)var de=!0;else{var te=be(_);null!==te&&P(ze,te.startTime-ft),de=!1}return de}finally{M=null,I=nt,ne=!1}}function Ne(Ze){switch(Ze){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var Ye=F;R.unstable_IdlePriority=5,R.unstable_ImmediatePriority=1,R.unstable_LowPriority=4,R.unstable_NormalPriority=3,R.unstable_Profiling=null,R.unstable_UserBlockingPriority=2,R.unstable_cancelCallback=function(Ze){Ze.callback=null},R.unstable_continueExecution=function(){fe||ne||(fe=!0,S(ot))},R.unstable_getCurrentPriorityLevel=function(){return I},R.unstable_getFirstCallbackNode=function(){return be(A)},R.unstable_next=function(Ze){switch(I){case 1:case 2:case 3:var ft=3;break;default:ft=I}var nt=I;I=ft;try{return Ze()}finally{I=nt}},R.unstable_pauseExecution=function(){},R.unstable_requestPaint=Ye,R.unstable_runWithPriority=function(Ze,ft){switch(Ze){case 1:case 2:case 3:case 4:case 5:break;default:Ze=3}var nt=I;I=Ze;try{return ft()}finally{I=nt}},R.unstable_scheduleCallback=function(Ze,ft,nt){var Be=R.unstable_now();if("object"==typeof nt&&null!==nt){var it=nt.delay;it="number"==typeof it&&0<it?Be+it:Be,nt="number"==typeof nt.timeout?nt.timeout:Ne(Ze)}else nt=Ne(Ze),it=Be;return Ze={id:E++,callback:ft,priorityLevel:Ze,startTime:it,expirationTime:nt=it+nt,sortIndex:-1},it>Be?(Ze.sortIndex=it,ye(_,Ze),null===be(A)&&Ze===be(_)&&(Ve?a():Ve=!0,P(ze,it-Be))):(Ze.sortIndex=nt,ye(A,Ze),fe||ne||(fe=!0,S(ot))),Ze},R.unstable_shouldYield=function(){var Ze=R.unstable_now();ae(Ze);var ft=be(A);return ft!==M&&null!==M&&null!==ft&&null!==ft.callback&&ft.startTime<=Ze&&ft.expirationTime<M.expirationTime||x()},R.unstable_wrapCallback=function(Ze){var ft=I;return function(){var nt=I;I=ft;try{return Ze.apply(this,arguments)}finally{I=nt}}}},5381:(we,R,S)=>{we.exports=S(3774)},7559:(we,R,S)=>{var P=S(3974),a=S(5051)("selectn"),x=S(5979),F=S(1934),j=Object.prototype.toString;we.exports=P(function d(h,g){a("arguments:",{path:h,object:g});for(var N=-1,O="[object Array]"===j.call(h)?h:F(x(h)),B=O.length,H=B?g:void 0;++N<B;){if(Object(H)!==H)return;H=H[O[N]]}return a("ref:",H),"function"==typeof H?H():H})},5051:(we,R,S)=>{function j(){var h;try{h=R.storage.debug}catch{}return!h&&"undefined"!=typeof process&&"env"in process&&(h=process.env.DEBUG),h}(R=we.exports=S(2133)).log=function x(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},R.formatArgs=function a(h){var g=this.useColors;if(h[0]=(g?"%c":"")+this.namespace+(g?" %c":" ")+h[0]+(g?"%c ":" ")+"+"+R.humanize(this.diff),g){var N="color: "+this.color;h.splice(1,0,N,"color: inherit");var O=0,B=0;h[0].replace(/%[a-zA-Z%]/g,function(H){"%%"!==H&&(O++,"%c"===H&&(B=O))}),h.splice(B,0,N)}},R.save=function F(h){try{null==h?R.storage.removeItem("debug"):R.storage.debug=h}catch{}},R.load=j,R.useColors=function P(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},R.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function d(){try{return window.localStorage}catch{}}(),R.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],R.formatters.j=function(h){try{return JSON.stringify(h)}catch(g){return"[UnexpectedJSONParseError]: "+g.message}},R.enable(j())},2133:(we,R,S)=>{var P;function x(g){function N(){if(N.enabled){var O=N,B=+new Date,H=B-(P||B);O.diff=H,O.prev=P,O.curr=B,P=B;for(var $=new Array(arguments.length),K=0;K<$.length;K++)$[K]=arguments[K];$[0]=R.coerce($[0]),"string"!=typeof $[0]&&$.unshift("%O");var G=0;$[0]=$[0].replace(/%([a-zA-Z%])/g,function(le,L){if("%%"===le)return le;G++;var U=R.formatters[L];return"function"==typeof U&&(le=U.call(O,$[G]),$.splice(G,1),G--),le}),R.formatArgs.call(O,$);var W=N.log||R.log||console.log.bind(console);W.apply(O,$)}}return N.namespace=g,N.enabled=R.enabled(g),N.useColors=R.useColors(),N.color=function a(g){var O,N=0;for(O in g)N=(N<<5)-N+g.charCodeAt(O),N|=0;return R.colors[Math.abs(N)%R.colors.length]}(g),"function"==typeof R.init&&R.init(N),N}(R=we.exports=x.debug=x.default=x).coerce=function h(g){return g instanceof Error?g.stack||g.message:g},R.disable=function j(){R.enable("")},R.enable=function F(g){R.save(g),R.names=[],R.skips=[];for(var N=("string"==typeof g?g:"").split(/[\s,]+/),O=N.length,B=0;B<O;B++)!N[B]||("-"===(g=N[B].replace(/\*/g,".*?"))[0]?R.skips.push(new RegExp("^"+g.substr(1)+"$")):R.names.push(new RegExp("^"+g+"$")))},R.enabled=function d(g){var N,O;for(N=0,O=R.skips.length;N<O;N++)if(R.skips[N].test(g))return!1;for(N=0,O=R.names.length;N<O;N++)if(R.names[N].test(g))return!0;return!1},R.humanize=S(3007),R.names=[],R.skips=[],R.formatters={}},3007:we=>{var R=1e3,S=60*R,P=60*S,a=24*P;function h(g,N,O){if(!(g<N))return g<1.5*N?Math.floor(g/N)+" "+O:Math.ceil(g/N)+" "+O+"s"}we.exports=function(g,N){N=N||{};var O=typeof g;if("string"===O&&g.length>0)return function F(g){if(!((g=String(g)).length>100)){var N=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(g);if(N){var O=parseFloat(N[1]);switch((N[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*O;case"days":case"day":case"d":return O*a;case"hours":case"hour":case"hrs":case"hr":case"h":return O*P;case"minutes":case"minute":case"mins":case"min":case"m":return O*S;case"seconds":case"second":case"secs":case"sec":case"s":return O*R;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return O;default:return}}}}(g);if("number"===O&&!1===isNaN(g))return N.long?function d(g){return h(g,a,"day")||h(g,P,"hour")||h(g,S,"minute")||h(g,R,"second")||g+" ms"}(g):function j(g){return g>=a?Math.round(g/a)+"d":g>=P?Math.round(g/P)+"h":g>=S?Math.round(g/S)+"m":g>=R?Math.round(g/R)+"s":g+"ms"}(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))}},843:we=>{function R(h){return"function"==typeof h}var S=console.error.bind(console);function P(h,g,N){var O=!!h[g]&&h.propertyIsEnumerable(g);Object.defineProperty(h,g,{configurable:!0,enumerable:O,writable:!0,value:N})}function a(h){h&&h.logger&&(R(h.logger)?S=h.logger:S("new logger isn't a function, not replacing"))}function x(h,g,N){if(h&&h[g]){if(!N)return S("no wrapper function"),void S((new Error).stack);if(R(h[g])&&R(N)){var O=h[g],B=N(O,g);return P(B,"__original",O),P(B,"__unwrap",function(){h[g]===B&&P(h,g,O)}),P(B,"__wrapped",!0),P(h,g,B),B}S("original object and wrapper must be functions")}else S("no original function "+g+" to wrap")}function j(h,g){return h&&h[g]?h[g].__unwrap?h[g].__unwrap():void S("no original to unwrap to -- has "+g+" already been unwrapped?"):(S("no function to unwrap."),void S((new Error).stack))}a.wrap=x,a.massWrap=function F(h,g,N){if(!h)return S("must provide one or more modules to patch"),void S((new Error).stack);Array.isArray(h)||(h=[h]),g&&Array.isArray(g)?h.forEach(function(O){g.forEach(function(B){x(O,B,N)})}):S("must provide one or more functions to wrap on modules")},a.unwrap=j,a.massUnwrap=function d(h,g){if(!h)return S("must provide one or more modules to patch"),void S((new Error).stack);Array.isArray(h)||(h=[h]),g&&Array.isArray(g)?h.forEach(function(N){g.forEach(function(O){j(N,O)})}):S("must provide one or more functions to unwrap on modules")},we.exports=a},8432:(we,R,S)=>{var P=S(9903),a=S(4263),x=S(8597),F=P("%TypeError%"),j=P("%WeakMap%",!0),d=P("%Map%",!0),h=a("WeakMap.prototype.get",!0),g=a("WeakMap.prototype.set",!0),N=a("WeakMap.prototype.has",!0),O=a("Map.prototype.get",!0),B=a("Map.prototype.set",!0),H=a("Map.prototype.has",!0),$=function(le,L){for(var z,U=le;null!==(z=U.next);U=z)if(z.key===L)return U.next=z.next,z.next=le.next,le.next=z,z};we.exports=function(){var L,U,z,ee={assert:function(ye){if(!ee.has(ye))throw new F("Side channel does not contain "+x(ye))},get:function(ye){if(j&&ye&&("object"==typeof ye||"function"==typeof ye)){if(L)return h(L,ye)}else if(d){if(U)return O(U,ye)}else if(z)return function(le,L){var U=$(le,L);return U&&U.value}(z,ye)},has:function(ye){if(j&&ye&&("object"==typeof ye||"function"==typeof ye)){if(L)return N(L,ye)}else if(d){if(U)return H(U,ye)}else if(z)return function(le,L){return!!$(le,L)}(z,ye);return!1},set:function(ye,be){j&&ye&&("object"==typeof ye||"function"==typeof ye)?(L||(L=new j),g(L,ye,be)):d?(U||(U=new d),B(U,ye,be)):(z||(z={key:{},next:null}),function(le,L,U){var z=$(le,L);z?z.value=U:le.next={key:L,next:le.next,value:U}}(z,ye,be))}};return ee}},574:(we,R,S)=>{we.exports=x;var P=S(3358).EventEmitter;function x(){P.call(this)}S(5035)(x,P),x.Readable=S(1396),x.Writable=S(1120),x.Duplex=S(9800),x.Transform=S(8157),x.PassThrough=S(1908),x.finished=S(7722),x.pipeline=S(8096),x.Stream=x,x.prototype.pipe=function(F,j){var d=this;function h(K){F.writable&&!1===F.write(K)&&d.pause&&d.pause()}function g(){d.readable&&d.resume&&d.resume()}d.on("data",h),F.on("drain",g),!F._isStdio&&(!j||!1!==j.end)&&(d.on("end",O),d.on("close",B));var N=!1;function O(){N||(N=!0,F.end())}function B(){N||(N=!0,"function"==typeof F.destroy&&F.destroy())}function H(K){if($(),0===P.listenerCount(this,"error"))throw K}function $(){d.removeListener("data",h),F.removeListener("drain",g),d.removeListener("end",O),d.removeListener("close",B),d.removeListener("error",H),F.removeListener("error",H),d.removeListener("end",$),d.removeListener("close",$),F.removeListener("close",$)}return d.on("error",H),F.on("error",H),d.on("end",$),d.on("close",$),F.on("close",$),F.emit("pipe",d),F}},4547:(we,R,S)=>{var P=S(9708).Buffer,a=P.isEncoding||function(L){switch((L=""+L)&&L.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function j(L){var U;switch(this.encoding=function F(L){var U=function x(L){if(!L)return"utf8";for(var U;;)switch(L){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return L;default:if(U)return;L=(""+L).toLowerCase(),U=!0}}(L);if("string"!=typeof U&&(P.isEncoding===a||!a(L)))throw new Error("Unknown encoding: "+L);return U||L}(L),this.encoding){case"utf16le":this.text=H,this.end=$,U=4;break;case"utf8":this.fillLast=N,U=4;break;case"base64":this.text=K,this.end=G,U=3;break;default:return this.write=W,void(this.end=le)}this.lastNeed=0,this.lastTotal=0,this.lastChar=P.allocUnsafe(U)}function d(L){return L<=127?0:L>>5==6?2:L>>4==14?3:L>>3==30?4:L>>6==2?-1:-2}function N(L){var U=this.lastTotal-this.lastNeed,z=function g(L,U,z){if(128!=(192&U[0]))return L.lastNeed=0,"\ufffd";if(L.lastNeed>1&&U.length>1){if(128!=(192&U[1]))return L.lastNeed=1,"\ufffd";if(L.lastNeed>2&&U.length>2&&128!=(192&U[2]))return L.lastNeed=2,"\ufffd"}}(this,L);return void 0!==z?z:this.lastNeed<=L.length?(L.copy(this.lastChar,U,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(L.copy(this.lastChar,U,0,L.length),void(this.lastNeed-=L.length))}function H(L,U){if((L.length-U)%2==0){var z=L.toString("utf16le",U);if(z){var ee=z.charCodeAt(z.length-1);if(ee>=55296&&ee<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=L[L.length-2],this.lastChar[1]=L[L.length-1],z.slice(0,-1)}return z}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=L[L.length-1],L.toString("utf16le",U,L.length-1)}function $(L){var U=L&&L.length?this.write(L):"";return this.lastNeed?U+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):U}function K(L,U){var z=(L.length-U)%3;return 0===z?L.toString("base64",U):(this.lastNeed=3-z,this.lastTotal=3,1===z?this.lastChar[0]=L[L.length-1]:(this.lastChar[0]=L[L.length-2],this.lastChar[1]=L[L.length-1]),L.toString("base64",U,L.length-z))}function G(L){var U=L&&L.length?this.write(L):"";return this.lastNeed?U+this.lastChar.toString("base64",0,3-this.lastNeed):U}function W(L){return L.toString(this.encoding)}function le(L){return L&&L.length?this.write(L):""}R.s=j,j.prototype.write=function(L){if(0===L.length)return"";var U,z;if(this.lastNeed){if(void 0===(U=this.fillLast(L)))return"";z=this.lastNeed,this.lastNeed=0}else z=0;return z<L.length?U?U+this.text(L,z):this.text(L,z):U||""},j.prototype.end=function B(L){var U=L&&L.length?this.write(L):"";return this.lastNeed?U+"\ufffd":U},j.prototype.text=function O(L,U){var z=function h(L,U,z){var ee=U.length-1;if(ee<z)return 0;var ye=d(U[ee]);return ye>=0?(ye>0&&(L.lastNeed=ye-1),ye):--ee<z||-2===ye?0:(ye=d(U[ee]))>=0?(ye>0&&(L.lastNeed=ye-2),ye):--ee<z||-2===ye?0:(ye=d(U[ee]))>=0?(ye>0&&(2===ye?ye=0:L.lastNeed=ye-3),ye):0}(this,L,U);if(!this.lastNeed)return L.toString("utf8",U);this.lastTotal=z;var ee=L.length-(z-this.lastNeed);return L.copy(this.lastChar,0,ee),L.toString("utf8",U,ee)},j.prototype.fillLast=function(L){if(this.lastNeed<=L.length)return L.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);L.copy(this.lastChar,this.lastTotal-this.lastNeed,0,L.length),this.lastNeed-=L.length}},8059:we=>{function S(P){try{if(!global.localStorage)return!1}catch{return!1}var a=global.localStorage[P];return null!=a&&"true"===String(a).toLowerCase()}we.exports=function R(P,a){if(S("noDeprecation"))return P;var x=!1;return function F(){if(!x){if(S("throwDeprecation"))throw new Error(a);S("traceDeprecation")?console.trace(a):console.warn(a),x=!0}return P.apply(this,arguments)}}},480:(we,R,S)=>{S.r(R),S.d(R,{__extends:()=>a,__assign:()=>x,__rest:()=>F,__decorate:()=>j,__param:()=>d,__metadata:()=>h,__awaiter:()=>g,__generator:()=>N,__createBinding:()=>O,__exportStar:()=>B,__values:()=>H,__read:()=>$,__spread:()=>K,__spreadArrays:()=>G,__await:()=>W,__asyncGenerator:()=>le,__asyncDelegator:()=>L,__asyncValues:()=>U,__makeTemplateObject:()=>z,__importStar:()=>ee,__importDefault:()=>ye,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>pe});var P=function(y,A){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var M in E)E.hasOwnProperty(M)&&(_[M]=E[M])})(y,A)};function a(y,A){function _(){this.constructor=y}P(y,A),y.prototype=null===A?Object.create(A):(_.prototype=A.prototype,new _)}var x=function(){return x=Object.assign||function(A){for(var _,E=1,M=arguments.length;E<M;E++)for(var I in _=arguments[E])Object.prototype.hasOwnProperty.call(_,I)&&(A[I]=_[I]);return A},x.apply(this,arguments)};function F(y,A){var _={};for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&A.indexOf(E)<0&&(_[E]=y[E]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(E=Object.getOwnPropertySymbols(y);M<E.length;M++)A.indexOf(E[M])<0&&Object.prototype.propertyIsEnumerable.call(y,E[M])&&(_[E[M]]=y[E[M]])}return _}function j(y,A,_,E){var ne,M=arguments.length,I=M<3?A:null===E?E=Object.getOwnPropertyDescriptor(A,_):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(y,A,_,E);else for(var fe=y.length-1;fe>=0;fe--)(ne=y[fe])&&(I=(M<3?ne(I):M>3?ne(A,_,I):ne(A,_))||I);return M>3&&I&&Object.defineProperty(A,_,I),I}function d(y,A){return function(_,E){A(_,E,y)}}function h(y,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(y,A)}function g(y,A,_,E){return new(_||(_=Promise))(function(I,ne){function fe(ze){try{ae(E.next(ze))}catch(ot){ne(ot)}}function Ve(ze){try{ae(E.throw(ze))}catch(ot){ne(ot)}}function ae(ze){ze.done?I(ze.value):function M(I){return I instanceof _?I:new _(function(ne){ne(I)})}(ze.value).then(fe,Ve)}ae((E=E.apply(y,A||[])).next())})}function N(y,A){var E,M,I,ne,_={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]};return ne={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(ne[Symbol.iterator]=function(){return this}),ne;function fe(ae){return function(ze){return function Ve(ae){if(E)throw new TypeError("Generator is already executing.");for(;_;)try{if(E=1,M&&(I=2&ae[0]?M.return:ae[0]?M.throw||((I=M.return)&&I.call(M),0):M.next)&&!(I=I.call(M,ae[1])).done)return I;switch(M=0,I&&(ae=[2&ae[0],I.value]),ae[0]){case 0:case 1:I=ae;break;case 4:return _.label++,{value:ae[1],done:!1};case 5:_.label++,M=ae[1],ae=[0];continue;case 7:ae=_.ops.pop(),_.trys.pop();continue;default:if(!(I=(I=_.trys).length>0&&I[I.length-1])&&(6===ae[0]||2===ae[0])){_=0;continue}if(3===ae[0]&&(!I||ae[1]>I[0]&&ae[1]<I[3])){_.label=ae[1];break}if(6===ae[0]&&_.label<I[1]){_.label=I[1],I=ae;break}if(I&&_.label<I[2]){_.label=I[2],_.ops.push(ae);break}I[2]&&_.ops.pop(),_.trys.pop();continue}ae=A.call(y,_)}catch(ze){ae=[6,ze],M=0}finally{E=I=0}if(5&ae[0])throw ae[1];return{value:ae[0]?ae[1]:void 0,done:!0}}([ae,ze])}}}function O(y,A,_,E){void 0===E&&(E=_),y[E]=A[_]}function B(y,A){for(var _ in y)"default"!==_&&!A.hasOwnProperty(_)&&(A[_]=y[_])}function H(y){var A="function"==typeof Symbol&&Symbol.iterator,_=A&&y[A],E=0;if(_)return _.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&E>=y.length&&(y=void 0),{value:y&&y[E++],done:!y}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function $(y,A){var _="function"==typeof Symbol&&y[Symbol.iterator];if(!_)return y;var M,ne,E=_.call(y),I=[];try{for(;(void 0===A||A-- >0)&&!(M=E.next()).done;)I.push(M.value)}catch(fe){ne={error:fe}}finally{try{M&&!M.done&&(_=E.return)&&_.call(E)}finally{if(ne)throw ne.error}}return I}function K(){for(var y=[],A=0;A<arguments.length;A++)y=y.concat($(arguments[A]));return y}function G(){for(var y=0,A=0,_=arguments.length;A<_;A++)y+=arguments[A].length;var E=Array(y),M=0;for(A=0;A<_;A++)for(var I=arguments[A],ne=0,fe=I.length;ne<fe;ne++,M++)E[M]=I[ne];return E}function W(y){return this instanceof W?(this.v=y,this):new W(y)}function le(y,A,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var M,E=_.apply(y,A||[]),I=[];return M={},ne("next"),ne("throw"),ne("return"),M[Symbol.asyncIterator]=function(){return this},M;function ne(Ne){E[Ne]&&(M[Ne]=function(Ye){return new Promise(function(Ze,ft){I.push([Ne,Ye,Ze,ft])>1||fe(Ne,Ye)})})}function fe(Ne,Ye){try{!function Ve(Ne){Ne.value instanceof W?Promise.resolve(Ne.value.v).then(ae,ze):ot(I[0][2],Ne)}(E[Ne](Ye))}catch(Ze){ot(I[0][3],Ze)}}function ae(Ne){fe("next",Ne)}function ze(Ne){fe("throw",Ne)}function ot(Ne,Ye){Ne(Ye),I.shift(),I.length&&fe(I[0][0],I[0][1])}}function L(y){var A,_;return A={},E("next"),E("throw",function(M){throw M}),E("return"),A[Symbol.iterator]=function(){return this},A;function E(M,I){A[M]=y[M]?function(ne){return(_=!_)?{value:W(y[M](ne)),done:"return"===M}:I?I(ne):ne}:I}}function U(y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,A=y[Symbol.asyncIterator];return A?A.call(y):(y=H(y),_={},E("next"),E("throw"),E("return"),_[Symbol.asyncIterator]=function(){return this},_);function E(I){_[I]=y[I]&&function(ne){return new Promise(function(fe,Ve){!function M(I,ne,fe,Ve){Promise.resolve(Ve).then(function(ae){I({value:ae,done:fe})},ne)}(fe,Ve,(ne=y[I](ne)).done,ne.value)})}}}function z(y,A){return Object.defineProperty?Object.defineProperty(y,"raw",{value:A}):y.raw=A,y}function ee(y){if(y&&y.__esModule)return y;var A={};if(null!=y)for(var _ in y)Object.hasOwnProperty.call(y,_)&&(A[_]=y[_]);return A.default=y,A}function ye(y){return y&&y.__esModule?y:{default:y}}function be(y,A){if(!A.has(y))throw new TypeError("attempted to get private field on non-instance");return A.get(y)}function pe(y,A,_){if(!A.has(y))throw new TypeError("attempted to set private field on non-instance");return A.set(y,_),_}},70:(we,R,S)=>{S.r(R),S.d(R,{__extends:()=>a,__assign:()=>x,__rest:()=>F,__decorate:()=>j,__param:()=>d,__metadata:()=>h,__awaiter:()=>g,__generator:()=>N,__createBinding:()=>O,__exportStar:()=>B,__values:()=>H,__read:()=>$,__spread:()=>K,__spreadArrays:()=>G,__await:()=>W,__asyncGenerator:()=>le,__asyncDelegator:()=>L,__asyncValues:()=>U,__makeTemplateObject:()=>z,__importStar:()=>ee,__importDefault:()=>ye,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>pe});var P=function(y,A){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var M in E)E.hasOwnProperty(M)&&(_[M]=E[M])})(y,A)};function a(y,A){function _(){this.constructor=y}P(y,A),y.prototype=null===A?Object.create(A):(_.prototype=A.prototype,new _)}var x=function(){return x=Object.assign||function(A){for(var _,E=1,M=arguments.length;E<M;E++)for(var I in _=arguments[E])Object.prototype.hasOwnProperty.call(_,I)&&(A[I]=_[I]);return A},x.apply(this,arguments)};function F(y,A){var _={};for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&A.indexOf(E)<0&&(_[E]=y[E]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(E=Object.getOwnPropertySymbols(y);M<E.length;M++)A.indexOf(E[M])<0&&Object.prototype.propertyIsEnumerable.call(y,E[M])&&(_[E[M]]=y[E[M]])}return _}function j(y,A,_,E){var ne,M=arguments.length,I=M<3?A:null===E?E=Object.getOwnPropertyDescriptor(A,_):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(y,A,_,E);else for(var fe=y.length-1;fe>=0;fe--)(ne=y[fe])&&(I=(M<3?ne(I):M>3?ne(A,_,I):ne(A,_))||I);return M>3&&I&&Object.defineProperty(A,_,I),I}function d(y,A){return function(_,E){A(_,E,y)}}function h(y,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(y,A)}function g(y,A,_,E){return new(_||(_=Promise))(function(I,ne){function fe(ze){try{ae(E.next(ze))}catch(ot){ne(ot)}}function Ve(ze){try{ae(E.throw(ze))}catch(ot){ne(ot)}}function ae(ze){ze.done?I(ze.value):function M(I){return I instanceof _?I:new _(function(ne){ne(I)})}(ze.value).then(fe,Ve)}ae((E=E.apply(y,A||[])).next())})}function N(y,A){var E,M,I,ne,_={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]};return ne={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(ne[Symbol.iterator]=function(){return this}),ne;function fe(ae){return function(ze){return function Ve(ae){if(E)throw new TypeError("Generator is already executing.");for(;_;)try{if(E=1,M&&(I=2&ae[0]?M.return:ae[0]?M.throw||((I=M.return)&&I.call(M),0):M.next)&&!(I=I.call(M,ae[1])).done)return I;switch(M=0,I&&(ae=[2&ae[0],I.value]),ae[0]){case 0:case 1:I=ae;break;case 4:return _.label++,{value:ae[1],done:!1};case 5:_.label++,M=ae[1],ae=[0];continue;case 7:ae=_.ops.pop(),_.trys.pop();continue;default:if(!(I=(I=_.trys).length>0&&I[I.length-1])&&(6===ae[0]||2===ae[0])){_=0;continue}if(3===ae[0]&&(!I||ae[1]>I[0]&&ae[1]<I[3])){_.label=ae[1];break}if(6===ae[0]&&_.label<I[1]){_.label=I[1],I=ae;break}if(I&&_.label<I[2]){_.label=I[2],_.ops.push(ae);break}I[2]&&_.ops.pop(),_.trys.pop();continue}ae=A.call(y,_)}catch(ze){ae=[6,ze],M=0}finally{E=I=0}if(5&ae[0])throw ae[1];return{value:ae[0]?ae[1]:void 0,done:!0}}([ae,ze])}}}function O(y,A,_,E){void 0===E&&(E=_),y[E]=A[_]}function B(y,A){for(var _ in y)"default"!==_&&!A.hasOwnProperty(_)&&(A[_]=y[_])}function H(y){var A="function"==typeof Symbol&&Symbol.iterator,_=A&&y[A],E=0;if(_)return _.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&E>=y.length&&(y=void 0),{value:y&&y[E++],done:!y}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function $(y,A){var _="function"==typeof Symbol&&y[Symbol.iterator];if(!_)return y;var M,ne,E=_.call(y),I=[];try{for(;(void 0===A||A-- >0)&&!(M=E.next()).done;)I.push(M.value)}catch(fe){ne={error:fe}}finally{try{M&&!M.done&&(_=E.return)&&_.call(E)}finally{if(ne)throw ne.error}}return I}function K(){for(var y=[],A=0;A<arguments.length;A++)y=y.concat($(arguments[A]));return y}function G(){for(var y=0,A=0,_=arguments.length;A<_;A++)y+=arguments[A].length;var E=Array(y),M=0;for(A=0;A<_;A++)for(var I=arguments[A],ne=0,fe=I.length;ne<fe;ne++,M++)E[M]=I[ne];return E}function W(y){return this instanceof W?(this.v=y,this):new W(y)}function le(y,A,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var M,E=_.apply(y,A||[]),I=[];return M={},ne("next"),ne("throw"),ne("return"),M[Symbol.asyncIterator]=function(){return this},M;function ne(Ne){E[Ne]&&(M[Ne]=function(Ye){return new Promise(function(Ze,ft){I.push([Ne,Ye,Ze,ft])>1||fe(Ne,Ye)})})}function fe(Ne,Ye){try{!function Ve(Ne){Ne.value instanceof W?Promise.resolve(Ne.value.v).then(ae,ze):ot(I[0][2],Ne)}(E[Ne](Ye))}catch(Ze){ot(I[0][3],Ze)}}function ae(Ne){fe("next",Ne)}function ze(Ne){fe("throw",Ne)}function ot(Ne,Ye){Ne(Ye),I.shift(),I.length&&fe(I[0][0],I[0][1])}}function L(y){var A,_;return A={},E("next"),E("throw",function(M){throw M}),E("return"),A[Symbol.iterator]=function(){return this},A;function E(M,I){A[M]=y[M]?function(ne){return(_=!_)?{value:W(y[M](ne)),done:"return"===M}:I?I(ne):ne}:I}}function U(y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,A=y[Symbol.asyncIterator];return A?A.call(y):(y=H(y),_={},E("next"),E("throw"),E("return"),_[Symbol.asyncIterator]=function(){return this},_);function E(I){_[I]=y[I]&&function(ne){return new Promise(function(fe,Ve){!function M(I,ne,fe,Ve){Promise.resolve(Ve).then(function(ae){I({value:ae,done:fe})},ne)}(fe,Ve,(ne=y[I](ne)).done,ne.value)})}}}function z(y,A){return Object.defineProperty?Object.defineProperty(y,"raw",{value:A}):y.raw=A,y}function ee(y){if(y&&y.__esModule)return y;var A={};if(null!=y)for(var _ in y)Object.hasOwnProperty.call(y,_)&&(A[_]=y[_]);return A.default=y,A}function ye(y){return y&&y.__esModule?y:{default:y}}function be(y,A){if(!A.has(y))throw new TypeError("attempted to get private field on non-instance");return A.get(y)}function pe(y,A,_){if(!A.has(y))throw new TypeError("attempted to set private field on non-instance");return A.set(y,_),_}},9055:(we,R,S)=>{S.r(R),S.d(R,{__extends:()=>a,__assign:()=>x,__rest:()=>F,__decorate:()=>j,__param:()=>d,__metadata:()=>h,__awaiter:()=>g,__generator:()=>N,__createBinding:()=>O,__exportStar:()=>B,__values:()=>H,__read:()=>$,__spread:()=>K,__spreadArrays:()=>G,__await:()=>W,__asyncGenerator:()=>le,__asyncDelegator:()=>L,__asyncValues:()=>U,__makeTemplateObject:()=>z,__importStar:()=>ee,__importDefault:()=>ye,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>pe});var P=function(y,A){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var M in E)E.hasOwnProperty(M)&&(_[M]=E[M])})(y,A)};function a(y,A){function _(){this.constructor=y}P(y,A),y.prototype=null===A?Object.create(A):(_.prototype=A.prototype,new _)}var x=function(){return x=Object.assign||function(A){for(var _,E=1,M=arguments.length;E<M;E++)for(var I in _=arguments[E])Object.prototype.hasOwnProperty.call(_,I)&&(A[I]=_[I]);return A},x.apply(this,arguments)};function F(y,A){var _={};for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&A.indexOf(E)<0&&(_[E]=y[E]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(E=Object.getOwnPropertySymbols(y);M<E.length;M++)A.indexOf(E[M])<0&&Object.prototype.propertyIsEnumerable.call(y,E[M])&&(_[E[M]]=y[E[M]])}return _}function j(y,A,_,E){var ne,M=arguments.length,I=M<3?A:null===E?E=Object.getOwnPropertyDescriptor(A,_):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(y,A,_,E);else for(var fe=y.length-1;fe>=0;fe--)(ne=y[fe])&&(I=(M<3?ne(I):M>3?ne(A,_,I):ne(A,_))||I);return M>3&&I&&Object.defineProperty(A,_,I),I}function d(y,A){return function(_,E){A(_,E,y)}}function h(y,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(y,A)}function g(y,A,_,E){return new(_||(_=Promise))(function(I,ne){function fe(ze){try{ae(E.next(ze))}catch(ot){ne(ot)}}function Ve(ze){try{ae(E.throw(ze))}catch(ot){ne(ot)}}function ae(ze){ze.done?I(ze.value):function M(I){return I instanceof _?I:new _(function(ne){ne(I)})}(ze.value).then(fe,Ve)}ae((E=E.apply(y,A||[])).next())})}function N(y,A){var E,M,I,ne,_={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]};return ne={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(ne[Symbol.iterator]=function(){return this}),ne;function fe(ae){return function(ze){return function Ve(ae){if(E)throw new TypeError("Generator is already executing.");for(;_;)try{if(E=1,M&&(I=2&ae[0]?M.return:ae[0]?M.throw||((I=M.return)&&I.call(M),0):M.next)&&!(I=I.call(M,ae[1])).done)return I;switch(M=0,I&&(ae=[2&ae[0],I.value]),ae[0]){case 0:case 1:I=ae;break;case 4:return _.label++,{value:ae[1],done:!1};case 5:_.label++,M=ae[1],ae=[0];continue;case 7:ae=_.ops.pop(),_.trys.pop();continue;default:if(!(I=(I=_.trys).length>0&&I[I.length-1])&&(6===ae[0]||2===ae[0])){_=0;continue}if(3===ae[0]&&(!I||ae[1]>I[0]&&ae[1]<I[3])){_.label=ae[1];break}if(6===ae[0]&&_.label<I[1]){_.label=I[1],I=ae;break}if(I&&_.label<I[2]){_.label=I[2],_.ops.push(ae);break}I[2]&&_.ops.pop(),_.trys.pop();continue}ae=A.call(y,_)}catch(ze){ae=[6,ze],M=0}finally{E=I=0}if(5&ae[0])throw ae[1];return{value:ae[0]?ae[1]:void 0,done:!0}}([ae,ze])}}}function O(y,A,_,E){void 0===E&&(E=_),y[E]=A[_]}function B(y,A){for(var _ in y)"default"!==_&&!A.hasOwnProperty(_)&&(A[_]=y[_])}function H(y){var A="function"==typeof Symbol&&Symbol.iterator,_=A&&y[A],E=0;if(_)return _.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&E>=y.length&&(y=void 0),{value:y&&y[E++],done:!y}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function $(y,A){var _="function"==typeof Symbol&&y[Symbol.iterator];if(!_)return y;var M,ne,E=_.call(y),I=[];try{for(;(void 0===A||A-- >0)&&!(M=E.next()).done;)I.push(M.value)}catch(fe){ne={error:fe}}finally{try{M&&!M.done&&(_=E.return)&&_.call(E)}finally{if(ne)throw ne.error}}return I}function K(){for(var y=[],A=0;A<arguments.length;A++)y=y.concat($(arguments[A]));return y}function G(){for(var y=0,A=0,_=arguments.length;A<_;A++)y+=arguments[A].length;var E=Array(y),M=0;for(A=0;A<_;A++)for(var I=arguments[A],ne=0,fe=I.length;ne<fe;ne++,M++)E[M]=I[ne];return E}function W(y){return this instanceof W?(this.v=y,this):new W(y)}function le(y,A,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var M,E=_.apply(y,A||[]),I=[];return M={},ne("next"),ne("throw"),ne("return"),M[Symbol.asyncIterator]=function(){return this},M;function ne(Ne){E[Ne]&&(M[Ne]=function(Ye){return new Promise(function(Ze,ft){I.push([Ne,Ye,Ze,ft])>1||fe(Ne,Ye)})})}function fe(Ne,Ye){try{!function Ve(Ne){Ne.value instanceof W?Promise.resolve(Ne.value.v).then(ae,ze):ot(I[0][2],Ne)}(E[Ne](Ye))}catch(Ze){ot(I[0][3],Ze)}}function ae(Ne){fe("next",Ne)}function ze(Ne){fe("throw",Ne)}function ot(Ne,Ye){Ne(Ye),I.shift(),I.length&&fe(I[0][0],I[0][1])}}function L(y){var A,_;return A={},E("next"),E("throw",function(M){throw M}),E("return"),A[Symbol.iterator]=function(){return this},A;function E(M,I){A[M]=y[M]?function(ne){return(_=!_)?{value:W(y[M](ne)),done:"return"===M}:I?I(ne):ne}:I}}function U(y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,A=y[Symbol.asyncIterator];return A?A.call(y):(y=H(y),_={},E("next"),E("throw"),E("return"),_[Symbol.asyncIterator]=function(){return this},_);function E(I){_[I]=y[I]&&function(ne){return new Promise(function(fe,Ve){!function M(I,ne,fe,Ve){Promise.resolve(Ve).then(function(ae){I({value:ae,done:fe})},ne)}(fe,Ve,(ne=y[I](ne)).done,ne.value)})}}}function z(y,A){return Object.defineProperty?Object.defineProperty(y,"raw",{value:A}):y.raw=A,y}function ee(y){if(y&&y.__esModule)return y;var A={};if(null!=y)for(var _ in y)Object.hasOwnProperty.call(y,_)&&(A[_]=y[_]);return A.default=y,A}function ye(y){return y&&y.__esModule?y:{default:y}}function be(y,A){if(!A.has(y))throw new TypeError("attempted to get private field on non-instance");return A.get(y)}function pe(y,A,_){if(!A.has(y))throw new TypeError("attempted to set private field on non-instance");return A.set(y,_),_}},7994:(we,R,S)=>{S.r(R),S.d(R,{__extends:()=>a,__assign:()=>x,__rest:()=>F,__decorate:()=>j,__param:()=>d,__metadata:()=>h,__awaiter:()=>g,__generator:()=>N,__createBinding:()=>O,__exportStar:()=>B,__values:()=>H,__read:()=>$,__spread:()=>K,__spreadArrays:()=>G,__await:()=>W,__asyncGenerator:()=>le,__asyncDelegator:()=>L,__asyncValues:()=>U,__makeTemplateObject:()=>z,__importStar:()=>ee,__importDefault:()=>ye,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>pe});var P=function(y,A){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var M in E)E.hasOwnProperty(M)&&(_[M]=E[M])})(y,A)};function a(y,A){function _(){this.constructor=y}P(y,A),y.prototype=null===A?Object.create(A):(_.prototype=A.prototype,new _)}var x=function(){return x=Object.assign||function(A){for(var _,E=1,M=arguments.length;E<M;E++)for(var I in _=arguments[E])Object.prototype.hasOwnProperty.call(_,I)&&(A[I]=_[I]);return A},x.apply(this,arguments)};function F(y,A){var _={};for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&A.indexOf(E)<0&&(_[E]=y[E]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(E=Object.getOwnPropertySymbols(y);M<E.length;M++)A.indexOf(E[M])<0&&Object.prototype.propertyIsEnumerable.call(y,E[M])&&(_[E[M]]=y[E[M]])}return _}function j(y,A,_,E){var ne,M=arguments.length,I=M<3?A:null===E?E=Object.getOwnPropertyDescriptor(A,_):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(y,A,_,E);else for(var fe=y.length-1;fe>=0;fe--)(ne=y[fe])&&(I=(M<3?ne(I):M>3?ne(A,_,I):ne(A,_))||I);return M>3&&I&&Object.defineProperty(A,_,I),I}function d(y,A){return function(_,E){A(_,E,y)}}function h(y,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(y,A)}function g(y,A,_,E){return new(_||(_=Promise))(function(I,ne){function fe(ze){try{ae(E.next(ze))}catch(ot){ne(ot)}}function Ve(ze){try{ae(E.throw(ze))}catch(ot){ne(ot)}}function ae(ze){ze.done?I(ze.value):function M(I){return I instanceof _?I:new _(function(ne){ne(I)})}(ze.value).then(fe,Ve)}ae((E=E.apply(y,A||[])).next())})}function N(y,A){var E,M,I,ne,_={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]};return ne={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(ne[Symbol.iterator]=function(){return this}),ne;function fe(ae){return function(ze){return function Ve(ae){if(E)throw new TypeError("Generator is already executing.");for(;_;)try{if(E=1,M&&(I=2&ae[0]?M.return:ae[0]?M.throw||((I=M.return)&&I.call(M),0):M.next)&&!(I=I.call(M,ae[1])).done)return I;switch(M=0,I&&(ae=[2&ae[0],I.value]),ae[0]){case 0:case 1:I=ae;break;case 4:return _.label++,{value:ae[1],done:!1};case 5:_.label++,M=ae[1],ae=[0];continue;case 7:ae=_.ops.pop(),_.trys.pop();continue;default:if(!(I=(I=_.trys).length>0&&I[I.length-1])&&(6===ae[0]||2===ae[0])){_=0;continue}if(3===ae[0]&&(!I||ae[1]>I[0]&&ae[1]<I[3])){_.label=ae[1];break}if(6===ae[0]&&_.label<I[1]){_.label=I[1],I=ae;break}if(I&&_.label<I[2]){_.label=I[2],_.ops.push(ae);break}I[2]&&_.ops.pop(),_.trys.pop();continue}ae=A.call(y,_)}catch(ze){ae=[6,ze],M=0}finally{E=I=0}if(5&ae[0])throw ae[1];return{value:ae[0]?ae[1]:void 0,done:!0}}([ae,ze])}}}function O(y,A,_,E){void 0===E&&(E=_),y[E]=A[_]}function B(y,A){for(var _ in y)"default"!==_&&!A.hasOwnProperty(_)&&(A[_]=y[_])}function H(y){var A="function"==typeof Symbol&&Symbol.iterator,_=A&&y[A],E=0;if(_)return _.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&E>=y.length&&(y=void 0),{value:y&&y[E++],done:!y}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function $(y,A){var _="function"==typeof Symbol&&y[Symbol.iterator];if(!_)return y;var M,ne,E=_.call(y),I=[];try{for(;(void 0===A||A-- >0)&&!(M=E.next()).done;)I.push(M.value)}catch(fe){ne={error:fe}}finally{try{M&&!M.done&&(_=E.return)&&_.call(E)}finally{if(ne)throw ne.error}}return I}function K(){for(var y=[],A=0;A<arguments.length;A++)y=y.concat($(arguments[A]));return y}function G(){for(var y=0,A=0,_=arguments.length;A<_;A++)y+=arguments[A].length;var E=Array(y),M=0;for(A=0;A<_;A++)for(var I=arguments[A],ne=0,fe=I.length;ne<fe;ne++,M++)E[M]=I[ne];return E}function W(y){return this instanceof W?(this.v=y,this):new W(y)}function le(y,A,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var M,E=_.apply(y,A||[]),I=[];return M={},ne("next"),ne("throw"),ne("return"),M[Symbol.asyncIterator]=function(){return this},M;function ne(Ne){E[Ne]&&(M[Ne]=function(Ye){return new Promise(function(Ze,ft){I.push([Ne,Ye,Ze,ft])>1||fe(Ne,Ye)})})}function fe(Ne,Ye){try{!function Ve(Ne){Ne.value instanceof W?Promise.resolve(Ne.value.v).then(ae,ze):ot(I[0][2],Ne)}(E[Ne](Ye))}catch(Ze){ot(I[0][3],Ze)}}function ae(Ne){fe("next",Ne)}function ze(Ne){fe("throw",Ne)}function ot(Ne,Ye){Ne(Ye),I.shift(),I.length&&fe(I[0][0],I[0][1])}}function L(y){var A,_;return A={},E("next"),E("throw",function(M){throw M}),E("return"),A[Symbol.iterator]=function(){return this},A;function E(M,I){A[M]=y[M]?function(ne){return(_=!_)?{value:W(y[M](ne)),done:"return"===M}:I?I(ne):ne}:I}}function U(y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,A=y[Symbol.asyncIterator];return A?A.call(y):(y=H(y),_={},E("next"),E("throw"),E("return"),_[Symbol.asyncIterator]=function(){return this},_);function E(I){_[I]=y[I]&&function(ne){return new Promise(function(fe,Ve){!function M(I,ne,fe,Ve){Promise.resolve(Ve).then(function(ae){I({value:ae,done:fe})},ne)}(fe,Ve,(ne=y[I](ne)).done,ne.value)})}}}function z(y,A){return Object.defineProperty?Object.defineProperty(y,"raw",{value:A}):y.raw=A,y}function ee(y){if(y&&y.__esModule)return y;var A={};if(null!=y)for(var _ in y)Object.hasOwnProperty.call(y,_)&&(A[_]=y[_]);return A.default=y,A}function ye(y){return y&&y.__esModule?y:{default:y}}function be(y,A){if(!A.has(y))throw new TypeError("attempted to get private field on non-instance");return A.get(y)}function pe(y,A,_){if(!A.has(y))throw new TypeError("attempted to set private field on non-instance");return A.set(y,_),_}},8952:(we,R,S)=>{S.r(R),S.d(R,{__extends:()=>a,__assign:()=>x,__rest:()=>F,__decorate:()=>j,__param:()=>d,__metadata:()=>h,__awaiter:()=>g,__generator:()=>N,__createBinding:()=>O,__exportStar:()=>B,__values:()=>H,__read:()=>$,__spread:()=>K,__spreadArrays:()=>G,__await:()=>W,__asyncGenerator:()=>le,__asyncDelegator:()=>L,__asyncValues:()=>U,__makeTemplateObject:()=>z,__importStar:()=>ee,__importDefault:()=>ye,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>pe});var P=function(y,A){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var M in E)E.hasOwnProperty(M)&&(_[M]=E[M])})(y,A)};function a(y,A){function _(){this.constructor=y}P(y,A),y.prototype=null===A?Object.create(A):(_.prototype=A.prototype,new _)}var x=function(){return x=Object.assign||function(A){for(var _,E=1,M=arguments.length;E<M;E++)for(var I in _=arguments[E])Object.prototype.hasOwnProperty.call(_,I)&&(A[I]=_[I]);return A},x.apply(this,arguments)};function F(y,A){var _={};for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&A.indexOf(E)<0&&(_[E]=y[E]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(E=Object.getOwnPropertySymbols(y);M<E.length;M++)A.indexOf(E[M])<0&&Object.prototype.propertyIsEnumerable.call(y,E[M])&&(_[E[M]]=y[E[M]])}return _}function j(y,A,_,E){var ne,M=arguments.length,I=M<3?A:null===E?E=Object.getOwnPropertyDescriptor(A,_):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(y,A,_,E);else for(var fe=y.length-1;fe>=0;fe--)(ne=y[fe])&&(I=(M<3?ne(I):M>3?ne(A,_,I):ne(A,_))||I);return M>3&&I&&Object.defineProperty(A,_,I),I}function d(y,A){return function(_,E){A(_,E,y)}}function h(y,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(y,A)}function g(y,A,_,E){return new(_||(_=Promise))(function(I,ne){function fe(ze){try{ae(E.next(ze))}catch(ot){ne(ot)}}function Ve(ze){try{ae(E.throw(ze))}catch(ot){ne(ot)}}function ae(ze){ze.done?I(ze.value):function M(I){return I instanceof _?I:new _(function(ne){ne(I)})}(ze.value).then(fe,Ve)}ae((E=E.apply(y,A||[])).next())})}function N(y,A){var E,M,I,ne,_={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]};return ne={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(ne[Symbol.iterator]=function(){return this}),ne;function fe(ae){return function(ze){return function Ve(ae){if(E)throw new TypeError("Generator is already executing.");for(;_;)try{if(E=1,M&&(I=2&ae[0]?M.return:ae[0]?M.throw||((I=M.return)&&I.call(M),0):M.next)&&!(I=I.call(M,ae[1])).done)return I;switch(M=0,I&&(ae=[2&ae[0],I.value]),ae[0]){case 0:case 1:I=ae;break;case 4:return _.label++,{value:ae[1],done:!1};case 5:_.label++,M=ae[1],ae=[0];continue;case 7:ae=_.ops.pop(),_.trys.pop();continue;default:if(!(I=(I=_.trys).length>0&&I[I.length-1])&&(6===ae[0]||2===ae[0])){_=0;continue}if(3===ae[0]&&(!I||ae[1]>I[0]&&ae[1]<I[3])){_.label=ae[1];break}if(6===ae[0]&&_.label<I[1]){_.label=I[1],I=ae;break}if(I&&_.label<I[2]){_.label=I[2],_.ops.push(ae);break}I[2]&&_.ops.pop(),_.trys.pop();continue}ae=A.call(y,_)}catch(ze){ae=[6,ze],M=0}finally{E=I=0}if(5&ae[0])throw ae[1];return{value:ae[0]?ae[1]:void 0,done:!0}}([ae,ze])}}}function O(y,A,_,E){void 0===E&&(E=_),y[E]=A[_]}function B(y,A){for(var _ in y)"default"!==_&&!A.hasOwnProperty(_)&&(A[_]=y[_])}function H(y){var A="function"==typeof Symbol&&Symbol.iterator,_=A&&y[A],E=0;if(_)return _.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&E>=y.length&&(y=void 0),{value:y&&y[E++],done:!y}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function $(y,A){var _="function"==typeof Symbol&&y[Symbol.iterator];if(!_)return y;var M,ne,E=_.call(y),I=[];try{for(;(void 0===A||A-- >0)&&!(M=E.next()).done;)I.push(M.value)}catch(fe){ne={error:fe}}finally{try{M&&!M.done&&(_=E.return)&&_.call(E)}finally{if(ne)throw ne.error}}return I}function K(){for(var y=[],A=0;A<arguments.length;A++)y=y.concat($(arguments[A]));return y}function G(){for(var y=0,A=0,_=arguments.length;A<_;A++)y+=arguments[A].length;var E=Array(y),M=0;for(A=0;A<_;A++)for(var I=arguments[A],ne=0,fe=I.length;ne<fe;ne++,M++)E[M]=I[ne];return E}function W(y){return this instanceof W?(this.v=y,this):new W(y)}function le(y,A,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var M,E=_.apply(y,A||[]),I=[];return M={},ne("next"),ne("throw"),ne("return"),M[Symbol.asyncIterator]=function(){return this},M;function ne(Ne){E[Ne]&&(M[Ne]=function(Ye){return new Promise(function(Ze,ft){I.push([Ne,Ye,Ze,ft])>1||fe(Ne,Ye)})})}function fe(Ne,Ye){try{!function Ve(Ne){Ne.value instanceof W?Promise.resolve(Ne.value.v).then(ae,ze):ot(I[0][2],Ne)}(E[Ne](Ye))}catch(Ze){ot(I[0][3],Ze)}}function ae(Ne){fe("next",Ne)}function ze(Ne){fe("throw",Ne)}function ot(Ne,Ye){Ne(Ye),I.shift(),I.length&&fe(I[0][0],I[0][1])}}function L(y){var A,_;return A={},E("next"),E("throw",function(M){throw M}),E("return"),A[Symbol.iterator]=function(){return this},A;function E(M,I){A[M]=y[M]?function(ne){return(_=!_)?{value:W(y[M](ne)),done:"return"===M}:I?I(ne):ne}:I}}function U(y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,A=y[Symbol.asyncIterator];return A?A.call(y):(y=H(y),_={},E("next"),E("throw"),E("return"),_[Symbol.asyncIterator]=function(){return this},_);function E(I){_[I]=y[I]&&function(ne){return new Promise(function(fe,Ve){!function M(I,ne,fe,Ve){Promise.resolve(Ve).then(function(ae){I({value:ae,done:fe})},ne)}(fe,Ve,(ne=y[I](ne)).done,ne.value)})}}}function z(y,A){return Object.defineProperty?Object.defineProperty(y,"raw",{value:A}):y.raw=A,y}function ee(y){if(y&&y.__esModule)return y;var A={};if(null!=y)for(var _ in y)Object.hasOwnProperty.call(y,_)&&(A[_]=y[_]);return A.default=y,A}function ye(y){return y&&y.__esModule?y:{default:y}}function be(y,A){if(!A.has(y))throw new TypeError("attempted to get private field on non-instance");return A.get(y)}function pe(y,A,_){if(!A.has(y))throw new TypeError("attempted to set private field on non-instance");return A.set(y,_),_}},1707:(we,R,S)=>{S.r(R),S.d(R,{__extends:()=>a,__assign:()=>x,__rest:()=>F,__decorate:()=>j,__param:()=>d,__metadata:()=>h,__awaiter:()=>g,__generator:()=>N,__createBinding:()=>O,__exportStar:()=>B,__values:()=>H,__read:()=>$,__spread:()=>K,__spreadArrays:()=>G,__await:()=>W,__asyncGenerator:()=>le,__asyncDelegator:()=>L,__asyncValues:()=>U,__makeTemplateObject:()=>z,__importStar:()=>ee,__importDefault:()=>ye,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>pe});var P=function(y,A){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var M in E)E.hasOwnProperty(M)&&(_[M]=E[M])})(y,A)};function a(y,A){function _(){this.constructor=y}P(y,A),y.prototype=null===A?Object.create(A):(_.prototype=A.prototype,new _)}var x=function(){return x=Object.assign||function(A){for(var _,E=1,M=arguments.length;E<M;E++)for(var I in _=arguments[E])Object.prototype.hasOwnProperty.call(_,I)&&(A[I]=_[I]);return A},x.apply(this,arguments)};function F(y,A){var _={};for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&A.indexOf(E)<0&&(_[E]=y[E]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(E=Object.getOwnPropertySymbols(y);M<E.length;M++)A.indexOf(E[M])<0&&Object.prototype.propertyIsEnumerable.call(y,E[M])&&(_[E[M]]=y[E[M]])}return _}function j(y,A,_,E){var ne,M=arguments.length,I=M<3?A:null===E?E=Object.getOwnPropertyDescriptor(A,_):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(y,A,_,E);else for(var fe=y.length-1;fe>=0;fe--)(ne=y[fe])&&(I=(M<3?ne(I):M>3?ne(A,_,I):ne(A,_))||I);return M>3&&I&&Object.defineProperty(A,_,I),I}function d(y,A){return function(_,E){A(_,E,y)}}function h(y,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(y,A)}function g(y,A,_,E){return new(_||(_=Promise))(function(I,ne){function fe(ze){try{ae(E.next(ze))}catch(ot){ne(ot)}}function Ve(ze){try{ae(E.throw(ze))}catch(ot){ne(ot)}}function ae(ze){ze.done?I(ze.value):function M(I){return I instanceof _?I:new _(function(ne){ne(I)})}(ze.value).then(fe,Ve)}ae((E=E.apply(y,A||[])).next())})}function N(y,A){var E,M,I,ne,_={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]};return ne={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(ne[Symbol.iterator]=function(){return this}),ne;function fe(ae){return function(ze){return function Ve(ae){if(E)throw new TypeError("Generator is already executing.");for(;_;)try{if(E=1,M&&(I=2&ae[0]?M.return:ae[0]?M.throw||((I=M.return)&&I.call(M),0):M.next)&&!(I=I.call(M,ae[1])).done)return I;switch(M=0,I&&(ae=[2&ae[0],I.value]),ae[0]){case 0:case 1:I=ae;break;case 4:return _.label++,{value:ae[1],done:!1};case 5:_.label++,M=ae[1],ae=[0];continue;case 7:ae=_.ops.pop(),_.trys.pop();continue;default:if(!(I=(I=_.trys).length>0&&I[I.length-1])&&(6===ae[0]||2===ae[0])){_=0;continue}if(3===ae[0]&&(!I||ae[1]>I[0]&&ae[1]<I[3])){_.label=ae[1];break}if(6===ae[0]&&_.label<I[1]){_.label=I[1],I=ae;break}if(I&&_.label<I[2]){_.label=I[2],_.ops.push(ae);break}I[2]&&_.ops.pop(),_.trys.pop();continue}ae=A.call(y,_)}catch(ze){ae=[6,ze],M=0}finally{E=I=0}if(5&ae[0])throw ae[1];return{value:ae[0]?ae[1]:void 0,done:!0}}([ae,ze])}}}function O(y,A,_,E){void 0===E&&(E=_),y[E]=A[_]}function B(y,A){for(var _ in y)"default"!==_&&!A.hasOwnProperty(_)&&(A[_]=y[_])}function H(y){var A="function"==typeof Symbol&&Symbol.iterator,_=A&&y[A],E=0;if(_)return _.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&E>=y.length&&(y=void 0),{value:y&&y[E++],done:!y}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function $(y,A){var _="function"==typeof Symbol&&y[Symbol.iterator];if(!_)return y;var M,ne,E=_.call(y),I=[];try{for(;(void 0===A||A-- >0)&&!(M=E.next()).done;)I.push(M.value)}catch(fe){ne={error:fe}}finally{try{M&&!M.done&&(_=E.return)&&_.call(E)}finally{if(ne)throw ne.error}}return I}function K(){for(var y=[],A=0;A<arguments.length;A++)y=y.concat($(arguments[A]));return y}function G(){for(var y=0,A=0,_=arguments.length;A<_;A++)y+=arguments[A].length;var E=Array(y),M=0;for(A=0;A<_;A++)for(var I=arguments[A],ne=0,fe=I.length;ne<fe;ne++,M++)E[M]=I[ne];return E}function W(y){return this instanceof W?(this.v=y,this):new W(y)}function le(y,A,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var M,E=_.apply(y,A||[]),I=[];return M={},ne("next"),ne("throw"),ne("return"),M[Symbol.asyncIterator]=function(){return this},M;function ne(Ne){E[Ne]&&(M[Ne]=function(Ye){return new Promise(function(Ze,ft){I.push([Ne,Ye,Ze,ft])>1||fe(Ne,Ye)})})}function fe(Ne,Ye){try{!function Ve(Ne){Ne.value instanceof W?Promise.resolve(Ne.value.v).then(ae,ze):ot(I[0][2],Ne)}(E[Ne](Ye))}catch(Ze){ot(I[0][3],Ze)}}function ae(Ne){fe("next",Ne)}function ze(Ne){fe("throw",Ne)}function ot(Ne,Ye){Ne(Ye),I.shift(),I.length&&fe(I[0][0],I[0][1])}}function L(y){var A,_;return A={},E("next"),E("throw",function(M){throw M}),E("return"),A[Symbol.iterator]=function(){return this},A;function E(M,I){A[M]=y[M]?function(ne){return(_=!_)?{value:W(y[M](ne)),done:"return"===M}:I?I(ne):ne}:I}}function U(y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,A=y[Symbol.asyncIterator];return A?A.call(y):(y=H(y),_={},E("next"),E("throw"),E("return"),_[Symbol.asyncIterator]=function(){return this},_);function E(I){_[I]=y[I]&&function(ne){return new Promise(function(fe,Ve){!function M(I,ne,fe,Ve){Promise.resolve(Ve).then(function(ae){I({value:ae,done:fe})},ne)}(fe,Ve,(ne=y[I](ne)).done,ne.value)})}}}function z(y,A){return Object.defineProperty?Object.defineProperty(y,"raw",{value:A}):y.raw=A,y}function ee(y){if(y&&y.__esModule)return y;var A={};if(null!=y)for(var _ in y)Object.hasOwnProperty.call(y,_)&&(A[_]=y[_]);return A.default=y,A}function ye(y){return y&&y.__esModule?y:{default:y}}function be(y,A){if(!A.has(y))throw new TypeError("attempted to get private field on non-instance");return A.get(y)}function pe(y,A,_){if(!A.has(y))throw new TypeError("attempted to set private field on non-instance");return A.set(y,_),_}},9106:(we,R,S)=>{S.r(R),S.d(R,{__extends:()=>a,__assign:()=>x,__rest:()=>F,__decorate:()=>j,__param:()=>d,__metadata:()=>h,__awaiter:()=>g,__generator:()=>N,__createBinding:()=>O,__exportStar:()=>B,__values:()=>H,__read:()=>$,__spread:()=>K,__spreadArrays:()=>G,__await:()=>W,__asyncGenerator:()=>le,__asyncDelegator:()=>L,__asyncValues:()=>U,__makeTemplateObject:()=>z,__importStar:()=>ee,__importDefault:()=>ye,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>pe});var P=function(y,A){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var M in E)E.hasOwnProperty(M)&&(_[M]=E[M])})(y,A)};function a(y,A){function _(){this.constructor=y}P(y,A),y.prototype=null===A?Object.create(A):(_.prototype=A.prototype,new _)}var x=function(){return x=Object.assign||function(A){for(var _,E=1,M=arguments.length;E<M;E++)for(var I in _=arguments[E])Object.prototype.hasOwnProperty.call(_,I)&&(A[I]=_[I]);return A},x.apply(this,arguments)};function F(y,A){var _={};for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&A.indexOf(E)<0&&(_[E]=y[E]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(E=Object.getOwnPropertySymbols(y);M<E.length;M++)A.indexOf(E[M])<0&&Object.prototype.propertyIsEnumerable.call(y,E[M])&&(_[E[M]]=y[E[M]])}return _}function j(y,A,_,E){var ne,M=arguments.length,I=M<3?A:null===E?E=Object.getOwnPropertyDescriptor(A,_):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(y,A,_,E);else for(var fe=y.length-1;fe>=0;fe--)(ne=y[fe])&&(I=(M<3?ne(I):M>3?ne(A,_,I):ne(A,_))||I);return M>3&&I&&Object.defineProperty(A,_,I),I}function d(y,A){return function(_,E){A(_,E,y)}}function h(y,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(y,A)}function g(y,A,_,E){return new(_||(_=Promise))(function(I,ne){function fe(ze){try{ae(E.next(ze))}catch(ot){ne(ot)}}function Ve(ze){try{ae(E.throw(ze))}catch(ot){ne(ot)}}function ae(ze){ze.done?I(ze.value):function M(I){return I instanceof _?I:new _(function(ne){ne(I)})}(ze.value).then(fe,Ve)}ae((E=E.apply(y,A||[])).next())})}function N(y,A){var E,M,I,ne,_={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]};return ne={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(ne[Symbol.iterator]=function(){return this}),ne;function fe(ae){return function(ze){return function Ve(ae){if(E)throw new TypeError("Generator is already executing.");for(;_;)try{if(E=1,M&&(I=2&ae[0]?M.return:ae[0]?M.throw||((I=M.return)&&I.call(M),0):M.next)&&!(I=I.call(M,ae[1])).done)return I;switch(M=0,I&&(ae=[2&ae[0],I.value]),ae[0]){case 0:case 1:I=ae;break;case 4:return _.label++,{value:ae[1],done:!1};case 5:_.label++,M=ae[1],ae=[0];continue;case 7:ae=_.ops.pop(),_.trys.pop();continue;default:if(!(I=(I=_.trys).length>0&&I[I.length-1])&&(6===ae[0]||2===ae[0])){_=0;continue}if(3===ae[0]&&(!I||ae[1]>I[0]&&ae[1]<I[3])){_.label=ae[1];break}if(6===ae[0]&&_.label<I[1]){_.label=I[1],I=ae;break}if(I&&_.label<I[2]){_.label=I[2],_.ops.push(ae);break}I[2]&&_.ops.pop(),_.trys.pop();continue}ae=A.call(y,_)}catch(ze){ae=[6,ze],M=0}finally{E=I=0}if(5&ae[0])throw ae[1];return{value:ae[0]?ae[1]:void 0,done:!0}}([ae,ze])}}}function O(y,A,_,E){void 0===E&&(E=_),y[E]=A[_]}function B(y,A){for(var _ in y)"default"!==_&&!A.hasOwnProperty(_)&&(A[_]=y[_])}function H(y){var A="function"==typeof Symbol&&Symbol.iterator,_=A&&y[A],E=0;if(_)return _.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&E>=y.length&&(y=void 0),{value:y&&y[E++],done:!y}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function $(y,A){var _="function"==typeof Symbol&&y[Symbol.iterator];if(!_)return y;var M,ne,E=_.call(y),I=[];try{for(;(void 0===A||A-- >0)&&!(M=E.next()).done;)I.push(M.value)}catch(fe){ne={error:fe}}finally{try{M&&!M.done&&(_=E.return)&&_.call(E)}finally{if(ne)throw ne.error}}return I}function K(){for(var y=[],A=0;A<arguments.length;A++)y=y.concat($(arguments[A]));return y}function G(){for(var y=0,A=0,_=arguments.length;A<_;A++)y+=arguments[A].length;var E=Array(y),M=0;for(A=0;A<_;A++)for(var I=arguments[A],ne=0,fe=I.length;ne<fe;ne++,M++)E[M]=I[ne];return E}function W(y){return this instanceof W?(this.v=y,this):new W(y)}function le(y,A,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var M,E=_.apply(y,A||[]),I=[];return M={},ne("next"),ne("throw"),ne("return"),M[Symbol.asyncIterator]=function(){return this},M;function ne(Ne){E[Ne]&&(M[Ne]=function(Ye){return new Promise(function(Ze,ft){I.push([Ne,Ye,Ze,ft])>1||fe(Ne,Ye)})})}function fe(Ne,Ye){try{!function Ve(Ne){Ne.value instanceof W?Promise.resolve(Ne.value.v).then(ae,ze):ot(I[0][2],Ne)}(E[Ne](Ye))}catch(Ze){ot(I[0][3],Ze)}}function ae(Ne){fe("next",Ne)}function ze(Ne){fe("throw",Ne)}function ot(Ne,Ye){Ne(Ye),I.shift(),I.length&&fe(I[0][0],I[0][1])}}function L(y){var A,_;return A={},E("next"),E("throw",function(M){throw M}),E("return"),A[Symbol.iterator]=function(){return this},A;function E(M,I){A[M]=y[M]?function(ne){return(_=!_)?{value:W(y[M](ne)),done:"return"===M}:I?I(ne):ne}:I}}function U(y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,A=y[Symbol.asyncIterator];return A?A.call(y):(y=H(y),_={},E("next"),E("throw"),E("return"),_[Symbol.asyncIterator]=function(){return this},_);function E(I){_[I]=y[I]&&function(ne){return new Promise(function(fe,Ve){!function M(I,ne,fe,Ve){Promise.resolve(Ve).then(function(ae){I({value:ae,done:fe})},ne)}(fe,Ve,(ne=y[I](ne)).done,ne.value)})}}}function z(y,A){return Object.defineProperty?Object.defineProperty(y,"raw",{value:A}):y.raw=A,y}function ee(y){if(y&&y.__esModule)return y;var A={};if(null!=y)for(var _ in y)Object.hasOwnProperty.call(y,_)&&(A[_]=y[_]);return A.default=y,A}function ye(y){return y&&y.__esModule?y:{default:y}}function be(y,A){if(!A.has(y))throw new TypeError("attempted to get private field on non-instance");return A.get(y)}function pe(y,A,_){if(!A.has(y))throw new TypeError("attempted to set private field on non-instance");return A.set(y,_),_}},5298:(we,R,S)=>{S.r(R),S.d(R,{__extends:()=>a,__assign:()=>x,__rest:()=>F,__decorate:()=>j,__param:()=>d,__metadata:()=>h,__awaiter:()=>g,__generator:()=>N,__createBinding:()=>O,__exportStar:()=>B,__values:()=>H,__read:()=>$,__spread:()=>K,__spreadArrays:()=>G,__await:()=>W,__asyncGenerator:()=>le,__asyncDelegator:()=>L,__asyncValues:()=>U,__makeTemplateObject:()=>z,__importStar:()=>ee,__importDefault:()=>ye,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>pe});var P=function(y,A){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var M in E)E.hasOwnProperty(M)&&(_[M]=E[M])})(y,A)};function a(y,A){function _(){this.constructor=y}P(y,A),y.prototype=null===A?Object.create(A):(_.prototype=A.prototype,new _)}var x=function(){return x=Object.assign||function(A){for(var _,E=1,M=arguments.length;E<M;E++)for(var I in _=arguments[E])Object.prototype.hasOwnProperty.call(_,I)&&(A[I]=_[I]);return A},x.apply(this,arguments)};function F(y,A){var _={};for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&A.indexOf(E)<0&&(_[E]=y[E]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(E=Object.getOwnPropertySymbols(y);M<E.length;M++)A.indexOf(E[M])<0&&Object.prototype.propertyIsEnumerable.call(y,E[M])&&(_[E[M]]=y[E[M]])}return _}function j(y,A,_,E){var ne,M=arguments.length,I=M<3?A:null===E?E=Object.getOwnPropertyDescriptor(A,_):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(y,A,_,E);else for(var fe=y.length-1;fe>=0;fe--)(ne=y[fe])&&(I=(M<3?ne(I):M>3?ne(A,_,I):ne(A,_))||I);return M>3&&I&&Object.defineProperty(A,_,I),I}function d(y,A){return function(_,E){A(_,E,y)}}function h(y,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(y,A)}function g(y,A,_,E){return new(_||(_=Promise))(function(I,ne){function fe(ze){try{ae(E.next(ze))}catch(ot){ne(ot)}}function Ve(ze){try{ae(E.throw(ze))}catch(ot){ne(ot)}}function ae(ze){ze.done?I(ze.value):function M(I){return I instanceof _?I:new _(function(ne){ne(I)})}(ze.value).then(fe,Ve)}ae((E=E.apply(y,A||[])).next())})}function N(y,A){var E,M,I,ne,_={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]};return ne={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(ne[Symbol.iterator]=function(){return this}),ne;function fe(ae){return function(ze){return function Ve(ae){if(E)throw new TypeError("Generator is already executing.");for(;_;)try{if(E=1,M&&(I=2&ae[0]?M.return:ae[0]?M.throw||((I=M.return)&&I.call(M),0):M.next)&&!(I=I.call(M,ae[1])).done)return I;switch(M=0,I&&(ae=[2&ae[0],I.value]),ae[0]){case 0:case 1:I=ae;break;case 4:return _.label++,{value:ae[1],done:!1};case 5:_.label++,M=ae[1],ae=[0];continue;case 7:ae=_.ops.pop(),_.trys.pop();continue;default:if(!(I=(I=_.trys).length>0&&I[I.length-1])&&(6===ae[0]||2===ae[0])){_=0;continue}if(3===ae[0]&&(!I||ae[1]>I[0]&&ae[1]<I[3])){_.label=ae[1];break}if(6===ae[0]&&_.label<I[1]){_.label=I[1],I=ae;break}if(I&&_.label<I[2]){_.label=I[2],_.ops.push(ae);break}I[2]&&_.ops.pop(),_.trys.pop();continue}ae=A.call(y,_)}catch(ze){ae=[6,ze],M=0}finally{E=I=0}if(5&ae[0])throw ae[1];return{value:ae[0]?ae[1]:void 0,done:!0}}([ae,ze])}}}function O(y,A,_,E){void 0===E&&(E=_),y[E]=A[_]}function B(y,A){for(var _ in y)"default"!==_&&!A.hasOwnProperty(_)&&(A[_]=y[_])}function H(y){var A="function"==typeof Symbol&&Symbol.iterator,_=A&&y[A],E=0;if(_)return _.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&E>=y.length&&(y=void 0),{value:y&&y[E++],done:!y}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function $(y,A){var _="function"==typeof Symbol&&y[Symbol.iterator];if(!_)return y;var M,ne,E=_.call(y),I=[];try{for(;(void 0===A||A-- >0)&&!(M=E.next()).done;)I.push(M.value)}catch(fe){ne={error:fe}}finally{try{M&&!M.done&&(_=E.return)&&_.call(E)}finally{if(ne)throw ne.error}}return I}function K(){for(var y=[],A=0;A<arguments.length;A++)y=y.concat($(arguments[A]));return y}function G(){for(var y=0,A=0,_=arguments.length;A<_;A++)y+=arguments[A].length;var E=Array(y),M=0;for(A=0;A<_;A++)for(var I=arguments[A],ne=0,fe=I.length;ne<fe;ne++,M++)E[M]=I[ne];return E}function W(y){return this instanceof W?(this.v=y,this):new W(y)}function le(y,A,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var M,E=_.apply(y,A||[]),I=[];return M={},ne("next"),ne("throw"),ne("return"),M[Symbol.asyncIterator]=function(){return this},M;function ne(Ne){E[Ne]&&(M[Ne]=function(Ye){return new Promise(function(Ze,ft){I.push([Ne,Ye,Ze,ft])>1||fe(Ne,Ye)})})}function fe(Ne,Ye){try{!function Ve(Ne){Ne.value instanceof W?Promise.resolve(Ne.value.v).then(ae,ze):ot(I[0][2],Ne)}(E[Ne](Ye))}catch(Ze){ot(I[0][3],Ze)}}function ae(Ne){fe("next",Ne)}function ze(Ne){fe("throw",Ne)}function ot(Ne,Ye){Ne(Ye),I.shift(),I.length&&fe(I[0][0],I[0][1])}}function L(y){var A,_;return A={},E("next"),E("throw",function(M){throw M}),E("return"),A[Symbol.iterator]=function(){return this},A;function E(M,I){A[M]=y[M]?function(ne){return(_=!_)?{value:W(y[M](ne)),done:"return"===M}:I?I(ne):ne}:I}}function U(y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,A=y[Symbol.asyncIterator];return A?A.call(y):(y=H(y),_={},E("next"),E("throw"),E("return"),_[Symbol.asyncIterator]=function(){return this},_);function E(I){_[I]=y[I]&&function(ne){return new Promise(function(fe,Ve){!function M(I,ne,fe,Ve){Promise.resolve(Ve).then(function(ae){I({value:ae,done:fe})},ne)}(fe,Ve,(ne=y[I](ne)).done,ne.value)})}}}function z(y,A){return Object.defineProperty?Object.defineProperty(y,"raw",{value:A}):y.raw=A,y}function ee(y){if(y&&y.__esModule)return y;var A={};if(null!=y)for(var _ in y)Object.hasOwnProperty.call(y,_)&&(A[_]=y[_]);return A.default=y,A}function ye(y){return y&&y.__esModule?y:{default:y}}function be(y,A){if(!A.has(y))throw new TypeError("attempted to get private field on non-instance");return A.get(y)}function pe(y,A,_){if(!A.has(y))throw new TypeError("attempted to set private field on non-instance");return A.set(y,_),_}},9904:(we,R,S)=>{S.r(R),S.d(R,{__extends:()=>a,__assign:()=>x,__rest:()=>F,__decorate:()=>j,__param:()=>d,__metadata:()=>h,__awaiter:()=>g,__generator:()=>N,__createBinding:()=>O,__exportStar:()=>B,__values:()=>H,__read:()=>$,__spread:()=>K,__spreadArrays:()=>G,__await:()=>W,__asyncGenerator:()=>le,__asyncDelegator:()=>L,__asyncValues:()=>U,__makeTemplateObject:()=>z,__importStar:()=>ee,__importDefault:()=>ye,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>pe});var P=function(y,A){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var M in E)E.hasOwnProperty(M)&&(_[M]=E[M])})(y,A)};function a(y,A){function _(){this.constructor=y}P(y,A),y.prototype=null===A?Object.create(A):(_.prototype=A.prototype,new _)}var x=function(){return x=Object.assign||function(A){for(var _,E=1,M=arguments.length;E<M;E++)for(var I in _=arguments[E])Object.prototype.hasOwnProperty.call(_,I)&&(A[I]=_[I]);return A},x.apply(this,arguments)};function F(y,A){var _={};for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&A.indexOf(E)<0&&(_[E]=y[E]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(E=Object.getOwnPropertySymbols(y);M<E.length;M++)A.indexOf(E[M])<0&&Object.prototype.propertyIsEnumerable.call(y,E[M])&&(_[E[M]]=y[E[M]])}return _}function j(y,A,_,E){var ne,M=arguments.length,I=M<3?A:null===E?E=Object.getOwnPropertyDescriptor(A,_):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(y,A,_,E);else for(var fe=y.length-1;fe>=0;fe--)(ne=y[fe])&&(I=(M<3?ne(I):M>3?ne(A,_,I):ne(A,_))||I);return M>3&&I&&Object.defineProperty(A,_,I),I}function d(y,A){return function(_,E){A(_,E,y)}}function h(y,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(y,A)}function g(y,A,_,E){return new(_||(_=Promise))(function(I,ne){function fe(ze){try{ae(E.next(ze))}catch(ot){ne(ot)}}function Ve(ze){try{ae(E.throw(ze))}catch(ot){ne(ot)}}function ae(ze){ze.done?I(ze.value):function M(I){return I instanceof _?I:new _(function(ne){ne(I)})}(ze.value).then(fe,Ve)}ae((E=E.apply(y,A||[])).next())})}function N(y,A){var E,M,I,ne,_={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]};return ne={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(ne[Symbol.iterator]=function(){return this}),ne;function fe(ae){return function(ze){return function Ve(ae){if(E)throw new TypeError("Generator is already executing.");for(;_;)try{if(E=1,M&&(I=2&ae[0]?M.return:ae[0]?M.throw||((I=M.return)&&I.call(M),0):M.next)&&!(I=I.call(M,ae[1])).done)return I;switch(M=0,I&&(ae=[2&ae[0],I.value]),ae[0]){case 0:case 1:I=ae;break;case 4:return _.label++,{value:ae[1],done:!1};case 5:_.label++,M=ae[1],ae=[0];continue;case 7:ae=_.ops.pop(),_.trys.pop();continue;default:if(!(I=(I=_.trys).length>0&&I[I.length-1])&&(6===ae[0]||2===ae[0])){_=0;continue}if(3===ae[0]&&(!I||ae[1]>I[0]&&ae[1]<I[3])){_.label=ae[1];break}if(6===ae[0]&&_.label<I[1]){_.label=I[1],I=ae;break}if(I&&_.label<I[2]){_.label=I[2],_.ops.push(ae);break}I[2]&&_.ops.pop(),_.trys.pop();continue}ae=A.call(y,_)}catch(ze){ae=[6,ze],M=0}finally{E=I=0}if(5&ae[0])throw ae[1];return{value:ae[0]?ae[1]:void 0,done:!0}}([ae,ze])}}}function O(y,A,_,E){void 0===E&&(E=_),y[E]=A[_]}function B(y,A){for(var _ in y)"default"!==_&&!A.hasOwnProperty(_)&&(A[_]=y[_])}function H(y){var A="function"==typeof Symbol&&Symbol.iterator,_=A&&y[A],E=0;if(_)return _.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&E>=y.length&&(y=void 0),{value:y&&y[E++],done:!y}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function $(y,A){var _="function"==typeof Symbol&&y[Symbol.iterator];if(!_)return y;var M,ne,E=_.call(y),I=[];try{for(;(void 0===A||A-- >0)&&!(M=E.next()).done;)I.push(M.value)}catch(fe){ne={error:fe}}finally{try{M&&!M.done&&(_=E.return)&&_.call(E)}finally{if(ne)throw ne.error}}return I}function K(){for(var y=[],A=0;A<arguments.length;A++)y=y.concat($(arguments[A]));return y}function G(){for(var y=0,A=0,_=arguments.length;A<_;A++)y+=arguments[A].length;var E=Array(y),M=0;for(A=0;A<_;A++)for(var I=arguments[A],ne=0,fe=I.length;ne<fe;ne++,M++)E[M]=I[ne];return E}function W(y){return this instanceof W?(this.v=y,this):new W(y)}function le(y,A,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var M,E=_.apply(y,A||[]),I=[];return M={},ne("next"),ne("throw"),ne("return"),M[Symbol.asyncIterator]=function(){return this},M;function ne(Ne){E[Ne]&&(M[Ne]=function(Ye){return new Promise(function(Ze,ft){I.push([Ne,Ye,Ze,ft])>1||fe(Ne,Ye)})})}function fe(Ne,Ye){try{!function Ve(Ne){Ne.value instanceof W?Promise.resolve(Ne.value.v).then(ae,ze):ot(I[0][2],Ne)}(E[Ne](Ye))}catch(Ze){ot(I[0][3],Ze)}}function ae(Ne){fe("next",Ne)}function ze(Ne){fe("throw",Ne)}function ot(Ne,Ye){Ne(Ye),I.shift(),I.length&&fe(I[0][0],I[0][1])}}function L(y){var A,_;return A={},E("next"),E("throw",function(M){throw M}),E("return"),A[Symbol.iterator]=function(){return this},A;function E(M,I){A[M]=y[M]?function(ne){return(_=!_)?{value:W(y[M](ne)),done:"return"===M}:I?I(ne):ne}:I}}function U(y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,A=y[Symbol.asyncIterator];return A?A.call(y):(y=H(y),_={},E("next"),E("throw"),E("return"),_[Symbol.asyncIterator]=function(){return this},_);function E(I){_[I]=y[I]&&function(ne){return new Promise(function(fe,Ve){!function M(I,ne,fe,Ve){Promise.resolve(Ve).then(function(ae){I({value:ae,done:fe})},ne)}(fe,Ve,(ne=y[I](ne)).done,ne.value)})}}}function z(y,A){return Object.defineProperty?Object.defineProperty(y,"raw",{value:A}):y.raw=A,y}function ee(y){if(y&&y.__esModule)return y;var A={};if(null!=y)for(var _ in y)Object.hasOwnProperty.call(y,_)&&(A[_]=y[_]);return A.default=y,A}function ye(y){return y&&y.__esModule?y:{default:y}}function be(y,A){if(!A.has(y))throw new TypeError("attempted to get private field on non-instance");return A.get(y)}function pe(y,A,_){if(!A.has(y))throw new TypeError("attempted to set private field on non-instance");return A.set(y,_),_}},7716:(we,R,S)=>{S.r(R),S.d(R,{__extends:()=>a,__assign:()=>x,__rest:()=>F,__decorate:()=>j,__param:()=>d,__metadata:()=>h,__awaiter:()=>g,__generator:()=>N,__createBinding:()=>O,__exportStar:()=>B,__values:()=>H,__read:()=>$,__spread:()=>K,__spreadArrays:()=>G,__await:()=>W,__asyncGenerator:()=>le,__asyncDelegator:()=>L,__asyncValues:()=>U,__makeTemplateObject:()=>z,__importStar:()=>ee,__importDefault:()=>ye,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>pe});var P=function(y,A){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var M in E)E.hasOwnProperty(M)&&(_[M]=E[M])})(y,A)};function a(y,A){function _(){this.constructor=y}P(y,A),y.prototype=null===A?Object.create(A):(_.prototype=A.prototype,new _)}var x=function(){return x=Object.assign||function(A){for(var _,E=1,M=arguments.length;E<M;E++)for(var I in _=arguments[E])Object.prototype.hasOwnProperty.call(_,I)&&(A[I]=_[I]);return A},x.apply(this,arguments)};function F(y,A){var _={};for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&A.indexOf(E)<0&&(_[E]=y[E]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(E=Object.getOwnPropertySymbols(y);M<E.length;M++)A.indexOf(E[M])<0&&Object.prototype.propertyIsEnumerable.call(y,E[M])&&(_[E[M]]=y[E[M]])}return _}function j(y,A,_,E){var ne,M=arguments.length,I=M<3?A:null===E?E=Object.getOwnPropertyDescriptor(A,_):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(y,A,_,E);else for(var fe=y.length-1;fe>=0;fe--)(ne=y[fe])&&(I=(M<3?ne(I):M>3?ne(A,_,I):ne(A,_))||I);return M>3&&I&&Object.defineProperty(A,_,I),I}function d(y,A){return function(_,E){A(_,E,y)}}function h(y,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(y,A)}function g(y,A,_,E){return new(_||(_=Promise))(function(I,ne){function fe(ze){try{ae(E.next(ze))}catch(ot){ne(ot)}}function Ve(ze){try{ae(E.throw(ze))}catch(ot){ne(ot)}}function ae(ze){ze.done?I(ze.value):function M(I){return I instanceof _?I:new _(function(ne){ne(I)})}(ze.value).then(fe,Ve)}ae((E=E.apply(y,A||[])).next())})}function N(y,A){var E,M,I,ne,_={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]};return ne={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(ne[Symbol.iterator]=function(){return this}),ne;function fe(ae){return function(ze){return function Ve(ae){if(E)throw new TypeError("Generator is already executing.");for(;_;)try{if(E=1,M&&(I=2&ae[0]?M.return:ae[0]?M.throw||((I=M.return)&&I.call(M),0):M.next)&&!(I=I.call(M,ae[1])).done)return I;switch(M=0,I&&(ae=[2&ae[0],I.value]),ae[0]){case 0:case 1:I=ae;break;case 4:return _.label++,{value:ae[1],done:!1};case 5:_.label++,M=ae[1],ae=[0];continue;case 7:ae=_.ops.pop(),_.trys.pop();continue;default:if(!(I=(I=_.trys).length>0&&I[I.length-1])&&(6===ae[0]||2===ae[0])){_=0;continue}if(3===ae[0]&&(!I||ae[1]>I[0]&&ae[1]<I[3])){_.label=ae[1];break}if(6===ae[0]&&_.label<I[1]){_.label=I[1],I=ae;break}if(I&&_.label<I[2]){_.label=I[2],_.ops.push(ae);break}I[2]&&_.ops.pop(),_.trys.pop();continue}ae=A.call(y,_)}catch(ze){ae=[6,ze],M=0}finally{E=I=0}if(5&ae[0])throw ae[1];return{value:ae[0]?ae[1]:void 0,done:!0}}([ae,ze])}}}function O(y,A,_,E){void 0===E&&(E=_),y[E]=A[_]}function B(y,A){for(var _ in y)"default"!==_&&!A.hasOwnProperty(_)&&(A[_]=y[_])}function H(y){var A="function"==typeof Symbol&&Symbol.iterator,_=A&&y[A],E=0;if(_)return _.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&E>=y.length&&(y=void 0),{value:y&&y[E++],done:!y}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function $(y,A){var _="function"==typeof Symbol&&y[Symbol.iterator];if(!_)return y;var M,ne,E=_.call(y),I=[];try{for(;(void 0===A||A-- >0)&&!(M=E.next()).done;)I.push(M.value)}catch(fe){ne={error:fe}}finally{try{M&&!M.done&&(_=E.return)&&_.call(E)}finally{if(ne)throw ne.error}}return I}function K(){for(var y=[],A=0;A<arguments.length;A++)y=y.concat($(arguments[A]));return y}function G(){for(var y=0,A=0,_=arguments.length;A<_;A++)y+=arguments[A].length;var E=Array(y),M=0;for(A=0;A<_;A++)for(var I=arguments[A],ne=0,fe=I.length;ne<fe;ne++,M++)E[M]=I[ne];return E}function W(y){return this instanceof W?(this.v=y,this):new W(y)}function le(y,A,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var M,E=_.apply(y,A||[]),I=[];return M={},ne("next"),ne("throw"),ne("return"),M[Symbol.asyncIterator]=function(){return this},M;function ne(Ne){E[Ne]&&(M[Ne]=function(Ye){return new Promise(function(Ze,ft){I.push([Ne,Ye,Ze,ft])>1||fe(Ne,Ye)})})}function fe(Ne,Ye){try{!function Ve(Ne){Ne.value instanceof W?Promise.resolve(Ne.value.v).then(ae,ze):ot(I[0][2],Ne)}(E[Ne](Ye))}catch(Ze){ot(I[0][3],Ze)}}function ae(Ne){fe("next",Ne)}function ze(Ne){fe("throw",Ne)}function ot(Ne,Ye){Ne(Ye),I.shift(),I.length&&fe(I[0][0],I[0][1])}}function L(y){var A,_;return A={},E("next"),E("throw",function(M){throw M}),E("return"),A[Symbol.iterator]=function(){return this},A;function E(M,I){A[M]=y[M]?function(ne){return(_=!_)?{value:W(y[M](ne)),done:"return"===M}:I?I(ne):ne}:I}}function U(y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,A=y[Symbol.asyncIterator];return A?A.call(y):(y=H(y),_={},E("next"),E("throw"),E("return"),_[Symbol.asyncIterator]=function(){return this},_);function E(I){_[I]=y[I]&&function(ne){return new Promise(function(fe,Ve){!function M(I,ne,fe,Ve){Promise.resolve(Ve).then(function(ae){I({value:ae,done:fe})},ne)}(fe,Ve,(ne=y[I](ne)).done,ne.value)})}}}function z(y,A){return Object.defineProperty?Object.defineProperty(y,"raw",{value:A}):y.raw=A,y}function ee(y){if(y&&y.__esModule)return y;var A={};if(null!=y)for(var _ in y)Object.hasOwnProperty.call(y,_)&&(A[_]=y[_]);return A.default=y,A}function ye(y){return y&&y.__esModule?y:{default:y}}function be(y,A){if(!A.has(y))throw new TypeError("attempted to get private field on non-instance");return A.get(y)}function pe(y,A,_){if(!A.has(y))throw new TypeError("attempted to set private field on non-instance");return A.set(y,_),_}},6187:(we,R,S)=>{S.r(R),S.d(R,{__extends:()=>a,__assign:()=>x,__rest:()=>F,__decorate:()=>j,__param:()=>d,__metadata:()=>h,__awaiter:()=>g,__generator:()=>N,__createBinding:()=>O,__exportStar:()=>B,__values:()=>H,__read:()=>$,__spread:()=>K,__spreadArrays:()=>G,__await:()=>W,__asyncGenerator:()=>le,__asyncDelegator:()=>L,__asyncValues:()=>U,__makeTemplateObject:()=>z,__importStar:()=>ee,__importDefault:()=>ye,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>pe});var P=function(y,A){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var M in E)E.hasOwnProperty(M)&&(_[M]=E[M])})(y,A)};function a(y,A){function _(){this.constructor=y}P(y,A),y.prototype=null===A?Object.create(A):(_.prototype=A.prototype,new _)}var x=function(){return x=Object.assign||function(A){for(var _,E=1,M=arguments.length;E<M;E++)for(var I in _=arguments[E])Object.prototype.hasOwnProperty.call(_,I)&&(A[I]=_[I]);return A},x.apply(this,arguments)};function F(y,A){var _={};for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&A.indexOf(E)<0&&(_[E]=y[E]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(E=Object.getOwnPropertySymbols(y);M<E.length;M++)A.indexOf(E[M])<0&&Object.prototype.propertyIsEnumerable.call(y,E[M])&&(_[E[M]]=y[E[M]])}return _}function j(y,A,_,E){var ne,M=arguments.length,I=M<3?A:null===E?E=Object.getOwnPropertyDescriptor(A,_):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(y,A,_,E);else for(var fe=y.length-1;fe>=0;fe--)(ne=y[fe])&&(I=(M<3?ne(I):M>3?ne(A,_,I):ne(A,_))||I);return M>3&&I&&Object.defineProperty(A,_,I),I}function d(y,A){return function(_,E){A(_,E,y)}}function h(y,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(y,A)}function g(y,A,_,E){return new(_||(_=Promise))(function(I,ne){function fe(ze){try{ae(E.next(ze))}catch(ot){ne(ot)}}function Ve(ze){try{ae(E.throw(ze))}catch(ot){ne(ot)}}function ae(ze){ze.done?I(ze.value):function M(I){return I instanceof _?I:new _(function(ne){ne(I)})}(ze.value).then(fe,Ve)}ae((E=E.apply(y,A||[])).next())})}function N(y,A){var E,M,I,ne,_={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]};return ne={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(ne[Symbol.iterator]=function(){return this}),ne;function fe(ae){return function(ze){return function Ve(ae){if(E)throw new TypeError("Generator is already executing.");for(;_;)try{if(E=1,M&&(I=2&ae[0]?M.return:ae[0]?M.throw||((I=M.return)&&I.call(M),0):M.next)&&!(I=I.call(M,ae[1])).done)return I;switch(M=0,I&&(ae=[2&ae[0],I.value]),ae[0]){case 0:case 1:I=ae;break;case 4:return _.label++,{value:ae[1],done:!1};case 5:_.label++,M=ae[1],ae=[0];continue;case 7:ae=_.ops.pop(),_.trys.pop();continue;default:if(!(I=(I=_.trys).length>0&&I[I.length-1])&&(6===ae[0]||2===ae[0])){_=0;continue}if(3===ae[0]&&(!I||ae[1]>I[0]&&ae[1]<I[3])){_.label=ae[1];break}if(6===ae[0]&&_.label<I[1]){_.label=I[1],I=ae;break}if(I&&_.label<I[2]){_.label=I[2],_.ops.push(ae);break}I[2]&&_.ops.pop(),_.trys.pop();continue}ae=A.call(y,_)}catch(ze){ae=[6,ze],M=0}finally{E=I=0}if(5&ae[0])throw ae[1];return{value:ae[0]?ae[1]:void 0,done:!0}}([ae,ze])}}}function O(y,A,_,E){void 0===E&&(E=_),y[E]=A[_]}function B(y,A){for(var _ in y)"default"!==_&&!A.hasOwnProperty(_)&&(A[_]=y[_])}function H(y){var A="function"==typeof Symbol&&Symbol.iterator,_=A&&y[A],E=0;if(_)return _.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&E>=y.length&&(y=void 0),{value:y&&y[E++],done:!y}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function $(y,A){var _="function"==typeof Symbol&&y[Symbol.iterator];if(!_)return y;var M,ne,E=_.call(y),I=[];try{for(;(void 0===A||A-- >0)&&!(M=E.next()).done;)I.push(M.value)}catch(fe){ne={error:fe}}finally{try{M&&!M.done&&(_=E.return)&&_.call(E)}finally{if(ne)throw ne.error}}return I}function K(){for(var y=[],A=0;A<arguments.length;A++)y=y.concat($(arguments[A]));return y}function G(){for(var y=0,A=0,_=arguments.length;A<_;A++)y+=arguments[A].length;var E=Array(y),M=0;for(A=0;A<_;A++)for(var I=arguments[A],ne=0,fe=I.length;ne<fe;ne++,M++)E[M]=I[ne];return E}function W(y){return this instanceof W?(this.v=y,this):new W(y)}function le(y,A,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var M,E=_.apply(y,A||[]),I=[];return M={},ne("next"),ne("throw"),ne("return"),M[Symbol.asyncIterator]=function(){return this},M;function ne(Ne){E[Ne]&&(M[Ne]=function(Ye){return new Promise(function(Ze,ft){I.push([Ne,Ye,Ze,ft])>1||fe(Ne,Ye)})})}function fe(Ne,Ye){try{!function Ve(Ne){Ne.value instanceof W?Promise.resolve(Ne.value.v).then(ae,ze):ot(I[0][2],Ne)}(E[Ne](Ye))}catch(Ze){ot(I[0][3],Ze)}}function ae(Ne){fe("next",Ne)}function ze(Ne){fe("throw",Ne)}function ot(Ne,Ye){Ne(Ye),I.shift(),I.length&&fe(I[0][0],I[0][1])}}function L(y){var A,_;return A={},E("next"),E("throw",function(M){throw M}),E("return"),A[Symbol.iterator]=function(){return this},A;function E(M,I){A[M]=y[M]?function(ne){return(_=!_)?{value:W(y[M](ne)),done:"return"===M}:I?I(ne):ne}:I}}function U(y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,A=y[Symbol.asyncIterator];return A?A.call(y):(y=H(y),_={},E("next"),E("throw"),E("return"),_[Symbol.asyncIterator]=function(){return this},_);function E(I){_[I]=y[I]&&function(ne){return new Promise(function(fe,Ve){!function M(I,ne,fe,Ve){Promise.resolve(Ve).then(function(ae){I({value:ae,done:fe})},ne)}(fe,Ve,(ne=y[I](ne)).done,ne.value)})}}}function z(y,A){return Object.defineProperty?Object.defineProperty(y,"raw",{value:A}):y.raw=A,y}function ee(y){if(y&&y.__esModule)return y;var A={};if(null!=y)for(var _ in y)Object.hasOwnProperty.call(y,_)&&(A[_]=y[_]);return A.default=y,A}function ye(y){return y&&y.__esModule?y:{default:y}}function be(y,A){if(!A.has(y))throw new TypeError("attempted to get private field on non-instance");return A.get(y)}function pe(y,A,_){if(!A.has(y))throw new TypeError("attempted to set private field on non-instance");return A.set(y,_),_}},9622:(we,R,S)=>{S.r(R),S.d(R,{__extends:()=>a,__assign:()=>x,__rest:()=>F,__decorate:()=>j,__param:()=>d,__metadata:()=>h,__awaiter:()=>g,__generator:()=>N,__createBinding:()=>O,__exportStar:()=>B,__values:()=>H,__read:()=>$,__spread:()=>K,__spreadArrays:()=>G,__await:()=>W,__asyncGenerator:()=>le,__asyncDelegator:()=>L,__asyncValues:()=>U,__makeTemplateObject:()=>z,__importStar:()=>ee,__importDefault:()=>ye,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>pe});var P=function(y,A){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var M in E)E.hasOwnProperty(M)&&(_[M]=E[M])})(y,A)};function a(y,A){function _(){this.constructor=y}P(y,A),y.prototype=null===A?Object.create(A):(_.prototype=A.prototype,new _)}var x=function(){return x=Object.assign||function(A){for(var _,E=1,M=arguments.length;E<M;E++)for(var I in _=arguments[E])Object.prototype.hasOwnProperty.call(_,I)&&(A[I]=_[I]);return A},x.apply(this,arguments)};function F(y,A){var _={};for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&A.indexOf(E)<0&&(_[E]=y[E]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(E=Object.getOwnPropertySymbols(y);M<E.length;M++)A.indexOf(E[M])<0&&Object.prototype.propertyIsEnumerable.call(y,E[M])&&(_[E[M]]=y[E[M]])}return _}function j(y,A,_,E){var ne,M=arguments.length,I=M<3?A:null===E?E=Object.getOwnPropertyDescriptor(A,_):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(y,A,_,E);else for(var fe=y.length-1;fe>=0;fe--)(ne=y[fe])&&(I=(M<3?ne(I):M>3?ne(A,_,I):ne(A,_))||I);return M>3&&I&&Object.defineProperty(A,_,I),I}function d(y,A){return function(_,E){A(_,E,y)}}function h(y,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(y,A)}function g(y,A,_,E){return new(_||(_=Promise))(function(I,ne){function fe(ze){try{ae(E.next(ze))}catch(ot){ne(ot)}}function Ve(ze){try{ae(E.throw(ze))}catch(ot){ne(ot)}}function ae(ze){ze.done?I(ze.value):function M(I){return I instanceof _?I:new _(function(ne){ne(I)})}(ze.value).then(fe,Ve)}ae((E=E.apply(y,A||[])).next())})}function N(y,A){var E,M,I,ne,_={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]};return ne={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(ne[Symbol.iterator]=function(){return this}),ne;function fe(ae){return function(ze){return function Ve(ae){if(E)throw new TypeError("Generator is already executing.");for(;_;)try{if(E=1,M&&(I=2&ae[0]?M.return:ae[0]?M.throw||((I=M.return)&&I.call(M),0):M.next)&&!(I=I.call(M,ae[1])).done)return I;switch(M=0,I&&(ae=[2&ae[0],I.value]),ae[0]){case 0:case 1:I=ae;break;case 4:return _.label++,{value:ae[1],done:!1};case 5:_.label++,M=ae[1],ae=[0];continue;case 7:ae=_.ops.pop(),_.trys.pop();continue;default:if(!(I=(I=_.trys).length>0&&I[I.length-1])&&(6===ae[0]||2===ae[0])){_=0;continue}if(3===ae[0]&&(!I||ae[1]>I[0]&&ae[1]<I[3])){_.label=ae[1];break}if(6===ae[0]&&_.label<I[1]){_.label=I[1],I=ae;break}if(I&&_.label<I[2]){_.label=I[2],_.ops.push(ae);break}I[2]&&_.ops.pop(),_.trys.pop();continue}ae=A.call(y,_)}catch(ze){ae=[6,ze],M=0}finally{E=I=0}if(5&ae[0])throw ae[1];return{value:ae[0]?ae[1]:void 0,done:!0}}([ae,ze])}}}function O(y,A,_,E){void 0===E&&(E=_),y[E]=A[_]}function B(y,A){for(var _ in y)"default"!==_&&!A.hasOwnProperty(_)&&(A[_]=y[_])}function H(y){var A="function"==typeof Symbol&&Symbol.iterator,_=A&&y[A],E=0;if(_)return _.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&E>=y.length&&(y=void 0),{value:y&&y[E++],done:!y}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function $(y,A){var _="function"==typeof Symbol&&y[Symbol.iterator];if(!_)return y;var M,ne,E=_.call(y),I=[];try{for(;(void 0===A||A-- >0)&&!(M=E.next()).done;)I.push(M.value)}catch(fe){ne={error:fe}}finally{try{M&&!M.done&&(_=E.return)&&_.call(E)}finally{if(ne)throw ne.error}}return I}function K(){for(var y=[],A=0;A<arguments.length;A++)y=y.concat($(arguments[A]));return y}function G(){for(var y=0,A=0,_=arguments.length;A<_;A++)y+=arguments[A].length;var E=Array(y),M=0;for(A=0;A<_;A++)for(var I=arguments[A],ne=0,fe=I.length;ne<fe;ne++,M++)E[M]=I[ne];return E}function W(y){return this instanceof W?(this.v=y,this):new W(y)}function le(y,A,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var M,E=_.apply(y,A||[]),I=[];return M={},ne("next"),ne("throw"),ne("return"),M[Symbol.asyncIterator]=function(){return this},M;function ne(Ne){E[Ne]&&(M[Ne]=function(Ye){return new Promise(function(Ze,ft){I.push([Ne,Ye,Ze,ft])>1||fe(Ne,Ye)})})}function fe(Ne,Ye){try{!function Ve(Ne){Ne.value instanceof W?Promise.resolve(Ne.value.v).then(ae,ze):ot(I[0][2],Ne)}(E[Ne](Ye))}catch(Ze){ot(I[0][3],Ze)}}function ae(Ne){fe("next",Ne)}function ze(Ne){fe("throw",Ne)}function ot(Ne,Ye){Ne(Ye),I.shift(),I.length&&fe(I[0][0],I[0][1])}}function L(y){var A,_;return A={},E("next"),E("throw",function(M){throw M}),E("return"),A[Symbol.iterator]=function(){return this},A;function E(M,I){A[M]=y[M]?function(ne){return(_=!_)?{value:W(y[M](ne)),done:"return"===M}:I?I(ne):ne}:I}}function U(y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,A=y[Symbol.asyncIterator];return A?A.call(y):(y=H(y),_={},E("next"),E("throw"),E("return"),_[Symbol.asyncIterator]=function(){return this},_);function E(I){_[I]=y[I]&&function(ne){return new Promise(function(fe,Ve){!function M(I,ne,fe,Ve){Promise.resolve(Ve).then(function(ae){I({value:ae,done:fe})},ne)}(fe,Ve,(ne=y[I](ne)).done,ne.value)})}}}function z(y,A){return Object.defineProperty?Object.defineProperty(y,"raw",{value:A}):y.raw=A,y}function ee(y){if(y&&y.__esModule)return y;var A={};if(null!=y)for(var _ in y)Object.hasOwnProperty.call(y,_)&&(A[_]=y[_]);return A.default=y,A}function ye(y){return y&&y.__esModule?y:{default:y}}function be(y,A){if(!A.has(y))throw new TypeError("attempted to get private field on non-instance");return A.get(y)}function pe(y,A,_){if(!A.has(y))throw new TypeError("attempted to set private field on non-instance");return A.set(y,_),_}},2220:(we,R,S)=>{S.r(R),S.d(R,{__extends:()=>a,__assign:()=>x,__rest:()=>F,__decorate:()=>j,__param:()=>d,__metadata:()=>h,__awaiter:()=>g,__generator:()=>N,__createBinding:()=>O,__exportStar:()=>B,__values:()=>H,__read:()=>$,__spread:()=>K,__spreadArrays:()=>G,__await:()=>W,__asyncGenerator:()=>le,__asyncDelegator:()=>L,__asyncValues:()=>U,__makeTemplateObject:()=>z,__importStar:()=>ee,__importDefault:()=>ye,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>pe});var P=function(y,A){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var M in E)E.hasOwnProperty(M)&&(_[M]=E[M])})(y,A)};function a(y,A){function _(){this.constructor=y}P(y,A),y.prototype=null===A?Object.create(A):(_.prototype=A.prototype,new _)}var x=function(){return x=Object.assign||function(A){for(var _,E=1,M=arguments.length;E<M;E++)for(var I in _=arguments[E])Object.prototype.hasOwnProperty.call(_,I)&&(A[I]=_[I]);return A},x.apply(this,arguments)};function F(y,A){var _={};for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&A.indexOf(E)<0&&(_[E]=y[E]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(E=Object.getOwnPropertySymbols(y);M<E.length;M++)A.indexOf(E[M])<0&&Object.prototype.propertyIsEnumerable.call(y,E[M])&&(_[E[M]]=y[E[M]])}return _}function j(y,A,_,E){var ne,M=arguments.length,I=M<3?A:null===E?E=Object.getOwnPropertyDescriptor(A,_):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(y,A,_,E);else for(var fe=y.length-1;fe>=0;fe--)(ne=y[fe])&&(I=(M<3?ne(I):M>3?ne(A,_,I):ne(A,_))||I);return M>3&&I&&Object.defineProperty(A,_,I),I}function d(y,A){return function(_,E){A(_,E,y)}}function h(y,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(y,A)}function g(y,A,_,E){return new(_||(_=Promise))(function(I,ne){function fe(ze){try{ae(E.next(ze))}catch(ot){ne(ot)}}function Ve(ze){try{ae(E.throw(ze))}catch(ot){ne(ot)}}function ae(ze){ze.done?I(ze.value):function M(I){return I instanceof _?I:new _(function(ne){ne(I)})}(ze.value).then(fe,Ve)}ae((E=E.apply(y,A||[])).next())})}function N(y,A){var E,M,I,ne,_={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]};return ne={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(ne[Symbol.iterator]=function(){return this}),ne;function fe(ae){return function(ze){return function Ve(ae){if(E)throw new TypeError("Generator is already executing.");for(;_;)try{if(E=1,M&&(I=2&ae[0]?M.return:ae[0]?M.throw||((I=M.return)&&I.call(M),0):M.next)&&!(I=I.call(M,ae[1])).done)return I;switch(M=0,I&&(ae=[2&ae[0],I.value]),ae[0]){case 0:case 1:I=ae;break;case 4:return _.label++,{value:ae[1],done:!1};case 5:_.label++,M=ae[1],ae=[0];continue;case 7:ae=_.ops.pop(),_.trys.pop();continue;default:if(!(I=(I=_.trys).length>0&&I[I.length-1])&&(6===ae[0]||2===ae[0])){_=0;continue}if(3===ae[0]&&(!I||ae[1]>I[0]&&ae[1]<I[3])){_.label=ae[1];break}if(6===ae[0]&&_.label<I[1]){_.label=I[1],I=ae;break}if(I&&_.label<I[2]){_.label=I[2],_.ops.push(ae);break}I[2]&&_.ops.pop(),_.trys.pop();continue}ae=A.call(y,_)}catch(ze){ae=[6,ze],M=0}finally{E=I=0}if(5&ae[0])throw ae[1];return{value:ae[0]?ae[1]:void 0,done:!0}}([ae,ze])}}}function O(y,A,_,E){void 0===E&&(E=_),y[E]=A[_]}function B(y,A){for(var _ in y)"default"!==_&&!A.hasOwnProperty(_)&&(A[_]=y[_])}function H(y){var A="function"==typeof Symbol&&Symbol.iterator,_=A&&y[A],E=0;if(_)return _.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&E>=y.length&&(y=void 0),{value:y&&y[E++],done:!y}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function $(y,A){var _="function"==typeof Symbol&&y[Symbol.iterator];if(!_)return y;var M,ne,E=_.call(y),I=[];try{for(;(void 0===A||A-- >0)&&!(M=E.next()).done;)I.push(M.value)}catch(fe){ne={error:fe}}finally{try{M&&!M.done&&(_=E.return)&&_.call(E)}finally{if(ne)throw ne.error}}return I}function K(){for(var y=[],A=0;A<arguments.length;A++)y=y.concat($(arguments[A]));return y}function G(){for(var y=0,A=0,_=arguments.length;A<_;A++)y+=arguments[A].length;var E=Array(y),M=0;for(A=0;A<_;A++)for(var I=arguments[A],ne=0,fe=I.length;ne<fe;ne++,M++)E[M]=I[ne];return E}function W(y){return this instanceof W?(this.v=y,this):new W(y)}function le(y,A,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var M,E=_.apply(y,A||[]),I=[];return M={},ne("next"),ne("throw"),ne("return"),M[Symbol.asyncIterator]=function(){return this},M;function ne(Ne){E[Ne]&&(M[Ne]=function(Ye){return new Promise(function(Ze,ft){I.push([Ne,Ye,Ze,ft])>1||fe(Ne,Ye)})})}function fe(Ne,Ye){try{!function Ve(Ne){Ne.value instanceof W?Promise.resolve(Ne.value.v).then(ae,ze):ot(I[0][2],Ne)}(E[Ne](Ye))}catch(Ze){ot(I[0][3],Ze)}}function ae(Ne){fe("next",Ne)}function ze(Ne){fe("throw",Ne)}function ot(Ne,Ye){Ne(Ye),I.shift(),I.length&&fe(I[0][0],I[0][1])}}function L(y){var A,_;return A={},E("next"),E("throw",function(M){throw M}),E("return"),A[Symbol.iterator]=function(){return this},A;function E(M,I){A[M]=y[M]?function(ne){return(_=!_)?{value:W(y[M](ne)),done:"return"===M}:I?I(ne):ne}:I}}function U(y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,A=y[Symbol.asyncIterator];return A?A.call(y):(y=H(y),_={},E("next"),E("throw"),E("return"),_[Symbol.asyncIterator]=function(){return this},_);function E(I){_[I]=y[I]&&function(ne){return new Promise(function(fe,Ve){!function M(I,ne,fe,Ve){Promise.resolve(Ve).then(function(ae){I({value:ae,done:fe})},ne)}(fe,Ve,(ne=y[I](ne)).done,ne.value)})}}}function z(y,A){return Object.defineProperty?Object.defineProperty(y,"raw",{value:A}):y.raw=A,y}function ee(y){if(y&&y.__esModule)return y;var A={};if(null!=y)for(var _ in y)Object.hasOwnProperty.call(y,_)&&(A[_]=y[_]);return A.default=y,A}function ye(y){return y&&y.__esModule?y:{default:y}}function be(y,A){if(!A.has(y))throw new TypeError("attempted to get private field on non-instance");return A.get(y)}function pe(y,A,_){if(!A.has(y))throw new TypeError("attempted to set private field on non-instance");return A.set(y,_),_}},6399:()=>{},3743:()=>{},6989:()=>{},4654:()=>{},2361:()=>{},4616:()=>{},5242:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2207),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9263),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(591),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3336),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(745),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6646),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(4915),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(6067),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1203),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(116),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(635),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6362),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7580),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(1989),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(3158),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(9295),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(8951),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2673),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(7260),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(8728),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(538),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(4503);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(we){const R={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},S="function"==typeof we?we():we,x=Object.assign({},R,{features:S.features||!!S.logOnly&&{pause:!0,export:!0,test:!0}||R.features},S);if(x.maxAge&&x.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${x.maxAge}`);return x}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(R,S){if(this.action=R,this.timestamp=S,this.type=PERFORM_ACTION,void 0===R.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(R){this.timestamp=R,this.type=RESET}}class Rollback{constructor(R){this.timestamp=R,this.type=ROLLBACK}}class Commit{constructor(R){this.timestamp=R,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(R){this.id=R,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(R,S,P=!0){this.start=R,this.end=S,this.active=P,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(R){this.index=R,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(R){this.actionId=R,this.type=JUMP_TO_ACTION}}class ImportState{constructor(R){this.nextLiftedState=R,this.type=IMPORT_STATE}}class LockChanges{constructor(R){this.status=R,this.type=LOCK_CHANGES}}class PauseRecording{constructor(R){this.status=R,this.type=PAUSE_RECORDING}}function difference(we,R){return we.filter(S=>R.indexOf(S)<0)}function unliftState(we){const{computedStates:R,currentStateIndex:S}=we;if(S>=R.length){const{state:a}=R[R.length-1];return a}const{state:P}=R[S];return P}function unliftAction(we){return we.actionsById[we.nextActionId-1]}function liftAction(we){return new PerformAction(we,+Date.now())}function sanitizeActions(we,R){return Object.keys(R).reduce((S,P)=>{const a=Number(P);return S[a]=sanitizeAction(we,R[a],a),S},{})}function sanitizeAction(we,R,S){return{...R,action:we(R.action,S)}}function sanitizeStates(we,R){return R.map((S,P)=>({state:sanitizeState(we,S.state,P),error:S.error}))}function sanitizeState(we,R,S){return we(R,S)}function shouldFilterActions(we){return we.predicate||we.actionsSafelist||we.actionsBlocklist}function filterLiftedState(we,R,S,P){const a=[],x={},F=[];return we.stagedActionIds.forEach((j,d)=>{const h=we.actionsById[j];!h||d&&isActionFiltered(we.computedStates[d],h,R,S,P)||(x[j]=h,a.push(j),F.push(we.computedStates[d]))}),{...we,stagedActionIds:a,actionsById:x,computedStates:F}}function isActionFiltered(we,R,S,P,a){const x=S&&!S(we,R.action),F=P&&!R.action.type.match(P.map(d=>escapeRegExp(d)).join("|")),j=a&&R.action.type.match(a.map(d=>escapeRegExp(d)).join("|"));return x||F||j}function escapeRegExp(we){return we.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(we,R,S,P,a){if(P)return{state:S,error:"Interrupted by an error up the chain"};let F,x=S;try{x=we(S,R)}catch(j){F=j.toString(),a.handleError(j)}return{state:x,error:F}}function recomputeStates(we,R,S,P,a,x,F,j,d){if(R>=we.length&&we.length===x.length)return we;const h=we.slice(0,R),g=x.length-(d?1:0);for(let N=R;N<g;N++){const O=x[N],B=a[O].action,H=h[N-1],$=H?H.state:P,K=H?H.error:void 0,W=F.indexOf(O)>-1?H:computeNextEntry(S,B,$,K,j);h.push(W)}return d&&h.push(we[we.length-1]),h}function liftInitialState(we,R){return{monitorState:R(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:we,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(we,R,S,P,a={}){return x=>(F,j)=>{let{monitorState:d,actionsById:h,nextActionId:g,stagedActionIds:N,skippedActionIds:O,committedState:B,currentStateIndex:H,computedStates:$,isLocked:K,isPaused:G}=F||R;function W(U){let z=U,ee=N.slice(1,z+1);for(let ye=0;ye<ee.length;ye++){if($[ye+1].error){z=ye,ee=N.slice(1,z+1);break}delete h[ee[ye]]}O=O.filter(ye=>-1===ee.indexOf(ye)),N=[0,...N.slice(z+1)],B=$[z].state,$=$.slice(z),H=H>z?H-z:0}function le(){h={0:liftAction(INIT_ACTION)},g=1,N=[0],O=[],B=$[H].state,H=0,$=[]}F||(h=Object.create(h));let L=0;switch(j.type){case LOCK_CHANGES:K=j.status,L=1/0;break;case PAUSE_RECORDING:G=j.status,G?(N=[...N,g],h[g]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),g++,L=N.length-1,$=$.concat($[$.length-1]),H===N.length-2&&H++,L=1/0):le();break;case RESET:h={0:liftAction(INIT_ACTION)},g=1,N=[0],O=[],B=we,H=0,$=[];break;case COMMIT:le();break;case ROLLBACK:h={0:liftAction(INIT_ACTION)},g=1,N=[0],O=[],H=0,$=[];break;case TOGGLE_ACTION:{const{id:U}=j;O=-1===O.indexOf(U)?[U,...O]:O.filter(ee=>ee!==U),L=N.indexOf(U);break}case SET_ACTIONS_ACTIVE:{const{start:U,end:z,active:ee}=j,ye=[];for(let be=U;be<z;be++)ye.push(be);O=ee?difference(O,ye):[...O,...ye],L=N.indexOf(U);break}case JUMP_TO_STATE:H=j.index,L=1/0;break;case JUMP_TO_ACTION:{const U=N.indexOf(j.actionId);-1!==U&&(H=U),L=1/0;break}case SWEEP:N=difference(N,O),O=[],H=Math.min(H,N.length-1);break;case PERFORM_ACTION:{if(K)return F||R;if(G||F&&isActionFiltered(F.computedStates[H],j,a.predicate,a.actionsSafelist,a.actionsBlocklist)){const z=$[$.length-1];$=[...$.slice(0,-1),computeNextEntry(x,j.action,z.state,z.error,S)],L=1/0;break}a.maxAge&&N.length===a.maxAge&&W(1),H===N.length-1&&H++;const U=g++;h[U]=j,N=[...N,U],L=N.length-1;break}case IMPORT_STATE:({monitorState:d,actionsById:h,nextActionId:g,stagedActionIds:N,skippedActionIds:O,committedState:B,currentStateIndex:H,computedStates:$,isLocked:K,isPaused:G}=j.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:L=0,a.maxAge&&N.length>a.maxAge&&($=recomputeStates($,L,x,B,h,N,O,S,G),W(N.length-a.maxAge),L=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if($.filter(z=>z.error).length>0)L=0,a.maxAge&&N.length>a.maxAge&&($=recomputeStates($,L,x,B,h,N,O,S,G),W(N.length-a.maxAge),L=1/0);else{if(!G&&!K){H===N.length-1&&H++;const z=g++;h[z]=new PerformAction(j,+Date.now()),N=[...N,z],L=N.length-1,$=recomputeStates($,L,x,B,h,N,O,S,G)}$=$.map(z=>({...z,state:x(z.state,RECOMPUTE_ACTION)})),H=N.length-1,a.maxAge&&N.length>a.maxAge&&W(N.length-a.maxAge),L=1/0}break;default:L=1/0}return $=recomputeStates($,L,x,B,h,N,O,S,G),d=P(d,j),{monitorState:d,actionsById:h,nextActionId:g,stagedActionIds:N,skippedActionIds:O,committedState:B,currentStateIndex:H,computedStates:$,isLocked:K,isPaused:G}}}let DevtoolsDispatcher=(()=>{class we extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return we.\u0275fac=function(){let R;return function(P){return(R||(R=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275getInheritedFactory(we)))(P||we)}}(),we.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineInjectable({token:we,factory:we.\u0275fac}),we})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(we,R,S){this.config=R,this.dispatcher=S,this.devtoolsExtension=we,this.createActionStreams()}notify(we,R){if(this.devtoolsExtension)if(we.type===PERFORM_ACTION){if(R.isLocked||R.isPaused)return;const S=unliftState(R);if(shouldFilterActions(this.config)&&isActionFiltered(S,we,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const P=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,S,R.currentStateIndex):S,a=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,we,R.nextActionId):we;this.sendToReduxDevtools(()=>this.extensionConnection.send(a,P))}else{const S={...R,stagedActionIds:R.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,R.actionsById):R.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,R.computedStates):R.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,S,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(we=>{const R=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=R,R.init(),R.subscribe(S=>we.next(S)),R.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const we=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),R=we.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(j=>j.type===ExtensionActionTypes.START)),S=we.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(j=>j.type===ExtensionActionTypes.STOP)),P=we.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(j=>j.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(j=>this.unwrapAction(j.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(j=>j.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(d=>d.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>j),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(j)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(j))),x=we.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(j=>j.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(j=>this.unwrapAction(j.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(S)),F=P.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(S));this.start$=R.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(S)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>x)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>F))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(we){const R={name:we.name,features:we.features,serialize:we.serialize,autoPause:we.autoPause??!1};return!1!==we.maxAge&&(R.maxAge=we.maxAge),R}sendToReduxDevtools(we){try{we()}catch(R){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",R)}}}return DevtoolsExtension.\u0275fac=function we(R){return new(R||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineInjectable({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})(),StoreDevtools=(()=>{class we{constructor(S,P,a,x,F,j,d,h){const g=liftInitialState(d,h.monitor),N=liftReducerWith(d,g,j,h.monitor,h),O=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(P.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),x.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),S,x.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),B=a.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(N)),H=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),$=O.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(B),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:le},[L,U])=>{let z=U(le,L);return L.type!==PERFORM_ACTION&&shouldFilterActions(h)&&(z=filterLiftedState(z,h.predicate,h.actionsSafelist,h.actionsBlocklist)),x.notify(L,z),{state:z,action:L}},{state:g,action:null})).subscribe(({state:le,action:L})=>{H.next(le),L.type===PERFORM_ACTION&&F.next(L.action)}),K=x.start$.subscribe(()=>{this.refresh()}),G=H.asObservable(),W=G.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=K,this.stateSubscription=$,this.dispatcher=S,this.liftedState=G,this.state=W}dispatch(S){this.dispatcher.next(S)}next(S){this.dispatcher.next(S)}error(S){}complete(){}performAction(S){this.dispatch(new PerformAction(S,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(S){this.dispatch(new ToggleAction(S))}jumpToAction(S){this.dispatch(new JumpToAction(S))}jumpToState(S){this.dispatch(new JumpToState(S))}importState(S){this.dispatch(new ImportState(S))}lockChanges(S){this.dispatch(new LockChanges(S))}pauseRecording(S){this.dispatch(new PauseRecording(S))}}return we.\u0275fac=function(S){return new(S||we)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ErrorHandler),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(STORE_DEVTOOLS_CONFIG))},we.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineInjectable({token:we,factory:we.\u0275fac}),we})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(we,R){return Boolean(we)||R.monitor!==noMonitor}function createReduxDevtoolsExtension(){const we="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[we]?window[we]:null}function createStateObservable(we){return we.state}let StoreDevtoolsModule=(()=>{class we{static instrument(S={}){return{ngModule:we,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:S},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return we.\u0275fac=function(S){return new(S||we)},we.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineNgModule({type:we}),we.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineInjector({}),we})()},9263:(we,R,S)=>{S.d(R,{hg:()=>ft,UO:()=>U,qg:()=>L,Y6:()=>be,PB:()=>ge,mK:()=>Le,n$:()=>Pe,Y$:()=>_e,FR:()=>V,yh:()=>He,CK:()=>yo,Aw:()=>Cs,cr:()=>ca,wb:()=>ce,UY:()=>Be,qC:()=>de,PH:()=>K,ZF:()=>ui,Lq:()=>k,P1:()=>Rr,rM:()=>wn,on:()=>b,Ky:()=>G,Ys:()=>vt});var P=S(2207),a=S(6317),x=S(3336),F=S(253),j=S(4915),d=S(635),g=S(8728),N=S(538),O=S(4503),B=S(8977);const H={};function K(T,Z){if(H[T]=(H[T]||0)+1,"function"==typeof Z)return le(T,(...ue)=>({...Z(...ue),type:T}));switch(Z?Z._as:"empty"){case"empty":return le(T,()=>({type:T}));case"props":return le(T,ue=>({...ue,type:T}));default:throw new Error("Unexpected config.")}}function G(){return{_as:"props",_p:void 0}}function le(T,Z){return Object.defineProperty(Z,"type",{value:T,writable:!1})}const L="@ngrx/store/init";let U=(()=>{class T extends a.X{constructor(){super({type:L})}next(oe){if("function"==typeof oe)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===oe)throw new TypeError("Actions must be objects");if(void 0===oe.type)throw new TypeError("Actions must have a type property");super.next(oe)}complete(){}ngOnDestroy(){super.complete()}}return T.\u0275fac=function(oe){return new(oe||T)},T.\u0275prov=P.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac}),T})();const z=[U],ee=new P.InjectionToken("@ngrx/store Internal Root Guard"),ye=new P.InjectionToken("@ngrx/store Internal Initial State"),be=new P.InjectionToken("@ngrx/store Initial State"),pe=new P.InjectionToken("@ngrx/store Reducer Factory"),y=new P.InjectionToken("@ngrx/store Internal Reducer Factory Provider"),A=new P.InjectionToken("@ngrx/store Initial Reducers"),_=new P.InjectionToken("@ngrx/store Internal Initial Reducers"),E=new P.InjectionToken("@ngrx/store Store Features"),M=new P.InjectionToken("@ngrx/store Internal Store Reducers"),I=new P.InjectionToken("@ngrx/store Internal Feature Reducers"),ne=new P.InjectionToken("@ngrx/store Internal Feature Configs"),fe=new P.InjectionToken("@ngrx/store Internal Store Features"),Ve=new P.InjectionToken("@ngrx/store Internal Feature Reducers Token"),ae=new P.InjectionToken("@ngrx/store Feature Reducers"),ze=new P.InjectionToken("@ngrx/store User Provided Meta Reducers"),ot=new P.InjectionToken("@ngrx/store Meta Reducers"),Ne=new P.InjectionToken("@ngrx/store Internal Resolved Meta Reducers"),Ye=new P.InjectionToken("@ngrx/store User Runtime Checks Config"),Ze=new P.InjectionToken("@ngrx/store Internal User Runtime Checks Config"),ft=new P.InjectionToken("@ngrx/store Internal Runtime Checks"),nt=new P.InjectionToken("@ngrx/store Check if Action types are unique");function Be(T,Z={}){const oe=Object.keys(T),ue={};for(let Ce=0;Ce<oe.length;Ce++){const Re=oe[Ce];"function"==typeof T[Re]&&(ue[Re]=T[Re])}const Ee=Object.keys(ue);return function(Re,Me){Re=void 0===Re?Z:Re;let je=!1;const $e={};for(let We=0;We<Ee.length;We++){const st=Ee[We],ht=Re[st],Ie=(0,ue[st])(ht,Me);$e[st]=Ie,je=je||Ie!==ht}return je?$e:Re}}function de(...T){return function(Z){if(0===T.length)return Z;const oe=T[T.length-1];return T.slice(0,-1).reduceRight((Ee,Ce)=>Ce(Ee),oe(Z))}}function te(T,Z){return Array.isArray(Z)&&Z.length>0&&(T=de.apply(null,[...Z,T])),(oe,ue)=>{const Ee=T(oe);return(Ce,Re)=>Ee(Ce=void 0===Ce?ue:Ce,Re)}}class Pe extends x.y{}class Le extends U{}const ce="@ngrx/store/update-reducers";let ge=(()=>{class T extends a.X{constructor(oe,ue,Ee,Ce){super(Ce(Ee,ue)),this.dispatcher=oe,this.initialState=ue,this.reducers=Ee,this.reducerFactory=Ce}get currentReducers(){return this.reducers}addFeature(oe){this.addFeatures([oe])}addFeatures(oe){const ue=oe.reduce((Ee,{reducers:Ce,reducerFactory:Re,metaReducers:Me,initialState:je,key:$e})=>{const We="function"==typeof Ce?function se(T){const Z=Array.isArray(T)&&T.length>0?de(...T):oe=>oe;return(oe,ue)=>(oe=Z(oe),(Ee,Ce)=>oe(Ee=void 0===Ee?ue:Ee,Ce))}(Me)(Ce,je):te(Re,Me)(Ce,je);return Ee[$e]=We,Ee},{});this.addReducers(ue)}removeFeature(oe){this.removeFeatures([oe])}removeFeatures(oe){this.removeReducers(oe.map(ue=>ue.key))}addReducer(oe,ue){this.addReducers({[oe]:ue})}addReducers(oe){this.reducers={...this.reducers,...oe},this.updateReducers(Object.keys(oe))}removeReducer(oe){this.removeReducers([oe])}removeReducers(oe){oe.forEach(ue=>{this.reducers=function it(T,Z){return Object.keys(T).filter(oe=>oe!==Z).reduce((oe,ue)=>Object.assign(oe,{[ue]:T[ue]}),{})}(this.reducers,ue)}),this.updateReducers(oe)}updateReducers(oe){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:ce,features:oe})}ngOnDestroy(){this.complete()}}return T.\u0275fac=function(oe){return new(oe||T)(P.\u0275\u0275inject(Le),P.\u0275\u0275inject(be),P.\u0275\u0275inject(A),P.\u0275\u0275inject(pe))},T.\u0275prov=P.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac}),T})();const rt=[ge,{provide:Pe,useExisting:ge},{provide:Le,useExisting:U}];let _e=(()=>{class T extends F.x{ngOnDestroy(){this.complete()}}return T.\u0275fac=function(){let Z;return function(ue){return(Z||(Z=P.\u0275\u0275getInheritedFactory(T)))(ue||T)}}(),T.\u0275prov=P.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac}),T})();const X=[_e];class V extends x.y{}let Q=(()=>{class T extends a.X{constructor(oe,ue,Ee,Ce){super(Ce);const $e=oe.pipe((0,g.Q)(j.N)).pipe((0,N.M)(ue)).pipe((0,O.R)(me,{state:Ce}));this.stateSubscription=$e.subscribe(({state:We,action:st})=>{this.next(We),Ee.next(st)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return T.INIT=L,T.\u0275fac=function(oe){return new(oe||T)(P.\u0275\u0275inject(U),P.\u0275\u0275inject(Pe),P.\u0275\u0275inject(_e),P.\u0275\u0275inject(be))},T.\u0275prov=P.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac}),T})();function me(T={state:void 0},[Z,oe]){const{state:ue}=T;return{state:oe(ue,Z),action:Z}}const Fe=[Q,{provide:V,useExisting:Q}];let He=(()=>{class T extends x.y{constructor(oe,ue,Ee){super(),this.actionsObserver=ue,this.reducerManager=Ee,this.source=oe}select(oe,...ue){return vt.call(null,oe,...ue)(this)}lift(oe){const ue=new T(this,this.actionsObserver,this.reducerManager);return ue.operator=oe,ue}dispatch(oe){this.actionsObserver.next(oe)}next(oe){this.actionsObserver.next(oe)}error(oe){this.actionsObserver.error(oe)}complete(){this.actionsObserver.complete()}addReducer(oe,ue){this.reducerManager.addReducer(oe,ue)}removeReducer(oe){this.reducerManager.removeReducer(oe)}}return T.\u0275fac=function(oe){return new(oe||T)(P.\u0275\u0275inject(V),P.\u0275\u0275inject(U),P.\u0275\u0275inject(ge))},T.\u0275prov=P.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac}),T})();const et=[He];function vt(T,Z,...oe){return function(Ee){let Ce;if("string"==typeof T){const Re=[Z,...oe].filter(Boolean);Ce=Ee.pipe(function h(...T){const Z=T.length;if(0===Z)throw new Error("list of properties cannot be empty.");return(0,d.U)(oe=>{let ue=oe;for(let Ee=0;Ee<Z;Ee++){const Ce=null==ue?void 0:ue[T[Ee]];if(void 0===Ce)return;ue=Ce}return ue})}(T,...Re))}else{if("function"!=typeof T)throw new TypeError(`Unexpected type '${typeof T}' in select operator, expected 'string' or 'function'`);Ce=Ee.pipe((0,d.U)(Re=>T(Re,Z)))}return Ce.pipe((0,B.x)())}}const kt="https://ngrx.io/guide/store/configuration/runtime-checks";function Jt(T){return void 0===T}function xe(T){return null===T}function xn(T){return Array.isArray(T)}function dt(T){return"object"==typeof T&&null!==T}function hn(T){return"function"==typeof T}function wn(){return false}function Gn(T,Z){return T===Z}function gr(T,Z,oe){for(let ue=0;ue<T.length;ue++)if(!oe(T[ue],Z[ue]))return!0;return!1}function $n(T,Z=Gn,oe=Gn){let Ce,ue=null,Ee=null;return{memoized:function $e(){if(void 0!==Ce)return Ce.result;if(!ue)return Ee=T.apply(null,arguments),ue=arguments,Ee;if(!gr(arguments,ue,Z))return Ee;const We=T.apply(null,arguments);return ue=arguments,oe(Ee,We)?Ee:(Ee=We,We)},reset:function Re(){ue=null,Ee=null},setResult:function Me(We){Ce={result:We}},clearResult:function je(){Ce=void 0}}}function Rr(...T){return function Nr(T,Z={stateFn:fr}){return function(...oe){let ue=oe;if(Array.isArray(ue[0])){const[We,...st]=ue;ue=[...We,...st]}const Ee=ue.slice(0,ue.length-1),Ce=ue[ue.length-1],Re=Ee.filter(We=>We.release&&"function"==typeof We.release),Me=T(function(...We){return Ce.apply(null,We)}),je=$n(function(We,st){return Z.stateFn.apply(null,[We,Ee,st,Me])});return Object.assign(je.memoized,{release:function $e(){je.reset(),Me.reset(),Re.forEach(We=>We.release())},projector:Me.memoized,setResult:je.setResult,clearResult:je.clearResult})}}($n)(...T)}function fr(T,Z,oe,ue){if(void 0===oe){const Ce=Z.map(Re=>Re(T));return ue.memoized.apply(null,Ce)}const Ee=Z.map(Ce=>Ce(T,oe));return ue.memoized.apply(null,[...Ee,oe])}function ui(T){return Rr(Z=>{const oe=Z[T];return(0,P.isDevMode)()&&!(T in Z)&&console.warn(`@ngrx/store: The feature name "${T}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${T}', ...) or StoreModule.forFeature('${T}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),oe},Z=>Z)}function Vi(T){Object.freeze(T);const Z=hn(T);return Object.getOwnPropertyNames(T).forEach(oe=>{if(!oe.startsWith("\u0275")&&function zt(T,Z){return Object.prototype.hasOwnProperty.call(T,Z)}(T,oe)&&(!Z||"caller"!==oe&&"callee"!==oe&&"arguments"!==oe)){const ue=T[oe];(dt(ue)||hn(ue))&&!Object.isFrozen(ue)&&Vi(ue)}}),T}function $r(T,Z=[]){return(Jt(T)||xe(T))&&0===Z.length?{path:["root"],value:T}:Object.keys(T).reduce((ue,Ee)=>{if(ue)return ue;const Ce=T[Ee];return function Bn(T){return hn(T)&&T.hasOwnProperty("\u0275cmp")}(Ce)?ue:!(Jt(Ce)||xe(Ce)||function bn(T){return"number"==typeof T}(Ce)||function Rt(T){return"boolean"==typeof T}(Ce)||function Gt(T){return"string"==typeof T}(Ce)||xn(Ce))&&(function on(T){if(!function yt(T){return dt(T)&&!xn(T)}(T))return!1;const Z=Object.getPrototypeOf(T);return Z===Object.prototype||null===Z}(Ce)?$r(Ce,[...Z,Ee]):{path:[...Z,Ee],value:Ce})},!1)}function la(T,Z){if(!1===T)return;const oe=T.path.join("."),ue=new Error(`Detected unserializable ${Z} at "${oe}". ${kt}#strict${Z}serializability`);throw ue.value=T.value,ue.unserializablePath=oe,ue}function Hi(T){return(0,P.isDevMode)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...T}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function qn({strictActionSerializability:T,strictStateSerializability:Z}){return oe=>T||Z?function Pa(T,Z){return function(oe,ue){Z.action(ue)&&la($r(ue),"action");const Ee=T(oe,ue);return Z.state()&&la($r(Ee),"state"),Ee}}(oe,{action:ue=>T&&!ei(ue),state:()=>Z}):oe}function ua({strictActionImmutability:T,strictStateImmutability:Z}){return oe=>T||Z?function ci(T,Z){return function(oe,ue){const Ee=Z.action(ue)?Vi(ue):ue,Ce=T(oe,Ee);return Z.state()?Vi(Ce):Ce}}(oe,{action:ue=>T&&!ei(ue),state:()=>Z}):oe}function ei(T){return T.type.startsWith("@ngrx")}function di({strictActionWithinNgZone:T}){return Z=>T?function $i(T,Z){return function(oe,ue){if(Z.action(ue)&&!P.NgZone.isInAngularZone())throw new Error(`Action '${ue.type}' running outside NgZone. ${kt}#strictactionwithinngzone`);return T(oe,ue)}}(Z,{action:oe=>T&&!ei(oe)}):Z}function qi(T){return[{provide:Ze,useValue:T},{provide:Ye,useFactory:Ho,deps:[Ze]},{provide:ft,deps:[Ye],useFactory:Hi},{provide:ot,multi:!0,deps:[ft],useFactory:ua},{provide:ot,multi:!0,deps:[ft],useFactory:qn},{provide:ot,multi:!0,deps:[ft],useFactory:di}]}function Pn(){return[{provide:nt,multi:!0,deps:[ft],useFactory:qo}]}function Ho(T){return T}function qo(T){if(!T.strictActionTypeUniqueness)return;const Z=Object.entries(H).filter(([,oe])=>oe>1).map(([oe])=>oe);if(Z.length)throw new Error(`Action types are registered more than once, ${Z.map(oe=>`"${oe}"`).join(", ")}. ${kt}#strictactiontypeuniqueness`)}let ca=(()=>{class T{constructor(oe,ue,Ee,Ce,Re,Me){}}return T.\u0275fac=function(oe){return new(oe||T)(P.\u0275\u0275inject(U),P.\u0275\u0275inject(Pe),P.\u0275\u0275inject(_e),P.\u0275\u0275inject(He),P.\u0275\u0275inject(ee,8),P.\u0275\u0275inject(nt,8))},T.\u0275mod=P.\u0275\u0275defineNgModule({type:T}),T.\u0275inj=P.\u0275\u0275defineInjector({}),T})(),yo=(()=>{class T{constructor(oe,ue,Ee,Ce,Re){this.features=oe,this.featureReducers=ue,this.reducerManager=Ee;const Me=oe.map((je,$e)=>{const st=ue.shift()[$e];return{...je,reducers:st,initialState:vo(je.initialState)}});Ee.addFeatures(Me)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return T.\u0275fac=function(oe){return new(oe||T)(P.\u0275\u0275inject(fe),P.\u0275\u0275inject(ae),P.\u0275\u0275inject(ge),P.\u0275\u0275inject(ca),P.\u0275\u0275inject(nt,8))},T.\u0275mod=P.\u0275\u0275defineNgModule({type:T}),T.\u0275inj=P.\u0275\u0275defineInjector({}),T})(),Cs=(()=>{class T{static forRoot(oe,ue={}){return{ngModule:ca,providers:[{provide:ee,useFactory:w,deps:[[He,new P.Optional,new P.SkipSelf]]},{provide:ye,useValue:ue.initialState},{provide:be,useFactory:vo,deps:[ye]},{provide:_,useValue:oe},{provide:M,useExisting:oe instanceof P.InjectionToken?oe:_},{provide:A,deps:[P.Injector,_,[new P.Inject(M)]],useFactory:xs},{provide:ze,useValue:ue.metaReducers?ue.metaReducers:[]},{provide:Ne,deps:[ot,ze],useFactory:Ss},{provide:y,useValue:ue.reducerFactory?ue.reducerFactory:Be},{provide:pe,deps:[y,Ne],useFactory:te},z,rt,X,Fe,et,qi(ue.runtimeChecks),Pn()]}}static forFeature(oe,ue,Ee={}){return{ngModule:yo,providers:[{provide:ne,multi:!0,useValue:oe instanceof Object?{}:Ee},{provide:E,multi:!0,useValue:{key:oe instanceof Object?oe.name:oe,reducerFactory:Ee instanceof P.InjectionToken||!Ee.reducerFactory?Be:Ee.reducerFactory,metaReducers:Ee instanceof P.InjectionToken||!Ee.metaReducers?[]:Ee.metaReducers,initialState:Ee instanceof P.InjectionToken||!Ee.initialState?void 0:Ee.initialState}},{provide:fe,deps:[P.Injector,ne,E],useFactory:yl},{provide:I,multi:!0,useValue:oe instanceof Object?oe.reducer:ue},{provide:Ve,multi:!0,useExisting:ue instanceof P.InjectionToken?ue:I},{provide:ae,multi:!0,deps:[P.Injector,I,[new P.Inject(Ve)]],useFactory:Ta},Pn()]}}}return T.\u0275fac=function(oe){return new(oe||T)},T.\u0275mod=P.\u0275\u0275defineNgModule({type:T}),T.\u0275inj=P.\u0275\u0275defineInjector({}),T})();function xs(T,Z){return Z instanceof P.InjectionToken?T.get(Z):Z}function yl(T,Z,oe){return oe.map((ue,Ee)=>{if(Z[Ee]instanceof P.InjectionToken){const Ce=T.get(Z[Ee]);return{key:ue.key,reducerFactory:Ce.reducerFactory?Ce.reducerFactory:Be,metaReducers:Ce.metaReducers?Ce.metaReducers:[],initialState:Ce.initialState}}return ue})}function Ta(T,Z){return Z.map(ue=>ue instanceof P.InjectionToken?T.get(ue):ue)}function vo(T){return"function"==typeof T?T():T}function Ss(T,Z){return T.concat(Z)}function w(T){if(T)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function b(...T){return{reducer:T.pop(),types:T.map(ue=>ue.type)}}function k(T,...Z){const oe=new Map;for(const ue of Z)for(const Ee of ue.types){const Ce=oe.get(Ee);oe.set(Ee,Ce?(Me,je)=>ue.reducer(Ce(Me,je),je):ue.reducer)}return function(ue=T,Ee){const Ce=oe.get(Ee.type);return Ce?Ce(ue,Ee):ue}}},2148:we=>{we.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},6086:we=>{we.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223e","acd":"\u223f","acE":"\u223e\u0333","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","Acy":"\u0410","acy":"\u0430","AElig":"\xc6","aelig":"\xe6","af":"\u2061","Afr":"\u{1d504}","afr":"\u{1d51e}","Agrave":"\xc0","agrave":"\xe0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03b1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2a3f","amp":"&","AMP":"&","andand":"\u2a55","And":"\u2a53","and":"\u2227","andd":"\u2a5c","andslope":"\u2a58","andv":"\u2a5a","ang":"\u2220","ange":"\u29a4","angle":"\u2220","angmsdaa":"\u29a8","angmsdab":"\u29a9","angmsdac":"\u29aa","angmsdad":"\u29ab","angmsdae":"\u29ac","angmsdaf":"\u29ad","angmsdag":"\u29ae","angmsdah":"\u29af","angmsd":"\u2221","angrt":"\u221f","angrtvb":"\u22be","angrtvbd":"\u299d","angsph":"\u2222","angst":"\xc5","angzarr":"\u237c","Aogon":"\u0104","aogon":"\u0105","Aopf":"\u{1d538}","aopf":"\u{1d552}","apacir":"\u2a6f","ap":"\u2248","apE":"\u2a70","ape":"\u224a","apid":"\u224b","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224a","Aring":"\xc5","aring":"\xe5","Ascr":"\u{1d49c}","ascr":"\u{1d4b6}","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224d","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","awconint":"\u2233","awint":"\u2a11","backcong":"\u224c","backepsilon":"\u03f6","backprime":"\u2035","backsim":"\u223d","backsimeq":"\u22cd","Backslash":"\u2216","Barv":"\u2ae7","barvee":"\u22bd","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23b5","bbrktbrk":"\u23b6","bcong":"\u224c","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201e","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29b0","bepsi":"\u03f6","bernou":"\u212c","Bernoullis":"\u212c","Beta":"\u0392","beta":"\u03b2","beth":"\u2136","between":"\u226c","Bfr":"\u{1d505}","bfr":"\u{1d51f}","bigcap":"\u22c2","bigcirc":"\u25ef","bigcup":"\u22c3","bigodot":"\u2a00","bigoplus":"\u2a01","bigotimes":"\u2a02","bigsqcup":"\u2a06","bigstar":"\u2605","bigtriangledown":"\u25bd","bigtriangleup":"\u25b3","biguplus":"\u2a04","bigvee":"\u22c1","bigwedge":"\u22c0","bkarow":"\u290d","blacklozenge":"\u29eb","blacksquare":"\u25aa","blacktriangle":"\u25b4","blacktriangledown":"\u25be","blacktriangleleft":"\u25c2","blacktriangleright":"\u25b8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20e5","bnequiv":"\u2261\u20e5","bNot":"\u2aed","bnot":"\u2310","Bopf":"\u{1d539}","bopf":"\u{1d553}","bot":"\u22a5","bottom":"\u22a5","bowtie":"\u22c8","boxbox":"\u29c9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250c","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252c","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229f","boxplus":"\u229e","boxtimes":"\u22a0","boxul":"\u2518","boxuL":"\u255b","boxUl":"\u255c","boxUL":"\u255d","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255a","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253c","boxvH":"\u256a","boxVh":"\u256b","boxVH":"\u256c","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251c","boxvR":"\u255e","boxVr":"\u255f","boxVR":"\u2560","bprime":"\u2035","breve":"\u02d8","Breve":"\u02d8","brvbar":"\xa6","bscr":"\u{1d4b7}","Bscr":"\u212c","bsemi":"\u204f","bsim":"\u223d","bsime":"\u22cd","bsolb":"\u29c5","bsol":"\\\\","bsolhsub":"\u27c8","bull":"\u2022","bullet":"\u2022","bump":"\u224e","bumpE":"\u2aae","bumpe":"\u224f","Bumpeq":"\u224e","bumpeq":"\u224f","Cacute":"\u0106","cacute":"\u0107","capand":"\u2a44","capbrcup":"\u2a49","capcap":"\u2a4b","cap":"\u2229","Cap":"\u22d2","capcup":"\u2a47","capdot":"\u2a40","CapitalDifferentialD":"\u2145","caps":"\u2229\ufe00","caret":"\u2041","caron":"\u02c7","Cayleys":"\u212d","ccaps":"\u2a4d","Ccaron":"\u010c","ccaron":"\u010d","Ccedil":"\xc7","ccedil":"\xe7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2a4c","ccupssm":"\u2a50","Cdot":"\u010a","cdot":"\u010b","cedil":"\xb8","Cedilla":"\xb8","cemptyv":"\u29b2","cent":"\xa2","centerdot":"\xb7","CenterDot":"\xb7","cfr":"\u{1d520}","Cfr":"\u212d","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03a7","chi":"\u03c7","circ":"\u02c6","circeq":"\u2257","circlearrowleft":"\u21ba","circlearrowright":"\u21bb","circledast":"\u229b","circledcirc":"\u229a","circleddash":"\u229d","CircleDot":"\u2299","circledR":"\xae","circledS":"\u24c8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25cb","cirE":"\u29c3","cire":"\u2257","cirfnint":"\u2a10","cirmid":"\u2aef","cirscir":"\u29c2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201d","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2a74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2a6d","Congruent":"\u2261","conint":"\u222e","Conint":"\u222f","ContourIntegral":"\u222e","copf":"\u{1d554}","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xa9","COPY":"\xa9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21b5","cross":"\u2717","Cross":"\u2a2f","Cscr":"\u{1d49e}","cscr":"\u{1d4b8}","csub":"\u2acf","csube":"\u2ad1","csup":"\u2ad0","csupe":"\u2ad2","ctdot":"\u22ef","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22de","cuesc":"\u22df","cularr":"\u21b6","cularrp":"\u293d","cupbrcap":"\u2a48","cupcap":"\u2a46","CupCap":"\u224d","cup":"\u222a","Cup":"\u22d3","cupcup":"\u2a4a","cupdot":"\u228d","cupor":"\u2a45","cups":"\u222a\ufe00","curarr":"\u21b7","curarrm":"\u293c","curlyeqprec":"\u22de","curlyeqsucc":"\u22df","curlyvee":"\u22ce","curlywedge":"\u22cf","curren":"\xa4","curvearrowleft":"\u21b6","curvearrowright":"\u21b7","cuvee":"\u22ce","cuwed":"\u22cf","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232d","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21a1","dArr":"\u21d3","dash":"\u2010","Dashv":"\u2ae4","dashv":"\u22a3","dbkarow":"\u290f","dblac":"\u02dd","Dcaron":"\u010e","dcaron":"\u010f","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21ca","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2a77","deg":"\xb0","Del":"\u2207","Delta":"\u0394","delta":"\u03b4","demptyv":"\u29b1","dfisht":"\u297f","Dfr":"\u{1d507}","dfr":"\u{1d521}","dHar":"\u2965","dharl":"\u21c3","dharr":"\u21c2","DiacriticalAcute":"\xb4","DiacriticalDot":"\u02d9","DiacriticalDoubleAcute":"\u02dd","DiacriticalGrave":"`","DiacriticalTilde":"\u02dc","diam":"\u22c4","diamond":"\u22c4","Diamond":"\u22c4","diamondsuit":"\u2666","diams":"\u2666","die":"\xa8","DifferentialD":"\u2146","digamma":"\u03dd","disin":"\u22f2","div":"\xf7","divide":"\xf7","divideontimes":"\u22c7","divonx":"\u22c7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231e","dlcrop":"\u230d","dollar":"$","Dopf":"\u{1d53b}","dopf":"\u{1d555}","Dot":"\xa8","dot":"\u02d9","DotDot":"\u20dc","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22a1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222f","DoubleDot":"\xa8","DoubleDownArrow":"\u21d3","DoubleLeftArrow":"\u21d0","DoubleLeftRightArrow":"\u21d4","DoubleLeftTee":"\u2ae4","DoubleLongLeftArrow":"\u27f8","DoubleLongLeftRightArrow":"\u27fa","DoubleLongRightArrow":"\u27f9","DoubleRightArrow":"\u21d2","DoubleRightTee":"\u22a8","DoubleUpArrow":"\u21d1","DoubleUpDownArrow":"\u21d5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21d3","DownArrowUpArrow":"\u21f5","DownBreve":"\u0311","downdownarrows":"\u21ca","downharpoonleft":"\u21c3","downharpoonright":"\u21c2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295e","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21bd","DownRightTeeVector":"\u295f","DownRightVectorBar":"\u2957","DownRightVector":"\u21c1","DownTeeArrow":"\u21a7","DownTee":"\u22a4","drbkarow":"\u2910","drcorn":"\u231f","drcrop":"\u230c","Dscr":"\u{1d49f}","dscr":"\u{1d4b9}","DScy":"\u0405","dscy":"\u0455","dsol":"\u29f6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22f1","dtri":"\u25bf","dtrif":"\u25be","duarr":"\u21f5","duhar":"\u296f","dwangle":"\u29a6","DZcy":"\u040f","dzcy":"\u045f","dzigrarr":"\u27ff","Eacute":"\xc9","eacute":"\xe9","easter":"\u2a6e","Ecaron":"\u011a","ecaron":"\u011b","Ecirc":"\xca","ecirc":"\xea","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042d","ecy":"\u044d","eDDot":"\u2a77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\u{1d508}","efr":"\u{1d522}","eg":"\u2a9a","Egrave":"\xc8","egrave":"\xe8","egs":"\u2a96","egsdot":"\u2a98","el":"\u2a99","Element":"\u2208","elinters":"\u23e7","ell":"\u2113","els":"\u2a95","elsdot":"\u2a97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25fb","emptyv":"\u2205","EmptyVerySmallSquare":"\u25ab","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014a","eng":"\u014b","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\u{1d53c}","eopf":"\u{1d556}","epar":"\u22d5","eparsl":"\u29e3","eplus":"\u2a71","epsi":"\u03b5","Epsilon":"\u0395","epsilon":"\u03b5","epsiv":"\u03f5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2a96","eqslantless":"\u2a95","Equal":"\u2a75","equals":"=","EqualTilde":"\u2242","equest":"\u225f","Equilibrium":"\u21cc","equiv":"\u2261","equivDD":"\u2a78","eqvparsl":"\u29e5","erarr":"\u2971","erDot":"\u2253","escr":"\u212f","Escr":"\u2130","esdot":"\u2250","Esim":"\u2a73","esim":"\u2242","Eta":"\u0397","eta":"\u03b7","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","euro":"\u20ac","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\ufb03","fflig":"\ufb00","ffllig":"\ufb04","Ffr":"\u{1d509}","ffr":"\u{1d523}","filig":"\ufb01","FilledSmallSquare":"\u25fc","FilledVerySmallSquare":"\u25aa","fjlig":"fj","flat":"\u266d","fllig":"\ufb02","fltns":"\u25b1","fnof":"\u0192","Fopf":"\u{1d53d}","fopf":"\u{1d557}","forall":"\u2200","ForAll":"\u2200","fork":"\u22d4","forkv":"\u2ad9","Fouriertrf":"\u2131","fpartint":"\u2a0d","frac12":"\xbd","frac13":"\u2153","frac14":"\xbc","frac15":"\u2155","frac16":"\u2159","frac18":"\u215b","frac23":"\u2154","frac25":"\u2156","frac34":"\xbe","frac35":"\u2157","frac38":"\u215c","frac45":"\u2158","frac56":"\u215a","frac58":"\u215d","frac78":"\u215e","frasl":"\u2044","frown":"\u2322","fscr":"\u{1d4bb}","Fscr":"\u2131","gacute":"\u01f5","Gamma":"\u0393","gamma":"\u03b3","Gammad":"\u03dc","gammad":"\u03dd","gap":"\u2a86","Gbreve":"\u011e","gbreve":"\u011f","Gcedil":"\u0122","Gcirc":"\u011c","gcirc":"\u011d","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2a8c","gel":"\u22db","geq":"\u2265","geqq":"\u2267","geqslant":"\u2a7e","gescc":"\u2aa9","ges":"\u2a7e","gesdot":"\u2a80","gesdoto":"\u2a82","gesdotol":"\u2a84","gesl":"\u22db\ufe00","gesles":"\u2a94","Gfr":"\u{1d50a}","gfr":"\u{1d524}","gg":"\u226b","Gg":"\u22d9","ggg":"\u22d9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2aa5","gl":"\u2277","glE":"\u2a92","glj":"\u2aa4","gnap":"\u2a8a","gnapprox":"\u2a8a","gne":"\u2a88","gnE":"\u2269","gneq":"\u2a88","gneqq":"\u2269","gnsim":"\u22e7","Gopf":"\u{1d53e}","gopf":"\u{1d558}","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22db","GreaterFullEqual":"\u2267","GreaterGreater":"\u2aa2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2a7e","GreaterTilde":"\u2273","Gscr":"\u{1d4a2}","gscr":"\u210a","gsim":"\u2273","gsime":"\u2a8e","gsiml":"\u2a90","gtcc":"\u2aa7","gtcir":"\u2a7a","gt":">","GT":">","Gt":"\u226b","gtdot":"\u22d7","gtlPar":"\u2995","gtquest":"\u2a7c","gtrapprox":"\u2a86","gtrarr":"\u2978","gtrdot":"\u22d7","gtreqless":"\u22db","gtreqqless":"\u2a8c","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\ufe00","gvnE":"\u2269\ufe00","Hacek":"\u02c7","hairsp":"\u200a","half":"\xbd","hamilt":"\u210b","HARDcy":"\u042a","hardcy":"\u044a","harrcir":"\u2948","harr":"\u2194","hArr":"\u21d4","harrw":"\u21ad","Hat":"^","hbar":"\u210f","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22b9","hfr":"\u{1d525}","Hfr":"\u210c","HilbertSpace":"\u210b","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21ff","homtht":"\u223b","hookleftarrow":"\u21a9","hookrightarrow":"\u21aa","hopf":"\u{1d559}","Hopf":"\u210d","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\u{1d4bd}","Hscr":"\u210b","hslash":"\u210f","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224e","HumpEqual":"\u224f","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xcd","iacute":"\xed","ic":"\u2063","Icirc":"\xce","icirc":"\xee","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xa1","iff":"\u21d4","ifr":"\u{1d526}","Ifr":"\u2111","Igrave":"\xcc","igrave":"\xec","ii":"\u2148","iiiint":"\u2a0c","iiint":"\u222d","iinfin":"\u29dc","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012a","imacr":"\u012b","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22b7","imped":"\u01b5","Implies":"\u21d2","incare":"\u2105","in":"\u2208","infin":"\u221e","infintie":"\u29dd","inodot":"\u0131","intcal":"\u22ba","int":"\u222b","Int":"\u222c","integers":"\u2124","Integral":"\u222b","intercal":"\u22ba","Intersection":"\u22c2","intlarhk":"\u2a17","intprod":"\u2a3c","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012e","iogon":"\u012f","Iopf":"\u{1d540}","iopf":"\u{1d55a}","Iota":"\u0399","iota":"\u03b9","iprod":"\u2a3c","iquest":"\xbf","iscr":"\u{1d4be}","Iscr":"\u2110","isin":"\u2208","isindot":"\u22f5","isinE":"\u22f9","isins":"\u22f4","isinsv":"\u22f3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xcf","iuml":"\xef","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\u{1d50d}","jfr":"\u{1d527}","jmath":"\u0237","Jopf":"\u{1d541}","jopf":"\u{1d55b}","Jscr":"\u{1d4a5}","jscr":"\u{1d4bf}","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039a","kappa":"\u03ba","kappav":"\u03f0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041a","kcy":"\u043a","Kfr":"\u{1d50e}","kfr":"\u{1d528}","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040c","kjcy":"\u045c","Kopf":"\u{1d542}","kopf":"\u{1d55c}","Kscr":"\u{1d4a6}","kscr":"\u{1d4c0}","lAarr":"\u21da","Lacute":"\u0139","lacute":"\u013a","laemptyv":"\u29b4","lagran":"\u2112","Lambda":"\u039b","lambda":"\u03bb","lang":"\u27e8","Lang":"\u27ea","langd":"\u2991","langle":"\u27e8","lap":"\u2a85","Laplacetrf":"\u2112","laquo":"\xab","larrb":"\u21e4","larrbfs":"\u291f","larr":"\u2190","Larr":"\u219e","lArr":"\u21d0","larrfs":"\u291d","larrhk":"\u21a9","larrlp":"\u21ab","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21a2","latail":"\u2919","lAtail":"\u291b","lat":"\u2aab","late":"\u2aad","lates":"\u2aad\ufe00","lbarr":"\u290c","lBarr":"\u290e","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298b","lbrksld":"\u298f","lbrkslu":"\u298d","Lcaron":"\u013d","lcaron":"\u013e","Lcedil":"\u013b","lcedil":"\u013c","lceil":"\u2308","lcub":"{","Lcy":"\u041b","lcy":"\u043b","ldca":"\u2936","ldquo":"\u201c","ldquor":"\u201e","ldrdhar":"\u2967","ldrushar":"\u294b","ldsh":"\u21b2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27e8","LeftArrowBar":"\u21e4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21d0","LeftArrowRightArrow":"\u21c6","leftarrowtail":"\u21a2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27e6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21c3","LeftFloor":"\u230a","leftharpoondown":"\u21bd","leftharpoonup":"\u21bc","leftleftarrows":"\u21c7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21d4","leftrightarrows":"\u21c6","leftrightharpoons":"\u21cb","leftrightsquigarrow":"\u21ad","LeftRightVector":"\u294e","LeftTeeArrow":"\u21a4","LeftTee":"\u22a3","LeftTeeVector":"\u295a","leftthreetimes":"\u22cb","LeftTriangleBar":"\u29cf","LeftTriangle":"\u22b2","LeftTriangleEqual":"\u22b4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21bf","LeftVectorBar":"\u2952","LeftVector":"\u21bc","lEg":"\u2a8b","leg":"\u22da","leq":"\u2264","leqq":"\u2266","leqslant":"\u2a7d","lescc":"\u2aa8","les":"\u2a7d","lesdot":"\u2a7f","lesdoto":"\u2a81","lesdotor":"\u2a83","lesg":"\u22da\ufe00","lesges":"\u2a93","lessapprox":"\u2a85","lessdot":"\u22d6","lesseqgtr":"\u22da","lesseqqgtr":"\u2a8b","LessEqualGreater":"\u22da","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2aa1","lesssim":"\u2272","LessSlantEqual":"\u2a7d","LessTilde":"\u2272","lfisht":"\u297c","lfloor":"\u230a","Lfr":"\u{1d50f}","lfr":"\u{1d529}","lg":"\u2276","lgE":"\u2a91","lHar":"\u2962","lhard":"\u21bd","lharu":"\u21bc","lharul":"\u296a","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21c7","ll":"\u226a","Ll":"\u22d8","llcorner":"\u231e","Lleftarrow":"\u21da","llhard":"\u296b","lltri":"\u25fa","Lmidot":"\u013f","lmidot":"\u0140","lmoustache":"\u23b0","lmoust":"\u23b0","lnap":"\u2a89","lnapprox":"\u2a89","lne":"\u2a87","lnE":"\u2268","lneq":"\u2a87","lneqq":"\u2268","lnsim":"\u22e6","loang":"\u27ec","loarr":"\u21fd","lobrk":"\u27e6","longleftarrow":"\u27f5","LongLeftArrow":"\u27f5","Longleftarrow":"\u27f8","longleftrightarrow":"\u27f7","LongLeftRightArrow":"\u27f7","Longleftrightarrow":"\u27fa","longmapsto":"\u27fc","longrightarrow":"\u27f6","LongRightArrow":"\u27f6","Longrightarrow":"\u27f9","looparrowleft":"\u21ab","looparrowright":"\u21ac","lopar":"\u2985","Lopf":"\u{1d543}","lopf":"\u{1d55d}","loplus":"\u2a2d","lotimes":"\u2a34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25ca","lozenge":"\u25ca","lozf":"\u29eb","lpar":"(","lparlt":"\u2993","lrarr":"\u21c6","lrcorner":"\u231f","lrhar":"\u21cb","lrhard":"\u296d","lrm":"\u200e","lrtri":"\u22bf","lsaquo":"\u2039","lscr":"\u{1d4c1}","Lscr":"\u2112","lsh":"\u21b0","Lsh":"\u21b0","lsim":"\u2272","lsime":"\u2a8d","lsimg":"\u2a8f","lsqb":"[","lsquo":"\u2018","lsquor":"\u201a","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2aa6","ltcir":"\u2a79","lt":"<","LT":"<","Lt":"\u226a","ltdot":"\u22d6","lthree":"\u22cb","ltimes":"\u22c9","ltlarr":"\u2976","ltquest":"\u2a7b","ltri":"\u25c3","ltrie":"\u22b4","ltrif":"\u25c2","ltrPar":"\u2996","lurdshar":"\u294a","luruhar":"\u2966","lvertneqq":"\u2268\ufe00","lvnE":"\u2268\ufe00","macr":"\xaf","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21a6","mapsto":"\u21a6","mapstodown":"\u21a7","mapstoleft":"\u21a4","mapstoup":"\u21a5","marker":"\u25ae","mcomma":"\u2a29","Mcy":"\u041c","mcy":"\u043c","mdash":"\u2014","mDDot":"\u223a","measuredangle":"\u2221","MediumSpace":"\u205f","Mellintrf":"\u2133","Mfr":"\u{1d510}","mfr":"\u{1d52a}","mho":"\u2127","micro":"\xb5","midast":"*","midcir":"\u2af0","mid":"\u2223","middot":"\xb7","minusb":"\u229f","minus":"\u2212","minusd":"\u2238","minusdu":"\u2a2a","MinusPlus":"\u2213","mlcp":"\u2adb","mldr":"\u2026","mnplus":"\u2213","models":"\u22a7","Mopf":"\u{1d544}","mopf":"\u{1d55e}","mp":"\u2213","mscr":"\u{1d4c2}","Mscr":"\u2133","mstpos":"\u223e","Mu":"\u039c","mu":"\u03bc","multimap":"\u22b8","mumap":"\u22b8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20d2","nap":"\u2249","napE":"\u2a70\u0338","napid":"\u224b\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266e","naturals":"\u2115","natur":"\u266e","nbsp":"\xa0","nbump":"\u224e\u0338","nbumpe":"\u224f\u0338","ncap":"\u2a43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2a6d\u0338","ncup":"\u2a42","Ncy":"\u041d","ncy":"\u043d","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21d7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200b","NegativeThickSpace":"\u200b","NegativeThinSpace":"\u200b","NegativeVeryThinSpace":"\u200b","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226b","NestedLessLess":"\u226a","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\u{1d511}","nfr":"\u{1d52b}","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2a7e\u0338","nges":"\u2a7e\u0338","nGg":"\u22d9\u0338","ngsim":"\u2275","nGt":"\u226b\u20d2","ngt":"\u226f","ngtr":"\u226f","nGtv":"\u226b\u0338","nharr":"\u21ae","nhArr":"\u21ce","nhpar":"\u2af2","ni":"\u220b","nis":"\u22fc","nisd":"\u22fa","niv":"\u220b","NJcy":"\u040a","njcy":"\u045a","nlarr":"\u219a","nlArr":"\u21cd","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219a","nLeftarrow":"\u21cd","nleftrightarrow":"\u21ae","nLeftrightarrow":"\u21ce","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2a7d\u0338","nles":"\u2a7d\u0338","nless":"\u226e","nLl":"\u22d8\u0338","nlsim":"\u2274","nLt":"\u226a\u20d2","nlt":"\u226e","nltri":"\u22ea","nltrie":"\u22ec","nLtv":"\u226a\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xa0","nopf":"\u{1d55f}","Nopf":"\u2115","Not":"\u2aec","not":"\xac","NotCongruent":"\u2262","NotCupCap":"\u226d","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226f","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226b\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2a7e\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224e\u0338","NotHumpEqual":"\u224f\u0338","notin":"\u2209","notindot":"\u22f5\u0338","notinE":"\u22f9\u0338","notinva":"\u2209","notinvb":"\u22f7","notinvc":"\u22f6","NotLeftTriangleBar":"\u29cf\u0338","NotLeftTriangle":"\u22ea","NotLeftTriangleEqual":"\u22ec","NotLess":"\u226e","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226a\u0338","NotLessSlantEqual":"\u2a7d\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2aa2\u0338","NotNestedLessLess":"\u2aa1\u0338","notni":"\u220c","notniva":"\u220c","notnivb":"\u22fe","notnivc":"\u22fd","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2aaf\u0338","NotPrecedesSlantEqual":"\u22e0","NotReverseElement":"\u220c","NotRightTriangleBar":"\u29d0\u0338","NotRightTriangle":"\u22eb","NotRightTriangleEqual":"\u22ed","NotSquareSubset":"\u228f\u0338","NotSquareSubsetEqual":"\u22e2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22e3","NotSubset":"\u2282\u20d2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2ab0\u0338","NotSucceedsSlantEqual":"\u22e1","NotSucceedsTilde":"\u227f\u0338","NotSuperset":"\u2283\u20d2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2afd\u20e5","npart":"\u2202\u0338","npolint":"\u2a14","npr":"\u2280","nprcue":"\u22e0","nprec":"\u2280","npreceq":"\u2aaf\u0338","npre":"\u2aaf\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219b","nrArr":"\u21cf","nrarrw":"\u219d\u0338","nrightarrow":"\u219b","nRightarrow":"\u21cf","nrtri":"\u22eb","nrtrie":"\u22ed","nsc":"\u2281","nsccue":"\u22e1","nsce":"\u2ab0\u0338","Nscr":"\u{1d4a9}","nscr":"\u{1d4c3}","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22e2","nsqsupe":"\u22e3","nsub":"\u2284","nsubE":"\u2ac5\u0338","nsube":"\u2288","nsubset":"\u2282\u20d2","nsubseteq":"\u2288","nsubseteqq":"\u2ac5\u0338","nsucc":"\u2281","nsucceq":"\u2ab0\u0338","nsup":"\u2285","nsupE":"\u2ac6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20d2","nsupseteq":"\u2289","nsupseteqq":"\u2ac6\u0338","ntgl":"\u2279","Ntilde":"\xd1","ntilde":"\xf1","ntlg":"\u2278","ntriangleleft":"\u22ea","ntrianglelefteq":"\u22ec","ntriangleright":"\u22eb","ntrianglerighteq":"\u22ed","Nu":"\u039d","nu":"\u03bd","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224d\u20d2","nvdash":"\u22ac","nvDash":"\u22ad","nVdash":"\u22ae","nVDash":"\u22af","nvge":"\u2265\u20d2","nvgt":">\u20d2","nvHarr":"\u2904","nvinfin":"\u29de","nvlArr":"\u2902","nvle":"\u2264\u20d2","nvlt":"<\u20d2","nvltrie":"\u22b4\u20d2","nvrArr":"\u2903","nvrtrie":"\u22b5\u20d2","nvsim":"\u223c\u20d2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21d6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xd3","oacute":"\xf3","oast":"\u229b","Ocirc":"\xd4","ocirc":"\xf4","ocir":"\u229a","Ocy":"\u041e","ocy":"\u043e","odash":"\u229d","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2a38","odot":"\u2299","odsold":"\u29bc","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29bf","Ofr":"\u{1d512}","ofr":"\u{1d52c}","ogon":"\u02db","Ograve":"\xd2","ograve":"\xf2","ogt":"\u29c1","ohbar":"\u29b5","ohm":"\u03a9","oint":"\u222e","olarr":"\u21ba","olcir":"\u29be","olcross":"\u29bb","oline":"\u203e","olt":"\u29c0","Omacr":"\u014c","omacr":"\u014d","Omega":"\u03a9","omega":"\u03c9","Omicron":"\u039f","omicron":"\u03bf","omid":"\u29b6","ominus":"\u2296","Oopf":"\u{1d546}","oopf":"\u{1d560}","opar":"\u29b7","OpenCurlyDoubleQuote":"\u201c","OpenCurlyQuote":"\u2018","operp":"\u29b9","oplus":"\u2295","orarr":"\u21bb","Or":"\u2a54","or":"\u2228","ord":"\u2a5d","order":"\u2134","orderof":"\u2134","ordf":"\xaa","ordm":"\xba","origof":"\u22b6","oror":"\u2a56","orslope":"\u2a57","orv":"\u2a5b","oS":"\u24c8","Oscr":"\u{1d4aa}","oscr":"\u2134","Oslash":"\xd8","oslash":"\xf8","osol":"\u2298","Otilde":"\xd5","otilde":"\xf5","otimesas":"\u2a36","Otimes":"\u2a37","otimes":"\u2297","Ouml":"\xd6","ouml":"\xf6","ovbar":"\u233d","OverBar":"\u203e","OverBrace":"\u23de","OverBracket":"\u23b4","OverParenthesis":"\u23dc","para":"\xb6","parallel":"\u2225","par":"\u2225","parsim":"\u2af3","parsl":"\u2afd","part":"\u2202","PartialD":"\u2202","Pcy":"\u041f","pcy":"\u043f","percnt":"%","period":".","permil":"\u2030","perp":"\u22a5","pertenk":"\u2031","Pfr":"\u{1d513}","pfr":"\u{1d52d}","Phi":"\u03a6","phi":"\u03c6","phiv":"\u03d5","phmmat":"\u2133","phone":"\u260e","Pi":"\u03a0","pi":"\u03c0","pitchfork":"\u22d4","piv":"\u03d6","planck":"\u210f","planckh":"\u210e","plankv":"\u210f","plusacir":"\u2a23","plusb":"\u229e","pluscir":"\u2a22","plus":"+","plusdo":"\u2214","plusdu":"\u2a25","pluse":"\u2a72","PlusMinus":"\xb1","plusmn":"\xb1","plussim":"\u2a26","plustwo":"\u2a27","pm":"\xb1","Poincareplane":"\u210c","pointint":"\u2a15","popf":"\u{1d561}","Popf":"\u2119","pound":"\xa3","prap":"\u2ab7","Pr":"\u2abb","pr":"\u227a","prcue":"\u227c","precapprox":"\u2ab7","prec":"\u227a","preccurlyeq":"\u227c","Precedes":"\u227a","PrecedesEqual":"\u2aaf","PrecedesSlantEqual":"\u227c","PrecedesTilde":"\u227e","preceq":"\u2aaf","precnapprox":"\u2ab9","precneqq":"\u2ab5","precnsim":"\u22e8","pre":"\u2aaf","prE":"\u2ab3","precsim":"\u227e","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2ab9","prnE":"\u2ab5","prnsim":"\u22e8","prod":"\u220f","Product":"\u220f","profalar":"\u232e","profline":"\u2312","profsurf":"\u2313","prop":"\u221d","Proportional":"\u221d","Proportion":"\u2237","propto":"\u221d","prsim":"\u227e","prurel":"\u22b0","Pscr":"\u{1d4ab}","pscr":"\u{1d4c5}","Psi":"\u03a8","psi":"\u03c8","puncsp":"\u2008","Qfr":"\u{1d514}","qfr":"\u{1d52e}","qint":"\u2a0c","qopf":"\u{1d562}","Qopf":"\u211a","qprime":"\u2057","Qscr":"\u{1d4ac}","qscr":"\u{1d4c6}","quaternions":"\u210d","quatint":"\u2a16","quest":"?","questeq":"\u225f","quot":"\\"","QUOT":"\\"","rAarr":"\u21db","race":"\u223d\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221a","raemptyv":"\u29b3","rang":"\u27e9","Rang":"\u27eb","rangd":"\u2992","range":"\u29a5","rangle":"\u27e9","raquo":"\xbb","rarrap":"\u2975","rarrb":"\u21e5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21a0","rArr":"\u21d2","rarrfs":"\u291e","rarrhk":"\u21aa","rarrlp":"\u21ac","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21a3","rarrw":"\u219d","ratail":"\u291a","rAtail":"\u291c","ratio":"\u2236","rationals":"\u211a","rbarr":"\u290d","rBarr":"\u290f","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298c","rbrksld":"\u298e","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201d","rdquor":"\u201d","rdsh":"\u21b3","real":"\u211c","realine":"\u211b","realpart":"\u211c","reals":"\u211d","Re":"\u211c","rect":"\u25ad","reg":"\xae","REG":"\xae","ReverseElement":"\u220b","ReverseEquilibrium":"\u21cb","ReverseUpEquilibrium":"\u296f","rfisht":"\u297d","rfloor":"\u230b","rfr":"\u{1d52f}","Rfr":"\u211c","rHar":"\u2964","rhard":"\u21c1","rharu":"\u21c0","rharul":"\u296c","Rho":"\u03a1","rho":"\u03c1","rhov":"\u03f1","RightAngleBracket":"\u27e9","RightArrowBar":"\u21e5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21d2","RightArrowLeftArrow":"\u21c4","rightarrowtail":"\u21a3","RightCeiling":"\u2309","RightDoubleBracket":"\u27e7","RightDownTeeVector":"\u295d","RightDownVectorBar":"\u2955","RightDownVector":"\u21c2","RightFloor":"\u230b","rightharpoondown":"\u21c1","rightharpoonup":"\u21c0","rightleftarrows":"\u21c4","rightleftharpoons":"\u21cc","rightrightarrows":"\u21c9","rightsquigarrow":"\u219d","RightTeeArrow":"\u21a6","RightTee":"\u22a2","RightTeeVector":"\u295b","rightthreetimes":"\u22cc","RightTriangleBar":"\u29d0","RightTriangle":"\u22b3","RightTriangleEqual":"\u22b5","RightUpDownVector":"\u294f","RightUpTeeVector":"\u295c","RightUpVectorBar":"\u2954","RightUpVector":"\u21be","RightVectorBar":"\u2953","RightVector":"\u21c0","ring":"\u02da","risingdotseq":"\u2253","rlarr":"\u21c4","rlhar":"\u21cc","rlm":"\u200f","rmoustache":"\u23b1","rmoust":"\u23b1","rnmid":"\u2aee","roang":"\u27ed","roarr":"\u21fe","robrk":"\u27e7","ropar":"\u2986","ropf":"\u{1d563}","Ropf":"\u211d","roplus":"\u2a2e","rotimes":"\u2a35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2a12","rrarr":"\u21c9","Rrightarrow":"\u21db","rsaquo":"\u203a","rscr":"\u{1d4c7}","Rscr":"\u211b","rsh":"\u21b1","Rsh":"\u21b1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22cc","rtimes":"\u22ca","rtri":"\u25b9","rtrie":"\u22b5","rtrif":"\u25b8","rtriltri":"\u29ce","RuleDelayed":"\u29f4","ruluhar":"\u2968","rx":"\u211e","Sacute":"\u015a","sacute":"\u015b","sbquo":"\u201a","scap":"\u2ab8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2abc","sc":"\u227b","sccue":"\u227d","sce":"\u2ab0","scE":"\u2ab4","Scedil":"\u015e","scedil":"\u015f","Scirc":"\u015c","scirc":"\u015d","scnap":"\u2aba","scnE":"\u2ab6","scnsim":"\u22e9","scpolint":"\u2a13","scsim":"\u227f","Scy":"\u0421","scy":"\u0441","sdotb":"\u22a1","sdot":"\u22c5","sdote":"\u2a66","searhk":"\u2925","searr":"\u2198","seArr":"\u21d8","searrow":"\u2198","sect":"\xa7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\u{1d516}","sfr":"\u{1d530}","sfrown":"\u2322","sharp":"\u266f","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xad","Sigma":"\u03a3","sigma":"\u03c3","sigmaf":"\u03c2","sigmav":"\u03c2","sim":"\u223c","simdot":"\u2a6a","sime":"\u2243","simeq":"\u2243","simg":"\u2a9e","simgE":"\u2aa0","siml":"\u2a9d","simlE":"\u2a9f","simne":"\u2246","simplus":"\u2a24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2a33","smeparsl":"\u29e4","smid":"\u2223","smile":"\u2323","smt":"\u2aaa","smte":"\u2aac","smtes":"\u2aac\ufe00","SOFTcy":"\u042c","softcy":"\u044c","solbar":"\u233f","solb":"\u29c4","sol":"/","Sopf":"\u{1d54a}","sopf":"\u{1d564}","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\ufe00","sqcup":"\u2294","sqcups":"\u2294\ufe00","Sqrt":"\u221a","sqsub":"\u228f","sqsube":"\u2291","sqsubset":"\u228f","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25a1","Square":"\u25a1","SquareIntersection":"\u2293","SquareSubset":"\u228f","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25aa","squ":"\u25a1","squf":"\u25aa","srarr":"\u2192","Sscr":"\u{1d4ae}","sscr":"\u{1d4c8}","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22c6","Star":"\u22c6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03f5","straightphi":"\u03d5","strns":"\xaf","sub":"\u2282","Sub":"\u22d0","subdot":"\u2abd","subE":"\u2ac5","sube":"\u2286","subedot":"\u2ac3","submult":"\u2ac1","subnE":"\u2acb","subne":"\u228a","subplus":"\u2abf","subrarr":"\u2979","subset":"\u2282","Subset":"\u22d0","subseteq":"\u2286","subseteqq":"\u2ac5","SubsetEqual":"\u2286","subsetneq":"\u228a","subsetneqq":"\u2acb","subsim":"\u2ac7","subsub":"\u2ad5","subsup":"\u2ad3","succapprox":"\u2ab8","succ":"\u227b","succcurlyeq":"\u227d","Succeeds":"\u227b","SucceedsEqual":"\u2ab0","SucceedsSlantEqual":"\u227d","SucceedsTilde":"\u227f","succeq":"\u2ab0","succnapprox":"\u2aba","succneqq":"\u2ab6","succnsim":"\u22e9","succsim":"\u227f","SuchThat":"\u220b","sum":"\u2211","Sum":"\u2211","sung":"\u266a","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","sup":"\u2283","Sup":"\u22d1","supdot":"\u2abe","supdsub":"\u2ad8","supE":"\u2ac6","supe":"\u2287","supedot":"\u2ac4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27c9","suphsub":"\u2ad7","suplarr":"\u297b","supmult":"\u2ac2","supnE":"\u2acc","supne":"\u228b","supplus":"\u2ac0","supset":"\u2283","Supset":"\u22d1","supseteq":"\u2287","supseteqq":"\u2ac6","supsetneq":"\u228b","supsetneqq":"\u2acc","supsim":"\u2ac8","supsub":"\u2ad4","supsup":"\u2ad6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21d9","swarrow":"\u2199","swnwar":"\u292a","szlig":"\xdf","Tab":"\\t","target":"\u2316","Tau":"\u03a4","tau":"\u03c4","tbrk":"\u23b4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20db","telrec":"\u2315","Tfr":"\u{1d517}","tfr":"\u{1d531}","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03b8","thetasym":"\u03d1","thetav":"\u03d1","thickapprox":"\u2248","thicksim":"\u223c","ThickSpace":"\u205f\u200a","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223c","THORN":"\xde","thorn":"\xfe","tilde":"\u02dc","Tilde":"\u223c","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2a31","timesb":"\u22a0","times":"\xd7","timesd":"\u2a30","tint":"\u222d","toea":"\u2928","topbot":"\u2336","topcir":"\u2af1","top":"\u22a4","Topf":"\u{1d54b}","topf":"\u{1d565}","topfork":"\u2ada","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25b5","triangledown":"\u25bf","triangleleft":"\u25c3","trianglelefteq":"\u22b4","triangleq":"\u225c","triangleright":"\u25b9","trianglerighteq":"\u22b5","tridot":"\u25ec","trie":"\u225c","triminus":"\u2a3a","TripleDot":"\u20db","triplus":"\u2a39","trisb":"\u29cd","tritime":"\u2a3b","trpezium":"\u23e2","Tscr":"\u{1d4af}","tscr":"\u{1d4c9}","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040b","tshcy":"\u045b","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226c","twoheadleftarrow":"\u219e","twoheadrightarrow":"\u21a0","Uacute":"\xda","uacute":"\xfa","uarr":"\u2191","Uarr":"\u219f","uArr":"\u21d1","Uarrocir":"\u2949","Ubrcy":"\u040e","ubrcy":"\u045e","Ubreve":"\u016c","ubreve":"\u016d","Ucirc":"\xdb","ucirc":"\xfb","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21c5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296e","ufisht":"\u297e","Ufr":"\u{1d518}","ufr":"\u{1d532}","Ugrave":"\xd9","ugrave":"\xf9","uHar":"\u2963","uharl":"\u21bf","uharr":"\u21be","uhblk":"\u2580","ulcorn":"\u231c","ulcorner":"\u231c","ulcrop":"\u230f","ultri":"\u25f8","Umacr":"\u016a","umacr":"\u016b","uml":"\xa8","UnderBar":"_","UnderBrace":"\u23df","UnderBracket":"\u23b5","UnderParenthesis":"\u23dd","Union":"\u22c3","UnionPlus":"\u228e","Uogon":"\u0172","uogon":"\u0173","Uopf":"\u{1d54c}","uopf":"\u{1d566}","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21d1","UpArrowDownArrow":"\u21c5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21d5","UpEquilibrium":"\u296e","upharpoonleft":"\u21bf","upharpoonright":"\u21be","uplus":"\u228e","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03c5","Upsi":"\u03d2","upsih":"\u03d2","Upsilon":"\u03a5","upsilon":"\u03c5","UpTeeArrow":"\u21a5","UpTee":"\u22a5","upuparrows":"\u21c8","urcorn":"\u231d","urcorner":"\u231d","urcrop":"\u230e","Uring":"\u016e","uring":"\u016f","urtri":"\u25f9","Uscr":"\u{1d4b0}","uscr":"\u{1d4ca}","utdot":"\u22f0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25b5","utrif":"\u25b4","uuarr":"\u21c8","Uuml":"\xdc","uuml":"\xfc","uwangle":"\u29a7","vangrt":"\u299c","varepsilon":"\u03f5","varkappa":"\u03f0","varnothing":"\u2205","varphi":"\u03d5","varpi":"\u03d6","varpropto":"\u221d","varr":"\u2195","vArr":"\u21d5","varrho":"\u03f1","varsigma":"\u03c2","varsubsetneq":"\u228a\ufe00","varsubsetneqq":"\u2acb\ufe00","varsupsetneq":"\u228b\ufe00","varsupsetneqq":"\u2acc\ufe00","vartheta":"\u03d1","vartriangleleft":"\u22b2","vartriangleright":"\u22b3","vBar":"\u2ae8","Vbar":"\u2aeb","vBarv":"\u2ae9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22a2","vDash":"\u22a8","Vdash":"\u22a9","VDash":"\u22ab","Vdashl":"\u2ae6","veebar":"\u22bb","vee":"\u2228","Vee":"\u22c1","veeeq":"\u225a","vellip":"\u22ee","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200a","Vfr":"\u{1d519}","vfr":"\u{1d533}","vltri":"\u22b2","vnsub":"\u2282\u20d2","vnsup":"\u2283\u20d2","Vopf":"\u{1d54d}","vopf":"\u{1d567}","vprop":"\u221d","vrtri":"\u22b3","Vscr":"\u{1d4b1}","vscr":"\u{1d4cb}","vsubnE":"\u2acb\ufe00","vsubne":"\u228a\ufe00","vsupnE":"\u2acc\ufe00","vsupne":"\u228b\ufe00","Vvdash":"\u22aa","vzigzag":"\u299a","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2a5f","wedge":"\u2227","Wedge":"\u22c0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\u{1d51a}","wfr":"\u{1d534}","Wopf":"\u{1d54e}","wopf":"\u{1d568}","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\u{1d4b2}","wscr":"\u{1d4cc}","xcap":"\u22c2","xcirc":"\u25ef","xcup":"\u22c3","xdtri":"\u25bd","Xfr":"\u{1d51b}","xfr":"\u{1d535}","xharr":"\u27f7","xhArr":"\u27fa","Xi":"\u039e","xi":"\u03be","xlarr":"\u27f5","xlArr":"\u27f8","xmap":"\u27fc","xnis":"\u22fb","xodot":"\u2a00","Xopf":"\u{1d54f}","xopf":"\u{1d569}","xoplus":"\u2a01","xotime":"\u2a02","xrarr":"\u27f6","xrArr":"\u27f9","Xscr":"\u{1d4b3}","xscr":"\u{1d4cd}","xsqcup":"\u2a06","xuplus":"\u2a04","xutri":"\u25b3","xvee":"\u22c1","xwedge":"\u22c0","Yacute":"\xdd","yacute":"\xfd","YAcy":"\u042f","yacy":"\u044f","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042b","ycy":"\u044b","yen":"\xa5","Yfr":"\u{1d51c}","yfr":"\u{1d536}","YIcy":"\u0407","yicy":"\u0457","Yopf":"\u{1d550}","yopf":"\u{1d56a}","Yscr":"\u{1d4b4}","yscr":"\u{1d4ce}","YUcy":"\u042e","yucy":"\u044e","yuml":"\xff","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017a","Zcaron":"\u017d","zcaron":"\u017e","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017b","zdot":"\u017c","zeetrf":"\u2128","ZeroWidthSpace":"\u200b","Zeta":"\u0396","zeta":"\u03b6","zfr":"\u{1d537}","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21dd","zopf":"\u{1d56b}","Zopf":"\u2124","Zscr":"\u{1d4b5}","zscr":"\u{1d4cf}","zwj":"\u200d","zwnj":"\u200c"}')},2453:we=>{we.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","AElig":"\xc6","aelig":"\xe6","Agrave":"\xc0","agrave":"\xe0","amp":"&","AMP":"&","Aring":"\xc5","aring":"\xe5","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","brvbar":"\xa6","Ccedil":"\xc7","ccedil":"\xe7","cedil":"\xb8","cent":"\xa2","copy":"\xa9","COPY":"\xa9","curren":"\xa4","deg":"\xb0","divide":"\xf7","Eacute":"\xc9","eacute":"\xe9","Ecirc":"\xca","ecirc":"\xea","Egrave":"\xc8","egrave":"\xe8","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","frac12":"\xbd","frac14":"\xbc","frac34":"\xbe","gt":">","GT":">","Iacute":"\xcd","iacute":"\xed","Icirc":"\xce","icirc":"\xee","iexcl":"\xa1","Igrave":"\xcc","igrave":"\xec","iquest":"\xbf","Iuml":"\xcf","iuml":"\xef","laquo":"\xab","lt":"<","LT":"<","macr":"\xaf","micro":"\xb5","middot":"\xb7","nbsp":"\xa0","not":"\xac","Ntilde":"\xd1","ntilde":"\xf1","Oacute":"\xd3","oacute":"\xf3","Ocirc":"\xd4","ocirc":"\xf4","Ograve":"\xd2","ograve":"\xf2","ordf":"\xaa","ordm":"\xba","Oslash":"\xd8","oslash":"\xf8","Otilde":"\xd5","otilde":"\xf5","Ouml":"\xd6","ouml":"\xf6","para":"\xb6","plusmn":"\xb1","pound":"\xa3","quot":"\\"","QUOT":"\\"","raquo":"\xbb","reg":"\xae","REG":"\xae","sect":"\xa7","shy":"\xad","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","szlig":"\xdf","THORN":"\xde","thorn":"\xfe","times":"\xd7","Uacute":"\xda","uacute":"\xfa","Ucirc":"\xdb","ucirc":"\xfb","Ugrave":"\xd9","ugrave":"\xf9","uml":"\xa8","Uuml":"\xdc","uuml":"\xfc","Yacute":"\xdd","yacute":"\xfd","yen":"\xa5","yuml":"\xff"}')},8161:we=>{we.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')}}]);
//# sourceMappingURL=53.b52b05a2e419f49c.js.map